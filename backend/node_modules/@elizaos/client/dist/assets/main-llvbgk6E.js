var tC=Object.defineProperty;var i=(e,t)=>tC(e,"name",{value:t,configurable:!0});var rC=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);import{g as Jo,j,S as ms,r as J,R as N5,a as I5,T as C5,P as R5,C as vf,b as O5,X as Fr,O as bf,c as yf,D as wf,d as iC,e as nC,f as aC,h as sC,i as T5,k as oC,l as P5,m as D5,L as Kg,n as Xg,o as L5,p as lC,V as uC,G as fC,q as B5,I as cC,s as Ji,t as dC,u as z5,v as hC,w as U5,x as pC,y as Sn,z as mC,A as F5,B as $5,E as G5,F as V5,H as Z5,J as jr,K as gC,M as vC,N as bC,Q as yC,U as wC,W as xC,Y as _C,Z as SC,_ as MC,$ as H5,a0 as J5,a1 as q5,a2 as K5,a3 as X5,a4 as W5,a5 as fi,a6 as EC,a7 as kC,a8 as Q5,a9 as Y5,aa as AC,ab as e_,ac as kr,ad as Wg,ae as qo,af as t_,ag as r_,ah as jC,ai as NC,aj as Qg,ak as i_,al as IC,am as CC,an as n_,ao as RC,ap as ma,aq as $c,ar as mn,as as zi,at as _y,au as xa,av as OC,aw as Ui,ax as Ar,ay as xr,az as a_,aA as s_,aB as o_,aC as l_,aD as u_,aE as Wr,aF as xf,aG as TC,aH as PC,aI as DC,aJ as _f,aK as Sf,aL as no,aM as _a,aN as Ln,aO as Sy,aP as LC,aQ as Ko,aR as Mf,aS as go,aT as BC,aU as My,aV as zC,aW as f_,aX as UC,aY as c_,aZ as d_,a_ as h_,a$ as p_,b0 as m_,b1 as FC,b2 as Yg,b3 as Fm,b4 as g_,b5 as $C,b6 as Bu,b7 as ev,b8 as v_,b9 as GC,ba as gs,bb as as,bc as tv,bd as Xo,be as zu,bf as VC,bg as b_,bh as ZC,bi as rv,bj as vo,bk as Yr,bl as HC,bm as JC,bn as On,bo as Gc,bp as qC,bq as ao,br as Ja,bs as KC,bt as XC,bu as WC,bv as QC,bw as YC,bx as eR,by as iv,bz as tR,bA as rR,bB as iR,bC as nv,bD as av,bE as nR,bF as y_,bG as $m,bH as aR,bI as w_,bJ as sR,bK as oR,bL as lR,bM as uR,bN as fR,bO as cR,bP as dR,bQ as hR,bR as pR,bS as x_,bT as __,bU as S_,bV as M_,bW as mR,bX as gR,bY as vR,bZ as Gm,b_ as bR,b$ as yR,c0 as Ef,c1 as wR,c2 as E_,c3 as xR,c4 as _R,c5 as Vc,c6 as Ey,c7 as ky,c8 as SR,c9 as sv,ca as MR,cb as ER,cc as kR,cd as AR,ce as jR,cf as NR,cg as IR,ch as CR,ci as RR,cj as OR,ck as pi,cl as TR}from"./react-vendor-C1OK-nqm.js";import{r as Vn}from"./main-CLvs0bX8.js";import"./ui-vendor-B7JxFfFk.js";var Mte=rC(qg=>{function k_(e){var t,r,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var n=e.length;for(t=0;t<n;t++)e[t]&&(r=k_(e[t]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}i(k_,"r");function ov(){for(var e,t,r=0,a="",n=arguments.length;r<n;r++)(e=arguments[r])&&(t=k_(e))&&(a&&(a+=" "),a+=t);return a}i(ov,"clsx");const Ay=i(e=>typeof e=="boolean"?`${e}`:e===0?"0":e,"falsyToString"),jy=ov,En=i((e,t)=>r=>{var a;if(t?.variants==null)return jy(e,r?.class,r?.className);const{variants:n,defaultVariants:s}=t,o=Object.keys(n).map(v=>{const c=r?.[v],d=s?.[v];if(c===null)return null;const y=Ay(c)||Ay(d);return n[v][y]}),h=r&&Object.entries(r).reduce((v,c)=>{let[d,y]=c;return y===void 0||(v[d]=y),v},{}),p=t==null||(a=t.compoundVariants)===null||a===void 0?void 0:a.reduce((v,c)=>{let{class:d,className:y,...b}=c;return Object.entries(b).every(x=>{let[k,N]=x;return Array.isArray(N)?N.includes({...s,...h}[k]):{...s,...h}[k]===N})?[...v,d,y]:v},[]);return jy(e,o,p,r?.class,r?.className)},"cva"),Xa="user",Ml="client_chat",so="client_group_chat",bo=512;var yu=(e=>(e.REQUIRED="required",e.OPTIONAL="optional",e))(yu||{});const Ua={name:"required",username:"optional",system:"required","settings.voice.model":"optional",bio:"optional",topics:"optional",adjectives:"optional","style.all":"optional","style.chat":"optional","style.post":"optional"};var wu={exports:{}},PR=wu.exports,Ny;function DR(){return Ny||(Ny=1,(function(e,t){(function(r,a){e.exports=a()})(PR,(function(){var r=1e3,a=6e4,n=36e5,s="millisecond",o="second",h="minute",p="hour",v="day",c="week",d="month",y="quarter",b="year",x="date",k="Invalid Date",N=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,C=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,R={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:i(function(l){var m=["th","st","nd","rd"],w=l%100;return"["+l+(m[(w-20)%10]||m[w]||m[0])+"]"},"ordinal")},O=i(function(l,m,w){var M=String(l);return!M||M.length>=m?l:""+Array(m+1-M.length).join(w)+l},"m"),T={s:O,z:i(function(l){var m=-l.utcOffset(),w=Math.abs(m),M=Math.floor(w/60),A=w%60;return(m<=0?"+":"-")+O(M,2,"0")+":"+O(A,2,"0")},"z"),m:i(function l(m,w){if(m.date()<w.date())return-l(w,m);var M=12*(w.year()-m.year())+(w.month()-m.month()),A=m.clone().add(M,d),S=w-A<0,f=m.clone().add(M+(S?-1:1),d);return+(-(M+(w-A)/(S?A-f:f-A))||0)},"t2"),a:i(function(l){return l<0?Math.ceil(l)||0:Math.floor(l)},"a"),p:i(function(l){return{M:d,y:b,w:c,d:v,D:x,h:p,m:h,s:o,ms:s,Q:y}[l]||String(l||"").toLowerCase().replace(/s$/,"")},"p"),u:i(function(l){return l===void 0},"u")},P="en",z={};z[P]=R;var V="$isDayjsObject",Z=i(function(l){return l instanceof u||!(!l||!l[V])},"S"),ee=i(function l(m,w,M){var A;if(!m)return P;if(typeof m=="string"){var S=m.toLowerCase();z[S]&&(A=S),w&&(z[S]=w,A=S);var f=m.split("-");if(!A&&f.length>1)return l(f[0])}else{var _=m.name;z[_]=m,A=_}return!M&&A&&(P=A),A||!M&&P},"t2"),$=i(function(l,m){if(Z(l))return l.clone();var w=typeof m=="object"?m:{};return w.date=l,w.args=arguments,new u(w)},"O"),F=T;F.l=ee,F.i=Z,F.w=function(l,m){return $(l,{locale:m.$L,utc:m.$u,x:m.$x,$offset:m.$offset})};var u=(function(){function l(w){this.$L=ee(w.locale,null,!0),this.parse(w),this.$x=this.$x||w.x||{},this[V]=!0}i(l,"M2");var m=l.prototype;return m.parse=function(w){this.$d=(function(M){var A=M.date,S=M.utc;if(A===null)return new Date(NaN);if(F.u(A))return new Date;if(A instanceof Date)return new Date(A);if(typeof A=="string"&&!/Z$/i.test(A)){var f=A.match(N);if(f){var _=f[2]-1||0,E=(f[7]||"0").substring(0,3);return S?new Date(Date.UTC(f[1],_,f[3]||1,f[4]||0,f[5]||0,f[6]||0,E)):new Date(f[1],_,f[3]||1,f[4]||0,f[5]||0,f[6]||0,E)}}return new Date(A)})(w),this.init()},m.init=function(){var w=this.$d;this.$y=w.getFullYear(),this.$M=w.getMonth(),this.$D=w.getDate(),this.$W=w.getDay(),this.$H=w.getHours(),this.$m=w.getMinutes(),this.$s=w.getSeconds(),this.$ms=w.getMilliseconds()},m.$utils=function(){return F},m.isValid=function(){return this.$d.toString()!==k},m.isSame=function(w,M){var A=$(w);return this.startOf(M)<=A&&A<=this.endOf(M)},m.isAfter=function(w,M){return $(w)<this.startOf(M)},m.isBefore=function(w,M){return this.endOf(M)<$(w)},m.$g=function(w,M,A){return F.u(w)?this[M]:this.set(A,w)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(w,M){var A=this,S=!!F.u(M)||M,f=F.p(w),_=i(function(H,K){var _e=F.w(A.$u?Date.UTC(A.$y,K,H):new Date(A.$y,K,H),A);return S?_e:_e.endOf(v)},"l2"),E=i(function(H,K){return F.w(A.toDate()[H].apply(A.toDate("s"),(S?[0,0,0,0]:[23,59,59,999]).slice(K)),A)},"$2"),I=this.$W,D=this.$M,L=this.$D,U="set"+(this.$u?"UTC":"");switch(f){case b:return S?_(1,0):_(31,11);case d:return S?_(1,D):_(0,D+1);case c:var B=this.$locale().weekStart||0,G=(I<B?I+7:I)-B;return _(S?L-G:L+(6-G),D);case v:case x:return E(U+"Hours",0);case p:return E(U+"Minutes",1);case h:return E(U+"Seconds",2);case o:return E(U+"Milliseconds",3);default:return this.clone()}},m.endOf=function(w){return this.startOf(w,!1)},m.$set=function(w,M){var A,S=F.p(w),f="set"+(this.$u?"UTC":""),_=(A={},A[v]=f+"Date",A[x]=f+"Date",A[d]=f+"Month",A[b]=f+"FullYear",A[p]=f+"Hours",A[h]=f+"Minutes",A[o]=f+"Seconds",A[s]=f+"Milliseconds",A)[S],E=S===v?this.$D+(M-this.$W):M;if(S===d||S===b){var I=this.clone().set(x,1);I.$d[_](E),I.init(),this.$d=I.set(x,Math.min(this.$D,I.daysInMonth())).$d}else _&&this.$d[_](E);return this.init(),this},m.set=function(w,M){return this.clone().$set(w,M)},m.get=function(w){return this[F.p(w)]()},m.add=function(w,M){var A,S=this;w=Number(w);var f=F.p(M),_=i(function(D){var L=$(S);return F.w(L.date(L.date()+Math.round(D*w)),S)},"y2");if(f===d)return this.set(d,this.$M+w);if(f===b)return this.set(b,this.$y+w);if(f===v)return _(1);if(f===c)return _(7);var E=(A={},A[h]=a,A[p]=n,A[o]=r,A)[f]||1,I=this.$d.getTime()+w*E;return F.w(I,this)},m.subtract=function(w,M){return this.add(-1*w,M)},m.format=function(w){var M=this,A=this.$locale();if(!this.isValid())return A.invalidDate||k;var S=w||"YYYY-MM-DDTHH:mm:ssZ",f=F.z(this),_=this.$H,E=this.$m,I=this.$M,D=A.weekdays,L=A.months,U=A.meridiem,B=i(function(K,_e,ae,se){return K&&(K[_e]||K(M,S))||ae[_e].slice(0,se)},"h2"),G=i(function(K){return F.s(_%12||12,K,"0")},"d2"),H=U||function(K,_e,ae){var se=K<12?"AM":"PM";return ae?se.toLowerCase():se};return S.replace(C,(function(K,_e){return _e||(function(ae){switch(ae){case"YY":return String(M.$y).slice(-2);case"YYYY":return F.s(M.$y,4,"0");case"M":return I+1;case"MM":return F.s(I+1,2,"0");case"MMM":return B(A.monthsShort,I,L,3);case"MMMM":return B(L,I);case"D":return M.$D;case"DD":return F.s(M.$D,2,"0");case"d":return String(M.$W);case"dd":return B(A.weekdaysMin,M.$W,D,2);case"ddd":return B(A.weekdaysShort,M.$W,D,3);case"dddd":return D[M.$W];case"H":return String(_);case"HH":return F.s(_,2,"0");case"h":return G(1);case"hh":return G(2);case"a":return H(_,E,!0);case"A":return H(_,E,!1);case"m":return String(E);case"mm":return F.s(E,2,"0");case"s":return String(M.$s);case"ss":return F.s(M.$s,2,"0");case"SSS":return F.s(M.$ms,3,"0");case"Z":return f}return null})(K)||f.replace(":","")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(w,M,A){var S,f=this,_=F.p(M),E=$(w),I=(E.utcOffset()-this.utcOffset())*a,D=this-E,L=i(function(){return F.m(f,E)},"D2");switch(_){case b:S=L()/12;break;case d:S=L();break;case y:S=L()/3;break;case c:S=(D-I)/6048e5;break;case v:S=(D-I)/864e5;break;case p:S=D/n;break;case h:S=D/a;break;case o:S=D/r;break;default:S=D}return A?S:F.a(S)},m.daysInMonth=function(){return this.endOf(d).$D},m.$locale=function(){return z[this.$L]},m.locale=function(w,M){if(!w)return this.$L;var A=this.clone(),S=ee(w,M,!0);return S&&(A.$L=S),A},m.clone=function(){return F.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},l})(),g=u.prototype;return $.prototype=g,[["$ms",s],["$s",o],["$m",h],["$H",p],["$W",v],["$M",d],["$y",b],["$D",x]].forEach((function(l){g[l[1]]=function(m){return this.$g(m,l[0],l[1])}})),$.extend=function(l,m){return l.$i||(l(m,u,$),l.$i=!0),$},$.locale=ee,$.isDayjs=Z,$.unix=function(l){return $(1e3*l)},$.en=z[P],$.Ls=z,$.p={},$}))})(wu)),wu.exports}i(DR,"requireDayjs_min");var LR=DR();const A_=Jo(LR);var xu={exports:{}},BR=xu.exports,Iy;function zR(){return Iy||(Iy=1,(function(e,t){(function(r,a){e.exports=a()})(BR,(function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(a,n,s){var o=n.prototype,h=o.format;s.en.formats=r,o.format=function(p){p===void 0&&(p="YYYY-MM-DDTHH:mm:ssZ");var v=this.$locale().formats,c=(function(d,y){return d.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(b,x,k){var N=k&&k.toUpperCase();return x||y[k]||r[k]||y[N].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(C,R,O){return R||O.slice(1)}))}))})(p,v===void 0?{}:v);return h.call(this,c)}}}))})(xu)),xu.exports}i(zR,"requireLocalizedFormat");var UR=zR();const FR=Jo(UR),lv="-",$R=i(e=>{const t=VR(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:i(o=>{const h=o.split(lv);return h[0]===""&&h.length!==1&&h.shift(),j_(h,t)||GR(o)},"getClassGroupId"),getConflictingClassGroupIds:i((o,h)=>{const p=r[o]||[];return h&&a[o]?[...p,...a[o]]:p},"getConflictingClassGroupIds")}},"createClassGroupUtils"),j_=i((e,t)=>{if(e.length===0)return t.classGroupId;const r=e[0],a=t.nextPart.get(r),n=a?j_(e.slice(1),a):void 0;if(n)return n;if(t.validators.length===0)return;const s=e.join(lv);return t.validators.find(({validator:o})=>o(s))?.classGroupId},"getGroupRecursive"),Cy=/^\[(.+)\]$/,GR=i(e=>{if(Cy.test(e)){const t=Cy.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},"getGroupIdForArbitraryProperty"),VR=i(e=>{const{theme:t,classGroups:r}=e,a={nextPart:new Map,validators:[]};for(const n in r)Vm(r[n],a,n,t);return a},"createClassMap"),Vm=i((e,t,r,a)=>{e.forEach(n=>{if(typeof n=="string"){const s=n===""?t:Ry(t,n);s.classGroupId=r;return}if(typeof n=="function"){if(ZR(n)){Vm(n(a),t,r,a);return}t.validators.push({validator:n,classGroupId:r});return}Object.entries(n).forEach(([s,o])=>{Vm(o,Ry(t,s),r,a)})})},"processClassesRecursively"),Ry=i((e,t)=>{let r=e;return t.split(lv).forEach(a=>{r.nextPart.has(a)||r.nextPart.set(a,{nextPart:new Map,validators:[]}),r=r.nextPart.get(a)}),r},"getPart"),ZR=i(e=>e.isThemeGetter,"isThemeGetter"),HR=i(e=>{if(e<1)return{get:i(()=>{},"get"),set:i(()=>{},"set")};let t=0,r=new Map,a=new Map;const n=i((s,o)=>{r.set(s,o),t++,t>e&&(t=0,a=r,r=new Map)},"update");return{get(s){let o=r.get(s);if(o!==void 0)return o;if((o=a.get(s))!==void 0)return n(s,o),o},set(s,o){r.has(s)?r.set(s,o):n(s,o)}}},"createLruCache"),Zm="!",Hm=":",JR=Hm.length,qR=i(e=>{const{prefix:t,experimentalParseClassName:r}=e;let a=i(n=>{const s=[];let o=0,h=0,p=0,v;for(let x=0;x<n.length;x++){let k=n[x];if(o===0&&h===0){if(k===Hm){s.push(n.slice(p,x)),p=x+JR;continue}if(k==="/"){v=x;continue}}k==="["?o++:k==="]"?o--:k==="("?h++:k===")"&&h--}const c=s.length===0?n:n.substring(p),d=KR(c),y=d!==c,b=v&&v>p?v-p:void 0;return{modifiers:s,hasImportantModifier:y,baseClassName:d,maybePostfixModifierPosition:b}},"parseClassName");if(t){const n=t+Hm,s=a;a=i(o=>o.startsWith(n)?s(o.substring(n.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0},"parseClassName")}if(r){const n=a;a=i(s=>r({className:s,parseClassName:n}),"parseClassName")}return a},"createParseClassName"),KR=i(e=>e.endsWith(Zm)?e.substring(0,e.length-1):e.startsWith(Zm)?e.substring(1):e,"stripImportantModifier"),XR=i(e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(a=>[a,!0]));return i(a=>{if(a.length<=1)return a;const n=[];let s=[];return a.forEach(o=>{o[0]==="["||t[o]?(n.push(...s.sort(),o),s=[]):s.push(o)}),n.push(...s.sort()),n},"sortModifiers")},"createSortModifiers"),WR=i(e=>({cache:HR(e.cacheSize),parseClassName:qR(e),sortModifiers:XR(e),...$R(e)}),"createConfigUtils"),QR=/\s+/,YR=i((e,t)=>{const{parseClassName:r,getClassGroupId:a,getConflictingClassGroupIds:n,sortModifiers:s}=t,o=[],h=e.trim().split(QR);let p="";for(let v=h.length-1;v>=0;v-=1){const c=h[v],{isExternal:d,modifiers:y,hasImportantModifier:b,baseClassName:x,maybePostfixModifierPosition:k}=r(c);if(d){p=c+(p.length>0?" "+p:p);continue}let N=!!k,C=a(N?x.substring(0,k):x);if(!C){if(!N){p=c+(p.length>0?" "+p:p);continue}if(C=a(x),!C){p=c+(p.length>0?" "+p:p);continue}N=!1}const R=s(y).join(":"),O=b?R+Zm:R,T=O+C;if(o.includes(T))continue;o.push(T);const P=n(C,N);for(let z=0;z<P.length;++z){const V=P[z];o.push(O+V)}p=c+(p.length>0?" "+p:p)}return p},"mergeClassList");function eO(){let e=0,t,r,a="";for(;e<arguments.length;)(t=arguments[e++])&&(r=N_(t))&&(a&&(a+=" "),a+=r);return a}i(eO,"twJoin");const N_=i(e=>{if(typeof e=="string")return e;let t,r="";for(let a=0;a<e.length;a++)e[a]&&(t=N_(e[a]))&&(r&&(r+=" "),r+=t);return r},"toValue");function tO(e,...t){let r,a,n,s=o;function o(p){const v=t.reduce((c,d)=>d(c),e());return r=WR(v),a=r.cache.get,n=r.cache.set,s=h,h(p)}i(o,"initTailwindMerge");function h(p){const v=a(p);if(v)return v;const c=YR(p,r);return n(p,c),c}return i(h,"tailwindMerge"),i(function(){return s(eO.apply(null,arguments))},"callTailwindMerge")}i(tO,"createTailwindMerge");const vr=i(e=>{const t=i(r=>r[e]||[],"themeGetter");return t.isThemeGetter=!0,t},"fromTheme"),I_=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,C_=/^\((?:(\w[\w-]*):)?(.+)\)$/i,rO=/^\d+\/\d+$/,iO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,nO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,aO=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,sO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,oO=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Fa=i(e=>rO.test(e),"isFraction"),Dt=i(e=>!!e&&!Number.isNaN(Number(e)),"isNumber"),Nn=i(e=>!!e&&Number.isInteger(Number(e)),"isInteger"),Zc=i(e=>e.endsWith("%")&&Dt(e.slice(0,-1)),"isPercent"),rn=i(e=>iO.test(e),"isTshirtSize"),lO=i(()=>!0,"isAny"),uO=i(e=>nO.test(e)&&!aO.test(e),"isLengthOnly"),R_=i(()=>!1,"isNever"),fO=i(e=>sO.test(e),"isShadow"),cO=i(e=>oO.test(e),"isImage"),dO=i(e=>!pt(e)&&!mt(e),"isAnyNonArbitrary"),hO=i(e=>vs(e,P_,R_),"isArbitrarySize"),pt=i(e=>I_.test(e),"isArbitraryValue"),Xn=i(e=>vs(e,D_,uO),"isArbitraryLength"),Hc=i(e=>vs(e,bO,Dt),"isArbitraryNumber"),Oy=i(e=>vs(e,O_,R_),"isArbitraryPosition"),pO=i(e=>vs(e,T_,cO),"isArbitraryImage"),El=i(e=>vs(e,L_,fO),"isArbitraryShadow"),mt=i(e=>C_.test(e),"isArbitraryVariable"),Is=i(e=>bs(e,D_),"isArbitraryVariableLength"),mO=i(e=>bs(e,yO),"isArbitraryVariableFamilyName"),Ty=i(e=>bs(e,O_),"isArbitraryVariablePosition"),gO=i(e=>bs(e,P_),"isArbitraryVariableSize"),vO=i(e=>bs(e,T_),"isArbitraryVariableImage"),kl=i(e=>bs(e,L_,!0),"isArbitraryVariableShadow"),vs=i((e,t,r)=>{const a=I_.exec(e);return a?a[1]?t(a[1]):r(a[2]):!1},"getIsArbitraryValue"),bs=i((e,t,r=!1)=>{const a=C_.exec(e);return a?a[1]?t(a[1]):r:!1},"getIsArbitraryVariable"),O_=i(e=>e==="position"||e==="percentage","isLabelPosition"),T_=i(e=>e==="image"||e==="url","isLabelImage"),P_=i(e=>e==="length"||e==="size"||e==="bg-size","isLabelSize"),D_=i(e=>e==="length","isLabelLength"),bO=i(e=>e==="number","isLabelNumber"),yO=i(e=>e==="family-name","isLabelFamilyName"),L_=i(e=>e==="shadow","isLabelShadow"),wO=i(()=>{const e=vr("color"),t=vr("font"),r=vr("text"),a=vr("font-weight"),n=vr("tracking"),s=vr("leading"),o=vr("breakpoint"),h=vr("container"),p=vr("spacing"),v=vr("radius"),c=vr("shadow"),d=vr("inset-shadow"),y=vr("text-shadow"),b=vr("drop-shadow"),x=vr("blur"),k=vr("perspective"),N=vr("aspect"),C=vr("ease"),R=vr("animate"),O=i(()=>["auto","avoid","all","avoid-page","page","left","right","column"],"scaleBreak"),T=i(()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],"scalePosition"),P=i(()=>[...T(),mt,pt],"scalePositionWithArbitrary"),z=i(()=>["auto","hidden","clip","visible","scroll"],"scaleOverflow"),V=i(()=>["auto","contain","none"],"scaleOverscroll"),Z=i(()=>[mt,pt,p],"scaleUnambiguousSpacing"),ee=i(()=>[Fa,"full","auto",...Z()],"scaleInset"),$=i(()=>[Nn,"none","subgrid",mt,pt],"scaleGridTemplateColsRows"),F=i(()=>["auto",{span:["full",Nn,mt,pt]},Nn,mt,pt],"scaleGridColRowStartAndEnd"),u=i(()=>[Nn,"auto",mt,pt],"scaleGridColRowStartOrEnd"),g=i(()=>["auto","min","max","fr",mt,pt],"scaleGridAutoColsRows"),l=i(()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],"scaleAlignPrimaryAxis"),m=i(()=>["start","end","center","stretch","center-safe","end-safe"],"scaleAlignSecondaryAxis"),w=i(()=>["auto",...Z()],"scaleMargin"),M=i(()=>[Fa,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...Z()],"scaleSizing"),A=i(()=>[e,mt,pt],"scaleColor"),S=i(()=>[...T(),Ty,Oy,{position:[mt,pt]}],"scaleBgPosition"),f=i(()=>["no-repeat",{repeat:["","x","y","space","round"]}],"scaleBgRepeat"),_=i(()=>["auto","cover","contain",gO,hO,{size:[mt,pt]}],"scaleBgSize"),E=i(()=>[Zc,Is,Xn],"scaleGradientStopPosition"),I=i(()=>["","none","full",v,mt,pt],"scaleRadius"),D=i(()=>["",Dt,Is,Xn],"scaleBorderWidth"),L=i(()=>["solid","dashed","dotted","double"],"scaleLineStyle"),U=i(()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],"scaleBlendMode"),B=i(()=>[Dt,Zc,Ty,Oy],"scaleMaskImagePosition"),G=i(()=>["","none",x,mt,pt],"scaleBlur"),H=i(()=>["none",Dt,mt,pt],"scaleRotate"),K=i(()=>["none",Dt,mt,pt],"scaleScale"),_e=i(()=>[Dt,mt,pt],"scaleSkew"),ae=i(()=>[Fa,"full",...Z()],"scaleTranslate");return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[rn],breakpoint:[rn],color:[lO],container:[rn],"drop-shadow":[rn],ease:["in","out","in-out"],font:[dO],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[rn],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[rn],shadow:[rn],spacing:["px",Dt],text:[rn],"text-shadow":[rn],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Fa,pt,mt,N]}],container:["container"],columns:[{columns:[Dt,pt,mt,h]}],"break-after":[{"break-after":O()}],"break-before":[{"break-before":O()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:P()}],overflow:[{overflow:z()}],"overflow-x":[{"overflow-x":z()}],"overflow-y":[{"overflow-y":z()}],overscroll:[{overscroll:V()}],"overscroll-x":[{"overscroll-x":V()}],"overscroll-y":[{"overscroll-y":V()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:ee()}],"inset-x":[{"inset-x":ee()}],"inset-y":[{"inset-y":ee()}],start:[{start:ee()}],end:[{end:ee()}],top:[{top:ee()}],right:[{right:ee()}],bottom:[{bottom:ee()}],left:[{left:ee()}],visibility:["visible","invisible","collapse"],z:[{z:[Nn,"auto",mt,pt]}],basis:[{basis:[Fa,"full","auto",h,...Z()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Dt,Fa,"auto","initial","none",pt]}],grow:[{grow:["",Dt,mt,pt]}],shrink:[{shrink:["",Dt,mt,pt]}],order:[{order:[Nn,"first","last","none",mt,pt]}],"grid-cols":[{"grid-cols":$()}],"col-start-end":[{col:F()}],"col-start":[{"col-start":u()}],"col-end":[{"col-end":u()}],"grid-rows":[{"grid-rows":$()}],"row-start-end":[{row:F()}],"row-start":[{"row-start":u()}],"row-end":[{"row-end":u()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":g()}],"auto-rows":[{"auto-rows":g()}],gap:[{gap:Z()}],"gap-x":[{"gap-x":Z()}],"gap-y":[{"gap-y":Z()}],"justify-content":[{justify:[...l(),"normal"]}],"justify-items":[{"justify-items":[...m(),"normal"]}],"justify-self":[{"justify-self":["auto",...m()]}],"align-content":[{content:["normal",...l()]}],"align-items":[{items:[...m(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...m(),{baseline:["","last"]}]}],"place-content":[{"place-content":l()}],"place-items":[{"place-items":[...m(),"baseline"]}],"place-self":[{"place-self":["auto",...m()]}],p:[{p:Z()}],px:[{px:Z()}],py:[{py:Z()}],ps:[{ps:Z()}],pe:[{pe:Z()}],pt:[{pt:Z()}],pr:[{pr:Z()}],pb:[{pb:Z()}],pl:[{pl:Z()}],m:[{m:w()}],mx:[{mx:w()}],my:[{my:w()}],ms:[{ms:w()}],me:[{me:w()}],mt:[{mt:w()}],mr:[{mr:w()}],mb:[{mb:w()}],ml:[{ml:w()}],"space-x":[{"space-x":Z()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":Z()}],"space-y-reverse":["space-y-reverse"],size:[{size:M()}],w:[{w:[h,"screen",...M()]}],"min-w":[{"min-w":[h,"screen","none",...M()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[o]},...M()]}],h:[{h:["screen","lh",...M()]}],"min-h":[{"min-h":["screen","lh","none",...M()]}],"max-h":[{"max-h":["screen","lh",...M()]}],"font-size":[{text:["base",r,Is,Xn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[a,mt,Hc]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Zc,pt]}],"font-family":[{font:[mO,pt,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[n,mt,pt]}],"line-clamp":[{"line-clamp":[Dt,"none",mt,Hc]}],leading:[{leading:[s,...Z()]}],"list-image":[{"list-image":["none",mt,pt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",mt,pt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:A()}],"text-color":[{text:A()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...L(),"wavy"]}],"text-decoration-thickness":[{decoration:[Dt,"from-font","auto",mt,Xn]}],"text-decoration-color":[{decoration:A()}],"underline-offset":[{"underline-offset":[Dt,"auto",mt,pt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:Z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",mt,pt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",mt,pt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:S()}],"bg-repeat":[{bg:f()}],"bg-size":[{bg:_()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Nn,mt,pt],radial:["",mt,pt],conic:[Nn,mt,pt]},vO,pO]}],"bg-color":[{bg:A()}],"gradient-from-pos":[{from:E()}],"gradient-via-pos":[{via:E()}],"gradient-to-pos":[{to:E()}],"gradient-from":[{from:A()}],"gradient-via":[{via:A()}],"gradient-to":[{to:A()}],rounded:[{rounded:I()}],"rounded-s":[{"rounded-s":I()}],"rounded-e":[{"rounded-e":I()}],"rounded-t":[{"rounded-t":I()}],"rounded-r":[{"rounded-r":I()}],"rounded-b":[{"rounded-b":I()}],"rounded-l":[{"rounded-l":I()}],"rounded-ss":[{"rounded-ss":I()}],"rounded-se":[{"rounded-se":I()}],"rounded-ee":[{"rounded-ee":I()}],"rounded-es":[{"rounded-es":I()}],"rounded-tl":[{"rounded-tl":I()}],"rounded-tr":[{"rounded-tr":I()}],"rounded-br":[{"rounded-br":I()}],"rounded-bl":[{"rounded-bl":I()}],"border-w":[{border:D()}],"border-w-x":[{"border-x":D()}],"border-w-y":[{"border-y":D()}],"border-w-s":[{"border-s":D()}],"border-w-e":[{"border-e":D()}],"border-w-t":[{"border-t":D()}],"border-w-r":[{"border-r":D()}],"border-w-b":[{"border-b":D()}],"border-w-l":[{"border-l":D()}],"divide-x":[{"divide-x":D()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":D()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...L(),"hidden","none"]}],"divide-style":[{divide:[...L(),"hidden","none"]}],"border-color":[{border:A()}],"border-color-x":[{"border-x":A()}],"border-color-y":[{"border-y":A()}],"border-color-s":[{"border-s":A()}],"border-color-e":[{"border-e":A()}],"border-color-t":[{"border-t":A()}],"border-color-r":[{"border-r":A()}],"border-color-b":[{"border-b":A()}],"border-color-l":[{"border-l":A()}],"divide-color":[{divide:A()}],"outline-style":[{outline:[...L(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Dt,mt,pt]}],"outline-w":[{outline:["",Dt,Is,Xn]}],"outline-color":[{outline:A()}],shadow:[{shadow:["","none",c,kl,El]}],"shadow-color":[{shadow:A()}],"inset-shadow":[{"inset-shadow":["none",d,kl,El]}],"inset-shadow-color":[{"inset-shadow":A()}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:A()}],"ring-offset-w":[{"ring-offset":[Dt,Xn]}],"ring-offset-color":[{"ring-offset":A()}],"inset-ring-w":[{"inset-ring":D()}],"inset-ring-color":[{"inset-ring":A()}],"text-shadow":[{"text-shadow":["none",y,kl,El]}],"text-shadow-color":[{"text-shadow":A()}],opacity:[{opacity:[Dt,mt,pt]}],"mix-blend":[{"mix-blend":[...U(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":U()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Dt]}],"mask-image-linear-from-pos":[{"mask-linear-from":B()}],"mask-image-linear-to-pos":[{"mask-linear-to":B()}],"mask-image-linear-from-color":[{"mask-linear-from":A()}],"mask-image-linear-to-color":[{"mask-linear-to":A()}],"mask-image-t-from-pos":[{"mask-t-from":B()}],"mask-image-t-to-pos":[{"mask-t-to":B()}],"mask-image-t-from-color":[{"mask-t-from":A()}],"mask-image-t-to-color":[{"mask-t-to":A()}],"mask-image-r-from-pos":[{"mask-r-from":B()}],"mask-image-r-to-pos":[{"mask-r-to":B()}],"mask-image-r-from-color":[{"mask-r-from":A()}],"mask-image-r-to-color":[{"mask-r-to":A()}],"mask-image-b-from-pos":[{"mask-b-from":B()}],"mask-image-b-to-pos":[{"mask-b-to":B()}],"mask-image-b-from-color":[{"mask-b-from":A()}],"mask-image-b-to-color":[{"mask-b-to":A()}],"mask-image-l-from-pos":[{"mask-l-from":B()}],"mask-image-l-to-pos":[{"mask-l-to":B()}],"mask-image-l-from-color":[{"mask-l-from":A()}],"mask-image-l-to-color":[{"mask-l-to":A()}],"mask-image-x-from-pos":[{"mask-x-from":B()}],"mask-image-x-to-pos":[{"mask-x-to":B()}],"mask-image-x-from-color":[{"mask-x-from":A()}],"mask-image-x-to-color":[{"mask-x-to":A()}],"mask-image-y-from-pos":[{"mask-y-from":B()}],"mask-image-y-to-pos":[{"mask-y-to":B()}],"mask-image-y-from-color":[{"mask-y-from":A()}],"mask-image-y-to-color":[{"mask-y-to":A()}],"mask-image-radial":[{"mask-radial":[mt,pt]}],"mask-image-radial-from-pos":[{"mask-radial-from":B()}],"mask-image-radial-to-pos":[{"mask-radial-to":B()}],"mask-image-radial-from-color":[{"mask-radial-from":A()}],"mask-image-radial-to-color":[{"mask-radial-to":A()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":T()}],"mask-image-conic-pos":[{"mask-conic":[Dt]}],"mask-image-conic-from-pos":[{"mask-conic-from":B()}],"mask-image-conic-to-pos":[{"mask-conic-to":B()}],"mask-image-conic-from-color":[{"mask-conic-from":A()}],"mask-image-conic-to-color":[{"mask-conic-to":A()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:S()}],"mask-repeat":[{mask:f()}],"mask-size":[{mask:_()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",mt,pt]}],filter:[{filter:["","none",mt,pt]}],blur:[{blur:G()}],brightness:[{brightness:[Dt,mt,pt]}],contrast:[{contrast:[Dt,mt,pt]}],"drop-shadow":[{"drop-shadow":["","none",b,kl,El]}],"drop-shadow-color":[{"drop-shadow":A()}],grayscale:[{grayscale:["",Dt,mt,pt]}],"hue-rotate":[{"hue-rotate":[Dt,mt,pt]}],invert:[{invert:["",Dt,mt,pt]}],saturate:[{saturate:[Dt,mt,pt]}],sepia:[{sepia:["",Dt,mt,pt]}],"backdrop-filter":[{"backdrop-filter":["","none",mt,pt]}],"backdrop-blur":[{"backdrop-blur":G()}],"backdrop-brightness":[{"backdrop-brightness":[Dt,mt,pt]}],"backdrop-contrast":[{"backdrop-contrast":[Dt,mt,pt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Dt,mt,pt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Dt,mt,pt]}],"backdrop-invert":[{"backdrop-invert":["",Dt,mt,pt]}],"backdrop-opacity":[{"backdrop-opacity":[Dt,mt,pt]}],"backdrop-saturate":[{"backdrop-saturate":[Dt,mt,pt]}],"backdrop-sepia":[{"backdrop-sepia":["",Dt,mt,pt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":Z()}],"border-spacing-x":[{"border-spacing-x":Z()}],"border-spacing-y":[{"border-spacing-y":Z()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",mt,pt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Dt,"initial",mt,pt]}],ease:[{ease:["linear","initial",C,mt,pt]}],delay:[{delay:[Dt,mt,pt]}],animate:[{animate:["none",R,mt,pt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[k,mt,pt]}],"perspective-origin":[{"perspective-origin":P()}],rotate:[{rotate:H()}],"rotate-x":[{"rotate-x":H()}],"rotate-y":[{"rotate-y":H()}],"rotate-z":[{"rotate-z":H()}],scale:[{scale:K()}],"scale-x":[{"scale-x":K()}],"scale-y":[{"scale-y":K()}],"scale-z":[{"scale-z":K()}],"scale-3d":["scale-3d"],skew:[{skew:_e()}],"skew-x":[{"skew-x":_e()}],"skew-y":[{"skew-y":_e()}],transform:[{transform:[mt,pt,"","none","gpu","cpu"]}],"transform-origin":[{origin:P()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ae()}],"translate-x":[{"translate-x":ae()}],"translate-y":[{"translate-y":ae()}],"translate-z":[{"translate-z":ae()}],"translate-none":["translate-none"],accent:[{accent:A()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:A()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",mt,pt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Z()}],"scroll-mx":[{"scroll-mx":Z()}],"scroll-my":[{"scroll-my":Z()}],"scroll-ms":[{"scroll-ms":Z()}],"scroll-me":[{"scroll-me":Z()}],"scroll-mt":[{"scroll-mt":Z()}],"scroll-mr":[{"scroll-mr":Z()}],"scroll-mb":[{"scroll-mb":Z()}],"scroll-ml":[{"scroll-ml":Z()}],"scroll-p":[{"scroll-p":Z()}],"scroll-px":[{"scroll-px":Z()}],"scroll-py":[{"scroll-py":Z()}],"scroll-ps":[{"scroll-ps":Z()}],"scroll-pe":[{"scroll-pe":Z()}],"scroll-pt":[{"scroll-pt":Z()}],"scroll-pr":[{"scroll-pr":Z()}],"scroll-pb":[{"scroll-pb":Z()}],"scroll-pl":[{"scroll-pl":Z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",mt,pt]}],fill:[{fill:["none",...A()]}],"stroke-w":[{stroke:[Dt,Is,Xn,Hc]}],stroke:[{stroke:["none",...A()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},"getDefaultConfig"),xO=tO(wO);function Le(...e){return xO(ov(e))}i(Le,"cn");A_.extend(FR);const ga=A_,Sa=i(e=>e.substring(0,2),"formatAgentName");function bn(){return URL.createObjectURL(new Blob).split("/").pop()}i(bn,"randomUUID");function Ma(){const e="elizaos-client-user-id",t=localStorage.getItem(e);if(t)return t;const r=bn();return localStorage.setItem(e,r),r}i(Ma,"getEntityId");const B_=i((e,t=bo,r=.8)=>new Promise((a,n)=>{const s=new FileReader;s.onload=o=>{if(o.target?.result){const h=new Image;h.src=o.target.result,h.onload=()=>{const p=document.createElement("canvas");let v=h.width,c=h.height;v>c?v>t&&(c*=t/v,v=t):c>t&&(v*=t/c,c=t),p.width=v,p.height=c,p.getContext("2d")?.drawImage(h,0,0,v,c);const y=p.toDataURL("image/jpeg",r);a(y)},h.onerror=n}},s.onerror=n,s.readAsDataURL(e)}),"compressImage"),Py=["/images/agents/agent1.png","/images/agents/agent2.png","/images/agents/agent3.png","/images/agents/agent4.png","/images/agents/agent5.png"],yo=i(e=>{if(e?.settings?.avatar)return e.settings.avatar;if(e?.id){let t=0;for(let a=0;a<e.id.length;a++){const n=e.id.charCodeAt(a);t=(t<<5)-t+n,t|=0}const r=Math.abs(t)%Py.length;return Py[r]}return"/elizaos-icon.png"},"getAgentAvatar"),uv=i((e,t,r)=>{if(e?.name&&e.name.trim()!=="")return e.name;if(t&&t.length>0){const a=t.filter(n=>n.id!==r&&n.name);if(a.length===0&&t.some(n=>n.id===r&&n.name)){const n=t.find(s=>s.id===r);return n&&n.name||"Unnamed Group"}if(a.length>0)return a.map(n=>n.name).slice(0,3).join(", ")+(a.length>3?"...":"")}return"Unnamed Group"},"generateGroupName"),fv=En("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-[color,box-shadow] disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] cursor-pointer",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-sm hover:bg-primary/90",destructive:"bg-red-800 text-white shadow-xs hover:bg-red-600 focus-visible:ring-red-400/20 dark:focus-visible:ring-red-500",outline:"border border-input bg-background shadow-xs hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-auto w-auto"}},defaultVariants:{variant:"default",size:"default"}});function et({className:e,variant:t,size:r,asChild:a=!1,...n}){const s=a?ms:"button";return j.jsx(s,{"data-slot":"button",className:Le(fv({variant:t,size:r,className:e})),...n})}i(et,"Button$1");const hr=J.forwardRef(({className:e,type:t,...r},a)=>j.jsx("input",{type:t,className:Le("flex h-12 w-full rounded border border-input bg-card px-4 py-3 text-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,"data-testid":r["data-testid"]||"input",...r}));hr.displayName="Input";const ei=J.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...a},n)=>j.jsx(N5,{ref:n,decorative:r,orientation:t,className:Le("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),"data-testid":a["data-testid"]||"separator",...a}));ei.displayName=N5.displayName;const z_=I5,_O=C5,SO=R5,U_=J.forwardRef(({className:e,...t},r)=>j.jsx(bf,{className:Le("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));U_.displayName=bf.displayName;const MO=En("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),cv=J.forwardRef(({side:e="right",className:t,children:r,...a},n)=>j.jsxs(SO,{children:[j.jsx(U_,{}),j.jsxs(vf,{ref:n,className:Le(MO({side:e}),t),...a,children:[j.jsxs(O5,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[j.jsx(Fr,{className:"h-4 w-4"}),j.jsx("span",{className:"sr-only",children:"Close"})]}),r]})]}));cv.displayName=vf.displayName;const EO=J.forwardRef(({className:e,...t},r)=>j.jsx(yf,{ref:r,className:Le("text-lg font-semibold text-foreground",e),...t}));EO.displayName=yf.displayName;const kO=J.forwardRef(({className:e,...t},r)=>j.jsx(wf,{ref:r,className:Le("text-sm text-muted-foreground",e),...t}));kO.displayName=wf.displayName;function wo({className:e,...t}){return j.jsx("div",{className:Le("animate-pulse rounded-md bg-primary/10",e),"data-testid":t["data-testid"]||"skeleton",...t})}i(wo,"Skeleton");const es=iC,cr=nC,dr=aC,lr=J.forwardRef(({className:e,sideOffset:t=4,...r},a)=>j.jsx(sC,{children:j.jsx(T5,{ref:a,sideOffset:t,className:Le("z-50 overflow-hidden select-none rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));lr.displayName=T5.displayName;const Jc=768;function AO(){const[e,t]=J.useState(void 0);return J.useEffect(()=>{const r=window.matchMedia(`(max-width: ${Jc-1}px)`),a=i(()=>{t(window.innerWidth<Jc)},"onChange");return r.addEventListener("change",a),t(window.innerWidth<Jc),()=>r.removeEventListener("change",a)},[]),!!e}i(AO,"useIsMobile");const jO="sidebar:state",NO=3600*24*7,IO="16rem",CO="18rem",RO="3rem",OO="b",F_=J.createContext(null);function kf(){const e=J.useContext(F_);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}i(kf,"useSidebar");const $_=J.forwardRef(({defaultOpen:e=!0,open:t,onOpenChange:r,className:a,style:n,children:s,...o},h)=>{const p=AO(),[v,c]=J.useState(!1),[d,y]=J.useState(e),b=t??d,x=J.useCallback(R=>{const O=typeof R=="function"?R(b):R;r?r(O):y(O),document.cookie=`${jO}=${O}; path=/; max-age=${NO}`},[r,b]),k=J.useCallback(()=>p?c(R=>!R):x(R=>!R),[p,x,c]);J.useEffect(()=>{const R=i(O=>{O.key===OO&&(O.metaKey||O.ctrlKey)&&(O.preventDefault(),k())},"handleKeyDown");return window.addEventListener("keydown",R),()=>window.removeEventListener("keydown",R)},[k]);const N=b?"expanded":"collapsed",C=J.useMemo(()=>({state:N,open:b,setOpen:x,isMobile:p,openMobile:v,setOpenMobile:c,toggleSidebar:k}),[N,b,x,p,v,c,k]);return j.jsx(F_.Provider,{value:C,children:j.jsx(es,{delayDuration:0,children:j.jsx("div",{style:{"--sidebar-width":IO,"--sidebar-width-icon":RO,...n},className:Le("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-card",a),ref:h,...o,children:s})})})});$_.displayName="SidebarProvider";const G_=J.forwardRef(({side:e="left",variant:t="sidebar",collapsible:r="offcanvas",className:a,children:n,...s},o)=>{const{isMobile:h,state:p,openMobile:v,setOpenMobile:c}=kf();return r==="none"?j.jsx("div",{className:Le("flex h-full w-[--sidebar-width] flex-col bg-card text-sidebar-foreground",a),ref:o,...s,children:n}):h?j.jsx(z_,{open:v,onOpenChange:c,...s,children:j.jsx(cv,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-card p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":CO},side:e,children:j.jsx("div",{className:"flex h-full w-full flex-col",children:n})})}):j.jsxs("div",{ref:o,className:"group peer hidden md:block text-sidebar-foreground","data-state":p,"data-collapsible":p==="collapsed"?r:"","data-variant":t,"data-side":e,children:[j.jsx("div",{className:Le("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),j.jsx("div",{className:Le("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",a),...s,children:j.jsx("div",{"data-sidebar":"sidebar",className:"flex m-4 rounded-md w-full flex-col group-data-[variant=floating]:rounded-md group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:n})})]})});G_.displayName="Sidebar";const TO=J.forwardRef(({className:e,onClick:t,...r},a)=>{const{toggleSidebar:n}=kf();return j.jsxs(et,{ref:a,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:Le("h-7 w-7",e),onClick:i(s=>{t?.(s),n()},"onClick"),"data-testid":"sidebar-toggle",...r,children:[j.jsx(oC,{}),j.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});TO.displayName="SidebarTrigger";const PO=J.forwardRef(({className:e,...t},r)=>{const{toggleSidebar:a}=kf();return j.jsx("button",{ref:r,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:a,title:"Toggle Sidebar",className:Le("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-card-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-card","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...t})});PO.displayName="SidebarRail";const V_=J.forwardRef(({className:e,...t},r)=>j.jsx("main",{ref:r,className:Le("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...t}));V_.displayName="SidebarInset";const DO=J.forwardRef(({className:e,...t},r)=>j.jsx(hr,{ref:r,"data-sidebar":"input",className:Le("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...t}));DO.displayName="SidebarInput";const Z_=J.forwardRef(({className:e,...t},r)=>j.jsx("div",{ref:r,"data-sidebar":"header",className:Le("flex flex-col gap-2 p-2",e),...t}));Z_.displayName="SidebarHeader";const H_=J.forwardRef(({className:e,...t},r)=>j.jsx("div",{ref:r,"data-sidebar":"footer",className:Le("flex flex-col gap-2 p-2",e),...t}));H_.displayName="SidebarFooter";const LO=J.forwardRef(({className:e,...t},r)=>j.jsx(ei,{ref:r,"data-sidebar":"separator",className:Le("mx-2 w-auto bg-card-border",e),...t}));LO.displayName="SidebarSeparator";const J_=J.forwardRef(({className:e,...t},r)=>j.jsx("div",{ref:r,"data-sidebar":"content",className:Le("flex min-h-0 flex-1 flex-col gap-2 overflow-y-auto overflow-x-hidden group-data-[collapsible=icon]:overflow-hidden",e),...t}));J_.displayName="SidebarContent";const Af=J.forwardRef(({className:e,...t},r)=>j.jsx("div",{ref:r,"data-sidebar":"group",className:Le("relative flex w-full min-w-0 flex-col p-0.5",e),...t}));Af.displayName="SidebarGroup";const BO=J.forwardRef(({className:e,asChild:t=!1,...r},a)=>{const n=t?ms:"div";return j.jsx(n,{ref:a,"data-sidebar":"group-label",className:Le("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...r})});BO.displayName="SidebarGroupLabel";const zO=J.forwardRef(({className:e,asChild:t=!1,...r},a)=>{const n=t?ms:"button";return j.jsx(n,{ref:a,"data-sidebar":"group-action",className:Le("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-card-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...r})});zO.displayName="SidebarGroupAction";const jf=J.forwardRef(({className:e,...t},r)=>j.jsx("div",{ref:r,"data-sidebar":"group-content",className:Le("w-full text-sm p-0 m-0",e),...t}));jf.displayName="SidebarGroupContent";const va=J.forwardRef(({className:e,...t},r)=>j.jsx("ul",{ref:r,"data-sidebar":"menu",className:Le("flex w-full min-w-0 flex-col gap-0.5",e),...t}));va.displayName="SidebarMenu";const Ai=J.forwardRef(({className:e,...t},r)=>j.jsx("li",{ref:r,"data-sidebar":"menu-item",className:Le("group/menu-item relative",e),...t}));Ai.displayName="SidebarMenuItem";const UO=En("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),Ea=J.forwardRef(({asChild:e=!1,isActive:t=!1,variant:r="default",size:a="default",tooltip:n,className:s,...o},h)=>{const p=e?ms:"button",{isMobile:v,state:c}=kf(),d=j.jsx(p,{ref:h,"data-sidebar":"menu-button","data-size":a,"data-active":t,className:Le(UO({variant:r,size:a}),s),...o});return n?(typeof n=="string"&&(n={children:n}),j.jsxs(cr,{children:[j.jsx(dr,{asChild:!0,children:d}),j.jsx(lr,{side:"right",align:"center",hidden:c!=="collapsed"||v,...n})]})):d});Ea.displayName="SidebarMenuButton";const FO=J.forwardRef(({className:e,asChild:t=!1,showOnHover:r=!1,...a},n)=>{const s=t?ms:"button";return j.jsx(s,{ref:n,"data-sidebar":"menu-action",className:Le("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-card-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",r&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...a})});FO.displayName="SidebarMenuAction";const $O=J.forwardRef(({className:e,...t},r)=>j.jsx("div",{ref:r,"data-sidebar":"menu-badge",className:Le("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...t}));$O.displayName="SidebarMenuBadge";const Nf=J.forwardRef(({className:e,showIcon:t=!1,...r},a)=>{const n=J.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return j.jsxs("div",{ref:a,"data-sidebar":"menu-skeleton",className:Le("rounded-md h-8 flex gap-2 px-2 items-center",e),...r,children:[t&&j.jsx(wo,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),j.jsx(wo,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":n}})]})});Nf.displayName="SidebarMenuSkeleton";const GO=J.forwardRef(({className:e,...t},r)=>j.jsx("ul",{ref:r,"data-sidebar":"menu-sub",className:Le("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...t}));GO.displayName="SidebarMenuSub";const VO=J.forwardRef(({...e},t)=>j.jsx("li",{ref:t,...e}));VO.displayName="SidebarMenuSubItem";const ZO=J.forwardRef(({asChild:e=!1,size:t="md",isActive:r,className:a,...n},s)=>{const o=e?ms:"a";return j.jsx(o,{ref:s,"data-sidebar":"menu-sub-button","data-size":t,"data-active":r,className:Le("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-card-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-card-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-card-accent data-[active=true]:text-sidebar-accent-foreground",t==="sm"&&"text-xs",t==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",a),...n})});ZO.displayName="SidebarMenuSubButton";const HO=En("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function xi({className:e,variant:t,...r}){return j.jsx("div",{className:Le(HO({variant:t}),e),"data-testid":r["data-testid"]||"badge",...r})}i(xi,"Badge$1");const JO=En("text-sm font-normal text-muted-foreground leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ts=J.forwardRef(({className:e,...t},r)=>j.jsx(P5,{ref:r,className:Le(JO(),e),...t}));ts.displayName=P5.displayName;const qO=i(({tag:e,onRemove:t})=>j.jsxs(xi,{variant:"outline",className:"flex items-center gap-1.5 pr-1.5 text-sm py-1 px-2 transition-colors hover:bg-accent hover:text-accent-foreground",children:[e,j.jsxs(et,{type:"button",variant:"ghost",size:"icon",onClick:i(()=>t(e),"onClick"),className:"hover:bg-accent/20 rounded-full p-0.5 transition-colors h-auto w-auto min-w-0 min-h-0",children:[j.jsx(Fr,{className:"h-3 w-3"}),j.jsxs("span",{className:"sr-only",children:["Remove ",e]})]})]}),"Tag"),KO=i(({tags:e,onRemove:t})=>j.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:e.map(r=>j.jsx(qO,{tag:r,onRemove:t},r))}),"TagList"),XO=i(({value:e,onChange:t,onKeyDown:r,onAdd:a})=>j.jsxs("div",{className:"relative",children:[j.jsx(hr,{value:e,onChange:t,onKeyDown:r,placeholder:"Type and press Enter or click Add...",className:Le("bg-background pr-16",!e&&"text-muted-foreground")}),e.trim()&&j.jsx(et,{size:"sm",onClick:a,className:"absolute top-1/2 -translate-y-1/2 right-2 h-7 px-3",children:"Add"})]}),"TagInput");function WO({title:e,data:t,onChange:r}){const[a,n]=J.useState(""),s=i(()=>{const p=a.trim();p&&!t.includes(p)&&(r([...t,p]),n(""))},"addTag"),o=i(p=>{p.key==="Enter"&&(p.preventDefault(),s())},"handleKeyDown"),h=i(p=>{r(t.filter(v=>v!==p))},"removeTag");return j.jsxs("div",{className:"space-y-2",children:[j.jsx(ts,{children:e}),j.jsxs("div",{className:"p-2 bg-card rounded border border-input",children:[j.jsx(KO,{tags:t,onRemove:h}),j.jsx(XO,{value:a,onChange:i(p=>n(p.target.value),"onChange"),onKeyDown:o,onAdd:s})]})]})}i(WO,"ArrayInput");const dv=D5,If=J.forwardRef(({className:e,...t},r)=>j.jsx(Kg,{ref:r,className:Le("inline-flex items-center bg-transparent border-b border-sidebar-border w-full",e),...t}));If.displayName=Kg.displayName;const xo=J.forwardRef(({className:e,...t},r)=>j.jsx(Xg,{ref:r,className:Le("inline-flex items-center justify-center gap-2 px-4 py-2.5 text-sm font-medium text-muted-foreground bg-transparent transition-all hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:text-foreground data-[state=active]:border-b-2 data-[state=active]:border-b-primary relative",e),...t}));xo.displayName=Xg.displayName;const wi=J.forwardRef(({className:e,...t},r)=>j.jsx(L5,{ref:r,className:Le("text-foreground ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));wi.displayName=L5.displayName;const Wo=J.forwardRef(({className:e,...t},r)=>j.jsx("textarea",{className:Le("flex min-h-[120px] w-full rounded border border-input bg-card px-4 py-3 text-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,"data-testid":t["data-testid"]||"textarea",...t}));Wo.displayName="Textarea";const QO=1,YO=3e3;let qc=0;function eT(){return qc=(qc+1)%Number.MAX_SAFE_INTEGER,qc.toString()}i(eT,"genId");const Kc=new Map,Dy=i(e=>{if(Kc.has(e))return;const t=setTimeout(()=>{Kc.delete(e),ho({type:"REMOVE_TOAST",toastId:e})},YO);Kc.set(e,t)},"addToRemoveQueue"),tT=i((e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,QO)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;if(r)Dy(r);else for(const a of e.toasts)Dy(a.id);return{...e,toasts:e.toasts.map(a=>a.id===r||r===void 0?{...a,open:!1}:a)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},"reducer"),_u=[];let Su={toasts:[]};function ho(e){Su=tT(Su,e);for(const t of _u)t(Su)}i(ho,"dispatch");function rT({...e}){const t=eT(),r=i(n=>ho({type:"UPDATE_TOAST",toast:{...n,id:t}}),"update"),a=i(()=>ho({type:"DISMISS_TOAST",toastId:t}),"dismiss");return ho({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i(n=>{n||a()},"onOpenChange")}}),{id:t,dismiss:a,update:r}}i(rT,"toast");function rr(){const[e,t]=J.useState(Su);return J.useEffect(()=>(_u.push(t),()=>{const r=_u.indexOf(t);r>-1&&_u.splice(r,1)}),[]),{...e,toast:rT,dismiss:i(r=>ho({type:"DISMISS_TOAST",toastId:r}),"dismiss")}}i(rr,"useToast");function iT(e){return e.replace(/[^a-zA-Z0-9]/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"").toLowerCase()}i(iT,"sanitizeFilename");function nT(e){const t={id:e.id,name:e.name,username:e.username,system:e.system,templates:e.templates,bio:e.bio,messageExamples:e.messageExamples,postExamples:e.postExamples,topics:e.topics,adjectives:e.adjectives,knowledge:e.knowledge,plugins:e.plugins,settings:e.settings?{...e.settings}:void 0,style:e.style};if(t.settings&&"secrets"in t.settings){const{secrets:r,...a}=t.settings;t.settings=a}return Object.fromEntries(Object.entries(t).filter(([r,a])=>a!=null))}i(nT,"agentToCharacterData");function aT(e){const t=new Date().toISOString().split("T")[0];return`${iT(e||"agent")}-${t}.json`}i(aT,"generateExportFilename");function sT(e,t){const r=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),a=URL.createObjectURL(r),n=document.createElement("a");n.href=a,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(a)}i(sT,"downloadJsonFile");function hv(e,t){try{const r=nT(e),a=aT(e.name);return sT(r,a),t&&t({title:"Character Exported",description:`${e.name}'s character data has been downloaded as ${a}`}),{success:!0,filename:a}}catch(r){return console.error("Failed to export character:",r),t&&t({title:"Export Failed",description:"Failed to export character data. Please try again.",variant:"destructive"}),{success:!1,error:r instanceof Error?r.message:"Unknown error"}}}i(hv,"exportCharacterAsJson");const xn=lC,Xc=fC,_n=uC,Gi=J.forwardRef(({className:e,children:t,...r},a)=>j.jsxs(B5,{ref:a,className:Le("flex h-12 w-full items-center justify-between whitespace-nowrap rounded border border-input bg-card px-4 py-3 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,j.jsx(cC,{asChild:!0,children:j.jsx(Ji,{className:"h-4 w-4 opacity-50"})})]}));Gi.displayName=B5.displayName;const q_=J.forwardRef(({className:e,...t},r)=>j.jsx(G5,{ref:r,className:Le("flex cursor-default items-center justify-center py-1",e),...t,children:j.jsx(V5,{className:"h-4 w-4"})}));q_.displayName=G5.displayName;const K_=J.forwardRef(({className:e,...t},r)=>j.jsx(Z5,{ref:r,className:Le("flex cursor-default items-center justify-center py-1",e),...t,children:j.jsx(Ji,{className:"h-4 w-4"})}));K_.displayName=Z5.displayName;const Vi=J.forwardRef(({className:e,children:t,position:r="popper",...a},n)=>j.jsx(dC,{children:j.jsxs(z5,{ref:n,className:Le("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-xl border border-input bg-card text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...a,children:[j.jsx(q_,{}),j.jsx(hC,{className:Le("p-2",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),j.jsx(K_,{})]})}));Vi.displayName=z5.displayName;const Jm=J.forwardRef(({className:e,...t},r)=>j.jsx($5,{ref:r,className:Le("px-4 py-2 text-xs font-medium text-muted-foreground uppercase tracking-wider",e),...t}));Jm.displayName=$5.displayName;const Qt=J.forwardRef(({className:e,children:t,...r},a)=>j.jsxs(U5,{ref:a,className:Le("relative flex w-full cursor-default select-none items-center rounded py-3 pl-4 pr-8 text-sm outline-none hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[j.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:j.jsx(pC,{children:j.jsx(Sn,{className:"h-4 w-4"})})}),j.jsx(mC,{children:t})]}));Qt.displayName=U5.displayName;const qm=J.forwardRef(({className:e,...t},r)=>j.jsx(F5,{ref:r,className:Le("-mx-1 my-1 h-px bg-muted",e),...t}));qm.displayName=F5.displayName;const X_={elevenlabs:"@elizaos/plugin-elevenlabs",openai:"@elizaos/plugin-openai",none:""},oT=[{value:"none",label:"No Voice",provider:"none"}],lT=[],pv=[{value:"EXAVITQu4vr4xnSDxMaL",label:"ElevenLabs - Rachel (Default)",provider:"elevenlabs",gender:"female",language:"en",features:["natural","professional"]},{value:"21m00Tcm4TlvDq8ikWAM",label:"ElevenLabs - Adam",provider:"elevenlabs",gender:"male",language:"en",features:["natural","professional"]},{value:"AZnzlk1XvdvUeBnXmlld",label:"ElevenLabs - Domi",provider:"elevenlabs",gender:"female",language:"en",features:["natural","friendly"]},{value:"MF3mGyEYCl7XYWbV9V6O",label:"ElevenLabs - Elli",provider:"elevenlabs",gender:"female",language:"en",features:["natural","friendly"]},{value:"TxGEqnHWrfWFTfGW9XjX",label:"ElevenLabs - Josh",provider:"elevenlabs",gender:"male",language:"en",features:["natural","professional"]}],W_=[{value:"alloy",label:"OpenAI - Alloy",provider:"openai",gender:"female",language:"en",features:["natural","versatile"]},{value:"echo",label:"OpenAI - Echo",provider:"openai",gender:"male",language:"en",features:["natural","professional"]},{value:"fable",label:"OpenAI - Fable",provider:"openai",gender:"male",language:"en",features:["natural","narrative"]},{value:"onyx",label:"OpenAI - Onyx",provider:"openai",gender:"male",language:"en",features:["natural","deep"]},{value:"nova",label:"OpenAI - Nova",provider:"openai",gender:"female",language:"en",features:["natural","friendly"]},{value:"shimmer",label:"OpenAI - Shimmer",provider:"openai",gender:"female",language:"en",features:["natural","bright"]},{value:"ash",label:"OpenAI - Ash",provider:"openai",gender:"male",language:"en",features:["natural","calm"]},{value:"coral",label:"OpenAI - Coral",provider:"openai",gender:"female",language:"en",features:["natural","warm"]},{value:"sage",label:"OpenAI - Sage",provider:"openai",gender:"female",language:"en",features:["natural","wise"]},{value:"ballad",label:"OpenAI - Ballad",provider:"openai",gender:"male",language:"en",features:["natural","melodic"]}],Q_=i(()=>[...oT,...lT,...pv,...W_],"getAllVoiceModels"),Km=i(e=>Q_().find(t=>t.value===e),"getVoiceModelByValue");function uT(){const[e,t]=J.useState(null);return J.useEffect(()=>{const r=localStorage.getItem("ELEVENLABS_API_KEY");t(r)},[]),jr({queryKey:["elevenlabs-voices",e],queryFn:i(async()=>{if(!e)return[];try{const r=await fetch("https://api.elevenlabs.io/v2/voices",{method:"GET",headers:{"xi-api-key":e}});if(!r.ok)return console.error("Failed to fetch ElevenLabs voices:",r.statusText),[];const a=await r.json(),n=pv.map(h=>h.value);return a.voices.filter(h=>!n.includes(h.voice_id)).map(h=>({value:h.voice_id,label:`ElevenLabs - ${h.name} (Custom)`,provider:"elevenlabs",gender:h.labels?.gender==="female"?"female":"male",language:"en",features:[h.category||"professional",h.labels?.description||"natural"]}))}catch(r){return console.error("Error fetching ElevenLabs voices:",r),[]}},"queryFn"),staleTime:3600*1e3,refetchOnWindowFocus:!1})}i(uT,"useElevenLabsVoices");function _o({...e}){return j.jsx(gC,{"data-slot":"dropdown-menu",...e})}i(_o,"DropdownMenu");function So({...e}){return j.jsx(vC,{"data-slot":"dropdown-menu-trigger",...e})}i(So,"DropdownMenuTrigger");function Mo({className:e,sideOffset:t=4,onPointerDown:r,onPointerDownOutside:a,onCloseAutoFocus:n,...s}){const o=J.useRef(!1),h=J.useCallback(c=>{o.current=!0,r?.(c)},[r]),p=J.useCallback(c=>{o.current=!0,a?.(c)},[a]),v=J.useCallback(c=>{if(n)return n(c);o.current&&(c.preventDefault(),o.current=!1)},[n]);return j.jsx(bC,{children:j.jsx(yC,{"data-slot":"dropdown-menu-content",sideOffset:t,className:Le("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 overflow-hidden rounded-md border p-1 shadow-lg",e),onPointerDown:h,onPointerDownOutside:p,onCloseAutoFocus:v,...s})})}i(Mo,"DropdownMenuContent");function Fi({className:e,inset:t,variant:r="default",...a}){return j.jsx(wC,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":r,className:Le("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive-foreground data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/40 data-[variant=destructive]:focus:text-destructive-foreground data-[variant=destructive]:*:[svg]:!text-destructive-foreground data-[variant=destructive]:font-normal relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm font-medium outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0",e),...a})}i(Fi,"DropdownMenuItem");function fT({className:e,inset:t,...r}){return j.jsx(_C,{"data-slot":"dropdown-menu-label","data-inset":t,className:Le("text-muted-foreground px-2 py-1.5 text-xs font-medium data-[inset]:pl-8",e),...r})}i(fT,"DropdownMenuLabel");function Uu({className:e,...t}){return j.jsx(xC,{"data-slot":"dropdown-menu-separator",className:Le("bg-border -mx-1 my-1 h-px",e),...t})}i(Uu,"DropdownMenuSeparator");const Y_=[{id:"none",label:"None (Start Blank)",description:"Start with an empty configuration",template:{name:"",username:"",system:"",bio:[],topics:[],adjectives:[],plugins:["@elizaos/plugin-sql","@elizaos/plugin-openai","@elizaos/plugin-bootstrap"],settings:{secrets:{}}}},{id:"discord-bot",label:"Discord Bot",description:"Interactive Discord bot that handles server interactions",template:{name:"Discord Assistant",username:"discordbot",system:"You are a Discord bot designed to assist users in a Discord server. You respond to messages, handle commands, and provide helpful information to community members. You should be friendly, helpful, and maintain a consistent personality. Focus on providing value to the community through clear, concise responses.",bio:["Helpful Discord community assistant","Responds to commands and natural language queries","Assists with server-specific information and resources","Maintains a friendly and helpful tone"],topics:["Discord server","Community assistance","Command handling","Server information"],adjectives:["Helpful","Responsive","Friendly","Informative","Reliable"],plugins:["@elizaos/plugin-sql","@elizaos/plugin-openai","@elizaos/plugin-bootstrap","@elizaos/plugin-discord"],style:{all:["Be friendly and helpful","Use clear, concise language","Follow Discord conventions"],chat:["Respond promptly to queries","Use appropriate formatting for clarity","Reference relevant commands when helpful"],post:["Structure longer responses with clear sections","Use embeds for rich content when appropriate"]},settings:{secrets:{}}}},{id:"telegram-bot",label:"Telegram Bot",description:"Interactive bot for Telegram channels and groups",template:{name:"Telegram Assistant",username:"telegrambot",system:"You are a helpful Telegram bot designed to assist users in channels and groups. You respond to commands and natural language queries, providing information, assistance, and engaging with users in a friendly manner. You can handle both one-on-one conversations and group interactions, adapting your tone and content accordingly while respecting privacy and community guidelines.",bio:["Interactive Telegram bot","Assists users in channels and groups","Responds to commands and natural language"],topics:["Channel information","User assistance","Content sharing","Group moderation","FAQ responses"],adjectives:["Helpful","Responsive","Friendly","Informative","Reliable"],plugins:["@elizaos/plugin-sql","@elizaos/plugin-openai","@elizaos/plugin-bootstrap","@elizaos/plugin-telegram"],style:{all:["Be concise and clear","Use Telegram-friendly formatting","Respond promptly to user queries"],chat:["Handle commands efficiently","Include relevant emoji when appropriate","Maintain conversation context"],post:["Structure longer messages clearly","Use formatting for better readability","Include relevant links when helpful"]},settings:{clients:["telegram"],allowDirectMessages:!0,shouldOnlyJoinInAllowedGroups:!1,messageTrackingLimit:100,secrets:{}}}},{id:"slack-bot",label:"Slack Bot",description:"Interactive bot for Slack workspaces",template:{name:"Slack Assistant",username:"slackbot",system:"You are a specialized assistant for Slack workspaces. You help teams by answering questions, providing information, and facilitating collaboration. You can respond to direct messages and channel mentions, maintaining a helpful and professional tone that aligns with the organization's culture. Keep responses concise and relevant to the conversation context.",bio:["Specialized Slack workspace assistant","Facilitates team collaboration","Provides timely responses to queries"],topics:["Workspace information","Team collaboration","Company policies","Resource access","Task management"],adjectives:["Responsive","Helpful","Organized","Team-oriented","Professional"],plugins:["@elizaos/plugin-sql","@elizaos/plugin-openai","@elizaos/plugin-bootstrap","@elizaos/plugin-slack"],style:{all:["Be concise and clear","Match the tone of the workspace","Use Slack-appropriate formatting"],chat:["Reference relevant messages when appropriate","Use thread replies for detailed responses","Include emojis when fitting the workspace culture"],post:["Structure information with clear sections","Use bullet points for lists","Include relevant links when helpful"]},settings:{secrets:{}}}},{id:"twitter-agent",label:"Twitter/X Agent",description:"Manages Twitter presence and engagement",template:{name:"Twitter Agent",username:"twitteragent",system:"You are a Twitter engagement specialist designed to help create and manage effective Twitter content. You assist with drafting tweets, responding to mentions, analyzing engagement metrics, and suggesting content strategies. Your tone should match the brand voice while maintaining authenticity and encouraging audience interaction. Keep tweets concise and impactful within character limits.",bio:["Twitter engagement specialist","Creates compelling social content","Manages audience interactions"],topics:["Tweet creation","Audience engagement","Content strategy","Trend analysis","Brand voice"],adjectives:["Engaging","Concise","Strategic","Conversational","Creative"],plugins:["@elizaos/plugin-sql","@elizaos/plugin-openai","@elizaos/plugin-bootstrap","@elizaos/plugin-twitter"],style:{all:["Be concise and impactful","Stay within character limits","Use platform-appropriate formatting"],chat:["Match brand voice in replies","Be conversational and authentic","Use hashtags strategically"],post:["Draft varied content types","Suggest engaging visuals or polls","Include call-to-actions when appropriate"]},settings:{TWITTER_DRY_RUN:!1,MAX_TWEET_LENGTH:280,TWITTER_ENABLE_POST_GENERATION:!0,TWITTER_POST_INTERVAL_MIN:90,TWITTER_POST_INTERVAL_MAX:180,secrets:{}}}},{id:"github-bot",label:"GitHub Repository Assistant",description:"Helps manage GitHub repositories and development workflows",template:{name:"GitHub Assistant",username:"githubasst",system:"You are a GitHub repository assistant designed to help development teams manage their workflow and codebase. You can assist with pull request reviews, issue triage, documentation updates, and providing information about repository structure and conventions. Maintain a technical but approachable tone, and prioritize accuracy in all technical information.",bio:["GitHub repository management specialist","Assists with development workflows","Provides code and documentation support"],topics:["Pull requests","Issue tracking","Repository structure","Code reviews","Development workflows"],adjectives:["Technical","Precise","Helpful","Organized","Knowledgeable"],plugins:["@elizaos/plugin-sql","@elizaos/plugin-openai","@elizaos/plugin-bootstrap","@elizaos/plugin-github"],style:{all:["Use technically precise language","Reference GitHub concepts appropriately","Link to relevant documentation when helpful"],chat:["Be concise in comments","Format code snippets properly","Summarize technical points clearly"],post:["Structure longer responses with clear headings","Use code blocks with syntax highlighting","Link to specific lines of code when relevant"]},settings:{secrets:{}}}},{id:"instagram-agent",label:"Instagram Content Manager",description:"Creates and manages content for Instagram",template:{name:"Instagram Manager",username:"instagrammgr",system:"You are an Instagram content specialist designed to help create and manage engaging Instagram presence. You assist with content creation, caption writing, hashtag strategy, engagement tactics, and understanding analytics. Your approach emphasizes visual storytelling, authenticity, and building connections with followers. Maintain a voice that matches the brand identity while adapting to Instagram's evolving features and trends.",bio:["Instagram content creation specialist","Develops engaging visual storytelling","Optimizes profile engagement"],topics:["Content creation","Caption writing","Hashtag strategy","Engagement tactics","Visual aesthetics"],adjectives:["Creative","Visual","Engaging","Trend-aware","Authentic"],plugins:["@elizaos/plugin-sql","@elizaos/plugin-openai","@elizaos/plugin-bootstrap","@elizaos/plugin-instagram"],style:{all:["Balance visual description with compelling text","Maintain brand voice consistency","Consider current platform trends"],chat:["Provide actionable content suggestions","Reference visual elements clearly","Include relevant hashtag recommendations"],post:["Craft captions that enhance visual content","Suggest content series and themes","Balance promotional with authentic content"]},settings:{POST_INTERVAL_MIN:90,POST_INTERVAL_MAX:180,ENABLE_ACTION_PROCESSING:!0,ACTION_INTERVAL:5,MAX_ACTIONS_PROCESSING:1,secrets:{}}}}];function e7(e){return Y_.find(t=>t.id===e)}i(e7,"getTemplateById");const mv=SC,cT=MC,t7=J.forwardRef(({className:e,...t},r)=>j.jsx(W5,{className:Le("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));t7.displayName=W5.displayName;const Cf=J.forwardRef(({className:e,...t},r)=>j.jsxs(cT,{children:[j.jsx(t7,{}),j.jsx(H5,{ref:r,className:Le("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Cf.displayName=H5.displayName;const Rf=i(({className:e,...t})=>j.jsx("div",{className:Le("flex flex-col space-y-2 text-center sm:text-left",e),...t}),"AlertDialogHeader");Rf.displayName="AlertDialogHeader";const Of=i(({className:e,...t})=>j.jsx("div",{className:Le("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t}),"AlertDialogFooter");Of.displayName="AlertDialogFooter";const Tf=J.forwardRef(({className:e,...t},r)=>j.jsx(J5,{ref:r,className:Le("text-lg font-semibold",e),...t}));Tf.displayName=J5.displayName;const Pf=J.forwardRef(({className:e,...t},r)=>j.jsx(q5,{ref:r,className:Le("text-sm text-muted-foreground",e),...t}));Pf.displayName=q5.displayName;const Df=J.forwardRef(({className:e,...t},r)=>j.jsx(X5,{ref:r,className:Le(fv(),e),...t}));Df.displayName=X5.displayName;const Lf=J.forwardRef(({className:e,...t},r)=>j.jsx(K5,{ref:r,className:Le(fv({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Lf.displayName=K5.displayName;function dT({open:e,onOpenChange:t,missingSecrets:r,onConfirm:a,onCancel:n}){return j.jsx(mv,{open:e,onOpenChange:t,children:j.jsxs(Cf,{children:[j.jsxs(Rf,{children:[j.jsxs(Tf,{className:"flex items-center gap-2",children:[j.jsx(fi,{className:"h-5 w-5 text-yellow-500"}),"Missing Required Configuration"]}),j.jsxs(Pf,{className:"space-y-3",children:[j.jsx("p",{children:"The following required secrets are missing or empty. Your agent may not function properly without these values."}),j.jsx("div",{className:"bg-muted rounded-md p-3 space-y-2",children:r.map(s=>j.jsxs("div",{className:"text-sm",children:[j.jsx("code",{className:"font-mono font-semibold",children:s.name}),s.plugin&&j.jsxs("span",{className:"text-muted-foreground ml-2",children:["(required by ",s.plugin,")"]}),s.description&&j.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:s.description})]},s.name))}),j.jsx("p",{className:"text-sm",children:"Do you want to save anyway?"})]})]}),j.jsxs(Of,{children:[j.jsx(Lf,{onClick:n,children:"Go Back"}),j.jsx(Df,{onClick:a,className:"bg-yellow-600 hover:bg-yellow-700",children:"Save Anyway"})]})]})})}i(dT,"MissingSecretsDialog");var It={},Al={exports:{}},jl={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var Ly;function jt(){return Ly||(Ly=1,(function(e,t){var r=Vn(),a=r.Buffer;function n(o,h){for(var p in o)h[p]=o[p]}i(n,"copyProps"),a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?e.exports=r:(n(r,t),t.Buffer=s);function s(o,h,p){return a(o,h,p)}i(s,"SafeBuffer"),s.prototype=Object.create(a.prototype),n(a,s),s.from=function(o,h,p){if(typeof o=="number")throw new TypeError("Argument must not be a number");return a(o,h,p)},s.alloc=function(o,h,p){if(typeof o!="number")throw new TypeError("Argument must be a number");var v=a(o);return h!==void 0?typeof p=="string"?v.fill(h,p):v.fill(h):v.fill(0),v},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return a(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}})(jl,jl.exports)),jl.exports}i(jt,"requireSafeBuffer$2");var By;function ys(){if(By)return Al.exports;By=1;var e=65536,t=4294967295;function r(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}i(r,"oldBrowser");var a=jt().Buffer,n=globalThis.crypto||globalThis.msCrypto;n&&n.getRandomValues?Al.exports=s:Al.exports=r;function s(o,h){if(o>t)throw new RangeError("requested too many random bytes");var p=a.allocUnsafe(o);if(o>0)if(o>e)for(var v=0;v<o;v+=e)n.getRandomValues(p.slice(v,v+e));else n.getRandomValues(p);return typeof h=="function"?process.nextTick(function(){h(null,p)}):p}return i(s,"randomBytes"),Al.exports}i(ys,"requireBrowser$b");var Nl={exports:{}},zy;function Lt(){return zy||(zy=1,typeof Object.create=="function"?Nl.exports=i(function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))},"inherits"):Nl.exports=i(function(t,r){if(r){t.super_=r;var a=i(function(){},"TempCtor");a.prototype=r.prototype,t.prototype=new a,t.prototype.constructor=t}},"inherits")),Nl.exports}i(Lt,"requireInherits_browser");const hT={},pT=Object.freeze(Object.defineProperty({__proto__:null,default:hT},Symbol.toStringTag,{value:"Module"})),ji=EC(pT);var Wc,Uy;function mT(){if(Uy)return Wc;Uy=1;var e=jt().Buffer,t=ji.Transform,r=Lt();function a(h){t.call(this),this._block=e.allocUnsafe(h),this._blockSize=h,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}i(a,"HashBase"),r(a,t),a.prototype._transform=function(h,p,v){var c=null;try{this.update(h,p)}catch(d){c=d}v(c)},a.prototype._flush=function(h){var p=null;try{this.push(this.digest())}catch(v){p=v}h(p)};var n=typeof Uint8Array<"u",s=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&ArrayBuffer.isView&&(e.prototype instanceof Uint8Array||e.TYPED_ARRAY_SUPPORT);function o(h,p){if(h instanceof e)return h;if(typeof h=="string")return e.from(h,p);if(s&&ArrayBuffer.isView(h)){if(h.byteLength===0)return e.alloc(0);var v=e.from(h.buffer,h.byteOffset,h.byteLength);if(v.byteLength===h.byteLength)return v}if(n&&h instanceof Uint8Array||e.isBuffer(h)&&h.constructor&&typeof h.constructor.isBuffer=="function"&&h.constructor.isBuffer(h))return e.from(h);throw new TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.')}return i(o,"toBuffer"),a.prototype.update=function(h,p){if(this._finalized)throw new Error("Digest already called");h=o(h,p);for(var v=this._block,c=0;this._blockOffset+h.length-c>=this._blockSize;){for(var d=this._blockOffset;d<this._blockSize;)v[d++]=h[c++];this._update(),this._blockOffset=0}for(;c<h.length;)v[this._blockOffset++]=h[c++];for(var y=0,b=h.length*8;b>0;++y)this._length[y]+=b,b=this._length[y]/4294967296|0,b>0&&(this._length[y]-=4294967296*b);return this},a.prototype._update=function(){throw new Error("_update is not implemented")},a.prototype.digest=function(h){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var p=this._digest();h!==void 0&&(p=p.toString(h)),this._block.fill(0),this._blockOffset=0;for(var v=0;v<4;++v)this._length[v]=0;return p},a.prototype._digest=function(){throw new Error("_digest is not implemented")},Wc=a,Wc}i(mT,"requireHashBase$1");var Qc,Fy;function gv(){if(Fy)return Qc;Fy=1;var e=Lt(),t=mT(),r=jt().Buffer,a=new Array(16);function n(){t.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}i(n,"MD5"),e(n,t),n.prototype._update=function(){for(var c=a,d=0;d<16;++d)c[d]=this._block.readInt32LE(d*4);var y=this._a,b=this._b,x=this._c,k=this._d;y=o(y,b,x,k,c[0],3614090360,7),k=o(k,y,b,x,c[1],3905402710,12),x=o(x,k,y,b,c[2],606105819,17),b=o(b,x,k,y,c[3],3250441966,22),y=o(y,b,x,k,c[4],4118548399,7),k=o(k,y,b,x,c[5],1200080426,12),x=o(x,k,y,b,c[6],2821735955,17),b=o(b,x,k,y,c[7],4249261313,22),y=o(y,b,x,k,c[8],1770035416,7),k=o(k,y,b,x,c[9],2336552879,12),x=o(x,k,y,b,c[10],4294925233,17),b=o(b,x,k,y,c[11],2304563134,22),y=o(y,b,x,k,c[12],1804603682,7),k=o(k,y,b,x,c[13],4254626195,12),x=o(x,k,y,b,c[14],2792965006,17),b=o(b,x,k,y,c[15],1236535329,22),y=h(y,b,x,k,c[1],4129170786,5),k=h(k,y,b,x,c[6],3225465664,9),x=h(x,k,y,b,c[11],643717713,14),b=h(b,x,k,y,c[0],3921069994,20),y=h(y,b,x,k,c[5],3593408605,5),k=h(k,y,b,x,c[10],38016083,9),x=h(x,k,y,b,c[15],3634488961,14),b=h(b,x,k,y,c[4],3889429448,20),y=h(y,b,x,k,c[9],568446438,5),k=h(k,y,b,x,c[14],3275163606,9),x=h(x,k,y,b,c[3],4107603335,14),b=h(b,x,k,y,c[8],1163531501,20),y=h(y,b,x,k,c[13],2850285829,5),k=h(k,y,b,x,c[2],4243563512,9),x=h(x,k,y,b,c[7],1735328473,14),b=h(b,x,k,y,c[12],2368359562,20),y=p(y,b,x,k,c[5],4294588738,4),k=p(k,y,b,x,c[8],2272392833,11),x=p(x,k,y,b,c[11],1839030562,16),b=p(b,x,k,y,c[14],4259657740,23),y=p(y,b,x,k,c[1],2763975236,4),k=p(k,y,b,x,c[4],1272893353,11),x=p(x,k,y,b,c[7],4139469664,16),b=p(b,x,k,y,c[10],3200236656,23),y=p(y,b,x,k,c[13],681279174,4),k=p(k,y,b,x,c[0],3936430074,11),x=p(x,k,y,b,c[3],3572445317,16),b=p(b,x,k,y,c[6],76029189,23),y=p(y,b,x,k,c[9],3654602809,4),k=p(k,y,b,x,c[12],3873151461,11),x=p(x,k,y,b,c[15],530742520,16),b=p(b,x,k,y,c[2],3299628645,23),y=v(y,b,x,k,c[0],4096336452,6),k=v(k,y,b,x,c[7],1126891415,10),x=v(x,k,y,b,c[14],2878612391,15),b=v(b,x,k,y,c[5],4237533241,21),y=v(y,b,x,k,c[12],1700485571,6),k=v(k,y,b,x,c[3],2399980690,10),x=v(x,k,y,b,c[10],4293915773,15),b=v(b,x,k,y,c[1],2240044497,21),y=v(y,b,x,k,c[8],1873313359,6),k=v(k,y,b,x,c[15],4264355552,10),x=v(x,k,y,b,c[6],2734768916,15),b=v(b,x,k,y,c[13],1309151649,21),y=v(y,b,x,k,c[4],4149444226,6),k=v(k,y,b,x,c[11],3174756917,10),x=v(x,k,y,b,c[2],718787259,15),b=v(b,x,k,y,c[9],3951481745,21),this._a=this._a+y|0,this._b=this._b+b|0,this._c=this._c+x|0,this._d=this._d+k|0},n.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var c=r.allocUnsafe(16);return c.writeInt32LE(this._a,0),c.writeInt32LE(this._b,4),c.writeInt32LE(this._c,8),c.writeInt32LE(this._d,12),c};function s(c,d){return c<<d|c>>>32-d}i(s,"rotl");function o(c,d,y,b,x,k,N){return s(c+(d&y|~d&b)+x+k|0,N)+d|0}i(o,"fnF");function h(c,d,y,b,x,k,N){return s(c+(d&b|y&~b)+x+k|0,N)+d|0}i(h,"fnG");function p(c,d,y,b,x,k,N){return s(c+(d^y^b)+x+k|0,N)+d|0}i(p,"fnH");function v(c,d,y,b,x,k,N){return s(c+(y^(d|~b))+x+k|0,N)+d|0}return i(v,"fnI"),Qc=n,Qc}i(gv,"requireMd5_js");var Yc,$y;function gT(){if($y)return Yc;$y=1;var e={}.toString;return Yc=Array.isArray||function(t){return e.call(t)=="[object Array]"},Yc}i(gT,"requireIsarray$1");var ed,Gy;function Qo(){return Gy||(Gy=1,ed=TypeError),ed}i(Qo,"requireType");var td,Vy;function r7(){return Vy||(Vy=1,td=Object),td}i(r7,"requireEsObjectAtoms");var rd,Zy;function vT(){return Zy||(Zy=1,rd=Error),rd}i(vT,"requireEsErrors");var id,Hy;function bT(){return Hy||(Hy=1,id=EvalError),id}i(bT,"require_eval");var nd,Jy;function yT(){return Jy||(Jy=1,nd=RangeError),nd}i(yT,"requireRange$1");var ad,qy;function wT(){return qy||(qy=1,ad=ReferenceError),ad}i(wT,"requireRef");var sd,Ky;function i7(){return Ky||(Ky=1,sd=SyntaxError),sd}i(i7,"requireSyntax");var od,Xy;function xT(){return Xy||(Xy=1,od=URIError),od}i(xT,"requireUri");var ld,Wy;function _T(){return Wy||(Wy=1,ld=Math.abs),ld}i(_T,"requireAbs");var ud,Qy;function ST(){return Qy||(Qy=1,ud=Math.floor),ud}i(ST,"requireFloor");var fd,Yy;function MT(){return Yy||(Yy=1,fd=Math.max),fd}i(MT,"requireMax");var cd,e2;function ET(){return e2||(e2=1,cd=Math.min),cd}i(ET,"requireMin");var dd,t2;function kT(){return t2||(t2=1,dd=Math.pow),dd}i(kT,"requirePow");var hd,r2;function AT(){return r2||(r2=1,hd=Math.round),hd}i(AT,"requireRound");var pd,i2;function jT(){return i2||(i2=1,pd=Number.isNaN||i(function(t){return t!==t},"isNaN")),pd}i(jT,"require_isNaN");var md,n2;function NT(){if(n2)return md;n2=1;var e=jT();return md=i(function(r){return e(r)||r===0?r:r<0?-1:1},"sign"),md}i(NT,"requireSign$1");var gd,a2;function IT(){return a2||(a2=1,gd=Object.getOwnPropertyDescriptor),gd}i(IT,"requireGOPD");var vd,s2;function Yo(){if(s2)return vd;s2=1;var e=IT();if(e)try{e([],"length")}catch{e=null}return vd=e,vd}i(Yo,"requireGopd");var bd,o2;function Bf(){if(o2)return bd;o2=1;var e=Object.defineProperty||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return bd=e,bd}i(Bf,"requireEsDefineProperty");var yd,l2;function n7(){return l2||(l2=1,yd=i(function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),a=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(a)!=="[object Symbol]")return!1;var n=42;t[r]=n;for(var s in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var o=Object.getOwnPropertySymbols(t);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var h=Object.getOwnPropertyDescriptor(t,r);if(h.value!==n||h.enumerable!==!0)return!1}return!0},"hasSymbols")),yd}i(n7,"requireShams$1");var wd,u2;function CT(){if(u2)return wd;u2=1;var e=typeof Symbol<"u"&&Symbol,t=n7();return wd=i(function(){return typeof e!="function"||typeof Symbol!="function"||typeof e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},"hasNativeSymbols"),wd}i(CT,"requireHasSymbols");var xd,f2;function a7(){return f2||(f2=1,xd=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),xd}i(a7,"requireReflect_getPrototypeOf");var _d,c2;function s7(){if(c2)return _d;c2=1;var e=r7();return _d=e.getPrototypeOf||null,_d}i(s7,"requireObject_getPrototypeOf");var Sd,d2;function RT(){if(d2)return Sd;d2=1;var e="Function.prototype.bind called on incompatible ",t=Object.prototype.toString,r=Math.max,a="[object Function]",n=i(function(p,v){for(var c=[],d=0;d<p.length;d+=1)c[d]=p[d];for(var y=0;y<v.length;y+=1)c[y+p.length]=v[y];return c},"concatty"),s=i(function(p,v){for(var c=[],d=v,y=0;d<p.length;d+=1,y+=1)c[y]=p[d];return c},"slicy"),o=i(function(h,p){for(var v="",c=0;c<h.length;c+=1)v+=h[c],c+1<h.length&&(v+=p);return v},"joiny");return Sd=i(function(p){var v=this;if(typeof v!="function"||t.apply(v)!==a)throw new TypeError(e+v);for(var c=s(arguments,1),d,y=i(function(){if(this instanceof d){var C=v.apply(this,n(c,arguments));return Object(C)===C?C:this}return v.apply(p,n(c,arguments))},"binder"),b=r(0,v.length-c.length),x=[],k=0;k<b;k++)x[k]="$"+k;if(d=Function("binder","return function ("+o(x,",")+"){ return binder.apply(this,arguments); }")(y),v.prototype){var N=i(function(){},"Empty");N.prototype=v.prototype,d.prototype=new N,N.prototype=null}return d},"bind"),Sd}i(RT,"requireImplementation");var Md,h2;function el(){if(h2)return Md;h2=1;var e=RT();return Md=Function.prototype.bind||e,Md}i(el,"requireFunctionBind");var Ed,p2;function vv(){return p2||(p2=1,Ed=Function.prototype.call),Ed}i(vv,"requireFunctionCall");var kd,m2;function bv(){return m2||(m2=1,kd=Function.prototype.apply),kd}i(bv,"requireFunctionApply");var Ad,g2;function OT(){return g2||(g2=1,Ad=typeof Reflect<"u"&&Reflect&&Reflect.apply),Ad}i(OT,"requireReflectApply");var jd,v2;function o7(){if(v2)return jd;v2=1;var e=el(),t=bv(),r=vv(),a=OT();return jd=a||e.call(r,t),jd}i(o7,"requireActualApply");var Nd,b2;function yv(){if(b2)return Nd;b2=1;var e=el(),t=Qo(),r=vv(),a=o7();return Nd=i(function(s){if(s.length<1||typeof s[0]!="function")throw new t("a function is required");return a(e,r,s)},"callBindBasic"),Nd}i(yv,"requireCallBindApplyHelpers");var Id,y2;function TT(){if(y2)return Id;y2=1;var e=yv(),t=Yo(),r;try{r=[].__proto__===Array.prototype}catch(o){if(!o||typeof o!="object"||!("code"in o)||o.code!=="ERR_PROTO_ACCESS")throw o}var a=!!r&&t&&t(Object.prototype,"__proto__"),n=Object,s=n.getPrototypeOf;return Id=a&&typeof a.get=="function"?e([a.get]):typeof s=="function"?i(function(h){return s(h==null?h:n(h))},"getDunder"):!1,Id}i(TT,"requireGet");var Cd,w2;function l7(){if(w2)return Cd;w2=1;var e=a7(),t=s7(),r=TT();return Cd=e?i(function(n){return e(n)},"getProto"):t?i(function(n){if(!n||typeof n!="object"&&typeof n!="function")throw new TypeError("getProto: not an object");return t(n)},"getProto"):r?i(function(n){return r(n)},"getProto"):null,Cd}i(l7,"requireGetProto");var Rd,x2;function PT(){if(x2)return Rd;x2=1;var e=Function.prototype.call,t=Object.prototype.hasOwnProperty,r=el();return Rd=r.call(e,t),Rd}i(PT,"requireHasown");var Od,_2;function u7(){if(_2)return Od;_2=1;var e,t=r7(),r=vT(),a=bT(),n=yT(),s=wT(),o=i7(),h=Qo(),p=xT(),v=_T(),c=ST(),d=MT(),y=ET(),b=kT(),x=AT(),k=NT(),N=Function,C=i(function(H){try{return N('"use strict"; return ('+H+").constructor;")()}catch{}},"getEvalledConstructor"),R=Yo(),O=Bf(),T=i(function(){throw new h},"throwTypeError"),P=R?(function(){try{return arguments.callee,T}catch{try{return R(arguments,"callee").get}catch{return T}}})():T,z=CT()(),V=l7(),Z=s7(),ee=a7(),$=bv(),F=vv(),u={},g=typeof Uint8Array>"u"||!V?e:V(Uint8Array),l={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?e:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?e:ArrayBuffer,"%ArrayIteratorPrototype%":z&&V?V([][Symbol.iterator]()):e,"%AsyncFromSyncIteratorPrototype%":e,"%AsyncFunction%":u,"%AsyncGenerator%":u,"%AsyncGeneratorFunction%":u,"%AsyncIteratorPrototype%":u,"%Atomics%":typeof Atomics>"u"?e:Atomics,"%BigInt%":typeof BigInt>"u"?e:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?e:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?e:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":r,"%eval%":eval,"%EvalError%":a,"%Float16Array%":typeof Float16Array>"u"?e:Float16Array,"%Float32Array%":typeof Float32Array>"u"?e:Float32Array,"%Float64Array%":typeof Float64Array>"u"?e:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?e:FinalizationRegistry,"%Function%":N,"%GeneratorFunction%":u,"%Int8Array%":typeof Int8Array>"u"?e:Int8Array,"%Int16Array%":typeof Int16Array>"u"?e:Int16Array,"%Int32Array%":typeof Int32Array>"u"?e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":z&&V?V(V([][Symbol.iterator]())):e,"%JSON%":typeof JSON=="object"?JSON:e,"%Map%":typeof Map>"u"?e:Map,"%MapIteratorPrototype%":typeof Map>"u"||!z||!V?e:V(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":t,"%Object.getOwnPropertyDescriptor%":R,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?e:Promise,"%Proxy%":typeof Proxy>"u"?e:Proxy,"%RangeError%":n,"%ReferenceError%":s,"%Reflect%":typeof Reflect>"u"?e:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?e:Set,"%SetIteratorPrototype%":typeof Set>"u"||!z||!V?e:V(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":z&&V?V(""[Symbol.iterator]()):e,"%Symbol%":z?Symbol:e,"%SyntaxError%":o,"%ThrowTypeError%":P,"%TypedArray%":g,"%TypeError%":h,"%Uint8Array%":typeof Uint8Array>"u"?e:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?e:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?e:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?e:Uint32Array,"%URIError%":p,"%WeakMap%":typeof WeakMap>"u"?e:WeakMap,"%WeakRef%":typeof WeakRef>"u"?e:WeakRef,"%WeakSet%":typeof WeakSet>"u"?e:WeakSet,"%Function.prototype.call%":F,"%Function.prototype.apply%":$,"%Object.defineProperty%":O,"%Object.getPrototypeOf%":Z,"%Math.abs%":v,"%Math.floor%":c,"%Math.max%":d,"%Math.min%":y,"%Math.pow%":b,"%Math.round%":x,"%Math.sign%":k,"%Reflect.getPrototypeOf%":ee};if(V)try{null.error}catch(H){var m=V(V(H));l["%Error.prototype%"]=m}var w=i(function H(K){var _e;if(K==="%AsyncFunction%")_e=C("async function () {}");else if(K==="%GeneratorFunction%")_e=C("function* () {}");else if(K==="%AsyncGeneratorFunction%")_e=C("async function* () {}");else if(K==="%AsyncGenerator%"){var ae=H("%AsyncGeneratorFunction%");ae&&(_e=ae.prototype)}else if(K==="%AsyncIteratorPrototype%"){var se=H("%AsyncGenerator%");se&&V&&(_e=V(se.prototype))}return l[K]=_e,_e},"doEval"),M={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},A=el(),S=PT(),f=A.call(F,Array.prototype.concat),_=A.call($,Array.prototype.splice),E=A.call(F,String.prototype.replace),I=A.call(F,String.prototype.slice),D=A.call(F,RegExp.prototype.exec),L=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,U=/\\(\\)?/g,B=i(function(K){var _e=I(K,0,1),ae=I(K,-1);if(_e==="%"&&ae!=="%")throw new o("invalid intrinsic syntax, expected closing `%`");if(ae==="%"&&_e!=="%")throw new o("invalid intrinsic syntax, expected opening `%`");var se=[];return E(K,L,function(ye,q,re,X){se[se.length]=re?E(X,U,"$1"):q||ye}),se},"stringToPath"),G=i(function(K,_e){var ae=K,se;if(S(M,ae)&&(se=M[ae],ae="%"+se[0]+"%"),S(l,ae)){var ye=l[ae];if(ye===u&&(ye=w(ae)),typeof ye>"u"&&!_e)throw new h("intrinsic "+K+" exists, but is not available. Please file an issue!");return{alias:se,name:ae,value:ye}}throw new o("intrinsic "+K+" does not exist!")},"getBaseIntrinsic");return Od=i(function(K,_e){if(typeof K!="string"||K.length===0)throw new h("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof _e!="boolean")throw new h('"allowMissing" argument must be a boolean');if(D(/^%?[^%]*%?$/,K)===null)throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var ae=B(K),se=ae.length>0?ae[0]:"",ye=G("%"+se+"%",_e),q=ye.name,re=ye.value,X=!1,W=ye.alias;W&&(se=W[0],_(ae,f([0,1],W)));for(var le=1,ke=!0;le<ae.length;le+=1){var pe=ae[le],fe=I(pe,0,1),Q=I(pe,-1);if((fe==='"'||fe==="'"||fe==="`"||Q==='"'||Q==="'"||Q==="`")&&fe!==Q)throw new o("property names with quotes must have matching quotes");if((pe==="constructor"||!ke)&&(X=!0),se+="."+pe,q="%"+se+"%",S(l,q))re=l[q];else if(re!=null){if(!(pe in re)){if(!_e)throw new h("base intrinsic for "+K+" exists, but the property is not available.");return}if(R&&le+1>=ae.length){var Y=R(re,pe);ke=!!Y,ke&&"get"in Y&&!("originalValue"in Y.get)?re=Y.get:re=re[pe]}else ke=S(re,pe),re=re[pe];ke&&!X&&(l[q]=re)}}return re},"GetIntrinsic"),Od}i(u7,"requireGetIntrinsic");var Td,S2;function f7(){if(S2)return Td;S2=1;var e=u7(),t=yv(),r=t([e("%String.prototype.indexOf%")]);return Td=i(function(n,s){var o=e(n,!!s);return typeof o=="function"&&r(n,".prototype.")>-1?t([o]):o},"callBoundIntrinsic"),Td}i(f7,"requireCallBound");var Pd,M2;function DT(){if(M2)return Pd;M2=1;var e=Function.prototype.toString,t=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,r,a;if(typeof t=="function"&&typeof Object.defineProperty=="function")try{r=Object.defineProperty({},"length",{get:i(function(){throw a},"get")}),a={},t(function(){throw 42},null,r)}catch(R){R!==a&&(t=null)}else t=null;var n=/^\s*class\b/,s=i(function(O){try{var T=e.call(O);return n.test(T)}catch{return!1}},"isES6ClassFunction"),o=i(function(O){try{return s(O)?!1:(e.call(O),!0)}catch{return!1}},"tryFunctionToStr"),h=Object.prototype.toString,p="[object Object]",v="[object Function]",c="[object GeneratorFunction]",d="[object HTMLAllCollection]",y="[object HTML document.all class]",b="[object HTMLCollection]",x=typeof Symbol=="function"&&!!Symbol.toStringTag,k=!(0 in[,]),N=i(function(){return!1},"isDocumentDotAll");if(typeof document=="object"){var C=document.all;h.call(C)===h.call(document.all)&&(N=i(function(O){if((k||!O)&&(typeof O>"u"||typeof O=="object"))try{var T=h.call(O);return(T===d||T===y||T===b||T===p)&&O("")==null}catch{}return!1},"isDocumentDotAll2"))}return Pd=t?i(function(O){if(N(O))return!0;if(!O||typeof O!="function"&&typeof O!="object")return!1;try{t(O,null,r)}catch(T){if(T!==a)return!1}return!s(O)&&o(O)},"isCallable"):i(function(O){if(N(O))return!0;if(!O||typeof O!="function"&&typeof O!="object")return!1;if(x)return o(O);if(s(O))return!1;var T=h.call(O);return T!==v&&T!==c&&!/^\[object HTML/.test(T)?!1:o(O)},"isCallable2"),Pd}i(DT,"requireIsCallable");var Dd,E2;function LT(){if(E2)return Dd;E2=1;var e=DT(),t=Object.prototype.toString,r=Object.prototype.hasOwnProperty,a=i(function(p,v,c){for(var d=0,y=p.length;d<y;d++)r.call(p,d)&&(c==null?v(p[d],d,p):v.call(c,p[d],d,p))},"forEachArray"),n=i(function(p,v,c){for(var d=0,y=p.length;d<y;d++)c==null?v(p.charAt(d),d,p):v.call(c,p.charAt(d),d,p)},"forEachString"),s=i(function(p,v,c){for(var d in p)r.call(p,d)&&(c==null?v(p[d],d,p):v.call(c,p[d],d,p))},"forEachObject");function o(h){return t.call(h)==="[object Array]"}return i(o,"isArray"),Dd=i(function(p,v,c){if(!e(v))throw new TypeError("iterator must be a function");var d;arguments.length>=3&&(d=c),o(p)?a(p,v,d):typeof p=="string"?n(p,v,d):s(p,v,d)},"forEach"),Dd}i(LT,"requireForEach");var Ld,k2;function BT(){return k2||(k2=1,Ld=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),Ld}i(BT,"requirePossibleTypedArrayNames");var Bd,A2;function zT(){if(A2)return Bd;A2=1;var e=BT(),t=globalThis;return Bd=i(function(){for(var a=[],n=0;n<e.length;n++)typeof t[e[n]]=="function"&&(a[a.length]=e[n]);return a},"availableTypedArrays"),Bd}i(zT,"requireAvailableTypedArrays");var zd={exports:{}},Ud,j2;function UT(){if(j2)return Ud;j2=1;var e=Bf(),t=i7(),r=Qo(),a=Yo();return Ud=i(function(s,o,h){if(!s||typeof s!="object"&&typeof s!="function")throw new r("`obj` must be an object or a function`");if(typeof o!="string"&&typeof o!="symbol")throw new r("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new r("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new r("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new r("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new r("`loose`, if provided, must be a boolean");var p=arguments.length>3?arguments[3]:null,v=arguments.length>4?arguments[4]:null,c=arguments.length>5?arguments[5]:null,d=arguments.length>6?arguments[6]:!1,y=!!a&&a(s,o);if(e)e(s,o,{configurable:c===null&&y?y.configurable:!c,enumerable:p===null&&y?y.enumerable:!p,value:h,writable:v===null&&y?y.writable:!v});else if(d||!p&&!v&&!c)s[o]=h;else throw new t("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},"defineDataProperty"),Ud}i(UT,"requireDefineDataProperty");var Fd,N2;function FT(){if(N2)return Fd;N2=1;var e=Bf(),t=i(function(){return!!e},"hasPropertyDescriptors");return t.hasArrayLengthDefineBug=i(function(){if(!e)return null;try{return e([],"length",{value:1}).length!==1}catch{return!0}},"hasArrayLengthDefineBug"),Fd=t,Fd}i(FT,"requireHasPropertyDescriptors");var $d,I2;function $T(){if(I2)return $d;I2=1;var e=u7(),t=UT(),r=FT()(),a=Yo(),n=Qo(),s=e("%Math.floor%");return $d=i(function(h,p){if(typeof h!="function")throw new n("`fn` is not a function");if(typeof p!="number"||p<0||p>4294967295||s(p)!==p)throw new n("`length` must be a positive 32-bit integer");var v=arguments.length>2&&!!arguments[2],c=!0,d=!0;if("length"in h&&a){var y=a(h,"length");y&&!y.configurable&&(c=!1),y&&!y.writable&&(d=!1)}return(c||d||!v)&&(r?t(h,"length",p,!0,!0):t(h,"length",p)),h},"setFunctionLength"),$d}i($T,"requireSetFunctionLength");var Gd,C2;function GT(){if(C2)return Gd;C2=1;var e=el(),t=bv(),r=o7();return Gd=i(function(){return r(e,t,arguments)},"applyBind"),Gd}i(GT,"requireApplyBind");var R2;function VT(){return R2||(R2=1,(function(e){var t=$T(),r=Bf(),a=yv(),n=GT();e.exports=i(function(o){var h=a(arguments),p=o.length-(arguments.length-1);return t(h,1+(p>0?p:0),!0)},"callBind"),r?r(e.exports,"apply",{value:n}):e.exports.apply=n})(zd)),zd.exports}i(VT,"requireCallBind");var Vd,O2;function ZT(){if(O2)return Vd;O2=1;var e=n7();return Vd=i(function(){return e()&&!!Symbol.toStringTag},"hasToStringTagShams"),Vd}i(ZT,"requireShams");var Zd,T2;function HT(){if(T2)return Zd;T2=1;var e=LT(),t=zT(),r=VT(),a=f7(),n=Yo(),s=l7(),o=a("Object.prototype.toString"),h=ZT()(),p=globalThis,v=t(),c=a("String.prototype.slice"),d=a("Array.prototype.indexOf",!0)||i(function(N,C){for(var R=0;R<N.length;R+=1)if(N[R]===C)return R;return-1},"indexOf"),y={__proto__:null};h&&n&&s?e(v,function(k){var N=new p[k];if(Symbol.toStringTag in N&&s){var C=s(N),R=n(C,Symbol.toStringTag);if(!R&&C){var O=s(C);R=n(O,Symbol.toStringTag)}y["$"+k]=r(R.get)}}):e(v,function(k){var N=new p[k],C=N.slice||N.set;C&&(y["$"+k]=r(C))});var b=i(function(N){var C=!1;return e(y,function(R,O){if(!C)try{"$"+R(N)===O&&(C=c(O,1))}catch{}}),C},"tryAllTypedArrays"),x=i(function(N){var C=!1;return e(y,function(R,O){if(!C)try{R(N),C=c(O,1)}catch{}}),C},"tryAllSlices");return Zd=i(function(N){if(!N||typeof N!="object")return!1;if(!h){var C=c(o(N),8,-1);return d(v,C)>-1?C:C!=="Object"?!1:x(N)}return n?b(N):null},"whichTypedArray"),Zd}i(HT,"requireWhichTypedArray");var Hd,P2;function JT(){if(P2)return Hd;P2=1;var e=HT();return Hd=i(function(r){return!!e(r)},"isTypedArray"),Hd}i(JT,"requireIsTypedArray");var Jd,D2;function qT(){if(D2)return Jd;D2=1;var e=Qo(),t=f7(),r=t("TypedArray.prototype.buffer",!0),a=JT();return Jd=r||i(function(s){if(!a(s))throw new e("Not a Typed Array");return s.buffer},"typedArrayBuffer"),Jd}i(qT,"requireTypedArrayBuffer");var qd,L2;function zf(){if(L2)return qd;L2=1;var e=jt().Buffer,t=gT(),r=qT(),a=ArrayBuffer.isView||i(function(p){try{return r(p),!0}catch{return!1}},"isView"),n=typeof Uint8Array<"u",s=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",o=s&&(e.prototype instanceof Uint8Array||e.TYPED_ARRAY_SUPPORT);return qd=i(function(p,v){if(e.isBuffer(p))return p.constructor&&!("isBuffer"in p)?e.from(p):p;if(typeof p=="string")return e.from(p,v);if(s&&a(p)){if(p.byteLength===0)return e.alloc(0);if(o){var c=e.from(p.buffer,p.byteOffset,p.byteLength);if(c.byteLength===p.byteLength)return c}var d=p instanceof Uint8Array?p:new Uint8Array(p.buffer,p.byteOffset,p.byteLength),y=e.from(d);if(y.length===p.byteLength)return y}if(n&&p instanceof Uint8Array)return e.from(p);var b=t(p);if(b)for(var x=0;x<p.length;x+=1){var k=p[x];if(typeof k!="number"||k<0||k>255||~~k!==k)throw new RangeError("Array items must be numbers in the range 0-255.")}if(b||e.isBuffer(p)&&p.constructor&&typeof p.constructor.isBuffer=="function"&&p.constructor.isBuffer(p))return e.from(p);throw new TypeError('The "data" argument must be a string, an Array, a Buffer, a Uint8Array, or a DataView.')},"toBuffer"),qd}i(zf,"requireToBuffer$2");var Kd,B2;function KT(){if(B2)return Kd;B2=1;var e=jt().Buffer,t=zf(),r=typeof Uint8Array<"u",a=r&&typeof ArrayBuffer<"u",n=a&&ArrayBuffer.isView;return Kd=i(function(s,o){if(typeof s=="string"||e.isBuffer(s)||r&&s instanceof Uint8Array||n&&n(s))return t(s,o);throw new TypeError('The "data" argument must be a string, a Buffer, a Uint8Array, or a DataView')},"toBuffer_1$1"),Kd}i(KT,"requireToBuffer$1");var Il={exports:{}},Cl={exports:{}},z2;function Uf(){if(z2)return Cl.exports;z2=1,typeof process>"u"||!process.version||process.version.indexOf("v0.")===0||process.version.indexOf("v1.")===0&&process.version.indexOf("v1.8.")!==0?Cl.exports={nextTick:e}:Cl.exports=process;function e(t,r,a,n){if(typeof t!="function")throw new TypeError('"callback" argument must be a function');var s=arguments.length,o,h;switch(s){case 0:case 1:return process.nextTick(t);case 2:return process.nextTick(i(function(){t.call(null,r)},"afterTickOne"));case 3:return process.nextTick(i(function(){t.call(null,r,a)},"afterTickTwo"));case 4:return process.nextTick(i(function(){t.call(null,r,a,n)},"afterTickThree"));default:for(o=new Array(s-1),h=0;h<o.length;)o[h++]=arguments[h];return process.nextTick(i(function(){t.apply(null,o)},"afterTick"))}}return i(e,"nextTick"),Cl.exports}i(Uf,"requireProcessNextickArgs");var Xd,U2;function XT(){if(U2)return Xd;U2=1;var e={}.toString;return Xd=Array.isArray||function(t){return e.call(t)=="[object Array]"},Xd}i(XT,"requireIsarray");var Wd,F2;function c7(){return F2||(F2=1,Wd=ji.EventEmitter),Wd}i(c7,"requireStreamBrowser");var Rl={exports:{}},$2;function wv(){return $2||($2=1,(function(e,t){var r=Vn(),a=r.Buffer;function n(o,h){for(var p in o)h[p]=o[p]}i(n,"copyProps"),a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?e.exports=r:(n(r,t),t.Buffer=s);function s(o,h,p){return a(o,h,p)}i(s,"SafeBuffer"),n(a,s),s.from=function(o,h,p){if(typeof o=="number")throw new TypeError("Argument must not be a number");return a(o,h,p)},s.alloc=function(o,h,p){if(typeof o!="number")throw new TypeError("Argument must be a number");var v=a(o);return h!==void 0?typeof p=="string"?v.fill(h,p):v.fill(h):v.fill(0),v},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return a(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}})(Rl,Rl.exports)),Rl.exports}i(wv,"requireSafeBuffer$1");var _r={},G2;function tl(){if(G2)return _r;G2=1;function e(k){return Array.isArray?Array.isArray(k):x(k)==="[object Array]"}i(e,"isArray"),_r.isArray=e;function t(k){return typeof k=="boolean"}i(t,"isBoolean"),_r.isBoolean=t;function r(k){return k===null}i(r,"isNull"),_r.isNull=r;function a(k){return k==null}i(a,"isNullOrUndefined"),_r.isNullOrUndefined=a;function n(k){return typeof k=="number"}i(n,"isNumber"),_r.isNumber=n;function s(k){return typeof k=="string"}i(s,"isString"),_r.isString=s;function o(k){return typeof k=="symbol"}i(o,"isSymbol"),_r.isSymbol=o;function h(k){return k===void 0}i(h,"isUndefined"),_r.isUndefined=h;function p(k){return x(k)==="[object RegExp]"}i(p,"isRegExp"),_r.isRegExp=p;function v(k){return typeof k=="object"&&k!==null}i(v,"isObject"),_r.isObject=v;function c(k){return x(k)==="[object Date]"}i(c,"isDate"),_r.isDate=c;function d(k){return x(k)==="[object Error]"||k instanceof Error}i(d,"isError"),_r.isError=d;function y(k){return typeof k=="function"}i(y,"isFunction"),_r.isFunction=y;function b(k){return k===null||typeof k=="boolean"||typeof k=="number"||typeof k=="string"||typeof k=="symbol"||typeof k>"u"}i(b,"isPrimitive"),_r.isPrimitive=b,_r.isBuffer=Vn().Buffer.isBuffer;function x(k){return Object.prototype.toString.call(k)}return i(x,"objectToString"),_r}i(tl,"requireUtil$1");var Qd={exports:{}},V2;function WT(){return V2||(V2=1,(function(e){function t(s,o){if(!(s instanceof o))throw new TypeError("Cannot call a class as a function")}i(t,"_classCallCheck");var r=wv().Buffer,a=ji;function n(s,o,h){s.copy(o,h)}i(n,"copyBuffer"),e.exports=(function(){function s(){t(this,s),this.head=null,this.tail=null,this.length=0}return i(s,"BufferList"),s.prototype.push=i(function(h){var p={data:h,next:null};this.length>0?this.tail.next=p:this.head=p,this.tail=p,++this.length},"push"),s.prototype.unshift=i(function(h){var p={data:h,next:this.head};this.length===0&&(this.tail=p),this.head=p,++this.length},"unshift"),s.prototype.shift=i(function(){if(this.length!==0){var h=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,h}},"shift"),s.prototype.clear=i(function(){this.head=this.tail=null,this.length=0},"clear"),s.prototype.join=i(function(h){if(this.length===0)return"";for(var p=this.head,v=""+p.data;p=p.next;)v+=h+p.data;return v},"join"),s.prototype.concat=i(function(h){if(this.length===0)return r.alloc(0);for(var p=r.allocUnsafe(h>>>0),v=this.head,c=0;v;)n(v.data,p,c),c+=v.data.length,v=v.next;return p},"concat"),s})(),a&&a.inspect&&a.inspect.custom&&(e.exports.prototype[a.inspect.custom]=function(){var s=a.inspect({length:this.length});return this.constructor.name+" "+s})})(Qd)),Qd.exports}i(WT,"requireBufferList");var Yd,Z2;function d7(){if(Z2)return Yd;Z2=1;var e=Uf();function t(n,s){var o=this,h=this._readableState&&this._readableState.destroyed,p=this._writableState&&this._writableState.destroyed;return h||p?(s?s(n):n&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,e.nextTick(a,this,n)):e.nextTick(a,this,n)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(n||null,function(v){!s&&v?o._writableState?o._writableState.errorEmitted||(o._writableState.errorEmitted=!0,e.nextTick(a,o,v)):e.nextTick(a,o,v):s&&s(v)}),this)}i(t,"destroy");function r(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}i(r,"undestroy");function a(n,s){n.emit("error",s)}return i(a,"emitErrorNT"),Yd={destroy:t,undestroy:r},Yd}i(d7,"requireDestroy");var eh,H2;function QT(){if(H2)return eh;H2=1,eh=e;function e(r,a){if(t("noDeprecation"))return r;var n=!1;function s(){if(!n){if(t("throwDeprecation"))throw new Error(a);t("traceDeprecation")?console.trace(a):console.warn(a),n=!0}return r.apply(this,arguments)}return i(s,"deprecated"),s}i(e,"deprecate");function t(r){try{if(!globalThis.localStorage)return!1}catch{return!1}var a=globalThis.localStorage[r];return a==null?!1:String(a).toLowerCase()==="true"}return i(t,"config"),eh}i(QT,"requireBrowser$a");var th,J2;function h7(){if(J2)return th;J2=1;var e=Uf();th=k;function t(M){var A=this;this.next=null,this.entry=null,this.finish=function(){w(A,M)}}i(t,"CorkedRequest");var r=e.nextTick,a;k.WritableState=b;var n=Object.create(tl());n.inherits=Lt();var s={deprecate:QT()},o=c7(),h=wv().Buffer,p=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function v(M){return h.from(M)}i(v,"_uint8ArrayToBuffer");function c(M){return h.isBuffer(M)||M instanceof p}i(c,"_isUint8Array");var d=d7();n.inherits(k,o);function y(){}i(y,"nop");function b(M,A){a=a||ss(),M=M||{};var S=A instanceof a;this.objectMode=!!M.objectMode,S&&(this.objectMode=this.objectMode||!!M.writableObjectMode);var f=M.highWaterMark,_=M.writableHighWaterMark,E=this.objectMode?16:16*1024;f||f===0?this.highWaterMark=f:S&&(_||_===0)?this.highWaterMark=_:this.highWaterMark=E,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var I=M.decodeStrings===!1;this.decodeStrings=!I,this.defaultEncoding=M.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(D){V(A,D)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}i(b,"WritableState"),b.prototype.getBuffer=i(function(){for(var A=this.bufferedRequest,S=[];A;)S.push(A),A=A.next;return S},"getBuffer"),(function(){try{Object.defineProperty(b.prototype,"buffer",{get:s.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var x;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(x=Function.prototype[Symbol.hasInstance],Object.defineProperty(k,Symbol.hasInstance,{value:i(function(M){return x.call(this,M)?!0:this!==k?!1:M&&M._writableState instanceof b},"value")})):x=i(function(M){return M instanceof this},"realHasInstance");function k(M){if(a=a||ss(),!x.call(k,this)&&!(this instanceof a))return new k(M);this._writableState=new b(M,this),this.writable=!0,M&&(typeof M.write=="function"&&(this._write=M.write),typeof M.writev=="function"&&(this._writev=M.writev),typeof M.destroy=="function"&&(this._destroy=M.destroy),typeof M.final=="function"&&(this._final=M.final)),o.call(this)}i(k,"Writable"),k.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function N(M,A){var S=new Error("write after end");M.emit("error",S),e.nextTick(A,S)}i(N,"writeAfterEnd");function C(M,A,S,f){var _=!0,E=!1;return S===null?E=new TypeError("May not write null values to stream"):typeof S!="string"&&S!==void 0&&!A.objectMode&&(E=new TypeError("Invalid non-string/buffer chunk")),E&&(M.emit("error",E),e.nextTick(f,E),_=!1),_}i(C,"validChunk"),k.prototype.write=function(M,A,S){var f=this._writableState,_=!1,E=!f.objectMode&&c(M);return E&&!h.isBuffer(M)&&(M=v(M)),typeof A=="function"&&(S=A,A=null),E?A="buffer":A||(A=f.defaultEncoding),typeof S!="function"&&(S=y),f.ended?N(this,S):(E||C(this,f,M,S))&&(f.pendingcb++,_=O(this,f,E,M,A,S)),_},k.prototype.cork=function(){var M=this._writableState;M.corked++},k.prototype.uncork=function(){var M=this._writableState;M.corked&&(M.corked--,!M.writing&&!M.corked&&!M.bufferProcessing&&M.bufferedRequest&&$(this,M))},k.prototype.setDefaultEncoding=i(function(A){if(typeof A=="string"&&(A=A.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((A+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+A);return this._writableState.defaultEncoding=A,this},"setDefaultEncoding");function R(M,A,S){return!M.objectMode&&M.decodeStrings!==!1&&typeof A=="string"&&(A=h.from(A,S)),A}i(R,"decodeChunk"),Object.defineProperty(k.prototype,"writableHighWaterMark",{enumerable:!1,get:i(function(){return this._writableState.highWaterMark},"get")});function O(M,A,S,f,_,E){if(!S){var I=R(A,f,_);f!==I&&(S=!0,_="buffer",f=I)}var D=A.objectMode?1:f.length;A.length+=D;var L=A.length<A.highWaterMark;if(L||(A.needDrain=!0),A.writing||A.corked){var U=A.lastBufferedRequest;A.lastBufferedRequest={chunk:f,encoding:_,isBuf:S,callback:E,next:null},U?U.next=A.lastBufferedRequest:A.bufferedRequest=A.lastBufferedRequest,A.bufferedRequestCount+=1}else T(M,A,!1,D,f,_,E);return L}i(O,"writeOrBuffer");function T(M,A,S,f,_,E,I){A.writelen=f,A.writecb=I,A.writing=!0,A.sync=!0,S?M._writev(_,A.onwrite):M._write(_,E,A.onwrite),A.sync=!1}i(T,"doWrite");function P(M,A,S,f,_){--A.pendingcb,S?(e.nextTick(_,f),e.nextTick(l,M,A),M._writableState.errorEmitted=!0,M.emit("error",f)):(_(f),M._writableState.errorEmitted=!0,M.emit("error",f),l(M,A))}i(P,"onwriteError");function z(M){M.writing=!1,M.writecb=null,M.length-=M.writelen,M.writelen=0}i(z,"onwriteStateUpdate");function V(M,A){var S=M._writableState,f=S.sync,_=S.writecb;if(z(S),A)P(M,S,f,A,_);else{var E=F(S);!E&&!S.corked&&!S.bufferProcessing&&S.bufferedRequest&&$(M,S),f?r(Z,M,S,E,_):Z(M,S,E,_)}}i(V,"onwrite");function Z(M,A,S,f){S||ee(M,A),A.pendingcb--,f(),l(M,A)}i(Z,"afterWrite");function ee(M,A){A.length===0&&A.needDrain&&(A.needDrain=!1,M.emit("drain"))}i(ee,"onwriteDrain");function $(M,A){A.bufferProcessing=!0;var S=A.bufferedRequest;if(M._writev&&S&&S.next){var f=A.bufferedRequestCount,_=new Array(f),E=A.corkedRequestsFree;E.entry=S;for(var I=0,D=!0;S;)_[I]=S,S.isBuf||(D=!1),S=S.next,I+=1;_.allBuffers=D,T(M,A,!0,A.length,_,"",E.finish),A.pendingcb++,A.lastBufferedRequest=null,E.next?(A.corkedRequestsFree=E.next,E.next=null):A.corkedRequestsFree=new t(A),A.bufferedRequestCount=0}else{for(;S;){var L=S.chunk,U=S.encoding,B=S.callback,G=A.objectMode?1:L.length;if(T(M,A,!1,G,L,U,B),S=S.next,A.bufferedRequestCount--,A.writing)break}S===null&&(A.lastBufferedRequest=null)}A.bufferedRequest=S,A.bufferProcessing=!1}i($,"clearBuffer"),k.prototype._write=function(M,A,S){S(new Error("_write() is not implemented"))},k.prototype._writev=null,k.prototype.end=function(M,A,S){var f=this._writableState;typeof M=="function"?(S=M,M=null,A=null):typeof A=="function"&&(S=A,A=null),M!=null&&this.write(M,A),f.corked&&(f.corked=1,this.uncork()),f.ending||m(this,f,S)};function F(M){return M.ending&&M.length===0&&M.bufferedRequest===null&&!M.finished&&!M.writing}i(F,"needFinish");function u(M,A){M._final(function(S){A.pendingcb--,S&&M.emit("error",S),A.prefinished=!0,M.emit("prefinish"),l(M,A)})}i(u,"callFinal");function g(M,A){!A.prefinished&&!A.finalCalled&&(typeof M._final=="function"?(A.pendingcb++,A.finalCalled=!0,e.nextTick(u,M,A)):(A.prefinished=!0,M.emit("prefinish")))}i(g,"prefinish");function l(M,A){var S=F(A);return S&&(g(M,A),A.pendingcb===0&&(A.finished=!0,M.emit("finish"))),S}i(l,"finishMaybe");function m(M,A,S){A.ending=!0,l(M,A),S&&(A.finished?e.nextTick(S):M.once("finish",S)),A.ended=!0,M.writable=!1}i(m,"endWritable");function w(M,A,S){var f=M.entry;for(M.entry=null;f;){var _=f.callback;A.pendingcb--,_(S),f=f.next}A.corkedRequestsFree.next=M}return i(w,"onCorkedFinish"),Object.defineProperty(k.prototype,"destroyed",{get:i(function(){return this._writableState===void 0?!1:this._writableState.destroyed},"get"),set:i(function(M){this._writableState&&(this._writableState.destroyed=M)},"set")}),k.prototype.destroy=d.destroy,k.prototype._undestroy=d.undestroy,k.prototype._destroy=function(M,A){this.end(),A(M)},th}i(h7,"require_stream_writable");var rh,q2;function ss(){if(q2)return rh;q2=1;var e=Uf(),t=Object.keys||function(d){var y=[];for(var b in d)y.push(b);return y};rh=p;var r=Object.create(tl());r.inherits=Lt();var a=p7(),n=h7();r.inherits(p,a);for(var s=t(n.prototype),o=0;o<s.length;o++){var h=s[o];p.prototype[h]||(p.prototype[h]=n.prototype[h])}function p(d){if(!(this instanceof p))return new p(d);a.call(this,d),n.call(this,d),d&&d.readable===!1&&(this.readable=!1),d&&d.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,d&&d.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",v)}i(p,"Duplex"),Object.defineProperty(p.prototype,"writableHighWaterMark",{enumerable:!1,get:i(function(){return this._writableState.highWaterMark},"get")});function v(){this.allowHalfOpen||this._writableState.ended||e.nextTick(c,this)}i(v,"onend");function c(d){d.end()}return i(c,"onEndNT"),Object.defineProperty(p.prototype,"destroyed",{get:i(function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},"get"),set:i(function(d){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=d,this._writableState.destroyed=d)},"set")}),p.prototype._destroy=function(d,y){this.push(null),this.end(),e.nextTick(y,d)},rh}i(ss,"require_stream_duplex");var ih={},Ol={exports:{}},K2;function YT(){return K2||(K2=1,(function(e,t){var r=Vn(),a=r.Buffer;function n(o,h){for(var p in o)h[p]=o[p]}i(n,"copyProps"),a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?e.exports=r:(n(r,t),t.Buffer=s);function s(o,h,p){return a(o,h,p)}i(s,"SafeBuffer"),n(a,s),s.from=function(o,h,p){if(typeof o=="number")throw new TypeError("Argument must not be a number");return a(o,h,p)},s.alloc=function(o,h,p){if(typeof o!="number")throw new TypeError("Argument must be a number");var v=a(o);return h!==void 0?typeof p=="string"?v.fill(h,p):v.fill(h):v.fill(0),v},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return a(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}})(Ol,Ol.exports)),Ol.exports}i(YT,"requireSafeBuffer");var X2;function Xm(){if(X2)return ih;X2=1;var e=YT().Buffer,t=e.isEncoding||function(C){switch(C=""+C,C&&C.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(C){if(!C)return"utf8";for(var R;;)switch(C){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return C;default:if(R)return;C=(""+C).toLowerCase(),R=!0}}i(r,"_normalizeEncoding");function a(C){var R=r(C);if(typeof R!="string"&&(e.isEncoding===t||!t(C)))throw new Error("Unknown encoding: "+C);return R||C}i(a,"normalizeEncoding"),ih.StringDecoder=n;function n(C){this.encoding=a(C);var R;switch(this.encoding){case"utf16le":this.text=d,this.end=y,R=4;break;case"utf8":this.fillLast=p,R=4;break;case"base64":this.text=b,this.end=x,R=3;break;default:this.write=k,this.end=N;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(R)}i(n,"StringDecoder"),n.prototype.write=function(C){if(C.length===0)return"";var R,O;if(this.lastNeed){if(R=this.fillLast(C),R===void 0)return"";O=this.lastNeed,this.lastNeed=0}else O=0;return O<C.length?R?R+this.text(C,O):this.text(C,O):R||""},n.prototype.end=c,n.prototype.text=v,n.prototype.fillLast=function(C){if(this.lastNeed<=C.length)return C.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);C.copy(this.lastChar,this.lastTotal-this.lastNeed,0,C.length),this.lastNeed-=C.length};function s(C){return C<=127?0:C>>5===6?2:C>>4===14?3:C>>3===30?4:C>>6===2?-1:-2}i(s,"utf8CheckByte");function o(C,R,O){var T=R.length-1;if(T<O)return 0;var P=s(R[T]);return P>=0?(P>0&&(C.lastNeed=P-1),P):--T<O||P===-2?0:(P=s(R[T]),P>=0?(P>0&&(C.lastNeed=P-2),P):--T<O||P===-2?0:(P=s(R[T]),P>=0?(P>0&&(P===2?P=0:C.lastNeed=P-3),P):0))}i(o,"utf8CheckIncomplete");function h(C,R,O){if((R[0]&192)!==128)return C.lastNeed=0,"";if(C.lastNeed>1&&R.length>1){if((R[1]&192)!==128)return C.lastNeed=1,"";if(C.lastNeed>2&&R.length>2&&(R[2]&192)!==128)return C.lastNeed=2,""}}i(h,"utf8CheckExtraBytes");function p(C){var R=this.lastTotal-this.lastNeed,O=h(this,C);if(O!==void 0)return O;if(this.lastNeed<=C.length)return C.copy(this.lastChar,R,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);C.copy(this.lastChar,R,0,C.length),this.lastNeed-=C.length}i(p,"utf8FillLast");function v(C,R){var O=o(this,C,R);if(!this.lastNeed)return C.toString("utf8",R);this.lastTotal=O;var T=C.length-(O-this.lastNeed);return C.copy(this.lastChar,0,T),C.toString("utf8",R,T)}i(v,"utf8Text");function c(C){var R=C&&C.length?this.write(C):"";return this.lastNeed?R+"":R}i(c,"utf8End");function d(C,R){if((C.length-R)%2===0){var O=C.toString("utf16le",R);if(O){var T=O.charCodeAt(O.length-1);if(T>=55296&&T<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=C[C.length-2],this.lastChar[1]=C[C.length-1],O.slice(0,-1)}return O}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=C[C.length-1],C.toString("utf16le",R,C.length-1)}i(d,"utf16Text");function y(C){var R=C&&C.length?this.write(C):"";if(this.lastNeed){var O=this.lastTotal-this.lastNeed;return R+this.lastChar.toString("utf16le",0,O)}return R}i(y,"utf16End");function b(C,R){var O=(C.length-R)%3;return O===0?C.toString("base64",R):(this.lastNeed=3-O,this.lastTotal=3,O===1?this.lastChar[0]=C[C.length-1]:(this.lastChar[0]=C[C.length-2],this.lastChar[1]=C[C.length-1]),C.toString("base64",R,C.length-O))}i(b,"base64Text");function x(C){var R=C&&C.length?this.write(C):"";return this.lastNeed?R+this.lastChar.toString("base64",0,3-this.lastNeed):R}i(x,"base64End");function k(C){return C.toString(this.encoding)}i(k,"simpleWrite");function N(C){return C&&C.length?this.write(C):""}return i(N,"simpleEnd"),ih}i(Xm,"requireString_decoder");var nh,W2;function p7(){if(W2)return nh;W2=1;var e=Uf();nh=R;var t=XT(),r;R.ReadableState=C,ji.EventEmitter;var a=i(function(B,G){return B.listeners(G).length},"EElistenerCount"),n=c7(),s=wv().Buffer,o=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function h(B){return s.from(B)}i(h,"_uint8ArrayToBuffer");function p(B){return s.isBuffer(B)||B instanceof o}i(p,"_isUint8Array");var v=Object.create(tl());v.inherits=Lt();var c=ji,d=void 0;c&&c.debuglog?d=c.debuglog("stream"):d=i(function(){},"debug");var y=WT(),b=d7(),x;v.inherits(R,n);var k=["error","close","destroy","pause","resume"];function N(B,G,H){if(typeof B.prependListener=="function")return B.prependListener(G,H);!B._events||!B._events[G]?B.on(G,H):t(B._events[G])?B._events[G].unshift(H):B._events[G]=[H,B._events[G]]}i(N,"prependListener");function C(B,G){r=r||ss(),B=B||{};var H=G instanceof r;this.objectMode=!!B.objectMode,H&&(this.objectMode=this.objectMode||!!B.readableObjectMode);var K=B.highWaterMark,_e=B.readableHighWaterMark,ae=this.objectMode?16:16*1024;K||K===0?this.highWaterMark=K:H&&(_e||_e===0)?this.highWaterMark=_e:this.highWaterMark=ae,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=B.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,B.encoding&&(x||(x=Xm().StringDecoder),this.decoder=new x(B.encoding),this.encoding=B.encoding)}i(C,"ReadableState");function R(B){if(r=r||ss(),!(this instanceof R))return new R(B);this._readableState=new C(B,this),this.readable=!0,B&&(typeof B.read=="function"&&(this._read=B.read),typeof B.destroy=="function"&&(this._destroy=B.destroy)),n.call(this)}i(R,"Readable"),Object.defineProperty(R.prototype,"destroyed",{get:i(function(){return this._readableState===void 0?!1:this._readableState.destroyed},"get"),set:i(function(B){this._readableState&&(this._readableState.destroyed=B)},"set")}),R.prototype.destroy=b.destroy,R.prototype._undestroy=b.undestroy,R.prototype._destroy=function(B,G){this.push(null),G(B)},R.prototype.push=function(B,G){var H=this._readableState,K;return H.objectMode?K=!0:typeof B=="string"&&(G=G||H.defaultEncoding,G!==H.encoding&&(B=s.from(B,G),G=""),K=!0),O(this,B,G,!1,K)},R.prototype.unshift=function(B){return O(this,B,null,!0,!1)};function O(B,G,H,K,_e){var ae=B._readableState;if(G===null)ae.reading=!1,$(B,ae);else{var se;_e||(se=P(ae,G)),se?B.emit("error",se):ae.objectMode||G&&G.length>0?(typeof G!="string"&&!ae.objectMode&&Object.getPrototypeOf(G)!==s.prototype&&(G=h(G)),K?ae.endEmitted?B.emit("error",new Error("stream.unshift() after end event")):T(B,ae,G,!0):ae.ended?B.emit("error",new Error("stream.push() after EOF")):(ae.reading=!1,ae.decoder&&!H?(G=ae.decoder.write(G),ae.objectMode||G.length!==0?T(B,ae,G,!1):g(B,ae)):T(B,ae,G,!1))):K||(ae.reading=!1)}return z(ae)}i(O,"readableAddChunk");function T(B,G,H,K){G.flowing&&G.length===0&&!G.sync?(B.emit("data",H),B.read(0)):(G.length+=G.objectMode?1:H.length,K?G.buffer.unshift(H):G.buffer.push(H),G.needReadable&&F(B)),g(B,G)}i(T,"addChunk");function P(B,G){var H;return!p(G)&&typeof G!="string"&&G!==void 0&&!B.objectMode&&(H=new TypeError("Invalid non-string/buffer chunk")),H}i(P,"chunkInvalid");function z(B){return!B.ended&&(B.needReadable||B.length<B.highWaterMark||B.length===0)}i(z,"needMoreData"),R.prototype.isPaused=function(){return this._readableState.flowing===!1},R.prototype.setEncoding=function(B){return x||(x=Xm().StringDecoder),this._readableState.decoder=new x(B),this._readableState.encoding=B,this};var V=8388608;function Z(B){return B>=V?B=V:(B--,B|=B>>>1,B|=B>>>2,B|=B>>>4,B|=B>>>8,B|=B>>>16,B++),B}i(Z,"computeNewHighWaterMark");function ee(B,G){return B<=0||G.length===0&&G.ended?0:G.objectMode?1:B!==B?G.flowing&&G.length?G.buffer.head.data.length:G.length:(B>G.highWaterMark&&(G.highWaterMark=Z(B)),B<=G.length?B:G.ended?G.length:(G.needReadable=!0,0))}i(ee,"howMuchToRead"),R.prototype.read=function(B){d("read",B),B=parseInt(B,10);var G=this._readableState,H=B;if(B!==0&&(G.emittedReadable=!1),B===0&&G.needReadable&&(G.length>=G.highWaterMark||G.ended))return d("read: emitReadable",G.length,G.ended),G.length===0&&G.ended?D(this):F(this),null;if(B=ee(B,G),B===0&&G.ended)return G.length===0&&D(this),null;var K=G.needReadable;d("need readable",K),(G.length===0||G.length-B<G.highWaterMark)&&(K=!0,d("length less than watermark",K)),G.ended||G.reading?(K=!1,d("reading or ended",K)):K&&(d("do read"),G.reading=!0,G.sync=!0,G.length===0&&(G.needReadable=!0),this._read(G.highWaterMark),G.sync=!1,G.reading||(B=ee(H,G)));var _e;return B>0?_e=f(B,G):_e=null,_e===null?(G.needReadable=!0,B=0):G.length-=B,G.length===0&&(G.ended||(G.needReadable=!0),H!==B&&G.ended&&D(this)),_e!==null&&this.emit("data",_e),_e};function $(B,G){if(!G.ended){if(G.decoder){var H=G.decoder.end();H&&H.length&&(G.buffer.push(H),G.length+=G.objectMode?1:H.length)}G.ended=!0,F(B)}}i($,"onEofChunk");function F(B){var G=B._readableState;G.needReadable=!1,G.emittedReadable||(d("emitReadable",G.flowing),G.emittedReadable=!0,G.sync?e.nextTick(u,B):u(B))}i(F,"emitReadable");function u(B){d("emit readable"),B.emit("readable"),S(B)}i(u,"emitReadable_");function g(B,G){G.readingMore||(G.readingMore=!0,e.nextTick(l,B,G))}i(g,"maybeReadMore");function l(B,G){for(var H=G.length;!G.reading&&!G.flowing&&!G.ended&&G.length<G.highWaterMark&&(d("maybeReadMore read 0"),B.read(0),H!==G.length);)H=G.length;G.readingMore=!1}i(l,"maybeReadMore_"),R.prototype._read=function(B){this.emit("error",new Error("_read() is not implemented"))},R.prototype.pipe=function(B,G){var H=this,K=this._readableState;switch(K.pipesCount){case 0:K.pipes=B;break;case 1:K.pipes=[K.pipes,B];break;default:K.pipes.push(B);break}K.pipesCount+=1,d("pipe count=%d opts=%j",K.pipesCount,G);var _e=(!G||G.end!==!1)&&B!==process.stdout&&B!==process.stderr,ae=_e?ye:Q;K.endEmitted?e.nextTick(ae):H.once("end",ae),B.on("unpipe",se);function se(Y,te){d("onunpipe"),Y===H&&te&&te.hasUnpiped===!1&&(te.hasUnpiped=!0,X())}i(se,"onunpipe");function ye(){d("onend"),B.end()}i(ye,"onend");var q=m(H);B.on("drain",q);var re=!1;function X(){d("cleanup"),B.removeListener("close",pe),B.removeListener("finish",fe),B.removeListener("drain",q),B.removeListener("error",ke),B.removeListener("unpipe",se),H.removeListener("end",ye),H.removeListener("end",Q),H.removeListener("data",le),re=!0,K.awaitDrain&&(!B._writableState||B._writableState.needDrain)&&q()}i(X,"cleanup");var W=!1;H.on("data",le);function le(Y){d("ondata"),W=!1;var te=B.write(Y);te===!1&&!W&&((K.pipesCount===1&&K.pipes===B||K.pipesCount>1&&U(K.pipes,B)!==-1)&&!re&&(d("false write response, pause",K.awaitDrain),K.awaitDrain++,W=!0),H.pause())}i(le,"ondata");function ke(Y){d("onerror",Y),Q(),B.removeListener("error",ke),a(B,"error")===0&&B.emit("error",Y)}i(ke,"onerror"),N(B,"error",ke);function pe(){B.removeListener("finish",fe),Q()}i(pe,"onclose"),B.once("close",pe);function fe(){d("onfinish"),B.removeListener("close",pe),Q()}i(fe,"onfinish"),B.once("finish",fe);function Q(){d("unpipe"),H.unpipe(B)}return i(Q,"unpipe"),B.emit("pipe",H),K.flowing||(d("pipe resume"),H.resume()),B};function m(B){return function(){var G=B._readableState;d("pipeOnDrain",G.awaitDrain),G.awaitDrain&&G.awaitDrain--,G.awaitDrain===0&&a(B,"data")&&(G.flowing=!0,S(B))}}i(m,"pipeOnDrain"),R.prototype.unpipe=function(B){var G=this._readableState,H={hasUnpiped:!1};if(G.pipesCount===0)return this;if(G.pipesCount===1)return B&&B!==G.pipes?this:(B||(B=G.pipes),G.pipes=null,G.pipesCount=0,G.flowing=!1,B&&B.emit("unpipe",this,H),this);if(!B){var K=G.pipes,_e=G.pipesCount;G.pipes=null,G.pipesCount=0,G.flowing=!1;for(var ae=0;ae<_e;ae++)K[ae].emit("unpipe",this,{hasUnpiped:!1});return this}var se=U(G.pipes,B);return se===-1?this:(G.pipes.splice(se,1),G.pipesCount-=1,G.pipesCount===1&&(G.pipes=G.pipes[0]),B.emit("unpipe",this,H),this)},R.prototype.on=function(B,G){var H=n.prototype.on.call(this,B,G);if(B==="data")this._readableState.flowing!==!1&&this.resume();else if(B==="readable"){var K=this._readableState;!K.endEmitted&&!K.readableListening&&(K.readableListening=K.needReadable=!0,K.emittedReadable=!1,K.reading?K.length&&F(this):e.nextTick(w,this))}return H},R.prototype.addListener=R.prototype.on;function w(B){d("readable nexttick read 0"),B.read(0)}i(w,"nReadingNextTick"),R.prototype.resume=function(){var B=this._readableState;return B.flowing||(d("resume"),B.flowing=!0,M(this,B)),this};function M(B,G){G.resumeScheduled||(G.resumeScheduled=!0,e.nextTick(A,B,G))}i(M,"resume");function A(B,G){G.reading||(d("resume read 0"),B.read(0)),G.resumeScheduled=!1,G.awaitDrain=0,B.emit("resume"),S(B),G.flowing&&!G.reading&&B.read(0)}i(A,"resume_"),R.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function S(B){var G=B._readableState;for(d("flow",G.flowing);G.flowing&&B.read()!==null;);}i(S,"flow"),R.prototype.wrap=function(B){var G=this,H=this._readableState,K=!1;B.on("end",function(){if(d("wrapped end"),H.decoder&&!H.ended){var se=H.decoder.end();se&&se.length&&G.push(se)}G.push(null)}),B.on("data",function(se){if(d("wrapped data"),H.decoder&&(se=H.decoder.write(se)),!(H.objectMode&&se==null)&&!(!H.objectMode&&(!se||!se.length))){var ye=G.push(se);ye||(K=!0,B.pause())}});for(var _e in B)this[_e]===void 0&&typeof B[_e]=="function"&&(this[_e]=(function(se){return function(){return B[se].apply(B,arguments)}})(_e));for(var ae=0;ae<k.length;ae++)B.on(k[ae],this.emit.bind(this,k[ae]));return this._read=function(se){d("wrapped _read",se),K&&(K=!1,B.resume())},this},Object.defineProperty(R.prototype,"readableHighWaterMark",{enumerable:!1,get:i(function(){return this._readableState.highWaterMark},"get")}),R._fromList=f;function f(B,G){if(G.length===0)return null;var H;return G.objectMode?H=G.buffer.shift():!B||B>=G.length?(G.decoder?H=G.buffer.join(""):G.buffer.length===1?H=G.buffer.head.data:H=G.buffer.concat(G.length),G.buffer.clear()):H=_(B,G.buffer,G.decoder),H}i(f,"fromList");function _(B,G,H){var K;return B<G.head.data.length?(K=G.head.data.slice(0,B),G.head.data=G.head.data.slice(B)):B===G.head.data.length?K=G.shift():K=H?E(B,G):I(B,G),K}i(_,"fromListPartial");function E(B,G){var H=G.head,K=1,_e=H.data;for(B-=_e.length;H=H.next;){var ae=H.data,se=B>ae.length?ae.length:B;if(se===ae.length?_e+=ae:_e+=ae.slice(0,B),B-=se,B===0){se===ae.length?(++K,H.next?G.head=H.next:G.head=G.tail=null):(G.head=H,H.data=ae.slice(se));break}++K}return G.length-=K,_e}i(E,"copyFromBufferString");function I(B,G){var H=s.allocUnsafe(B),K=G.head,_e=1;for(K.data.copy(H),B-=K.data.length;K=K.next;){var ae=K.data,se=B>ae.length?ae.length:B;if(ae.copy(H,H.length-B,0,se),B-=se,B===0){se===ae.length?(++_e,K.next?G.head=K.next:G.head=G.tail=null):(G.head=K,K.data=ae.slice(se));break}++_e}return G.length-=_e,H}i(I,"copyFromBuffer");function D(B){var G=B._readableState;if(G.length>0)throw new Error('"endReadable()" called on non-empty stream');G.endEmitted||(G.ended=!0,e.nextTick(L,G,B))}i(D,"endReadable");function L(B,G){!B.endEmitted&&B.length===0&&(B.endEmitted=!0,G.readable=!1,G.emit("end"))}i(L,"endReadableNT");function U(B,G){for(var H=0,K=B.length;H<K;H++)if(B[H]===G)return H;return-1}return i(U,"indexOf"),nh}i(p7,"require_stream_readable");var ah,Q2;function m7(){if(Q2)return ah;Q2=1,ah=a;var e=ss(),t=Object.create(tl());t.inherits=Lt(),t.inherits(a,e);function r(o,h){var p=this._transformState;p.transforming=!1;var v=p.writecb;if(!v)return this.emit("error",new Error("write callback called multiple times"));p.writechunk=null,p.writecb=null,h!=null&&this.push(h),v(o);var c=this._readableState;c.reading=!1,(c.needReadable||c.length<c.highWaterMark)&&this._read(c.highWaterMark)}i(r,"afterTransform");function a(o){if(!(this instanceof a))return new a(o);e.call(this,o),this._transformState={afterTransform:r.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,o&&(typeof o.transform=="function"&&(this._transform=o.transform),typeof o.flush=="function"&&(this._flush=o.flush)),this.on("prefinish",n)}i(a,"Transform");function n(){var o=this;typeof this._flush=="function"?this._flush(function(h,p){s(o,h,p)}):s(this,null,null)}i(n,"prefinish"),a.prototype.push=function(o,h){return this._transformState.needTransform=!1,e.prototype.push.call(this,o,h)},a.prototype._transform=function(o,h,p){throw new Error("_transform() is not implemented")},a.prototype._write=function(o,h,p){var v=this._transformState;if(v.writecb=p,v.writechunk=o,v.writeencoding=h,!v.transforming){var c=this._readableState;(v.needTransform||c.needReadable||c.length<c.highWaterMark)&&this._read(c.highWaterMark)}},a.prototype._read=function(o){var h=this._transformState;h.writechunk!==null&&h.writecb&&!h.transforming?(h.transforming=!0,this._transform(h.writechunk,h.writeencoding,h.afterTransform)):h.needTransform=!0},a.prototype._destroy=function(o,h){var p=this;e.prototype._destroy.call(this,o,function(v){h(v),p.emit("close")})};function s(o,h,p){if(h)return o.emit("error",h);if(p!=null&&o.push(p),o._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(o._transformState.transforming)throw new Error("Calling transform done when still transforming");return o.push(null)}return i(s,"done"),ah}i(m7,"require_stream_transform");var sh,Y2;function eP(){if(Y2)return sh;Y2=1,sh=r;var e=m7(),t=Object.create(tl());t.inherits=Lt(),t.inherits(r,e);function r(a){if(!(this instanceof r))return new r(a);e.call(this,a)}return i(r,"PassThrough"),r.prototype._transform=function(a,n,s){s(null,a)},sh}i(eP,"require_stream_passthrough");var ew;function g7(){return ew||(ew=1,(function(e,t){t=e.exports=p7(),t.Stream=t,t.Readable=t,t.Writable=h7(),t.Duplex=ss(),t.Transform=m7(),t.PassThrough=eP()})(Il,Il.exports)),Il.exports}i(g7,"requireReadableBrowser");var oh,tw;function tP(){if(tw)return oh;tw=1;var e=jt().Buffer,t=KT(),r=g7().Transform,a=Lt();function n(s){r.call(this),this._block=e.allocUnsafe(s),this._blockSize=s,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}return i(n,"HashBase"),a(n,r),n.prototype._transform=function(s,o,h){var p=null;try{this.update(s,o)}catch(v){p=v}h(p)},n.prototype._flush=function(s){var o=null;try{this.push(this.digest())}catch(h){o=h}s(o)},n.prototype.update=function(s,o){if(this._finalized)throw new Error("Digest already called");for(var h=t(s,o),p=this._block,v=0;this._blockOffset+h.length-v>=this._blockSize;){for(var c=this._blockOffset;c<this._blockSize;)p[c]=h[v],c+=1,v+=1;this._update(),this._blockOffset=0}for(;v<h.length;)p[this._blockOffset]=h[v],this._blockOffset+=1,v+=1;for(var d=0,y=h.length*8;y>0;++d)this._length[d]+=y,y=this._length[d]/4294967296|0,y>0&&(this._length[d]-=4294967296*y);return this},n.prototype._update=function(){throw new Error("_update is not implemented")},n.prototype.digest=function(s){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var o=this._digest();s!==void 0&&(o=o.toString(s)),this._block.fill(0),this._blockOffset=0;for(var h=0;h<4;++h)this._length[h]=0;return o},n.prototype._digest=function(){throw new Error("_digest is not implemented")},oh=n,oh}i(tP,"requireHashBase");var lh,rw;function xv(){if(rw)return lh;rw=1;var e=Vn().Buffer,t=Lt(),r=tP(),a=new Array(16),n=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],s=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],o=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],h=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],p=[0,1518500249,1859775393,2400959708,2840853838],v=[1352829926,1548603684,1836072691,2053994217,0];function c(C,R){return C<<R|C>>>32-R}i(c,"rotl");function d(C,R,O,T,P,z,V,Z){return c(C+(R^O^T)+z+V|0,Z)+P|0}i(d,"fn1");function y(C,R,O,T,P,z,V,Z){return c(C+(R&O|~R&T)+z+V|0,Z)+P|0}i(y,"fn2");function b(C,R,O,T,P,z,V,Z){return c(C+((R|~O)^T)+z+V|0,Z)+P|0}i(b,"fn3");function x(C,R,O,T,P,z,V,Z){return c(C+(R&T|O&~T)+z+V|0,Z)+P|0}i(x,"fn4");function k(C,R,O,T,P,z,V,Z){return c(C+(R^(O|~T))+z+V|0,Z)+P|0}i(k,"fn5");function N(){r.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}return i(N,"RIPEMD160"),t(N,r),N.prototype._update=function(){for(var C=a,R=0;R<16;++R)C[R]=this._block.readInt32LE(R*4);for(var O=this._a|0,T=this._b|0,P=this._c|0,z=this._d|0,V=this._e|0,Z=this._a|0,ee=this._b|0,$=this._c|0,F=this._d|0,u=this._e|0,g=0;g<80;g+=1){var l,m;g<16?(l=d(O,T,P,z,V,C[n[g]],p[0],o[g]),m=k(Z,ee,$,F,u,C[s[g]],v[0],h[g])):g<32?(l=y(O,T,P,z,V,C[n[g]],p[1],o[g]),m=x(Z,ee,$,F,u,C[s[g]],v[1],h[g])):g<48?(l=b(O,T,P,z,V,C[n[g]],p[2],o[g]),m=b(Z,ee,$,F,u,C[s[g]],v[2],h[g])):g<64?(l=x(O,T,P,z,V,C[n[g]],p[3],o[g]),m=y(Z,ee,$,F,u,C[s[g]],v[3],h[g])):(l=k(O,T,P,z,V,C[n[g]],p[4],o[g]),m=d(Z,ee,$,F,u,C[s[g]],v[4],h[g])),O=V,V=z,z=c(P,10),P=T,T=l,Z=u,u=F,F=c($,10),$=ee,ee=m}var w=this._b+P+F|0;this._b=this._c+z+u|0,this._c=this._d+V+Z|0,this._d=this._e+O+ee|0,this._e=this._a+T+$|0,this._a=w},N.prototype._digest=function(){this._block[this._blockOffset]=128,this._blockOffset+=1,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var C=e.alloc?e.alloc(20):new e(20);return C.writeInt32LE(this._a,0),C.writeInt32LE(this._b,4),C.writeInt32LE(this._c,8),C.writeInt32LE(this._d,12),C.writeInt32LE(this._e,16),C},lh=N,lh}i(xv,"requireRipemd160");var uh={exports:{}},fh,iw;function ws(){if(iw)return fh;iw=1;var e=jt().Buffer,t=zf();function r(a,n){this._block=e.alloc(a),this._finalSize=n,this._blockSize=a,this._len=0}return i(r,"Hash"),r.prototype.update=function(a,n){a=t(a,n||"utf8");for(var s=this._block,o=this._blockSize,h=a.length,p=this._len,v=0;v<h;){for(var c=p%o,d=Math.min(h-v,o-c),y=0;y<d;y++)s[c+y]=a[v+y];p+=d,v+=d,p%o===0&&this._update(s)}return this._len+=h,this},r.prototype.digest=function(a){var n=this._len%this._blockSize;this._block[n]=128,this._block.fill(0,n+1),n>=this._finalSize&&(this._update(this._block),this._block.fill(0));var s=this._len*8;if(s<=4294967295)this._block.writeUInt32BE(s,this._blockSize-4);else{var o=(s&4294967295)>>>0,h=(s-o)/4294967296;this._block.writeUInt32BE(h,this._blockSize-8),this._block.writeUInt32BE(o,this._blockSize-4)}this._update(this._block);var p=this._hash();return a?p.toString(a):p},r.prototype._update=function(){throw new Error("_update must be implemented by subclass")},fh=r,fh}i(ws,"requireHash$1");var ch,nw;function rP(){if(nw)return ch;nw=1;var e=Lt(),t=ws(),r=jt().Buffer,a=[1518500249,1859775393,-1894007588,-899497514],n=new Array(80);function s(){this.init(),this._w=n,t.call(this,64,56)}i(s,"Sha"),e(s,t),s.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function o(v){return v<<5|v>>>27}i(o,"rotl5");function h(v){return v<<30|v>>>2}i(h,"rotl30");function p(v,c,d,y){return v===0?c&d|~c&y:v===2?c&d|c&y|d&y:c^d^y}return i(p,"ft"),s.prototype._update=function(v){for(var c=this._w,d=this._a|0,y=this._b|0,b=this._c|0,x=this._d|0,k=this._e|0,N=0;N<16;++N)c[N]=v.readInt32BE(N*4);for(;N<80;++N)c[N]=c[N-3]^c[N-8]^c[N-14]^c[N-16];for(var C=0;C<80;++C){var R=~~(C/20),O=o(d)+p(R,y,b,x)+k+c[C]+a[R]|0;k=x,x=b,b=h(y),y=d,d=O}this._a=d+this._a|0,this._b=y+this._b|0,this._c=b+this._c|0,this._d=x+this._d|0,this._e=k+this._e|0},s.prototype._hash=function(){var v=r.allocUnsafe(20);return v.writeInt32BE(this._a|0,0),v.writeInt32BE(this._b|0,4),v.writeInt32BE(this._c|0,8),v.writeInt32BE(this._d|0,12),v.writeInt32BE(this._e|0,16),v},ch=s,ch}i(rP,"requireSha$1");var dh,aw;function iP(){if(aw)return dh;aw=1;var e=Lt(),t=ws(),r=jt().Buffer,a=[1518500249,1859775393,-1894007588,-899497514],n=new Array(80);function s(){this.init(),this._w=n,t.call(this,64,56)}i(s,"Sha1"),e(s,t),s.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function o(c){return c<<1|c>>>31}i(o,"rotl1");function h(c){return c<<5|c>>>27}i(h,"rotl5");function p(c){return c<<30|c>>>2}i(p,"rotl30");function v(c,d,y,b){return c===0?d&y|~d&b:c===2?d&y|d&b|y&b:d^y^b}return i(v,"ft"),s.prototype._update=function(c){for(var d=this._w,y=this._a|0,b=this._b|0,x=this._c|0,k=this._d|0,N=this._e|0,C=0;C<16;++C)d[C]=c.readInt32BE(C*4);for(;C<80;++C)d[C]=o(d[C-3]^d[C-8]^d[C-14]^d[C-16]);for(var R=0;R<80;++R){var O=~~(R/20),T=h(y)+v(O,b,x,k)+N+d[R]+a[O]|0;N=k,k=x,x=p(b),b=y,y=T}this._a=y+this._a|0,this._b=b+this._b|0,this._c=x+this._c|0,this._d=k+this._d|0,this._e=N+this._e|0},s.prototype._hash=function(){var c=r.allocUnsafe(20);return c.writeInt32BE(this._a|0,0),c.writeInt32BE(this._b|0,4),c.writeInt32BE(this._c|0,8),c.writeInt32BE(this._d|0,12),c.writeInt32BE(this._e|0,16),c},dh=s,dh}i(iP,"requireSha1");var hh,sw;function v7(){if(sw)return hh;sw=1;var e=Lt(),t=ws(),r=jt().Buffer,a=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],n=new Array(64);function s(){this.init(),this._w=n,t.call(this,64,56)}i(s,"Sha256"),e(s,t),s.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function o(y,b,x){return x^y&(b^x)}i(o,"ch");function h(y,b,x){return y&b|x&(y|b)}i(h,"maj");function p(y){return(y>>>2|y<<30)^(y>>>13|y<<19)^(y>>>22|y<<10)}i(p,"sigma0");function v(y){return(y>>>6|y<<26)^(y>>>11|y<<21)^(y>>>25|y<<7)}i(v,"sigma1");function c(y){return(y>>>7|y<<25)^(y>>>18|y<<14)^y>>>3}i(c,"gamma0");function d(y){return(y>>>17|y<<15)^(y>>>19|y<<13)^y>>>10}return i(d,"gamma1"),s.prototype._update=function(y){for(var b=this._w,x=this._a|0,k=this._b|0,N=this._c|0,C=this._d|0,R=this._e|0,O=this._f|0,T=this._g|0,P=this._h|0,z=0;z<16;++z)b[z]=y.readInt32BE(z*4);for(;z<64;++z)b[z]=d(b[z-2])+b[z-7]+c(b[z-15])+b[z-16]|0;for(var V=0;V<64;++V){var Z=P+v(R)+o(R,O,T)+a[V]+b[V]|0,ee=p(x)+h(x,k,N)|0;P=T,T=O,O=R,R=C+Z|0,C=N,N=k,k=x,x=Z+ee|0}this._a=x+this._a|0,this._b=k+this._b|0,this._c=N+this._c|0,this._d=C+this._d|0,this._e=R+this._e|0,this._f=O+this._f|0,this._g=T+this._g|0,this._h=P+this._h|0},s.prototype._hash=function(){var y=r.allocUnsafe(32);return y.writeInt32BE(this._a,0),y.writeInt32BE(this._b,4),y.writeInt32BE(this._c,8),y.writeInt32BE(this._d,12),y.writeInt32BE(this._e,16),y.writeInt32BE(this._f,20),y.writeInt32BE(this._g,24),y.writeInt32BE(this._h,28),y},hh=s,hh}i(v7,"requireSha256");var ph,ow;function nP(){if(ow)return ph;ow=1;var e=Lt(),t=v7(),r=ws(),a=jt().Buffer,n=new Array(64);function s(){this.init(),this._w=n,r.call(this,64,56)}return i(s,"Sha224"),e(s,t),s.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},s.prototype._hash=function(){var o=a.allocUnsafe(28);return o.writeInt32BE(this._a,0),o.writeInt32BE(this._b,4),o.writeInt32BE(this._c,8),o.writeInt32BE(this._d,12),o.writeInt32BE(this._e,16),o.writeInt32BE(this._f,20),o.writeInt32BE(this._g,24),o},ph=s,ph}i(nP,"requireSha224");var mh,lw;function b7(){if(lw)return mh;lw=1;var e=Lt(),t=ws(),r=jt().Buffer,a=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],n=new Array(160);function s(){this.init(),this._w=n,t.call(this,128,112)}i(s,"Sha512"),e(s,t),s.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function o(k,N,C){return C^k&(N^C)}i(o,"Ch");function h(k,N,C){return k&N|C&(k|N)}i(h,"maj");function p(k,N){return(k>>>28|N<<4)^(N>>>2|k<<30)^(N>>>7|k<<25)}i(p,"sigma0");function v(k,N){return(k>>>14|N<<18)^(k>>>18|N<<14)^(N>>>9|k<<23)}i(v,"sigma1");function c(k,N){return(k>>>1|N<<31)^(k>>>8|N<<24)^k>>>7}i(c,"Gamma0");function d(k,N){return(k>>>1|N<<31)^(k>>>8|N<<24)^(k>>>7|N<<25)}i(d,"Gamma0l");function y(k,N){return(k>>>19|N<<13)^(N>>>29|k<<3)^k>>>6}i(y,"Gamma1");function b(k,N){return(k>>>19|N<<13)^(N>>>29|k<<3)^(k>>>6|N<<26)}i(b,"Gamma1l");function x(k,N){return k>>>0<N>>>0?1:0}return i(x,"getCarry"),s.prototype._update=function(k){for(var N=this._w,C=this._ah|0,R=this._bh|0,O=this._ch|0,T=this._dh|0,P=this._eh|0,z=this._fh|0,V=this._gh|0,Z=this._hh|0,ee=this._al|0,$=this._bl|0,F=this._cl|0,u=this._dl|0,g=this._el|0,l=this._fl|0,m=this._gl|0,w=this._hl|0,M=0;M<32;M+=2)N[M]=k.readInt32BE(M*4),N[M+1]=k.readInt32BE(M*4+4);for(;M<160;M+=2){var A=N[M-30],S=N[M-30+1],f=c(A,S),_=d(S,A);A=N[M-4],S=N[M-4+1];var E=y(A,S),I=b(S,A),D=N[M-14],L=N[M-14+1],U=N[M-32],B=N[M-32+1],G=_+L|0,H=f+D+x(G,_)|0;G=G+I|0,H=H+E+x(G,I)|0,G=G+B|0,H=H+U+x(G,B)|0,N[M]=H,N[M+1]=G}for(var K=0;K<160;K+=2){H=N[K],G=N[K+1];var _e=h(C,R,O),ae=h(ee,$,F),se=p(C,ee),ye=p(ee,C),q=v(P,g),re=v(g,P),X=a[K],W=a[K+1],le=o(P,z,V),ke=o(g,l,m),pe=w+re|0,fe=Z+q+x(pe,w)|0;pe=pe+ke|0,fe=fe+le+x(pe,ke)|0,pe=pe+W|0,fe=fe+X+x(pe,W)|0,pe=pe+G|0,fe=fe+H+x(pe,G)|0;var Q=ye+ae|0,Y=se+_e+x(Q,ye)|0;Z=V,w=m,V=z,m=l,z=P,l=g,g=u+pe|0,P=T+fe+x(g,u)|0,T=O,u=F,O=R,F=$,R=C,$=ee,ee=pe+Q|0,C=fe+Y+x(ee,pe)|0}this._al=this._al+ee|0,this._bl=this._bl+$|0,this._cl=this._cl+F|0,this._dl=this._dl+u|0,this._el=this._el+g|0,this._fl=this._fl+l|0,this._gl=this._gl+m|0,this._hl=this._hl+w|0,this._ah=this._ah+C+x(this._al,ee)|0,this._bh=this._bh+R+x(this._bl,$)|0,this._ch=this._ch+O+x(this._cl,F)|0,this._dh=this._dh+T+x(this._dl,u)|0,this._eh=this._eh+P+x(this._el,g)|0,this._fh=this._fh+z+x(this._fl,l)|0,this._gh=this._gh+V+x(this._gl,m)|0,this._hh=this._hh+Z+x(this._hl,w)|0},s.prototype._hash=function(){var k=r.allocUnsafe(64);function N(C,R,O){k.writeInt32BE(C,O),k.writeInt32BE(R,O+4)}return i(N,"writeInt64BE"),N(this._ah,this._al,0),N(this._bh,this._bl,8),N(this._ch,this._cl,16),N(this._dh,this._dl,24),N(this._eh,this._el,32),N(this._fh,this._fl,40),N(this._gh,this._gl,48),N(this._hh,this._hl,56),k},mh=s,mh}i(b7,"requireSha512");var gh,uw;function aP(){if(uw)return gh;uw=1;var e=Lt(),t=b7(),r=ws(),a=jt().Buffer,n=new Array(160);function s(){this.init(),this._w=n,r.call(this,128,112)}return i(s,"Sha384"),e(s,t),s.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},s.prototype._hash=function(){var o=a.allocUnsafe(48);function h(p,v,c){o.writeInt32BE(p,c),o.writeInt32BE(v,c+4)}return i(h,"writeInt64BE"),h(this._ah,this._al,0),h(this._bh,this._bl,8),h(this._ch,this._cl,16),h(this._dh,this._dl,24),h(this._eh,this._el,32),h(this._fh,this._fl,40),o},gh=s,gh}i(aP,"requireSha384");var fw;function _v(){return fw||(fw=1,(function(e){e.exports=i(function(r){var a=r.toLowerCase(),n=e.exports[a];if(!n)throw new Error(a+" is not supported (we accept pull requests)");return new n},"SHA"),e.exports.sha=rP(),e.exports.sha1=iP(),e.exports.sha224=nP(),e.exports.sha256=v7(),e.exports.sha384=aP(),e.exports.sha512=b7()})(uh)),uh.exports}i(_v,"requireSha_js");var vh,cw;function Zn(){if(cw)return vh;cw=1;var e=jt().Buffer,t=ji.Transform,r=Xm().StringDecoder,a=Lt(),n=zf();function s(o){t.call(this),this.hashMode=typeof o=="string",this.hashMode?this[o]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}return i(s,"CipherBase"),a(s,t),s.prototype.update=function(o,h,p){var v=n(o,h),c=this._update(v);return this.hashMode?this:(p&&(c=this._toString(c,p)),c)},s.prototype.setAutoPadding=function(){},s.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},s.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},s.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},s.prototype._transform=function(o,h,p){var v;try{this.hashMode?this._update(o):this.push(this._update(o))}catch(c){v=c}finally{p(v)}},s.prototype._flush=function(o){var h;try{this.push(this.__final())}catch(p){h=p}o(h)},s.prototype._finalOrDigest=function(o){var h=this.__final()||e.alloc(0);return o&&(h=this._toString(h,o,!0)),h},s.prototype._toString=function(o,h,p){if(this._decoder||(this._decoder=new r(h),this._encoding=h),this._encoding!==h)throw new Error("cant switch encodings");var v=this._decoder.write(o);return p&&(v+=this._decoder.end()),v},vh=s,vh}i(Zn,"requireCipherBase");var bh,dw;function rl(){if(dw)return bh;dw=1;var e=Lt(),t=gv(),r=xv(),a=_v(),n=Zn();function s(o){n.call(this,"digest"),this._hash=o}return i(s,"Hash"),e(s,n),s.prototype._update=function(o){this._hash.update(o)},s.prototype._final=function(){return this._hash.digest()},bh=i(function(h){return h=h.toLowerCase(),h==="md5"?new t:h==="rmd160"||h==="ripemd160"?new r:new s(a(h))},"createHash"),bh}i(rl,"requireBrowser$9");var yh,hw;function sP(){if(hw)return yh;hw=1;var e=Lt(),t=jt().Buffer,r=Zn(),a=t.alloc(128),n=64;function s(o,h){r.call(this,"digest"),typeof h=="string"&&(h=t.from(h)),this._alg=o,this._key=h,h.length>n?h=o(h):h.length<n&&(h=t.concat([h,a],n));for(var p=this._ipad=t.allocUnsafe(n),v=this._opad=t.allocUnsafe(n),c=0;c<n;c++)p[c]=h[c]^54,v[c]=h[c]^92;this._hash=[p]}return i(s,"Hmac"),e(s,r),s.prototype._update=function(o){this._hash.push(o)},s.prototype._final=function(){var o=this._alg(t.concat(this._hash));return this._alg(t.concat([this._opad,o]))},yh=s,yh}i(sP,"requireLegacy");var wh,pw;function y7(){if(pw)return wh;pw=1;var e=gv();return wh=i(function(t){return new e().update(t).digest()},"md5"),wh}i(y7,"requireMd5");var xh,mw;function w7(){if(mw)return xh;mw=1;var e=Lt(),t=sP(),r=Zn(),a=jt().Buffer,n=y7(),s=xv(),o=_v(),h=a.alloc(128);function p(v,c){r.call(this,"digest"),typeof c=="string"&&(c=a.from(c));var d=v==="sha512"||v==="sha384"?128:64;if(this._alg=v,this._key=c,c.length>d){var y=v==="rmd160"?new s:o(v);c=y.update(c).digest()}else c.length<d&&(c=a.concat([c,h],d));for(var b=this._ipad=a.allocUnsafe(d),x=this._opad=a.allocUnsafe(d),k=0;k<d;k++)b[k]=c[k]^54,x[k]=c[k]^92;this._hash=v==="rmd160"?new s:o(v),this._hash.update(b)}return i(p,"Hmac"),e(p,r),p.prototype._update=function(v){this._hash.update(v)},p.prototype._final=function(){var v=this._hash.digest(),c=this._alg==="rmd160"?new s:o(this._alg);return c.update(this._opad).update(v).digest()},xh=i(function(c,d){return c=c.toLowerCase(),c==="rmd160"||c==="ripemd160"?new p("rmd160",d):c==="md5"?new t(n,d):new p(c,d)},"createHmac"),xh}i(w7,"requireBrowser$8");const oP={sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},lP={sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},uP={sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},fP={sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},cP={sign:"ecdsa",hash:"sha256",id:""},dP={sign:"ecdsa",hash:"sha224",id:""},hP={sign:"ecdsa",hash:"sha384",id:""},pP={sign:"ecdsa",hash:"sha512",id:""},mP={sign:"dsa",hash:"sha1",id:""},gP={sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},vP={sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},x7={sha224WithRSAEncryption:oP,"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:lP,"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:uP,"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:fP,"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:cP,sha224:dP,sha384:hP,sha512:pP,"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:mP,"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:gP,"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:vP,"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}};var _h,gw;function bP(){return gw||(gw=1,_h=x7),_h}i(bP,"requireAlgos");var Tl={},Sh,vw;function _7(){if(vw)return Sh;vw=1;var e=isFinite,t=Math.pow(2,30)-1;return Sh=i(function(r,a){if(typeof r!="number")throw new TypeError("Iterations not a number");if(r<0||!e(r))throw new TypeError("Bad iterations");if(typeof a!="number")throw new TypeError("Key length not a number");if(a<0||a>t||a!==a)throw new TypeError("Bad key length")},"precondition"),Sh}i(_7,"requirePrecondition");var Mh,bw;function S7(){if(bw)return Mh;bw=1;var e;if(globalThis.process&&globalThis.process.browser)e="utf-8";else if(globalThis.process&&globalThis.process.version){var t=parseInt(process.version.split(".")[0].slice(1),10);e=t>=6?"utf-8":"binary"}else e="utf-8";return Mh=e,Mh}i(S7,"requireDefaultEncoding");var Eh,yw;function M7(){if(yw)return Eh;yw=1;var e=jt().Buffer,t=zf(),r=typeof Uint8Array<"u",a=r&&typeof ArrayBuffer<"u",n=a&&ArrayBuffer.isView;return Eh=i(function(s,o,h){if(typeof s=="string"||e.isBuffer(s)||r&&s instanceof Uint8Array||n&&n(s))return t(s,o);throw new TypeError(h+" must be a string, a Buffer, a Uint8Array, or a DataView")},"toBuffer_1"),Eh}i(M7,"requireToBuffer");var kh,ww;function E7(){if(ww)return kh;ww=1;var e=y7(),t=xv(),r=_v(),a=jt().Buffer,n=_7(),s=S7(),o=M7(),h=a.alloc(128),p={__proto__:null,md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,"sha512-256":32,ripemd160:20,rmd160:20},v={__proto__:null,"sha-1":"sha1","sha-224":"sha224","sha-256":"sha256","sha-384":"sha384","sha-512":"sha512","ripemd-160":"ripemd160"};function c(x){return new t().update(x).digest()}i(c,"rmd160Func");function d(x){function k(N){return r(x).update(N).digest()}return i(k,"shaFunc"),x==="rmd160"||x==="ripemd160"?c:x==="md5"?e:k}i(d,"getDigest");function y(x,k,N){var C=d(x),R=x==="sha512"||x==="sha384"?128:64;k.length>R?k=C(k):k.length<R&&(k=a.concat([k,h],R));for(var O=a.allocUnsafe(R+p[x]),T=a.allocUnsafe(R+p[x]),P=0;P<R;P++)O[P]=k[P]^54,T[P]=k[P]^92;var z=a.allocUnsafe(R+N+4);O.copy(z,0,0,R),this.ipad1=z,this.ipad2=O,this.opad=T,this.alg=x,this.blocksize=R,this.hash=C,this.size=p[x]}i(y,"Hmac"),y.prototype.run=function(x,k){x.copy(k,this.blocksize);var N=this.hash(k);return N.copy(this.opad,this.blocksize),this.hash(this.opad)};function b(x,k,N,C,R){n(N,C),x=o(x,s,"Password"),k=o(k,s,"Salt");var O=(R||"sha1").toLowerCase(),T=v[O]||O,P=p[T];if(typeof P!="number"||!P)throw new TypeError("Digest algorithm not supported: "+R);var z=new y(T,x,k.length),V=a.allocUnsafe(C),Z=a.allocUnsafe(k.length+4);k.copy(Z,0,0,k.length);for(var ee=0,$=P,F=Math.ceil(C/$),u=1;u<=F;u++){Z.writeUInt32BE(u,k.length);for(var g=z.run(Z,z.ipad1),l=g,m=1;m<N;m++){l=z.run(l,z.ipad2);for(var w=0;w<$;w++)g[w]^=l[w]}g.copy(V,ee),ee+=$}return V}return i(b,"pbkdf2"),kh=b,kh}i(E7,"requireSyncBrowser");var Ah,xw;function yP(){if(xw)return Ah;xw=1;var e=jt().Buffer,t=_7(),r=S7(),a=E7(),n=M7(),s,o=globalThis.crypto&&globalThis.crypto.subtle,h={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},p=[],v;function c(){return v||(globalThis.process&&globalThis.process.nextTick?v=globalThis.process.nextTick:globalThis.queueMicrotask?v=globalThis.queueMicrotask:globalThis.setImmediate?v=globalThis.setImmediate:v=globalThis.setTimeout,v)}i(c,"getNextTick");function d(x,k,N,C,R){return o.importKey("raw",x,{name:"PBKDF2"},!1,["deriveBits"]).then(function(O){return o.deriveBits({name:"PBKDF2",salt:k,iterations:N,hash:{name:R}},O,C<<3)}).then(function(O){return e.from(O)})}i(d,"browserPbkdf2");function y(x){if(globalThis.process&&!globalThis.process.browser||!o||!o.importKey||!o.deriveBits)return Promise.resolve(!1);if(p[x]!==void 0)return p[x];s=s||e.alloc(8);var k=d(s,s,10,128,x).then(function(){return!0},function(){return!1});return p[x]=k,k}i(y,"checkNative");function b(x,k){x.then(function(N){c()(function(){k(null,N)})},function(N){c()(function(){k(N)})})}return i(b,"resolvePromise"),Ah=i(function(x,k,N,C,R,O){if(typeof R=="function"&&(O=R,R=void 0),t(N,C),x=n(x,r,"Password"),k=n(k,r,"Salt"),typeof O!="function")throw new Error("No callback provided to pbkdf2");R=R||"sha1";var T=h[R.toLowerCase()];if(!T||typeof globalThis.Promise!="function"){c()(function(){var P;try{P=a(x,k,N,C,R)}catch(z){O(z);return}O(null,P)});return}b(y(T).then(function(P){return P?d(x,k,N,C,T):a(x,k,N,C,R)}),O)},"async"),Ah}i(yP,"requireAsync");var _w;function k7(){return _w||(_w=1,Tl.pbkdf2=yP(),Tl.pbkdf2Sync=E7()),Tl}i(k7,"requireBrowser$7");var ai={},Wn={},Vr={},Sw;function A7(){if(Sw)return Vr;Sw=1,Vr.readUInt32BE=i(function(n,s){var o=n[0+s]<<24|n[1+s]<<16|n[2+s]<<8|n[3+s];return o>>>0},"readUInt32BE"),Vr.writeUInt32BE=i(function(n,s,o){n[0+o]=s>>>24,n[1+o]=s>>>16&255,n[2+o]=s>>>8&255,n[3+o]=s&255},"writeUInt32BE"),Vr.ip=i(function(n,s,o,h){for(var p=0,v=0,c=6;c>=0;c-=2){for(var d=0;d<=24;d+=8)p<<=1,p|=s>>>d+c&1;for(var d=0;d<=24;d+=8)p<<=1,p|=n>>>d+c&1}for(var c=6;c>=0;c-=2){for(var d=1;d<=25;d+=8)v<<=1,v|=s>>>d+c&1;for(var d=1;d<=25;d+=8)v<<=1,v|=n>>>d+c&1}o[h+0]=p>>>0,o[h+1]=v>>>0},"ip"),Vr.rip=i(function(n,s,o,h){for(var p=0,v=0,c=0;c<4;c++)for(var d=24;d>=0;d-=8)p<<=1,p|=s>>>d+c&1,p<<=1,p|=n>>>d+c&1;for(var c=4;c<8;c++)for(var d=24;d>=0;d-=8)v<<=1,v|=s>>>d+c&1,v<<=1,v|=n>>>d+c&1;o[h+0]=p>>>0,o[h+1]=v>>>0},"rip"),Vr.pc1=i(function(n,s,o,h){for(var p=0,v=0,c=7;c>=5;c--){for(var d=0;d<=24;d+=8)p<<=1,p|=s>>d+c&1;for(var d=0;d<=24;d+=8)p<<=1,p|=n>>d+c&1}for(var d=0;d<=24;d+=8)p<<=1,p|=s>>d+c&1;for(var c=1;c<=3;c++){for(var d=0;d<=24;d+=8)v<<=1,v|=s>>d+c&1;for(var d=0;d<=24;d+=8)v<<=1,v|=n>>d+c&1}for(var d=0;d<=24;d+=8)v<<=1,v|=n>>d+c&1;o[h+0]=p>>>0,o[h+1]=v>>>0},"pc1"),Vr.r28shl=i(function(n,s){return n<<s&268435455|n>>>28-s},"r28shl");var e=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];Vr.pc2=i(function(n,s,o,h){for(var p=0,v=0,c=e.length>>>1,d=0;d<c;d++)p<<=1,p|=n>>>e[d]&1;for(var d=c;d<e.length;d++)v<<=1,v|=s>>>e[d]&1;o[h+0]=p>>>0,o[h+1]=v>>>0},"pc2"),Vr.expand=i(function(n,s,o){var h=0,p=0;h=(n&1)<<5|n>>>27;for(var v=23;v>=15;v-=4)h<<=6,h|=n>>>v&63;for(var v=11;v>=3;v-=4)p|=n>>>v&63,p<<=6;p|=(n&31)<<1|n>>>31,s[o+0]=h>>>0,s[o+1]=p>>>0},"expand");var t=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];Vr.substitute=i(function(n,s){for(var o=0,h=0;h<4;h++){var p=n>>>18-h*6&63,v=t[h*64+p];o<<=4,o|=v}for(var h=0;h<4;h++){var p=s>>>18-h*6&63,v=t[256+h*64+p];o<<=4,o|=v}return o>>>0},"substitute");var r=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];return Vr.permute=i(function(n){for(var s=0,o=0;o<r.length;o++)s<<=1,s|=n>>>r[o]&1;return s>>>0},"permute"),Vr.padSplit=i(function(n,s,o){for(var h=n.toString(2);h.length<s;)h="0"+h;for(var p=[],v=0;v<s;v+=o)p.push(h.slice(v,v+o));return p.join(" ")},"padSplit"),Vr}i(A7,"requireUtils$3");var jh,Mw;function ci(){if(Mw)return jh;Mw=1,jh=e;function e(t,r){if(!t)throw new Error(r||"Assertion failed")}return i(e,"assert"),e.equal=i(function(r,a,n){if(r!=a)throw new Error(n||"Assertion failed: "+r+" != "+a)},"assertEqual"),jh}i(ci,"requireMinimalisticAssert");var Nh,Ew;function Sv(){if(Ew)return Nh;Ew=1;var e=ci();function t(r){this.options=r,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=r.padding!==!1}return i(t,"Cipher"),Nh=t,t.prototype._init=i(function(){},"_init"),t.prototype.update=i(function(a){return a.length===0?[]:this.type==="decrypt"?this._updateDecrypt(a):this._updateEncrypt(a)},"update"),t.prototype._buffer=i(function(a,n){for(var s=Math.min(this.buffer.length-this.bufferOff,a.length-n),o=0;o<s;o++)this.buffer[this.bufferOff+o]=a[n+o];return this.bufferOff+=s,s},"_buffer"),t.prototype._flushBuffer=i(function(a,n){return this._update(this.buffer,0,a,n),this.bufferOff=0,this.blockSize},"_flushBuffer"),t.prototype._updateEncrypt=i(function(a){var n=0,s=0,o=(this.bufferOff+a.length)/this.blockSize|0,h=new Array(o*this.blockSize);this.bufferOff!==0&&(n+=this._buffer(a,n),this.bufferOff===this.buffer.length&&(s+=this._flushBuffer(h,s)));for(var p=a.length-(a.length-n)%this.blockSize;n<p;n+=this.blockSize)this._update(a,n,h,s),s+=this.blockSize;for(;n<a.length;n++,this.bufferOff++)this.buffer[this.bufferOff]=a[n];return h},"_updateEncrypt"),t.prototype._updateDecrypt=i(function(a){for(var n=0,s=0,o=Math.ceil((this.bufferOff+a.length)/this.blockSize)-1,h=new Array(o*this.blockSize);o>0;o--)n+=this._buffer(a,n),s+=this._flushBuffer(h,s);return n+=this._buffer(a,n),h},"_updateDecrypt"),t.prototype.final=i(function(a){var n;a&&(n=this.update(a));var s;return this.type==="encrypt"?s=this._finalEncrypt():s=this._finalDecrypt(),n?n.concat(s):s},"final"),t.prototype._pad=i(function(a,n){if(n===0)return!1;for(;n<a.length;)a[n++]=0;return!0},"_pad"),t.prototype._finalEncrypt=i(function(){if(!this._pad(this.buffer,this.bufferOff))return[];var a=new Array(this.blockSize);return this._update(this.buffer,0,a,0),a},"_finalEncrypt"),t.prototype._unpad=i(function(a){return a},"_unpad"),t.prototype._finalDecrypt=i(function(){e.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var a=new Array(this.blockSize);return this._flushBuffer(a,0),this._unpad(a)},"_finalDecrypt"),Nh}i(Sv,"requireCipher");var Ih,kw;function j7(){if(kw)return Ih;kw=1;var e=ci(),t=Lt(),r=A7(),a=Sv();function n(){this.tmp=new Array(2),this.keys=null}i(n,"DESState");function s(h){a.call(this,h);var p=new n;this._desState=p,this.deriveKeys(p,h.key)}i(s,"DES"),t(s,a),Ih=s,s.create=i(function(p){return new s(p)},"create");var o=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];return s.prototype.deriveKeys=i(function(p,v){p.keys=new Array(32),e.equal(v.length,this.blockSize,"Invalid key length");var c=r.readUInt32BE(v,0),d=r.readUInt32BE(v,4);r.pc1(c,d,p.tmp,0),c=p.tmp[0],d=p.tmp[1];for(var y=0;y<p.keys.length;y+=2){var b=o[y>>>1];c=r.r28shl(c,b),d=r.r28shl(d,b),r.pc2(c,d,p.keys,y)}},"deriveKeys"),s.prototype._update=i(function(p,v,c,d){var y=this._desState,b=r.readUInt32BE(p,v),x=r.readUInt32BE(p,v+4);r.ip(b,x,y.tmp,0),b=y.tmp[0],x=y.tmp[1],this.type==="encrypt"?this._encrypt(y,b,x,y.tmp,0):this._decrypt(y,b,x,y.tmp,0),b=y.tmp[0],x=y.tmp[1],r.writeUInt32BE(c,b,d),r.writeUInt32BE(c,x,d+4)},"_update"),s.prototype._pad=i(function(p,v){if(this.padding===!1)return!1;for(var c=p.length-v,d=v;d<p.length;d++)p[d]=c;return!0},"_pad"),s.prototype._unpad=i(function(p){if(this.padding===!1)return p;for(var v=p[p.length-1],c=p.length-v;c<p.length;c++)e.equal(p[c],v);return p.slice(0,p.length-v)},"_unpad"),s.prototype._encrypt=i(function(p,v,c,d,y){for(var b=v,x=c,k=0;k<p.keys.length;k+=2){var N=p.keys[k],C=p.keys[k+1];r.expand(x,p.tmp,0),N^=p.tmp[0],C^=p.tmp[1];var R=r.substitute(N,C),O=r.permute(R),T=x;x=(b^O)>>>0,b=T}r.rip(x,b,d,y)},"_encrypt"),s.prototype._decrypt=i(function(p,v,c,d,y){for(var b=c,x=v,k=p.keys.length-2;k>=0;k-=2){var N=p.keys[k],C=p.keys[k+1];r.expand(b,p.tmp,0),N^=p.tmp[0],C^=p.tmp[1];var R=r.substitute(N,C),O=r.permute(R),T=b;b=(x^O)>>>0,x=T}r.rip(b,x,d,y)},"_decrypt"),Ih}i(j7,"requireDes$1");var Ch={},Aw;function wP(){if(Aw)return Ch;Aw=1;var e=ci(),t=Lt(),r={};function a(s){e.equal(s.length,8,"Invalid IV length"),this.iv=new Array(8);for(var o=0;o<this.iv.length;o++)this.iv[o]=s[o]}i(a,"CBCState");function n(s){function o(c){s.call(this,c),this._cbcInit()}i(o,"CBC"),t(o,s);for(var h=Object.keys(r),p=0;p<h.length;p++){var v=h[p];o.prototype[v]=r[v]}return o.create=i(function(d){return new o(d)},"create"),o}return i(n,"instantiate"),Ch.instantiate=n,r._cbcInit=i(function(){var o=new a(this.options.iv);this._cbcState=o},"_cbcInit"),r._update=i(function(o,h,p,v){var c=this._cbcState,d=this.constructor.super_.prototype,y=c.iv;if(this.type==="encrypt"){for(var b=0;b<this.blockSize;b++)y[b]^=o[h+b];d._update.call(this,y,0,p,v);for(var b=0;b<this.blockSize;b++)y[b]=p[v+b]}else{d._update.call(this,o,h,p,v);for(var b=0;b<this.blockSize;b++)p[v+b]^=y[b];for(var b=0;b<this.blockSize;b++)y[b]=o[h+b]}},"_update"),Ch}i(wP,"requireCbc$1");var Rh,jw;function xP(){if(jw)return Rh;jw=1;var e=ci(),t=Lt(),r=Sv(),a=j7();function n(o,h){e.equal(h.length,24,"Invalid key length");var p=h.slice(0,8),v=h.slice(8,16),c=h.slice(16,24);o==="encrypt"?this.ciphers=[a.create({type:"encrypt",key:p}),a.create({type:"decrypt",key:v}),a.create({type:"encrypt",key:c})]:this.ciphers=[a.create({type:"decrypt",key:c}),a.create({type:"encrypt",key:v}),a.create({type:"decrypt",key:p})]}i(n,"EDEState");function s(o){r.call(this,o);var h=new n(this.type,this.options.key);this._edeState=h}return i(s,"EDE"),t(s,r),Rh=s,s.create=i(function(h){return new s(h)},"create"),s.prototype._update=i(function(h,p,v,c){var d=this._edeState;d.ciphers[0]._update(h,p,v,c),d.ciphers[1]._update(v,c,v,c),d.ciphers[2]._update(v,c,v,c)},"_update"),s.prototype._pad=a.prototype._pad,s.prototype._unpad=a.prototype._unpad,Rh}i(xP,"requireEde");var Nw;function _P(){return Nw||(Nw=1,Wn.utils=A7(),Wn.Cipher=Sv(),Wn.DES=j7(),Wn.CBC=wP(),Wn.EDE=xP()),Wn}i(_P,"requireDes");var Oh,Iw;function SP(){if(Iw)return Oh;Iw=1;var e=Zn(),t=_P(),r=Lt(),a=jt().Buffer,n={"des-ede3-cbc":t.CBC.instantiate(t.EDE),"des-ede3":t.EDE,"des-ede-cbc":t.CBC.instantiate(t.EDE),"des-ede":t.EDE,"des-cbc":t.CBC.instantiate(t.DES),"des-ecb":t.DES};n.des=n["des-cbc"],n.des3=n["des-ede3-cbc"],Oh=s,r(s,e);function s(o){e.call(this);var h=o.mode.toLowerCase(),p=n[h],v;o.decrypt?v="decrypt":v="encrypt";var c=o.key;a.isBuffer(c)||(c=a.from(c)),(h==="des-ede"||h==="des-ede-cbc")&&(c=a.concat([c,c.slice(0,8)]));var d=o.iv;a.isBuffer(d)||(d=a.from(d)),this._des=p.create({key:c,iv:d,type:v})}return i(s,"DES"),s.prototype._update=function(o){return a.from(this._des.update(o))},s.prototype._final=function(){return a.from(this._des.final())},Oh}i(SP,"requireBrowserifyDes");var si={},Pl={},Dl={},Cw;function MP(){return Cw||(Cw=1,Dl.encrypt=function(e,t){return e._cipher.encryptBlock(t)},Dl.decrypt=function(e,t){return e._cipher.decryptBlock(t)}),Dl}i(MP,"requireEcb");var Ll={},Th,Rw;function il(){return Rw||(Rw=1,Th=i(function(t,r){for(var a=Math.min(t.length,r.length),n=new Buffer(a),s=0;s<a;++s)n[s]=t[s]^r[s];return n},"xor")),Th}i(il,"requireBufferXor");var Ow;function EP(){if(Ow)return Ll;Ow=1;var e=il();return Ll.encrypt=function(t,r){var a=e(r,t._prev);return t._prev=t._cipher.encryptBlock(a),t._prev},Ll.decrypt=function(t,r){var a=t._prev;t._prev=r;var n=t._cipher.decryptBlock(r);return e(n,a)},Ll}i(EP,"requireCbc");var Ph={},Tw;function kP(){if(Tw)return Ph;Tw=1;var e=jt().Buffer,t=il();function r(a,n,s){var o=n.length,h=t(n,a._cache);return a._cache=a._cache.slice(o),a._prev=e.concat([a._prev,s?n:h]),h}return i(r,"encryptStart"),Ph.encrypt=function(a,n,s){for(var o=e.allocUnsafe(0),h;n.length;)if(a._cache.length===0&&(a._cache=a._cipher.encryptBlock(a._prev),a._prev=e.allocUnsafe(0)),a._cache.length<=n.length)h=a._cache.length,o=e.concat([o,r(a,n.slice(0,h),s)]),n=n.slice(h);else{o=e.concat([o,r(a,n,s)]);break}return o},Ph}i(kP,"requireCfb");var Dh={},Pw;function AP(){if(Pw)return Dh;Pw=1;var e=jt().Buffer;function t(r,a,n){var s=r._cipher.encryptBlock(r._prev),o=s[0]^a;return r._prev=e.concat([r._prev.slice(1),e.from([n?a:o])]),o}return i(t,"encryptByte"),Dh.encrypt=function(r,a,n){for(var s=a.length,o=e.allocUnsafe(s),h=-1;++h<s;)o[h]=t(r,a[h],n);return o},Dh}i(AP,"requireCfb8");var Lh={},Dw;function jP(){if(Dw)return Lh;Dw=1;var e=jt().Buffer;function t(a,n,s){for(var o,h=-1,p=8,v=0,c,d;++h<p;)o=a._cipher.encryptBlock(a._prev),c=n&1<<7-h?128:0,d=o[0]^c,v+=(d&128)>>h%8,a._prev=r(a._prev,s?c:d);return v}i(t,"encryptByte");function r(a,n){var s=a.length,o=-1,h=e.allocUnsafe(a.length);for(a=e.concat([a,e.from([n])]);++o<s;)h[o]=a[o]<<1|a[o+1]>>7;return h}return i(r,"shiftIn"),Lh.encrypt=function(a,n,s){for(var o=n.length,h=e.allocUnsafe(o),p=-1;++p<o;)h[p]=t(a,n[p],s);return h},Lh}i(jP,"requireCfb1");var Bh={},Lw;function NP(){if(Lw)return Bh;Lw=1;var e=il();function t(r){return r._prev=r._cipher.encryptBlock(r._prev),r._prev}return i(t,"getBlock"),Bh.encrypt=function(r,a){for(;r._cache.length<a.length;)r._cache=Buffer.concat([r._cache,t(r)]);var n=r._cache.slice(0,a.length);return r._cache=r._cache.slice(a.length),e(a,n)},Bh}i(NP,"requireOfb");var zh={},Uh,Bw;function N7(){if(Bw)return Uh;Bw=1;function e(t){for(var r=t.length,a;r--;)if(a=t.readUInt8(r),a===255)t.writeUInt8(0,r);else{a++,t.writeUInt8(a,r);break}}return i(e,"incr32"),Uh=e,Uh}i(N7,"requireIncr32");var zw;function Uw(){if(zw)return zh;zw=1;var e=il(),t=jt().Buffer,r=N7();function a(s){var o=s._cipher.encryptBlockRaw(s._prev);return r(s._prev),o}i(a,"getBlock");var n=16;return zh.encrypt=function(s,o){var h=Math.ceil(o.length/n),p=s._cache.length;s._cache=t.concat([s._cache,t.allocUnsafe(h*n)]);for(var v=0;v<h;v++){var c=a(s),d=p+v*n;s._cache.writeUInt32BE(c[0],d+0),s._cache.writeUInt32BE(c[1],d+4),s._cache.writeUInt32BE(c[2],d+8),s._cache.writeUInt32BE(c[3],d+12)}var y=s._cache.slice(0,o.length);return s._cache=s._cache.slice(o.length),e(o,y)},zh}i(Uw,"requireCtr");const IP={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},CP={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},RP={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},I7={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:IP,aes192:CP,aes256:RP,"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}};var Fh,Fw;function Mv(){if(Fw)return Fh;Fw=1;var e={ECB:MP(),CBC:EP(),CFB:kP(),CFB8:AP(),CFB1:jP(),OFB:NP(),CTR:Uw(),GCM:Uw()},t=I7;for(var r in t)t[r].module=e[t[r].mode];return Fh=t,Fh}i(Mv,"requireModes$1");var $h={},$w;function Ff(){if($w)return $h;$w=1;var e=jt().Buffer;function t(h){e.isBuffer(h)||(h=e.from(h));for(var p=h.length/4|0,v=new Array(p),c=0;c<p;c++)v[c]=h.readUInt32BE(c*4);return v}i(t,"asUInt32Array");function r(h){for(var p=0;p<h.length;h++)h[p]=0}i(r,"scrubVec");function a(h,p,v,c,d){for(var y=v[0],b=v[1],x=v[2],k=v[3],N=h[0]^p[0],C=h[1]^p[1],R=h[2]^p[2],O=h[3]^p[3],T,P,z,V,Z=4,ee=1;ee<d;ee++)T=y[N>>>24]^b[C>>>16&255]^x[R>>>8&255]^k[O&255]^p[Z++],P=y[C>>>24]^b[R>>>16&255]^x[O>>>8&255]^k[N&255]^p[Z++],z=y[R>>>24]^b[O>>>16&255]^x[N>>>8&255]^k[C&255]^p[Z++],V=y[O>>>24]^b[N>>>16&255]^x[C>>>8&255]^k[R&255]^p[Z++],N=T,C=P,R=z,O=V;return T=(c[N>>>24]<<24|c[C>>>16&255]<<16|c[R>>>8&255]<<8|c[O&255])^p[Z++],P=(c[C>>>24]<<24|c[R>>>16&255]<<16|c[O>>>8&255]<<8|c[N&255])^p[Z++],z=(c[R>>>24]<<24|c[O>>>16&255]<<16|c[N>>>8&255]<<8|c[C&255])^p[Z++],V=(c[O>>>24]<<24|c[N>>>16&255]<<16|c[C>>>8&255]<<8|c[R&255])^p[Z++],T=T>>>0,P=P>>>0,z=z>>>0,V=V>>>0,[T,P,z,V]}i(a,"cryptBlock");var n=[0,1,2,4,8,16,32,64,128,27,54],s=(function(){for(var h=new Array(256),p=0;p<256;p++)p<128?h[p]=p<<1:h[p]=p<<1^283;for(var v=[],c=[],d=[[],[],[],[]],y=[[],[],[],[]],b=0,x=0,k=0;k<256;++k){var N=x^x<<1^x<<2^x<<3^x<<4;N=N>>>8^N&255^99,v[b]=N,c[N]=b;var C=h[b],R=h[C],O=h[R],T=h[N]*257^N*16843008;d[0][b]=T<<24|T>>>8,d[1][b]=T<<16|T>>>16,d[2][b]=T<<8|T>>>24,d[3][b]=T,T=O*16843009^R*65537^C*257^b*16843008,y[0][N]=T<<24|T>>>8,y[1][N]=T<<16|T>>>16,y[2][N]=T<<8|T>>>24,y[3][N]=T,b===0?b=x=1:(b=C^h[h[h[O^C]]],x^=h[h[x]])}return{SBOX:v,INV_SBOX:c,SUB_MIX:d,INV_SUB_MIX:y}})();function o(h){this._key=t(h),this._reset()}return i(o,"AES"),o.blockSize=16,o.keySize=256/8,o.prototype.blockSize=o.blockSize,o.prototype.keySize=o.keySize,o.prototype._reset=function(){for(var h=this._key,p=h.length,v=p+6,c=(v+1)*4,d=[],y=0;y<p;y++)d[y]=h[y];for(y=p;y<c;y++){var b=d[y-1];y%p===0?(b=b<<8|b>>>24,b=s.SBOX[b>>>24]<<24|s.SBOX[b>>>16&255]<<16|s.SBOX[b>>>8&255]<<8|s.SBOX[b&255],b^=n[y/p|0]<<24):p>6&&y%p===4&&(b=s.SBOX[b>>>24]<<24|s.SBOX[b>>>16&255]<<16|s.SBOX[b>>>8&255]<<8|s.SBOX[b&255]),d[y]=d[y-p]^b}for(var x=[],k=0;k<c;k++){var N=c-k,C=d[N-(k%4?0:4)];k<4||N<=4?x[k]=C:x[k]=s.INV_SUB_MIX[0][s.SBOX[C>>>24]]^s.INV_SUB_MIX[1][s.SBOX[C>>>16&255]]^s.INV_SUB_MIX[2][s.SBOX[C>>>8&255]]^s.INV_SUB_MIX[3][s.SBOX[C&255]]}this._nRounds=v,this._keySchedule=d,this._invKeySchedule=x},o.prototype.encryptBlockRaw=function(h){return h=t(h),a(h,this._keySchedule,s.SUB_MIX,s.SBOX,this._nRounds)},o.prototype.encryptBlock=function(h){var p=this.encryptBlockRaw(h),v=e.allocUnsafe(16);return v.writeUInt32BE(p[0],0),v.writeUInt32BE(p[1],4),v.writeUInt32BE(p[2],8),v.writeUInt32BE(p[3],12),v},o.prototype.decryptBlock=function(h){h=t(h);var p=h[1];h[1]=h[3],h[3]=p;var v=a(h,this._invKeySchedule,s.INV_SUB_MIX,s.INV_SBOX,this._nRounds),c=e.allocUnsafe(16);return c.writeUInt32BE(v[0],0),c.writeUInt32BE(v[3],4),c.writeUInt32BE(v[2],8),c.writeUInt32BE(v[1],12),c},o.prototype.scrub=function(){r(this._keySchedule),r(this._invKeySchedule),r(this._key)},$h.AES=o,$h}i(Ff,"requireAes");var Gh,Gw;function OP(){if(Gw)return Gh;Gw=1;var e=jt().Buffer,t=e.alloc(16,0);function r(s){return[s.readUInt32BE(0),s.readUInt32BE(4),s.readUInt32BE(8),s.readUInt32BE(12)]}i(r,"toArray");function a(s){var o=e.allocUnsafe(16);return o.writeUInt32BE(s[0]>>>0,0),o.writeUInt32BE(s[1]>>>0,4),o.writeUInt32BE(s[2]>>>0,8),o.writeUInt32BE(s[3]>>>0,12),o}i(a,"fromArray");function n(s){this.h=s,this.state=e.alloc(16,0),this.cache=e.allocUnsafe(0)}return i(n,"GHASH"),n.prototype.ghash=function(s){for(var o=-1;++o<s.length;)this.state[o]^=s[o];this._multiply()},n.prototype._multiply=function(){for(var s=r(this.h),o=[0,0,0,0],h,p,v,c=-1;++c<128;){for(p=(this.state[~~(c/8)]&1<<7-c%8)!==0,p&&(o[0]^=s[0],o[1]^=s[1],o[2]^=s[2],o[3]^=s[3]),v=(s[3]&1)!==0,h=3;h>0;h--)s[h]=s[h]>>>1|(s[h-1]&1)<<31;s[0]=s[0]>>>1,v&&(s[0]=s[0]^225<<24)}this.state=a(o)},n.prototype.update=function(s){this.cache=e.concat([this.cache,s]);for(var o;this.cache.length>=16;)o=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(o)},n.prototype.final=function(s,o){return this.cache.length&&this.ghash(e.concat([this.cache,t],16)),this.ghash(a([0,s,0,o])),this.state},Gh=n,Gh}i(OP,"requireGhash");var Vh,Vw;function C7(){if(Vw)return Vh;Vw=1;var e=Ff(),t=jt().Buffer,r=Zn(),a=Lt(),n=OP(),s=il(),o=N7();function h(c,d){var y=0;c.length!==d.length&&y++;for(var b=Math.min(c.length,d.length),x=0;x<b;++x)y+=c[x]^d[x];return y}i(h,"xorTest");function p(c,d,y){if(d.length===12)return c._finID=t.concat([d,t.from([0,0,0,1])]),t.concat([d,t.from([0,0,0,2])]);var b=new n(y),x=d.length,k=x%16;b.update(d),k&&(k=16-k,b.update(t.alloc(k,0))),b.update(t.alloc(8,0));var N=x*8,C=t.alloc(8);C.writeUIntBE(N,0,8),b.update(C),c._finID=b.state;var R=t.from(c._finID);return o(R),R}i(p,"calcIv");function v(c,d,y,b){r.call(this);var x=t.alloc(4,0);this._cipher=new e.AES(d);var k=this._cipher.encryptBlock(x);this._ghash=new n(k),y=p(this,y,k),this._prev=t.from(y),this._cache=t.allocUnsafe(0),this._secCache=t.allocUnsafe(0),this._decrypt=b,this._alen=0,this._len=0,this._mode=c,this._authTag=null,this._called=!1}return i(v,"StreamCipher"),a(v,r),v.prototype._update=function(c){if(!this._called&&this._alen){var d=16-this._alen%16;d<16&&(d=t.alloc(d,0),this._ghash.update(d))}this._called=!0;var y=this._mode.encrypt(this,c);return this._decrypt?this._ghash.update(c):this._ghash.update(y),this._len+=c.length,y},v.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var c=s(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&h(c,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=c,this._cipher.scrub()},v.prototype.getAuthTag=i(function(){if(this._decrypt||!t.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},"getAuthTag"),v.prototype.setAuthTag=i(function(d){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=d},"setAuthTag"),v.prototype.setAAD=i(function(d){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(d),this._alen+=d.length},"setAAD"),Vh=v,Vh}i(C7,"requireAuthCipher");var Zh,Zw;function R7(){if(Zw)return Zh;Zw=1;var e=Ff(),t=jt().Buffer,r=Zn(),a=Lt();function n(s,o,h,p){r.call(this),this._cipher=new e.AES(o),this._prev=t.from(h),this._cache=t.allocUnsafe(0),this._secCache=t.allocUnsafe(0),this._decrypt=p,this._mode=s}return i(n,"StreamCipher"),a(n,r),n.prototype._update=function(s){return this._mode.encrypt(this,s,this._decrypt)},n.prototype._final=function(){this._cipher.scrub()},Zh=n,Zh}i(R7,"requireStreamCipher");var Hh,Hw;function $f(){if(Hw)return Hh;Hw=1;var e=jt().Buffer,t=gv();function r(a,n,s,o){if(e.isBuffer(a)||(a=e.from(a,"binary")),n&&(e.isBuffer(n)||(n=e.from(n,"binary")),n.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var h=s/8,p=e.alloc(h),v=e.alloc(o||0),c=e.alloc(0);h>0||o>0;){var d=new t;d.update(c),d.update(a),n&&d.update(n),c=d.digest();var y=0;if(h>0){var b=p.length-h;y=Math.min(h,c.length),c.copy(p,b,0,y),h-=y}if(y<c.length&&o>0){var x=v.length-o,k=Math.min(o,c.length-y);c.copy(v,x,y,y+k),o-=k}}return c.fill(0),{key:p,iv:v}}return i(r,"EVP_BytesToKey"),Hh=r,Hh}i($f,"requireEvp_bytestokey");var Jw;function TP(){if(Jw)return Pl;Jw=1;var e=Mv(),t=C7(),r=jt().Buffer,a=R7(),n=Zn(),s=Ff(),o=$f(),h=Lt();function p(b,x,k){n.call(this),this._cache=new c,this._cipher=new s.AES(x),this._prev=r.from(k),this._mode=b,this._autopadding=!0}i(p,"Cipher"),h(p,n),p.prototype._update=function(b){this._cache.add(b);for(var x,k,N=[];x=this._cache.get();)k=this._mode.encrypt(this,x),N.push(k);return r.concat(N)};var v=r.alloc(16,16);p.prototype._final=function(){var b=this._cache.flush();if(this._autopadding)return b=this._mode.encrypt(this,b),this._cipher.scrub(),b;if(!b.equals(v))throw this._cipher.scrub(),new Error("data not multiple of block length")},p.prototype.setAutoPadding=function(b){return this._autopadding=!!b,this};function c(){this.cache=r.allocUnsafe(0)}i(c,"Splitter"),c.prototype.add=function(b){this.cache=r.concat([this.cache,b])},c.prototype.get=function(){if(this.cache.length>15){var b=this.cache.slice(0,16);return this.cache=this.cache.slice(16),b}return null},c.prototype.flush=function(){for(var b=16-this.cache.length,x=r.allocUnsafe(b),k=-1;++k<b;)x.writeUInt8(b,k);return r.concat([this.cache,x])};function d(b,x,k){var N=e[b.toLowerCase()];if(!N)throw new TypeError("invalid suite type");if(typeof x=="string"&&(x=r.from(x)),x.length!==N.key/8)throw new TypeError("invalid key length "+x.length);if(typeof k=="string"&&(k=r.from(k)),N.mode!=="GCM"&&k.length!==N.iv)throw new TypeError("invalid iv length "+k.length);return N.type==="stream"?new a(N.module,x,k):N.type==="auth"?new t(N.module,x,k):new p(N.module,x,k)}i(d,"createCipheriv");function y(b,x){var k=e[b.toLowerCase()];if(!k)throw new TypeError("invalid suite type");var N=o(x,!1,k.key,k.iv);return d(b,N.key,N.iv)}return i(y,"createCipher"),Pl.createCipheriv=d,Pl.createCipher=y,Pl}i(TP,"requireEncrypter");var Bl={},qw;function PP(){if(qw)return Bl;qw=1;var e=C7(),t=jt().Buffer,r=Mv(),a=R7(),n=Zn(),s=Ff(),o=$f(),h=Lt();function p(b,x,k){n.call(this),this._cache=new v,this._last=void 0,this._cipher=new s.AES(x),this._prev=t.from(k),this._mode=b,this._autopadding=!0}i(p,"Decipher"),h(p,n),p.prototype._update=function(b){this._cache.add(b);for(var x,k,N=[];x=this._cache.get(this._autopadding);)k=this._mode.decrypt(this,x),N.push(k);return t.concat(N)},p.prototype._final=function(){var b=this._cache.flush();if(this._autopadding)return c(this._mode.decrypt(this,b));if(b)throw new Error("data not multiple of block length")},p.prototype.setAutoPadding=function(b){return this._autopadding=!!b,this};function v(){this.cache=t.allocUnsafe(0)}i(v,"Splitter"),v.prototype.add=function(b){this.cache=t.concat([this.cache,b])},v.prototype.get=function(b){var x;if(b){if(this.cache.length>16)return x=this.cache.slice(0,16),this.cache=this.cache.slice(16),x}else if(this.cache.length>=16)return x=this.cache.slice(0,16),this.cache=this.cache.slice(16),x;return null},v.prototype.flush=function(){if(this.cache.length)return this.cache};function c(b){var x=b[15];if(x<1||x>16)throw new Error("unable to decrypt data");for(var k=-1;++k<x;)if(b[k+(16-x)]!==x)throw new Error("unable to decrypt data");if(x!==16)return b.slice(0,16-x)}i(c,"unpad");function d(b,x,k){var N=r[b.toLowerCase()];if(!N)throw new TypeError("invalid suite type");if(typeof k=="string"&&(k=t.from(k)),N.mode!=="GCM"&&k.length!==N.iv)throw new TypeError("invalid iv length "+k.length);if(typeof x=="string"&&(x=t.from(x)),x.length!==N.key/8)throw new TypeError("invalid key length "+x.length);return N.type==="stream"?new a(N.module,x,k,!0):N.type==="auth"?new e(N.module,x,k,!0):new p(N.module,x,k)}i(d,"createDecipheriv");function y(b,x){var k=r[b.toLowerCase()];if(!k)throw new TypeError("invalid suite type");var N=o(x,!1,k.key,k.iv);return d(b,N.key,N.iv)}return i(y,"createDecipher"),Bl.createDecipher=y,Bl.createDecipheriv=d,Bl}i(PP,"requireDecrypter");var Kw;function Ev(){if(Kw)return si;Kw=1;var e=TP(),t=PP(),r=I7;function a(){return Object.keys(r)}return i(a,"getCiphers"),si.createCipher=si.Cipher=e.createCipher,si.createCipheriv=si.Cipheriv=e.createCipheriv,si.createDecipher=si.Decipher=t.createDecipher,si.createDecipheriv=si.Decipheriv=t.createDecipheriv,si.listCiphers=si.getCiphers=a,si}i(Ev,"requireBrowser$6");var Jh={},Xw;function DP(){return Xw||(Xw=1,(function(e){e["des-ecb"]={key:8,iv:0},e["des-cbc"]=e.des={key:8,iv:8},e["des-ede3-cbc"]=e.des3={key:24,iv:8},e["des-ede3"]={key:24,iv:0},e["des-ede-cbc"]={key:16,iv:8},e["des-ede"]={key:16,iv:0}})(Jh)),Jh}i(DP,"requireModes");var Ww;function LP(){if(Ww)return ai;Ww=1;var e=SP(),t=Ev(),r=Mv(),a=DP(),n=$f();function s(c,d){c=c.toLowerCase();var y,b;if(r[c])y=r[c].key,b=r[c].iv;else if(a[c])y=a[c].key*8,b=a[c].iv;else throw new TypeError("invalid suite type");var x=n(d,!1,y,b);return h(c,x.key,x.iv)}i(s,"createCipher");function o(c,d){c=c.toLowerCase();var y,b;if(r[c])y=r[c].key,b=r[c].iv;else if(a[c])y=a[c].key*8,b=a[c].iv;else throw new TypeError("invalid suite type");var x=n(d,!1,y,b);return p(c,x.key,x.iv)}i(o,"createDecipher");function h(c,d,y){if(c=c.toLowerCase(),r[c])return t.createCipheriv(c,d,y);if(a[c])return new e({key:d,iv:y,mode:c});throw new TypeError("invalid suite type")}i(h,"createCipheriv");function p(c,d,y){if(c=c.toLowerCase(),r[c])return t.createDecipheriv(c,d,y);if(a[c])return new e({key:d,iv:y,mode:c,decrypt:!0});throw new TypeError("invalid suite type")}i(p,"createDecipheriv");function v(){return Object.keys(a).concat(t.getCiphers())}return i(v,"getCiphers"),ai.createCipher=ai.Cipher=s,ai.createCipheriv=ai.Cipheriv=h,ai.createDecipher=ai.Decipher=o,ai.createDecipheriv=ai.Decipheriv=p,ai.listCiphers=ai.getCiphers=v,ai}i(LP,"requireBrowser$5");var Qn={},Mu={exports:{}},BP=Mu.exports,Qw;function Nr(){return Qw||(Qw=1,(function(e){(function(t,r){function a(F,u){if(!F)throw new Error(u||"Assertion failed")}i(a,"assert");function n(F,u){F.super_=u;var g=i(function(){},"TempCtor");g.prototype=u.prototype,F.prototype=new g,F.prototype.constructor=F}i(n,"inherits");function s(F,u,g){if(s.isBN(F))return F;this.negative=0,this.words=null,this.length=0,this.red=null,F!==null&&((u==="le"||u==="be")&&(g=u,u=10),this._init(F||0,u||10,g||"be"))}i(s,"BN"),typeof t=="object"?t.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=ji.Buffer}catch{}s.isBN=i(function(u){return u instanceof s?!0:u!==null&&typeof u=="object"&&u.constructor.wordSize===s.wordSize&&Array.isArray(u.words)},"isBN"),s.max=i(function(u,g){return u.cmp(g)>0?u:g},"max"),s.min=i(function(u,g){return u.cmp(g)<0?u:g},"min"),s.prototype._init=i(function(u,g,l){if(typeof u=="number")return this._initNumber(u,g,l);if(typeof u=="object")return this._initArray(u,g,l);g==="hex"&&(g=16),a(g===(g|0)&&g>=2&&g<=36),u=u.toString().replace(/\s+/g,"");var m=0;u[0]==="-"&&(m++,this.negative=1),m<u.length&&(g===16?this._parseHex(u,m,l):(this._parseBase(u,g,m),l==="le"&&this._initArray(this.toArray(),g,l)))},"init"),s.prototype._initNumber=i(function(u,g,l){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[u&67108863],this.length=1):u<4503599627370496?(this.words=[u&67108863,u/67108864&67108863],this.length=2):(a(u<9007199254740992),this.words=[u&67108863,u/67108864&67108863,1],this.length=3),l==="le"&&this._initArray(this.toArray(),g,l)},"_initNumber"),s.prototype._initArray=i(function(u,g,l){if(a(typeof u.length=="number"),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var w,M,A=0;if(l==="be")for(m=u.length-1,w=0;m>=0;m-=3)M=u[m]|u[m-1]<<8|u[m-2]<<16,this.words[w]|=M<<A&67108863,this.words[w+1]=M>>>26-A&67108863,A+=24,A>=26&&(A-=26,w++);else if(l==="le")for(m=0,w=0;m<u.length;m+=3)M=u[m]|u[m+1]<<8|u[m+2]<<16,this.words[w]|=M<<A&67108863,this.words[w+1]=M>>>26-A&67108863,A+=24,A>=26&&(A-=26,w++);return this.strip()},"_initArray");function h(F,u){var g=F.charCodeAt(u);return g>=65&&g<=70?g-55:g>=97&&g<=102?g-87:g-48&15}i(h,"parseHex4Bits");function p(F,u,g){var l=h(F,g);return g-1>=u&&(l|=h(F,g-1)<<4),l}i(p,"parseHexByte"),s.prototype._parseHex=i(function(u,g,l){this.length=Math.ceil((u.length-g)/6),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var w=0,M=0,A;if(l==="be")for(m=u.length-1;m>=g;m-=2)A=p(u,g,m)<<w,this.words[M]|=A&67108863,w>=18?(w-=18,M+=1,this.words[M]|=A>>>26):w+=8;else{var S=u.length-g;for(m=S%2===0?g+1:g;m<u.length;m+=2)A=p(u,g,m)<<w,this.words[M]|=A&67108863,w>=18?(w-=18,M+=1,this.words[M]|=A>>>26):w+=8}this.strip()},"_parseHex");function v(F,u,g,l){for(var m=0,w=Math.min(F.length,g),M=u;M<w;M++){var A=F.charCodeAt(M)-48;m*=l,A>=49?m+=A-49+10:A>=17?m+=A-17+10:m+=A}return m}i(v,"parseBase"),s.prototype._parseBase=i(function(u,g,l){this.words=[0],this.length=1;for(var m=0,w=1;w<=67108863;w*=g)m++;m--,w=w/g|0;for(var M=u.length-l,A=M%m,S=Math.min(M,M-A)+l,f=0,_=l;_<S;_+=m)f=v(u,_,_+m,g),this.imuln(w),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(A!==0){var E=1;for(f=v(u,_,u.length,g),_=0;_<A;_++)E*=g;this.imuln(E),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this.strip()},"_parseBase"),s.prototype.copy=i(function(u){u.words=new Array(this.length);for(var g=0;g<this.length;g++)u.words[g]=this.words[g];u.length=this.length,u.negative=this.negative,u.red=this.red},"copy"),s.prototype.clone=i(function(){var u=new s(null);return this.copy(u),u},"clone"),s.prototype._expand=i(function(u){for(;this.length<u;)this.words[this.length++]=0;return this},"_expand"),s.prototype.strip=i(function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},"strip"),s.prototype._normSign=i(function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},"_normSign"),s.prototype.inspect=i(function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"},"inspect");var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=i(function(u,g){u=u||10,g=g|0||1;var l;if(u===16||u==="hex"){l="";for(var m=0,w=0,M=0;M<this.length;M++){var A=this.words[M],S=((A<<m|w)&16777215).toString(16);w=A>>>24-m&16777215,m+=2,m>=26&&(m-=26,M--),w!==0||M!==this.length-1?l=c[6-S.length]+S+l:l=S+l}for(w!==0&&(l=w.toString(16)+l);l.length%g!==0;)l="0"+l;return this.negative!==0&&(l="-"+l),l}if(u===(u|0)&&u>=2&&u<=36){var f=d[u],_=y[u];l="";var E=this.clone();for(E.negative=0;!E.isZero();){var I=E.modn(_).toString(u);E=E.idivn(_),E.isZero()?l=I+l:l=c[f-I.length]+I+l}for(this.isZero()&&(l="0"+l);l.length%g!==0;)l="0"+l;return this.negative!==0&&(l="-"+l),l}a(!1,"Base should be between 2 and 36")},"toString"),s.prototype.toNumber=i(function(){var u=this.words[0];return this.length===2?u+=this.words[1]*67108864:this.length===3&&this.words[2]===1?u+=4503599627370496+this.words[1]*67108864:this.length>2&&a(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-u:u},"toNumber"),s.prototype.toJSON=i(function(){return this.toString(16)},"toJSON"),s.prototype.toBuffer=i(function(u,g){return a(typeof o<"u"),this.toArrayLike(o,u,g)},"toBuffer"),s.prototype.toArray=i(function(u,g){return this.toArrayLike(Array,u,g)},"toArray"),s.prototype.toArrayLike=i(function(u,g,l){var m=this.byteLength(),w=l||Math.max(1,m);a(m<=w,"byte array longer than desired length"),a(w>0,"Requested array length <= 0"),this.strip();var M=g==="le",A=new u(w),S,f,_=this.clone();if(M){for(f=0;!_.isZero();f++)S=_.andln(255),_.iushrn(8),A[f]=S;for(;f<w;f++)A[f]=0}else{for(f=0;f<w-m;f++)A[f]=0;for(f=0;!_.isZero();f++)S=_.andln(255),_.iushrn(8),A[w-f-1]=S}return A},"toArrayLike"),Math.clz32?s.prototype._countBits=i(function(u){return 32-Math.clz32(u)},"_countBits"):s.prototype._countBits=i(function(u){var g=u,l=0;return g>=4096&&(l+=13,g>>>=13),g>=64&&(l+=7,g>>>=7),g>=8&&(l+=4,g>>>=4),g>=2&&(l+=2,g>>>=2),l+g},"_countBits"),s.prototype._zeroBits=i(function(u){if(u===0)return 26;var g=u,l=0;return(g&8191)===0&&(l+=13,g>>>=13),(g&127)===0&&(l+=7,g>>>=7),(g&15)===0&&(l+=4,g>>>=4),(g&3)===0&&(l+=2,g>>>=2),(g&1)===0&&l++,l},"_zeroBits"),s.prototype.bitLength=i(function(){var u=this.words[this.length-1],g=this._countBits(u);return(this.length-1)*26+g},"bitLength");function b(F){for(var u=new Array(F.bitLength()),g=0;g<u.length;g++){var l=g/26|0,m=g%26;u[g]=(F.words[l]&1<<m)>>>m}return u}i(b,"toBitArray"),s.prototype.zeroBits=i(function(){if(this.isZero())return 0;for(var u=0,g=0;g<this.length;g++){var l=this._zeroBits(this.words[g]);if(u+=l,l!==26)break}return u},"zeroBits"),s.prototype.byteLength=i(function(){return Math.ceil(this.bitLength()/8)},"byteLength"),s.prototype.toTwos=i(function(u){return this.negative!==0?this.abs().inotn(u).iaddn(1):this.clone()},"toTwos"),s.prototype.fromTwos=i(function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},"fromTwos"),s.prototype.isNeg=i(function(){return this.negative!==0},"isNeg"),s.prototype.neg=i(function(){return this.clone().ineg()},"neg"),s.prototype.ineg=i(function(){return this.isZero()||(this.negative^=1),this},"ineg"),s.prototype.iuor=i(function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var g=0;g<u.length;g++)this.words[g]=this.words[g]|u.words[g];return this.strip()},"iuor"),s.prototype.ior=i(function(u){return a((this.negative|u.negative)===0),this.iuor(u)},"ior"),s.prototype.or=i(function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},"or"),s.prototype.uor=i(function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},"uor"),s.prototype.iuand=i(function(u){var g;this.length>u.length?g=u:g=this;for(var l=0;l<g.length;l++)this.words[l]=this.words[l]&u.words[l];return this.length=g.length,this.strip()},"iuand"),s.prototype.iand=i(function(u){return a((this.negative|u.negative)===0),this.iuand(u)},"iand"),s.prototype.and=i(function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},"and"),s.prototype.uand=i(function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},"uand"),s.prototype.iuxor=i(function(u){var g,l;this.length>u.length?(g=this,l=u):(g=u,l=this);for(var m=0;m<l.length;m++)this.words[m]=g.words[m]^l.words[m];if(this!==g)for(;m<g.length;m++)this.words[m]=g.words[m];return this.length=g.length,this.strip()},"iuxor"),s.prototype.ixor=i(function(u){return a((this.negative|u.negative)===0),this.iuxor(u)},"ixor"),s.prototype.xor=i(function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},"xor"),s.prototype.uxor=i(function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},"uxor"),s.prototype.inotn=i(function(u){a(typeof u=="number"&&u>=0);var g=Math.ceil(u/26)|0,l=u%26;this._expand(g),l>0&&g--;for(var m=0;m<g;m++)this.words[m]=~this.words[m]&67108863;return l>0&&(this.words[m]=~this.words[m]&67108863>>26-l),this.strip()},"inotn"),s.prototype.notn=i(function(u){return this.clone().inotn(u)},"notn"),s.prototype.setn=i(function(u,g){a(typeof u=="number"&&u>=0);var l=u/26|0,m=u%26;return this._expand(l+1),g?this.words[l]=this.words[l]|1<<m:this.words[l]=this.words[l]&~(1<<m),this.strip()},"setn"),s.prototype.iadd=i(function(u){var g;if(this.negative!==0&&u.negative===0)return this.negative=0,g=this.isub(u),this.negative^=1,this._normSign();if(this.negative===0&&u.negative!==0)return u.negative=0,g=this.isub(u),u.negative=1,g._normSign();var l,m;this.length>u.length?(l=this,m=u):(l=u,m=this);for(var w=0,M=0;M<m.length;M++)g=(l.words[M]|0)+(m.words[M]|0)+w,this.words[M]=g&67108863,w=g>>>26;for(;w!==0&&M<l.length;M++)g=(l.words[M]|0)+w,this.words[M]=g&67108863,w=g>>>26;if(this.length=l.length,w!==0)this.words[this.length]=w,this.length++;else if(l!==this)for(;M<l.length;M++)this.words[M]=l.words[M];return this},"iadd"),s.prototype.add=i(function(u){var g;return u.negative!==0&&this.negative===0?(u.negative=0,g=this.sub(u),u.negative^=1,g):u.negative===0&&this.negative!==0?(this.negative=0,g=u.sub(this),this.negative=1,g):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},"add"),s.prototype.isub=i(function(u){if(u.negative!==0){u.negative=0;var g=this.iadd(u);return u.negative=1,g._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var l=this.cmp(u);if(l===0)return this.negative=0,this.length=1,this.words[0]=0,this;var m,w;l>0?(m=this,w=u):(m=u,w=this);for(var M=0,A=0;A<w.length;A++)g=(m.words[A]|0)-(w.words[A]|0)+M,M=g>>26,this.words[A]=g&67108863;for(;M!==0&&A<m.length;A++)g=(m.words[A]|0)+M,M=g>>26,this.words[A]=g&67108863;if(M===0&&A<m.length&&m!==this)for(;A<m.length;A++)this.words[A]=m.words[A];return this.length=Math.max(this.length,A),m!==this&&(this.negative=1),this.strip()},"isub"),s.prototype.sub=i(function(u){return this.clone().isub(u)},"sub");function x(F,u,g){g.negative=u.negative^F.negative;var l=F.length+u.length|0;g.length=l,l=l-1|0;var m=F.words[0]|0,w=u.words[0]|0,M=m*w,A=M&67108863,S=M/67108864|0;g.words[0]=A;for(var f=1;f<l;f++){for(var _=S>>>26,E=S&67108863,I=Math.min(f,u.length-1),D=Math.max(0,f-F.length+1);D<=I;D++){var L=f-D|0;m=F.words[L]|0,w=u.words[D]|0,M=m*w+E,_+=M/67108864|0,E=M&67108863}g.words[f]=E|0,S=_|0}return S!==0?g.words[f]=S|0:g.length--,g.strip()}i(x,"smallMulTo");var k=i(function(u,g,l){var m=u.words,w=g.words,M=l.words,A=0,S,f,_,E=m[0]|0,I=E&8191,D=E>>>13,L=m[1]|0,U=L&8191,B=L>>>13,G=m[2]|0,H=G&8191,K=G>>>13,_e=m[3]|0,ae=_e&8191,se=_e>>>13,ye=m[4]|0,q=ye&8191,re=ye>>>13,X=m[5]|0,W=X&8191,le=X>>>13,ke=m[6]|0,pe=ke&8191,fe=ke>>>13,Q=m[7]|0,Y=Q&8191,te=Q>>>13,he=m[8]|0,oe=he&8191,ue=he>>>13,ze=m[9]|0,we=ze&8191,Be=ze>>>13,We=w[0]|0,ve=We&8191,Ue=We>>>13,ce=w[1]|0,be=ce&8191,Te=ce>>>13,Re=w[2]|0,Ae=Re&8191,$e=Re>>>13,Ye=w[3]|0,Ne=Ye&8191,Ee=Ye>>>13,Pe=w[4]|0,Se=Pe&8191,Ze=Pe>>>13,Ke=w[5]|0,ie=Ke&8191,me=Ke>>>13,Ce=w[6]|0,xe=Ce&8191,Oe=Ce>>>13,He=w[7]|0,ne=He&8191,je=He>>>13,Ge=w[8]|0,ge=Ge&8191,Je=Ge>>>13,tt=w[9]|0,De=tt&8191,Qe=tt>>>13;l.negative=u.negative^g.negative,l.length=19,S=Math.imul(I,ve),f=Math.imul(I,Ue),f=f+Math.imul(D,ve)|0,_=Math.imul(D,Ue);var Ie=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,S=Math.imul(U,ve),f=Math.imul(U,Ue),f=f+Math.imul(B,ve)|0,_=Math.imul(B,Ue),S=S+Math.imul(I,be)|0,f=f+Math.imul(I,Te)|0,f=f+Math.imul(D,be)|0,_=_+Math.imul(D,Te)|0;var Fe=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,S=Math.imul(H,ve),f=Math.imul(H,Ue),f=f+Math.imul(K,ve)|0,_=Math.imul(K,Ue),S=S+Math.imul(U,be)|0,f=f+Math.imul(U,Te)|0,f=f+Math.imul(B,be)|0,_=_+Math.imul(B,Te)|0,S=S+Math.imul(I,Ae)|0,f=f+Math.imul(I,$e)|0,f=f+Math.imul(D,Ae)|0,_=_+Math.imul(D,$e)|0;var lt=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(lt>>>26)|0,lt&=67108863,S=Math.imul(ae,ve),f=Math.imul(ae,Ue),f=f+Math.imul(se,ve)|0,_=Math.imul(se,Ue),S=S+Math.imul(H,be)|0,f=f+Math.imul(H,Te)|0,f=f+Math.imul(K,be)|0,_=_+Math.imul(K,Te)|0,S=S+Math.imul(U,Ae)|0,f=f+Math.imul(U,$e)|0,f=f+Math.imul(B,Ae)|0,_=_+Math.imul(B,$e)|0,S=S+Math.imul(I,Ne)|0,f=f+Math.imul(I,Ee)|0,f=f+Math.imul(D,Ne)|0,_=_+Math.imul(D,Ee)|0;var yt=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(yt>>>26)|0,yt&=67108863,S=Math.imul(q,ve),f=Math.imul(q,Ue),f=f+Math.imul(re,ve)|0,_=Math.imul(re,Ue),S=S+Math.imul(ae,be)|0,f=f+Math.imul(ae,Te)|0,f=f+Math.imul(se,be)|0,_=_+Math.imul(se,Te)|0,S=S+Math.imul(H,Ae)|0,f=f+Math.imul(H,$e)|0,f=f+Math.imul(K,Ae)|0,_=_+Math.imul(K,$e)|0,S=S+Math.imul(U,Ne)|0,f=f+Math.imul(U,Ee)|0,f=f+Math.imul(B,Ne)|0,_=_+Math.imul(B,Ee)|0,S=S+Math.imul(I,Se)|0,f=f+Math.imul(I,Ze)|0,f=f+Math.imul(D,Se)|0,_=_+Math.imul(D,Ze)|0;var ht=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(ht>>>26)|0,ht&=67108863,S=Math.imul(W,ve),f=Math.imul(W,Ue),f=f+Math.imul(le,ve)|0,_=Math.imul(le,Ue),S=S+Math.imul(q,be)|0,f=f+Math.imul(q,Te)|0,f=f+Math.imul(re,be)|0,_=_+Math.imul(re,Te)|0,S=S+Math.imul(ae,Ae)|0,f=f+Math.imul(ae,$e)|0,f=f+Math.imul(se,Ae)|0,_=_+Math.imul(se,$e)|0,S=S+Math.imul(H,Ne)|0,f=f+Math.imul(H,Ee)|0,f=f+Math.imul(K,Ne)|0,_=_+Math.imul(K,Ee)|0,S=S+Math.imul(U,Se)|0,f=f+Math.imul(U,Ze)|0,f=f+Math.imul(B,Se)|0,_=_+Math.imul(B,Ze)|0,S=S+Math.imul(I,ie)|0,f=f+Math.imul(I,me)|0,f=f+Math.imul(D,ie)|0,_=_+Math.imul(D,me)|0;var Mt=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,S=Math.imul(pe,ve),f=Math.imul(pe,Ue),f=f+Math.imul(fe,ve)|0,_=Math.imul(fe,Ue),S=S+Math.imul(W,be)|0,f=f+Math.imul(W,Te)|0,f=f+Math.imul(le,be)|0,_=_+Math.imul(le,Te)|0,S=S+Math.imul(q,Ae)|0,f=f+Math.imul(q,$e)|0,f=f+Math.imul(re,Ae)|0,_=_+Math.imul(re,$e)|0,S=S+Math.imul(ae,Ne)|0,f=f+Math.imul(ae,Ee)|0,f=f+Math.imul(se,Ne)|0,_=_+Math.imul(se,Ee)|0,S=S+Math.imul(H,Se)|0,f=f+Math.imul(H,Ze)|0,f=f+Math.imul(K,Se)|0,_=_+Math.imul(K,Ze)|0,S=S+Math.imul(U,ie)|0,f=f+Math.imul(U,me)|0,f=f+Math.imul(B,ie)|0,_=_+Math.imul(B,me)|0,S=S+Math.imul(I,xe)|0,f=f+Math.imul(I,Oe)|0,f=f+Math.imul(D,xe)|0,_=_+Math.imul(D,Oe)|0;var Bt=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,S=Math.imul(Y,ve),f=Math.imul(Y,Ue),f=f+Math.imul(te,ve)|0,_=Math.imul(te,Ue),S=S+Math.imul(pe,be)|0,f=f+Math.imul(pe,Te)|0,f=f+Math.imul(fe,be)|0,_=_+Math.imul(fe,Te)|0,S=S+Math.imul(W,Ae)|0,f=f+Math.imul(W,$e)|0,f=f+Math.imul(le,Ae)|0,_=_+Math.imul(le,$e)|0,S=S+Math.imul(q,Ne)|0,f=f+Math.imul(q,Ee)|0,f=f+Math.imul(re,Ne)|0,_=_+Math.imul(re,Ee)|0,S=S+Math.imul(ae,Se)|0,f=f+Math.imul(ae,Ze)|0,f=f+Math.imul(se,Se)|0,_=_+Math.imul(se,Ze)|0,S=S+Math.imul(H,ie)|0,f=f+Math.imul(H,me)|0,f=f+Math.imul(K,ie)|0,_=_+Math.imul(K,me)|0,S=S+Math.imul(U,xe)|0,f=f+Math.imul(U,Oe)|0,f=f+Math.imul(B,xe)|0,_=_+Math.imul(B,Oe)|0,S=S+Math.imul(I,ne)|0,f=f+Math.imul(I,je)|0,f=f+Math.imul(D,ne)|0,_=_+Math.imul(D,je)|0;var Et=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(Et>>>26)|0,Et&=67108863,S=Math.imul(oe,ve),f=Math.imul(oe,Ue),f=f+Math.imul(ue,ve)|0,_=Math.imul(ue,Ue),S=S+Math.imul(Y,be)|0,f=f+Math.imul(Y,Te)|0,f=f+Math.imul(te,be)|0,_=_+Math.imul(te,Te)|0,S=S+Math.imul(pe,Ae)|0,f=f+Math.imul(pe,$e)|0,f=f+Math.imul(fe,Ae)|0,_=_+Math.imul(fe,$e)|0,S=S+Math.imul(W,Ne)|0,f=f+Math.imul(W,Ee)|0,f=f+Math.imul(le,Ne)|0,_=_+Math.imul(le,Ee)|0,S=S+Math.imul(q,Se)|0,f=f+Math.imul(q,Ze)|0,f=f+Math.imul(re,Se)|0,_=_+Math.imul(re,Ze)|0,S=S+Math.imul(ae,ie)|0,f=f+Math.imul(ae,me)|0,f=f+Math.imul(se,ie)|0,_=_+Math.imul(se,me)|0,S=S+Math.imul(H,xe)|0,f=f+Math.imul(H,Oe)|0,f=f+Math.imul(K,xe)|0,_=_+Math.imul(K,Oe)|0,S=S+Math.imul(U,ne)|0,f=f+Math.imul(U,je)|0,f=f+Math.imul(B,ne)|0,_=_+Math.imul(B,je)|0,S=S+Math.imul(I,ge)|0,f=f+Math.imul(I,Je)|0,f=f+Math.imul(D,ge)|0,_=_+Math.imul(D,Je)|0;var _t=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(_t>>>26)|0,_t&=67108863,S=Math.imul(we,ve),f=Math.imul(we,Ue),f=f+Math.imul(Be,ve)|0,_=Math.imul(Be,Ue),S=S+Math.imul(oe,be)|0,f=f+Math.imul(oe,Te)|0,f=f+Math.imul(ue,be)|0,_=_+Math.imul(ue,Te)|0,S=S+Math.imul(Y,Ae)|0,f=f+Math.imul(Y,$e)|0,f=f+Math.imul(te,Ae)|0,_=_+Math.imul(te,$e)|0,S=S+Math.imul(pe,Ne)|0,f=f+Math.imul(pe,Ee)|0,f=f+Math.imul(fe,Ne)|0,_=_+Math.imul(fe,Ee)|0,S=S+Math.imul(W,Se)|0,f=f+Math.imul(W,Ze)|0,f=f+Math.imul(le,Se)|0,_=_+Math.imul(le,Ze)|0,S=S+Math.imul(q,ie)|0,f=f+Math.imul(q,me)|0,f=f+Math.imul(re,ie)|0,_=_+Math.imul(re,me)|0,S=S+Math.imul(ae,xe)|0,f=f+Math.imul(ae,Oe)|0,f=f+Math.imul(se,xe)|0,_=_+Math.imul(se,Oe)|0,S=S+Math.imul(H,ne)|0,f=f+Math.imul(H,je)|0,f=f+Math.imul(K,ne)|0,_=_+Math.imul(K,je)|0,S=S+Math.imul(U,ge)|0,f=f+Math.imul(U,Je)|0,f=f+Math.imul(B,ge)|0,_=_+Math.imul(B,Je)|0,S=S+Math.imul(I,De)|0,f=f+Math.imul(I,Qe)|0,f=f+Math.imul(D,De)|0,_=_+Math.imul(D,Qe)|0;var Ft=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,S=Math.imul(we,be),f=Math.imul(we,Te),f=f+Math.imul(Be,be)|0,_=Math.imul(Be,Te),S=S+Math.imul(oe,Ae)|0,f=f+Math.imul(oe,$e)|0,f=f+Math.imul(ue,Ae)|0,_=_+Math.imul(ue,$e)|0,S=S+Math.imul(Y,Ne)|0,f=f+Math.imul(Y,Ee)|0,f=f+Math.imul(te,Ne)|0,_=_+Math.imul(te,Ee)|0,S=S+Math.imul(pe,Se)|0,f=f+Math.imul(pe,Ze)|0,f=f+Math.imul(fe,Se)|0,_=_+Math.imul(fe,Ze)|0,S=S+Math.imul(W,ie)|0,f=f+Math.imul(W,me)|0,f=f+Math.imul(le,ie)|0,_=_+Math.imul(le,me)|0,S=S+Math.imul(q,xe)|0,f=f+Math.imul(q,Oe)|0,f=f+Math.imul(re,xe)|0,_=_+Math.imul(re,Oe)|0,S=S+Math.imul(ae,ne)|0,f=f+Math.imul(ae,je)|0,f=f+Math.imul(se,ne)|0,_=_+Math.imul(se,je)|0,S=S+Math.imul(H,ge)|0,f=f+Math.imul(H,Je)|0,f=f+Math.imul(K,ge)|0,_=_+Math.imul(K,Je)|0,S=S+Math.imul(U,De)|0,f=f+Math.imul(U,Qe)|0,f=f+Math.imul(B,De)|0,_=_+Math.imul(B,Qe)|0;var Vt=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,S=Math.imul(we,Ae),f=Math.imul(we,$e),f=f+Math.imul(Be,Ae)|0,_=Math.imul(Be,$e),S=S+Math.imul(oe,Ne)|0,f=f+Math.imul(oe,Ee)|0,f=f+Math.imul(ue,Ne)|0,_=_+Math.imul(ue,Ee)|0,S=S+Math.imul(Y,Se)|0,f=f+Math.imul(Y,Ze)|0,f=f+Math.imul(te,Se)|0,_=_+Math.imul(te,Ze)|0,S=S+Math.imul(pe,ie)|0,f=f+Math.imul(pe,me)|0,f=f+Math.imul(fe,ie)|0,_=_+Math.imul(fe,me)|0,S=S+Math.imul(W,xe)|0,f=f+Math.imul(W,Oe)|0,f=f+Math.imul(le,xe)|0,_=_+Math.imul(le,Oe)|0,S=S+Math.imul(q,ne)|0,f=f+Math.imul(q,je)|0,f=f+Math.imul(re,ne)|0,_=_+Math.imul(re,je)|0,S=S+Math.imul(ae,ge)|0,f=f+Math.imul(ae,Je)|0,f=f+Math.imul(se,ge)|0,_=_+Math.imul(se,Je)|0,S=S+Math.imul(H,De)|0,f=f+Math.imul(H,Qe)|0,f=f+Math.imul(K,De)|0,_=_+Math.imul(K,Qe)|0;var Tt=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,S=Math.imul(we,Ne),f=Math.imul(we,Ee),f=f+Math.imul(Be,Ne)|0,_=Math.imul(Be,Ee),S=S+Math.imul(oe,Se)|0,f=f+Math.imul(oe,Ze)|0,f=f+Math.imul(ue,Se)|0,_=_+Math.imul(ue,Ze)|0,S=S+Math.imul(Y,ie)|0,f=f+Math.imul(Y,me)|0,f=f+Math.imul(te,ie)|0,_=_+Math.imul(te,me)|0,S=S+Math.imul(pe,xe)|0,f=f+Math.imul(pe,Oe)|0,f=f+Math.imul(fe,xe)|0,_=_+Math.imul(fe,Oe)|0,S=S+Math.imul(W,ne)|0,f=f+Math.imul(W,je)|0,f=f+Math.imul(le,ne)|0,_=_+Math.imul(le,je)|0,S=S+Math.imul(q,ge)|0,f=f+Math.imul(q,Je)|0,f=f+Math.imul(re,ge)|0,_=_+Math.imul(re,Je)|0,S=S+Math.imul(ae,De)|0,f=f+Math.imul(ae,Qe)|0,f=f+Math.imul(se,De)|0,_=_+Math.imul(se,Qe)|0;var zt=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(zt>>>26)|0,zt&=67108863,S=Math.imul(we,Se),f=Math.imul(we,Ze),f=f+Math.imul(Be,Se)|0,_=Math.imul(Be,Ze),S=S+Math.imul(oe,ie)|0,f=f+Math.imul(oe,me)|0,f=f+Math.imul(ue,ie)|0,_=_+Math.imul(ue,me)|0,S=S+Math.imul(Y,xe)|0,f=f+Math.imul(Y,Oe)|0,f=f+Math.imul(te,xe)|0,_=_+Math.imul(te,Oe)|0,S=S+Math.imul(pe,ne)|0,f=f+Math.imul(pe,je)|0,f=f+Math.imul(fe,ne)|0,_=_+Math.imul(fe,je)|0,S=S+Math.imul(W,ge)|0,f=f+Math.imul(W,Je)|0,f=f+Math.imul(le,ge)|0,_=_+Math.imul(le,Je)|0,S=S+Math.imul(q,De)|0,f=f+Math.imul(q,Qe)|0,f=f+Math.imul(re,De)|0,_=_+Math.imul(re,Qe)|0;var Nt=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,S=Math.imul(we,ie),f=Math.imul(we,me),f=f+Math.imul(Be,ie)|0,_=Math.imul(Be,me),S=S+Math.imul(oe,xe)|0,f=f+Math.imul(oe,Oe)|0,f=f+Math.imul(ue,xe)|0,_=_+Math.imul(ue,Oe)|0,S=S+Math.imul(Y,ne)|0,f=f+Math.imul(Y,je)|0,f=f+Math.imul(te,ne)|0,_=_+Math.imul(te,je)|0,S=S+Math.imul(pe,ge)|0,f=f+Math.imul(pe,Je)|0,f=f+Math.imul(fe,ge)|0,_=_+Math.imul(fe,Je)|0,S=S+Math.imul(W,De)|0,f=f+Math.imul(W,Qe)|0,f=f+Math.imul(le,De)|0,_=_+Math.imul(le,Qe)|0;var Pt=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,S=Math.imul(we,xe),f=Math.imul(we,Oe),f=f+Math.imul(Be,xe)|0,_=Math.imul(Be,Oe),S=S+Math.imul(oe,ne)|0,f=f+Math.imul(oe,je)|0,f=f+Math.imul(ue,ne)|0,_=_+Math.imul(ue,je)|0,S=S+Math.imul(Y,ge)|0,f=f+Math.imul(Y,Je)|0,f=f+Math.imul(te,ge)|0,_=_+Math.imul(te,Je)|0,S=S+Math.imul(pe,De)|0,f=f+Math.imul(pe,Qe)|0,f=f+Math.imul(fe,De)|0,_=_+Math.imul(fe,Qe)|0;var Ut=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,S=Math.imul(we,ne),f=Math.imul(we,je),f=f+Math.imul(Be,ne)|0,_=Math.imul(Be,je),S=S+Math.imul(oe,ge)|0,f=f+Math.imul(oe,Je)|0,f=f+Math.imul(ue,ge)|0,_=_+Math.imul(ue,Je)|0,S=S+Math.imul(Y,De)|0,f=f+Math.imul(Y,Qe)|0,f=f+Math.imul(te,De)|0,_=_+Math.imul(te,Qe)|0;var Zt=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,S=Math.imul(we,ge),f=Math.imul(we,Je),f=f+Math.imul(Be,ge)|0,_=Math.imul(Be,Je),S=S+Math.imul(oe,De)|0,f=f+Math.imul(oe,Qe)|0,f=f+Math.imul(ue,De)|0,_=_+Math.imul(ue,Qe)|0;var Ht=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,S=Math.imul(we,De),f=Math.imul(we,Qe),f=f+Math.imul(Be,De)|0,_=Math.imul(Be,Qe);var Jt=(A+S|0)+((f&8191)<<13)|0;return A=(_+(f>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,M[0]=Ie,M[1]=Fe,M[2]=lt,M[3]=yt,M[4]=ht,M[5]=Mt,M[6]=Bt,M[7]=Et,M[8]=_t,M[9]=Ft,M[10]=Vt,M[11]=Tt,M[12]=zt,M[13]=Nt,M[14]=Pt,M[15]=Ut,M[16]=Zt,M[17]=Ht,M[18]=Jt,A!==0&&(M[19]=A,l.length++),l},"comb10MulTo");Math.imul||(k=x);function N(F,u,g){g.negative=u.negative^F.negative,g.length=F.length+u.length;for(var l=0,m=0,w=0;w<g.length-1;w++){var M=m;m=0;for(var A=l&67108863,S=Math.min(w,u.length-1),f=Math.max(0,w-F.length+1);f<=S;f++){var _=w-f,E=F.words[_]|0,I=u.words[f]|0,D=E*I,L=D&67108863;M=M+(D/67108864|0)|0,L=L+A|0,A=L&67108863,M=M+(L>>>26)|0,m+=M>>>26,M&=67108863}g.words[w]=A,l=M,M=m}return l!==0?g.words[w]=l:g.length--,g.strip()}i(N,"bigMulTo");function C(F,u,g){var l=new R;return l.mulp(F,u,g)}i(C,"jumboMulTo"),s.prototype.mulTo=i(function(u,g){var l,m=this.length+u.length;return this.length===10&&u.length===10?l=k(this,u,g):m<63?l=x(this,u,g):m<1024?l=N(this,u,g):l=C(this,u,g),l},"mulTo");function R(F,u){this.x=F,this.y=u}i(R,"FFTM"),R.prototype.makeRBT=i(function(u){for(var g=new Array(u),l=s.prototype._countBits(u)-1,m=0;m<u;m++)g[m]=this.revBin(m,l,u);return g},"makeRBT"),R.prototype.revBin=i(function(u,g,l){if(u===0||u===l-1)return u;for(var m=0,w=0;w<g;w++)m|=(u&1)<<g-w-1,u>>=1;return m},"revBin"),R.prototype.permute=i(function(u,g,l,m,w,M){for(var A=0;A<M;A++)m[A]=g[u[A]],w[A]=l[u[A]]},"permute"),R.prototype.transform=i(function(u,g,l,m,w,M){this.permute(M,u,g,l,m,w);for(var A=1;A<w;A<<=1)for(var S=A<<1,f=Math.cos(2*Math.PI/S),_=Math.sin(2*Math.PI/S),E=0;E<w;E+=S)for(var I=f,D=_,L=0;L<A;L++){var U=l[E+L],B=m[E+L],G=l[E+L+A],H=m[E+L+A],K=I*G-D*H;H=I*H+D*G,G=K,l[E+L]=U+G,m[E+L]=B+H,l[E+L+A]=U-G,m[E+L+A]=B-H,L!==S&&(K=f*I-_*D,D=f*D+_*I,I=K)}},"transform"),R.prototype.guessLen13b=i(function(u,g){var l=Math.max(g,u)|1,m=l&1,w=0;for(l=l/2|0;l;l=l>>>1)w++;return 1<<w+1+m},"guessLen13b"),R.prototype.conjugate=i(function(u,g,l){if(!(l<=1))for(var m=0;m<l/2;m++){var w=u[m];u[m]=u[l-m-1],u[l-m-1]=w,w=g[m],g[m]=-g[l-m-1],g[l-m-1]=-w}},"conjugate"),R.prototype.normalize13b=i(function(u,g){for(var l=0,m=0;m<g/2;m++){var w=Math.round(u[2*m+1]/g)*8192+Math.round(u[2*m]/g)+l;u[m]=w&67108863,w<67108864?l=0:l=w/67108864|0}return u},"normalize13b"),R.prototype.convert13b=i(function(u,g,l,m){for(var w=0,M=0;M<g;M++)w=w+(u[M]|0),l[2*M]=w&8191,w=w>>>13,l[2*M+1]=w&8191,w=w>>>13;for(M=2*g;M<m;++M)l[M]=0;a(w===0),a((w&-8192)===0)},"convert13b"),R.prototype.stub=i(function(u){for(var g=new Array(u),l=0;l<u;l++)g[l]=0;return g},"stub"),R.prototype.mulp=i(function(u,g,l){var m=2*this.guessLen13b(u.length,g.length),w=this.makeRBT(m),M=this.stub(m),A=new Array(m),S=new Array(m),f=new Array(m),_=new Array(m),E=new Array(m),I=new Array(m),D=l.words;D.length=m,this.convert13b(u.words,u.length,A,m),this.convert13b(g.words,g.length,_,m),this.transform(A,M,S,f,m,w),this.transform(_,M,E,I,m,w);for(var L=0;L<m;L++){var U=S[L]*E[L]-f[L]*I[L];f[L]=S[L]*I[L]+f[L]*E[L],S[L]=U}return this.conjugate(S,f,m),this.transform(S,f,D,M,m,w),this.conjugate(D,M,m),this.normalize13b(D,m),l.negative=u.negative^g.negative,l.length=u.length+g.length,l.strip()},"mulp"),s.prototype.mul=i(function(u){var g=new s(null);return g.words=new Array(this.length+u.length),this.mulTo(u,g)},"mul"),s.prototype.mulf=i(function(u){var g=new s(null);return g.words=new Array(this.length+u.length),C(this,u,g)},"mulf"),s.prototype.imul=i(function(u){return this.clone().mulTo(u,this)},"imul"),s.prototype.imuln=i(function(u){a(typeof u=="number"),a(u<67108864);for(var g=0,l=0;l<this.length;l++){var m=(this.words[l]|0)*u,w=(m&67108863)+(g&67108863);g>>=26,g+=m/67108864|0,g+=w>>>26,this.words[l]=w&67108863}return g!==0&&(this.words[l]=g,this.length++),this.length=u===0?1:this.length,this},"imuln"),s.prototype.muln=i(function(u){return this.clone().imuln(u)},"muln"),s.prototype.sqr=i(function(){return this.mul(this)},"sqr"),s.prototype.isqr=i(function(){return this.imul(this.clone())},"isqr"),s.prototype.pow=i(function(u){var g=b(u);if(g.length===0)return new s(1);for(var l=this,m=0;m<g.length&&g[m]===0;m++,l=l.sqr());if(++m<g.length)for(var w=l.sqr();m<g.length;m++,w=w.sqr())g[m]!==0&&(l=l.mul(w));return l},"pow"),s.prototype.iushln=i(function(u){a(typeof u=="number"&&u>=0);var g=u%26,l=(u-g)/26,m=67108863>>>26-g<<26-g,w;if(g!==0){var M=0;for(w=0;w<this.length;w++){var A=this.words[w]&m,S=(this.words[w]|0)-A<<g;this.words[w]=S|M,M=A>>>26-g}M&&(this.words[w]=M,this.length++)}if(l!==0){for(w=this.length-1;w>=0;w--)this.words[w+l]=this.words[w];for(w=0;w<l;w++)this.words[w]=0;this.length+=l}return this.strip()},"iushln"),s.prototype.ishln=i(function(u){return a(this.negative===0),this.iushln(u)},"ishln"),s.prototype.iushrn=i(function(u,g,l){a(typeof u=="number"&&u>=0);var m;g?m=(g-g%26)/26:m=0;var w=u%26,M=Math.min((u-w)/26,this.length),A=67108863^67108863>>>w<<w,S=l;if(m-=M,m=Math.max(0,m),S){for(var f=0;f<M;f++)S.words[f]=this.words[f];S.length=M}if(M!==0)if(this.length>M)for(this.length-=M,f=0;f<this.length;f++)this.words[f]=this.words[f+M];else this.words[0]=0,this.length=1;var _=0;for(f=this.length-1;f>=0&&(_!==0||f>=m);f--){var E=this.words[f]|0;this.words[f]=_<<26-w|E>>>w,_=E&A}return S&&_!==0&&(S.words[S.length++]=_),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},"iushrn"),s.prototype.ishrn=i(function(u,g,l){return a(this.negative===0),this.iushrn(u,g,l)},"ishrn"),s.prototype.shln=i(function(u){return this.clone().ishln(u)},"shln"),s.prototype.ushln=i(function(u){return this.clone().iushln(u)},"ushln"),s.prototype.shrn=i(function(u){return this.clone().ishrn(u)},"shrn"),s.prototype.ushrn=i(function(u){return this.clone().iushrn(u)},"ushrn"),s.prototype.testn=i(function(u){a(typeof u=="number"&&u>=0);var g=u%26,l=(u-g)/26,m=1<<g;if(this.length<=l)return!1;var w=this.words[l];return!!(w&m)},"testn"),s.prototype.imaskn=i(function(u){a(typeof u=="number"&&u>=0);var g=u%26,l=(u-g)/26;if(a(this.negative===0,"imaskn works only with positive numbers"),this.length<=l)return this;if(g!==0&&l++,this.length=Math.min(l,this.length),g!==0){var m=67108863^67108863>>>g<<g;this.words[this.length-1]&=m}return this.strip()},"imaskn"),s.prototype.maskn=i(function(u){return this.clone().imaskn(u)},"maskn"),s.prototype.iaddn=i(function(u){return a(typeof u=="number"),a(u<67108864),u<0?this.isubn(-u):this.negative!==0?this.length===1&&(this.words[0]|0)<u?(this.words[0]=u-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},"iaddn"),s.prototype._iaddn=i(function(u){this.words[0]+=u;for(var g=0;g<this.length&&this.words[g]>=67108864;g++)this.words[g]-=67108864,g===this.length-1?this.words[g+1]=1:this.words[g+1]++;return this.length=Math.max(this.length,g+1),this},"_iaddn"),s.prototype.isubn=i(function(u){if(a(typeof u=="number"),a(u<67108864),u<0)return this.iaddn(-u);if(this.negative!==0)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var g=0;g<this.length&&this.words[g]<0;g++)this.words[g]+=67108864,this.words[g+1]-=1;return this.strip()},"isubn"),s.prototype.addn=i(function(u){return this.clone().iaddn(u)},"addn"),s.prototype.subn=i(function(u){return this.clone().isubn(u)},"subn"),s.prototype.iabs=i(function(){return this.negative=0,this},"iabs"),s.prototype.abs=i(function(){return this.clone().iabs()},"abs"),s.prototype._ishlnsubmul=i(function(u,g,l){var m=u.length+l,w;this._expand(m);var M,A=0;for(w=0;w<u.length;w++){M=(this.words[w+l]|0)+A;var S=(u.words[w]|0)*g;M-=S&67108863,A=(M>>26)-(S/67108864|0),this.words[w+l]=M&67108863}for(;w<this.length-l;w++)M=(this.words[w+l]|0)+A,A=M>>26,this.words[w+l]=M&67108863;if(A===0)return this.strip();for(a(A===-1),A=0,w=0;w<this.length;w++)M=-(this.words[w]|0)+A,A=M>>26,this.words[w]=M&67108863;return this.negative=1,this.strip()},"_ishlnsubmul"),s.prototype._wordDiv=i(function(u,g){var l=this.length-u.length,m=this.clone(),w=u,M=w.words[w.length-1]|0,A=this._countBits(M);l=26-A,l!==0&&(w=w.ushln(l),m.iushln(l),M=w.words[w.length-1]|0);var S=m.length-w.length,f;if(g!=="mod"){f=new s(null),f.length=S+1,f.words=new Array(f.length);for(var _=0;_<f.length;_++)f.words[_]=0}var E=m.clone()._ishlnsubmul(w,1,S);E.negative===0&&(m=E,f&&(f.words[S]=1));for(var I=S-1;I>=0;I--){var D=(m.words[w.length+I]|0)*67108864+(m.words[w.length+I-1]|0);for(D=Math.min(D/M|0,67108863),m._ishlnsubmul(w,D,I);m.negative!==0;)D--,m.negative=0,m._ishlnsubmul(w,1,I),m.isZero()||(m.negative^=1);f&&(f.words[I]=D)}return f&&f.strip(),m.strip(),g!=="div"&&l!==0&&m.iushrn(l),{div:f||null,mod:m}},"_wordDiv"),s.prototype.divmod=i(function(u,g,l){if(a(!u.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var m,w,M;return this.negative!==0&&u.negative===0?(M=this.neg().divmod(u,g),g!=="mod"&&(m=M.div.neg()),g!=="div"&&(w=M.mod.neg(),l&&w.negative!==0&&w.iadd(u)),{div:m,mod:w}):this.negative===0&&u.negative!==0?(M=this.divmod(u.neg(),g),g!=="mod"&&(m=M.div.neg()),{div:m,mod:M.mod}):(this.negative&u.negative)!==0?(M=this.neg().divmod(u.neg(),g),g!=="div"&&(w=M.mod.neg(),l&&w.negative!==0&&w.isub(u)),{div:M.div,mod:w}):u.length>this.length||this.cmp(u)<0?{div:new s(0),mod:this}:u.length===1?g==="div"?{div:this.divn(u.words[0]),mod:null}:g==="mod"?{div:null,mod:new s(this.modn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new s(this.modn(u.words[0]))}:this._wordDiv(u,g)},"divmod"),s.prototype.div=i(function(u){return this.divmod(u,"div",!1).div},"div"),s.prototype.mod=i(function(u){return this.divmod(u,"mod",!1).mod},"mod"),s.prototype.umod=i(function(u){return this.divmod(u,"mod",!0).mod},"umod"),s.prototype.divRound=i(function(u){var g=this.divmod(u);if(g.mod.isZero())return g.div;var l=g.div.negative!==0?g.mod.isub(u):g.mod,m=u.ushrn(1),w=u.andln(1),M=l.cmp(m);return M<0||w===1&&M===0?g.div:g.div.negative!==0?g.div.isubn(1):g.div.iaddn(1)},"divRound"),s.prototype.modn=i(function(u){a(u<=67108863);for(var g=(1<<26)%u,l=0,m=this.length-1;m>=0;m--)l=(g*l+(this.words[m]|0))%u;return l},"modn"),s.prototype.idivn=i(function(u){a(u<=67108863);for(var g=0,l=this.length-1;l>=0;l--){var m=(this.words[l]|0)+g*67108864;this.words[l]=m/u|0,g=m%u}return this.strip()},"idivn"),s.prototype.divn=i(function(u){return this.clone().idivn(u)},"divn"),s.prototype.egcd=i(function(u){a(u.negative===0),a(!u.isZero());var g=this,l=u.clone();g.negative!==0?g=g.umod(u):g=g.clone();for(var m=new s(1),w=new s(0),M=new s(0),A=new s(1),S=0;g.isEven()&&l.isEven();)g.iushrn(1),l.iushrn(1),++S;for(var f=l.clone(),_=g.clone();!g.isZero();){for(var E=0,I=1;(g.words[0]&I)===0&&E<26;++E,I<<=1);if(E>0)for(g.iushrn(E);E-- >0;)(m.isOdd()||w.isOdd())&&(m.iadd(f),w.isub(_)),m.iushrn(1),w.iushrn(1);for(var D=0,L=1;(l.words[0]&L)===0&&D<26;++D,L<<=1);if(D>0)for(l.iushrn(D);D-- >0;)(M.isOdd()||A.isOdd())&&(M.iadd(f),A.isub(_)),M.iushrn(1),A.iushrn(1);g.cmp(l)>=0?(g.isub(l),m.isub(M),w.isub(A)):(l.isub(g),M.isub(m),A.isub(w))}return{a:M,b:A,gcd:l.iushln(S)}},"egcd"),s.prototype._invmp=i(function(u){a(u.negative===0),a(!u.isZero());var g=this,l=u.clone();g.negative!==0?g=g.umod(u):g=g.clone();for(var m=new s(1),w=new s(0),M=l.clone();g.cmpn(1)>0&&l.cmpn(1)>0;){for(var A=0,S=1;(g.words[0]&S)===0&&A<26;++A,S<<=1);if(A>0)for(g.iushrn(A);A-- >0;)m.isOdd()&&m.iadd(M),m.iushrn(1);for(var f=0,_=1;(l.words[0]&_)===0&&f<26;++f,_<<=1);if(f>0)for(l.iushrn(f);f-- >0;)w.isOdd()&&w.iadd(M),w.iushrn(1);g.cmp(l)>=0?(g.isub(l),m.isub(w)):(l.isub(g),w.isub(m))}var E;return g.cmpn(1)===0?E=m:E=w,E.cmpn(0)<0&&E.iadd(u),E},"_invmp"),s.prototype.gcd=i(function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var g=this.clone(),l=u.clone();g.negative=0,l.negative=0;for(var m=0;g.isEven()&&l.isEven();m++)g.iushrn(1),l.iushrn(1);do{for(;g.isEven();)g.iushrn(1);for(;l.isEven();)l.iushrn(1);var w=g.cmp(l);if(w<0){var M=g;g=l,l=M}else if(w===0||l.cmpn(1)===0)break;g.isub(l)}while(!0);return l.iushln(m)},"gcd"),s.prototype.invm=i(function(u){return this.egcd(u).a.umod(u)},"invm"),s.prototype.isEven=i(function(){return(this.words[0]&1)===0},"isEven"),s.prototype.isOdd=i(function(){return(this.words[0]&1)===1},"isOdd"),s.prototype.andln=i(function(u){return this.words[0]&u},"andln"),s.prototype.bincn=i(function(u){a(typeof u=="number");var g=u%26,l=(u-g)/26,m=1<<g;if(this.length<=l)return this._expand(l+1),this.words[l]|=m,this;for(var w=m,M=l;w!==0&&M<this.length;M++){var A=this.words[M]|0;A+=w,w=A>>>26,A&=67108863,this.words[M]=A}return w!==0&&(this.words[M]=w,this.length++),this},"bincn"),s.prototype.isZero=i(function(){return this.length===1&&this.words[0]===0},"isZero"),s.prototype.cmpn=i(function(u){var g=u<0;if(this.negative!==0&&!g)return-1;if(this.negative===0&&g)return 1;this.strip();var l;if(this.length>1)l=1;else{g&&(u=-u),a(u<=67108863,"Number is too big");var m=this.words[0]|0;l=m===u?0:m<u?-1:1}return this.negative!==0?-l|0:l},"cmpn"),s.prototype.cmp=i(function(u){if(this.negative!==0&&u.negative===0)return-1;if(this.negative===0&&u.negative!==0)return 1;var g=this.ucmp(u);return this.negative!==0?-g|0:g},"cmp"),s.prototype.ucmp=i(function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var g=0,l=this.length-1;l>=0;l--){var m=this.words[l]|0,w=u.words[l]|0;if(m!==w){m<w?g=-1:m>w&&(g=1);break}}return g},"ucmp"),s.prototype.gtn=i(function(u){return this.cmpn(u)===1},"gtn"),s.prototype.gt=i(function(u){return this.cmp(u)===1},"gt"),s.prototype.gten=i(function(u){return this.cmpn(u)>=0},"gten"),s.prototype.gte=i(function(u){return this.cmp(u)>=0},"gte"),s.prototype.ltn=i(function(u){return this.cmpn(u)===-1},"ltn"),s.prototype.lt=i(function(u){return this.cmp(u)===-1},"lt"),s.prototype.lten=i(function(u){return this.cmpn(u)<=0},"lten"),s.prototype.lte=i(function(u){return this.cmp(u)<=0},"lte"),s.prototype.eqn=i(function(u){return this.cmpn(u)===0},"eqn"),s.prototype.eq=i(function(u){return this.cmp(u)===0},"eq"),s.red=i(function(u){return new ee(u)},"red"),s.prototype.toRed=i(function(u){return a(!this.red,"Already a number in reduction context"),a(this.negative===0,"red works only with positives"),u.convertTo(this)._forceRed(u)},"toRed"),s.prototype.fromRed=i(function(){return a(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},"fromRed"),s.prototype._forceRed=i(function(u){return this.red=u,this},"_forceRed"),s.prototype.forceRed=i(function(u){return a(!this.red,"Already a number in reduction context"),this._forceRed(u)},"forceRed"),s.prototype.redAdd=i(function(u){return a(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},"redAdd"),s.prototype.redIAdd=i(function(u){return a(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},"redIAdd"),s.prototype.redSub=i(function(u){return a(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},"redSub"),s.prototype.redISub=i(function(u){return a(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},"redISub"),s.prototype.redShl=i(function(u){return a(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},"redShl"),s.prototype.redMul=i(function(u){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},"redMul"),s.prototype.redIMul=i(function(u){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},"redIMul"),s.prototype.redSqr=i(function(){return a(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},"redSqr"),s.prototype.redISqr=i(function(){return a(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},"redISqr"),s.prototype.redSqrt=i(function(){return a(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},"redSqrt"),s.prototype.redInvm=i(function(){return a(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},"redInvm"),s.prototype.redNeg=i(function(){return a(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},"redNeg"),s.prototype.redPow=i(function(u){return a(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)},"redPow");var O={k256:null,p224:null,p192:null,p25519:null};function T(F,u){this.name=F,this.p=new s(u,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}i(T,"MPrime"),T.prototype._tmp=i(function(){var u=new s(null);return u.words=new Array(Math.ceil(this.n/13)),u},"_tmp"),T.prototype.ireduce=i(function(u){var g=u,l;do this.split(g,this.tmp),g=this.imulK(g),g=g.iadd(this.tmp),l=g.bitLength();while(l>this.n);var m=l<this.n?-1:g.ucmp(this.p);return m===0?(g.words[0]=0,g.length=1):m>0?g.isub(this.p):g.strip!==void 0?g.strip():g._strip(),g},"ireduce"),T.prototype.split=i(function(u,g){u.iushrn(this.n,0,g)},"split"),T.prototype.imulK=i(function(u){return u.imul(this.k)},"imulK");function P(){T.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(P,"K256"),n(P,T),P.prototype.split=i(function(u,g){for(var l=4194303,m=Math.min(u.length,9),w=0;w<m;w++)g.words[w]=u.words[w];if(g.length=m,u.length<=9){u.words[0]=0,u.length=1;return}var M=u.words[9];for(g.words[g.length++]=M&l,w=10;w<u.length;w++){var A=u.words[w]|0;u.words[w-10]=(A&l)<<4|M>>>22,M=A}M>>>=22,u.words[w-10]=M,M===0&&u.length>10?u.length-=10:u.length-=9},"split"),P.prototype.imulK=i(function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var g=0,l=0;l<u.length;l++){var m=u.words[l]|0;g+=m*977,u.words[l]=g&67108863,g=m*64+(g/67108864|0)}return u.words[u.length-1]===0&&(u.length--,u.words[u.length-1]===0&&u.length--),u},"imulK");function z(){T.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(z,"P224"),n(z,T);function V(){T.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(V,"P192"),n(V,T);function Z(){T.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(Z,"P25519"),n(Z,T),Z.prototype.imulK=i(function(u){for(var g=0,l=0;l<u.length;l++){var m=(u.words[l]|0)*19+g,w=m&67108863;m>>>=26,u.words[l]=w,g=m}return g!==0&&(u.words[u.length++]=g),u},"imulK"),s._prime=i(function(u){if(O[u])return O[u];var g;if(u==="k256")g=new P;else if(u==="p224")g=new z;else if(u==="p192")g=new V;else if(u==="p25519")g=new Z;else throw new Error("Unknown prime "+u);return O[u]=g,g},"prime");function ee(F){if(typeof F=="string"){var u=s._prime(F);this.m=u.p,this.prime=u}else a(F.gtn(1),"modulus must be greater than 1"),this.m=F,this.prime=null}i(ee,"Red"),ee.prototype._verify1=i(function(u){a(u.negative===0,"red works only with positives"),a(u.red,"red works only with red numbers")},"_verify1"),ee.prototype._verify2=i(function(u,g){a((u.negative|g.negative)===0,"red works only with positives"),a(u.red&&u.red===g.red,"red works only with red numbers")},"_verify2"),ee.prototype.imod=i(function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):u.umod(this.m)._forceRed(this)},"imod"),ee.prototype.neg=i(function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},"neg"),ee.prototype.add=i(function(u,g){this._verify2(u,g);var l=u.add(g);return l.cmp(this.m)>=0&&l.isub(this.m),l._forceRed(this)},"add"),ee.prototype.iadd=i(function(u,g){this._verify2(u,g);var l=u.iadd(g);return l.cmp(this.m)>=0&&l.isub(this.m),l},"iadd"),ee.prototype.sub=i(function(u,g){this._verify2(u,g);var l=u.sub(g);return l.cmpn(0)<0&&l.iadd(this.m),l._forceRed(this)},"sub"),ee.prototype.isub=i(function(u,g){this._verify2(u,g);var l=u.isub(g);return l.cmpn(0)<0&&l.iadd(this.m),l},"isub"),ee.prototype.shl=i(function(u,g){return this._verify1(u),this.imod(u.ushln(g))},"shl"),ee.prototype.imul=i(function(u,g){return this._verify2(u,g),this.imod(u.imul(g))},"imul"),ee.prototype.mul=i(function(u,g){return this._verify2(u,g),this.imod(u.mul(g))},"mul"),ee.prototype.isqr=i(function(u){return this.imul(u,u.clone())},"isqr"),ee.prototype.sqr=i(function(u){return this.mul(u,u)},"sqr"),ee.prototype.sqrt=i(function(u){if(u.isZero())return u.clone();var g=this.m.andln(3);if(a(g%2===1),g===3){var l=this.m.add(new s(1)).iushrn(2);return this.pow(u,l)}for(var m=this.m.subn(1),w=0;!m.isZero()&&m.andln(1)===0;)w++,m.iushrn(1);a(!m.isZero());var M=new s(1).toRed(this),A=M.redNeg(),S=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new s(2*f*f).toRed(this);this.pow(f,S).cmp(A)!==0;)f.redIAdd(A);for(var _=this.pow(f,m),E=this.pow(u,m.addn(1).iushrn(1)),I=this.pow(u,m),D=w;I.cmp(M)!==0;){for(var L=I,U=0;L.cmp(M)!==0;U++)L=L.redSqr();a(U<D);var B=this.pow(_,new s(1).iushln(D-U-1));E=E.redMul(B),_=B.redSqr(),I=I.redMul(_),D=U}return E},"sqrt"),ee.prototype.invm=i(function(u){var g=u._invmp(this.m);return g.negative!==0?(g.negative=0,this.imod(g).redNeg()):this.imod(g)},"invm"),ee.prototype.pow=i(function(u,g){if(g.isZero())return new s(1).toRed(this);if(g.cmpn(1)===0)return u.clone();var l=4,m=new Array(1<<l);m[0]=new s(1).toRed(this),m[1]=u;for(var w=2;w<m.length;w++)m[w]=this.mul(m[w-1],u);var M=m[0],A=0,S=0,f=g.bitLength()%26;for(f===0&&(f=26),w=g.length-1;w>=0;w--){for(var _=g.words[w],E=f-1;E>=0;E--){var I=_>>E&1;if(M!==m[0]&&(M=this.sqr(M)),I===0&&A===0){S=0;continue}A<<=1,A|=I,S++,!(S!==l&&(w!==0||E!==0))&&(M=this.mul(M,m[A]),S=0,A=0)}f=26}return M},"pow"),ee.prototype.convertTo=i(function(u){var g=u.umod(this.m);return g===u?g.clone():g},"convertTo"),ee.prototype.convertFrom=i(function(u){var g=u.clone();return g.red=null,g},"convertFrom"),s.mont=i(function(u){return new $(u)},"mont");function $(F){ee.call(this,F),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i($,"Mont"),n($,ee),$.prototype.convertTo=i(function(u){return this.imod(u.ushln(this.shift))},"convertTo"),$.prototype.convertFrom=i(function(u){var g=this.imod(u.mul(this.rinv));return g.red=null,g},"convertFrom"),$.prototype.imul=i(function(u,g){if(u.isZero()||g.isZero())return u.words[0]=0,u.length=1,u;var l=u.imul(g),m=l.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=l.isub(m).iushrn(this.shift),M=w;return w.cmp(this.m)>=0?M=w.isub(this.m):w.cmpn(0)<0&&(M=w.iadd(this.m)),M._forceRed(this)},"imul"),$.prototype.mul=i(function(u,g){if(u.isZero()||g.isZero())return new s(0)._forceRed(this);var l=u.mul(g),m=l.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=l.isub(m).iushrn(this.shift),M=w;return w.cmp(this.m)>=0?M=w.isub(this.m):w.cmpn(0)<0&&(M=w.iadd(this.m)),M._forceRed(this)},"mul"),$.prototype.invm=i(function(u){var g=this.imod(u._invmp(this.m).mul(this.r2));return g._forceRed(this)},"invm")})(e,BP)})(Mu)),Mu.exports}i(Nr,"requireBn$2");var zl={exports:{}},Yw;function kv(){if(Yw)return zl.exports;Yw=1;var e;zl.exports=i(function(n){return e||(e=new t(null)),e.generate(n)},"rand");function t(a){this.rand=a}if(i(t,"Rand"),zl.exports.Rand=t,t.prototype.generate=i(function(n){return this._rand(n)},"generate"),t.prototype._rand=i(function(n){if(this.rand.getBytes)return this.rand.getBytes(n);for(var s=new Uint8Array(n),o=0;o<s.length;o++)s[o]=this.rand.getByte();return s},"_rand"),typeof self=="object")self.crypto&&self.crypto.getRandomValues?t.prototype._rand=i(function(n){var s=new Uint8Array(n);return self.crypto.getRandomValues(s),s},"_rand"):self.msCrypto&&self.msCrypto.getRandomValues?t.prototype._rand=i(function(n){var s=new Uint8Array(n);return self.msCrypto.getRandomValues(s),s},"_rand"):typeof window=="object"&&(t.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var r=ji;if(typeof r.randomBytes!="function")throw new Error("Not supported");t.prototype._rand=i(function(n){return r.randomBytes(n)},"_rand")}catch{}return zl.exports}i(kv,"requireBrorand");var qh,e6;function O7(){if(e6)return qh;e6=1;var e=Nr(),t=kv();function r(a){this.rand=a||new t.Rand}return i(r,"MillerRabin"),qh=r,r.create=i(function(n){return new r(n)},"create"),r.prototype._randbelow=i(function(n){var s=n.bitLength(),o=Math.ceil(s/8);do var h=new e(this.rand.generate(o));while(h.cmp(n)>=0);return h},"_randbelow"),r.prototype._randrange=i(function(n,s){var o=s.sub(n);return n.add(this._randbelow(o))},"_randrange"),r.prototype.test=i(function(n,s,o){var h=n.bitLength(),p=e.mont(n),v=new e(1).toRed(p);s||(s=Math.max(1,h/48|0));for(var c=n.subn(1),d=0;!c.testn(d);d++);for(var y=n.shrn(d),b=c.toRed(p),x=!0;s>0;s--){var k=this._randrange(new e(2),c);o&&o(k);var N=k.toRed(p).redPow(y);if(!(N.cmp(v)===0||N.cmp(b)===0)){for(var C=1;C<d;C++){if(N=N.redSqr(),N.cmp(v)===0)return!1;if(N.cmp(b)===0)break}if(C===d)return!1}}return x},"test"),r.prototype.getDivisor=i(function(n,s){var o=n.bitLength(),h=e.mont(n),p=new e(1).toRed(h);s||(s=Math.max(1,o/48|0));for(var v=n.subn(1),c=0;!v.testn(c);c++);for(var d=n.shrn(c),y=v.toRed(h);s>0;s--){var b=this._randrange(new e(2),v),x=n.gcd(b);if(x.cmpn(1)!==0)return x;var k=b.toRed(h).redPow(d);if(!(k.cmp(p)===0||k.cmp(y)===0)){for(var N=1;N<c;N++){if(k=k.redSqr(),k.cmp(p)===0)return k.fromRed().subn(1).gcd(n);if(k.cmp(y)===0)break}if(N===c)return k=k.redSqr(),k.fromRed().subn(1).gcd(n)}}return!1},"getDivisor"),qh}i(O7,"requireMr");var Kh,t6;function T7(){if(t6)return Kh;t6=1;var e=ys();Kh=N,N.simpleSieve=x,N.fermatTest=k;var t=Nr(),r=new t(24),a=O7(),n=new a,s=new t(1),o=new t(2),h=new t(5);new t(16),new t(8);var p=new t(10),v=new t(3);new t(7);var c=new t(11),d=new t(4);new t(12);var y=null;function b(){if(y!==null)return y;var C=1048576,R=[];R[0]=2;for(var O=1,T=3;T<C;T+=2){for(var P=Math.ceil(Math.sqrt(T)),z=0;z<O&&R[z]<=P&&T%R[z]!==0;z++);O!==z&&R[z]<=P||(R[O++]=T)}return y=R,R}i(b,"_getPrimes");function x(C){for(var R=b(),O=0;O<R.length;O++)if(C.modn(R[O])===0)return C.cmpn(R[O])===0;return!0}i(x,"simpleSieve");function k(C){var R=t.mont(C);return o.toRed(R).redPow(C.subn(1)).fromRed().cmpn(1)===0}i(k,"fermatTest");function N(C,R){if(C<16)return R===2||R===5?new t([140,123]):new t([140,39]);R=new t(R);for(var O,T;;){for(O=new t(e(Math.ceil(C/8)));O.bitLength()>C;)O.ishrn(1);if(O.isEven()&&O.iadd(s),O.testn(1)||O.iadd(o),R.cmp(o)){if(!R.cmp(h))for(;O.mod(p).cmp(v);)O.iadd(d)}else for(;O.mod(r).cmp(c);)O.iadd(d);if(T=O.shrn(1),x(T)&&x(O)&&k(T)&&k(O)&&n.test(T)&&n.test(O))return O}}return i(N,"findPrime"),Kh}i(T7,"requireGeneratePrime");const zP={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},UP={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},FP={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},$P={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},GP={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},VP={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},ZP={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},HP={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"},JP={modp1:zP,modp2:UP,modp5:FP,modp14:$P,modp15:GP,modp16:VP,modp17:ZP,modp18:HP};var Xh,r6;function qP(){if(r6)return Xh;r6=1;var e=Nr(),t=O7(),r=new t,a=new e(24),n=new e(11),s=new e(10),o=new e(3),h=new e(7),p=T7(),v=ys();Xh=x;function c(N,C){return C=C||"utf8",Buffer.isBuffer(N)||(N=new Buffer(N,C)),this._pub=new e(N),this}i(c,"setPublicKey");function d(N,C){return C=C||"utf8",Buffer.isBuffer(N)||(N=new Buffer(N,C)),this._priv=new e(N),this}i(d,"setPrivateKey");var y={};function b(N,C){var R=C.toString("hex"),O=[R,N.toString(16)].join("_");if(O in y)return y[O];var T=0;if(N.isEven()||!p.simpleSieve||!p.fermatTest(N)||!r.test(N))return T+=1,R==="02"||R==="05"?T+=8:T+=4,y[O]=T,T;r.test(N.shrn(1))||(T+=2);var P;switch(R){case"02":N.mod(a).cmp(n)&&(T+=8);break;case"05":P=N.mod(s),P.cmp(o)&&P.cmp(h)&&(T+=8);break;default:T+=4}return y[O]=T,T}i(b,"checkPrime");function x(N,C,R){this.setGenerator(C),this.__prime=new e(N),this._prime=e.mont(this.__prime),this._primeLen=N.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,R?(this.setPublicKey=c,this.setPrivateKey=d):this._primeCode=8}i(x,"DH"),Object.defineProperty(x.prototype,"verifyError",{enumerable:!0,get:i(function(){return typeof this._primeCode!="number"&&(this._primeCode=b(this.__prime,this.__gen)),this._primeCode},"get")}),x.prototype.generateKeys=function(){return this._priv||(this._priv=new e(v(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},x.prototype.computeSecret=function(N){N=new e(N),N=N.toRed(this._prime);var C=N.redPow(this._priv).fromRed(),R=new Buffer(C.toArray()),O=this.getPrime();if(R.length<O.length){var T=new Buffer(O.length-R.length);T.fill(0),R=Buffer.concat([T,R])}return R},x.prototype.getPublicKey=i(function(C){return k(this._pub,C)},"getPublicKey"),x.prototype.getPrivateKey=i(function(C){return k(this._priv,C)},"getPrivateKey"),x.prototype.getPrime=function(N){return k(this.__prime,N)},x.prototype.getGenerator=function(N){return k(this._gen,N)},x.prototype.setGenerator=function(N,C){return C=C||"utf8",Buffer.isBuffer(N)||(N=new Buffer(N,C)),this.__gen=N,this._gen=new e(N),this};function k(N,C){var R=new Buffer(N.toArray());return C?R.toString(C):R}return i(k,"formatReturnValue"),Xh}i(qP,"requireDh");var i6;function KP(){if(i6)return Qn;i6=1;var e=T7(),t=JP,r=qP();function a(o){var h=new Buffer(t[o].prime,"hex"),p=new Buffer(t[o].gen,"hex");return new r(h,p)}i(a,"getDiffieHellman");var n={binary:!0,hex:!0,base64:!0};function s(o,h,p,v){return Buffer.isBuffer(h)||n[h]===void 0?s(o,"binary",h,p):(h=h||"binary",v=v||"binary",p=p||new Buffer([2]),Buffer.isBuffer(p)||(p=new Buffer(p,v)),typeof o=="number"?new r(e(o,p),p,!0):(Buffer.isBuffer(o)||(o=new Buffer(o,h)),new r(o,p,!0)))}return i(s,"createDiffieHellman"),Qn.DiffieHellmanGroup=Qn.createDiffieHellmanGroup=Qn.getDiffieHellman=a,Qn.createDiffieHellman=Qn.DiffieHellman=s,Qn}i(KP,"requireBrowser$4");var Cs={exports:{}},Eu={exports:{}},XP=Eu.exports,n6;function WP(){return n6||(n6=1,(function(e){(function(t,r){function a(g,l){if(!g)throw new Error(l||"Assertion failed")}i(a,"assert");function n(g,l){g.super_=l;var m=i(function(){},"TempCtor");m.prototype=l.prototype,g.prototype=new m,g.prototype.constructor=g}i(n,"inherits");function s(g,l,m){if(s.isBN(g))return g;this.negative=0,this.words=null,this.length=0,this.red=null,g!==null&&((l==="le"||l==="be")&&(m=l,l=10),this._init(g||0,l||10,m||"be"))}i(s,"BN"),typeof t=="object"?t.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=ji.Buffer}catch{}s.isBN=i(function(l){return l instanceof s?!0:l!==null&&typeof l=="object"&&l.constructor.wordSize===s.wordSize&&Array.isArray(l.words)},"isBN"),s.max=i(function(l,m){return l.cmp(m)>0?l:m},"max"),s.min=i(function(l,m){return l.cmp(m)<0?l:m},"min"),s.prototype._init=i(function(l,m,w){if(typeof l=="number")return this._initNumber(l,m,w);if(typeof l=="object")return this._initArray(l,m,w);m==="hex"&&(m=16),a(m===(m|0)&&m>=2&&m<=36),l=l.toString().replace(/\s+/g,"");var M=0;l[0]==="-"&&(M++,this.negative=1),M<l.length&&(m===16?this._parseHex(l,M,w):(this._parseBase(l,m,M),w==="le"&&this._initArray(this.toArray(),m,w)))},"init"),s.prototype._initNumber=i(function(l,m,w){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[l&67108863],this.length=1):l<4503599627370496?(this.words=[l&67108863,l/67108864&67108863],this.length=2):(a(l<9007199254740992),this.words=[l&67108863,l/67108864&67108863,1],this.length=3),w==="le"&&this._initArray(this.toArray(),m,w)},"_initNumber"),s.prototype._initArray=i(function(l,m,w){if(a(typeof l.length=="number"),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var M=0;M<this.length;M++)this.words[M]=0;var A,S,f=0;if(w==="be")for(M=l.length-1,A=0;M>=0;M-=3)S=l[M]|l[M-1]<<8|l[M-2]<<16,this.words[A]|=S<<f&67108863,this.words[A+1]=S>>>26-f&67108863,f+=24,f>=26&&(f-=26,A++);else if(w==="le")for(M=0,A=0;M<l.length;M+=3)S=l[M]|l[M+1]<<8|l[M+2]<<16,this.words[A]|=S<<f&67108863,this.words[A+1]=S>>>26-f&67108863,f+=24,f>=26&&(f-=26,A++);return this._strip()},"_initArray");function h(g,l){var m=g.charCodeAt(l);if(m>=48&&m<=57)return m-48;if(m>=65&&m<=70)return m-55;if(m>=97&&m<=102)return m-87;a(!1,"Invalid character in "+g)}i(h,"parseHex4Bits");function p(g,l,m){var w=h(g,m);return m-1>=l&&(w|=h(g,m-1)<<4),w}i(p,"parseHexByte"),s.prototype._parseHex=i(function(l,m,w){this.length=Math.ceil((l.length-m)/6),this.words=new Array(this.length);for(var M=0;M<this.length;M++)this.words[M]=0;var A=0,S=0,f;if(w==="be")for(M=l.length-1;M>=m;M-=2)f=p(l,m,M)<<A,this.words[S]|=f&67108863,A>=18?(A-=18,S+=1,this.words[S]|=f>>>26):A+=8;else{var _=l.length-m;for(M=_%2===0?m+1:m;M<l.length;M+=2)f=p(l,m,M)<<A,this.words[S]|=f&67108863,A>=18?(A-=18,S+=1,this.words[S]|=f>>>26):A+=8}this._strip()},"_parseHex");function v(g,l,m,w){for(var M=0,A=0,S=Math.min(g.length,m),f=l;f<S;f++){var _=g.charCodeAt(f)-48;M*=w,_>=49?A=_-49+10:_>=17?A=_-17+10:A=_,a(_>=0&&A<w,"Invalid character"),M+=A}return M}i(v,"parseBase"),s.prototype._parseBase=i(function(l,m,w){this.words=[0],this.length=1;for(var M=0,A=1;A<=67108863;A*=m)M++;M--,A=A/m|0;for(var S=l.length-w,f=S%M,_=Math.min(S,S-f)+w,E=0,I=w;I<_;I+=M)E=v(l,I,I+M,m),this.imuln(A),this.words[0]+E<67108864?this.words[0]+=E:this._iaddn(E);if(f!==0){var D=1;for(E=v(l,I,l.length,m),I=0;I<f;I++)D*=m;this.imuln(D),this.words[0]+E<67108864?this.words[0]+=E:this._iaddn(E)}this._strip()},"_parseBase"),s.prototype.copy=i(function(l){l.words=new Array(this.length);for(var m=0;m<this.length;m++)l.words[m]=this.words[m];l.length=this.length,l.negative=this.negative,l.red=this.red},"copy");function c(g,l){g.words=l.words,g.length=l.length,g.negative=l.negative,g.red=l.red}if(i(c,"move"),s.prototype._move=i(function(l){c(l,this)},"_move"),s.prototype.clone=i(function(){var l=new s(null);return this.copy(l),l},"clone"),s.prototype._expand=i(function(l){for(;this.length<l;)this.words[this.length++]=0;return this},"_expand"),s.prototype._strip=i(function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},"strip"),s.prototype._normSign=i(function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},"_normSign"),typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=d}catch{s.prototype.inspect=d}else s.prototype.inspect=d;function d(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}i(d,"inspect");var y=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],b=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],x=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=i(function(l,m){l=l||10,m=m|0||1;var w;if(l===16||l==="hex"){w="";for(var M=0,A=0,S=0;S<this.length;S++){var f=this.words[S],_=((f<<M|A)&16777215).toString(16);A=f>>>24-M&16777215,M+=2,M>=26&&(M-=26,S--),A!==0||S!==this.length-1?w=y[6-_.length]+_+w:w=_+w}for(A!==0&&(w=A.toString(16)+w);w.length%m!==0;)w="0"+w;return this.negative!==0&&(w="-"+w),w}if(l===(l|0)&&l>=2&&l<=36){var E=b[l],I=x[l];w="";var D=this.clone();for(D.negative=0;!D.isZero();){var L=D.modrn(I).toString(l);D=D.idivn(I),D.isZero()?w=L+w:w=y[E-L.length]+L+w}for(this.isZero()&&(w="0"+w);w.length%m!==0;)w="0"+w;return this.negative!==0&&(w="-"+w),w}a(!1,"Base should be between 2 and 36")},"toString"),s.prototype.toNumber=i(function(){var l=this.words[0];return this.length===2?l+=this.words[1]*67108864:this.length===3&&this.words[2]===1?l+=4503599627370496+this.words[1]*67108864:this.length>2&&a(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-l:l},"toNumber"),s.prototype.toJSON=i(function(){return this.toString(16,2)},"toJSON"),o&&(s.prototype.toBuffer=i(function(l,m){return this.toArrayLike(o,l,m)},"toBuffer")),s.prototype.toArray=i(function(l,m){return this.toArrayLike(Array,l,m)},"toArray");var k=i(function(l,m){return l.allocUnsafe?l.allocUnsafe(m):new l(m)},"allocate");s.prototype.toArrayLike=i(function(l,m,w){this._strip();var M=this.byteLength(),A=w||Math.max(1,M);a(M<=A,"byte array longer than desired length"),a(A>0,"Requested array length <= 0");var S=k(l,A),f=m==="le"?"LE":"BE";return this["_toArrayLike"+f](S,M),S},"toArrayLike"),s.prototype._toArrayLikeLE=i(function(l,m){for(var w=0,M=0,A=0,S=0;A<this.length;A++){var f=this.words[A]<<S|M;l[w++]=f&255,w<l.length&&(l[w++]=f>>8&255),w<l.length&&(l[w++]=f>>16&255),S===6?(w<l.length&&(l[w++]=f>>24&255),M=0,S=0):(M=f>>>24,S+=2)}if(w<l.length)for(l[w++]=M;w<l.length;)l[w++]=0},"_toArrayLikeLE"),s.prototype._toArrayLikeBE=i(function(l,m){for(var w=l.length-1,M=0,A=0,S=0;A<this.length;A++){var f=this.words[A]<<S|M;l[w--]=f&255,w>=0&&(l[w--]=f>>8&255),w>=0&&(l[w--]=f>>16&255),S===6?(w>=0&&(l[w--]=f>>24&255),M=0,S=0):(M=f>>>24,S+=2)}if(w>=0)for(l[w--]=M;w>=0;)l[w--]=0},"_toArrayLikeBE"),Math.clz32?s.prototype._countBits=i(function(l){return 32-Math.clz32(l)},"_countBits"):s.prototype._countBits=i(function(l){var m=l,w=0;return m>=4096&&(w+=13,m>>>=13),m>=64&&(w+=7,m>>>=7),m>=8&&(w+=4,m>>>=4),m>=2&&(w+=2,m>>>=2),w+m},"_countBits"),s.prototype._zeroBits=i(function(l){if(l===0)return 26;var m=l,w=0;return(m&8191)===0&&(w+=13,m>>>=13),(m&127)===0&&(w+=7,m>>>=7),(m&15)===0&&(w+=4,m>>>=4),(m&3)===0&&(w+=2,m>>>=2),(m&1)===0&&w++,w},"_zeroBits"),s.prototype.bitLength=i(function(){var l=this.words[this.length-1],m=this._countBits(l);return(this.length-1)*26+m},"bitLength");function N(g){for(var l=new Array(g.bitLength()),m=0;m<l.length;m++){var w=m/26|0,M=m%26;l[m]=g.words[w]>>>M&1}return l}i(N,"toBitArray"),s.prototype.zeroBits=i(function(){if(this.isZero())return 0;for(var l=0,m=0;m<this.length;m++){var w=this._zeroBits(this.words[m]);if(l+=w,w!==26)break}return l},"zeroBits"),s.prototype.byteLength=i(function(){return Math.ceil(this.bitLength()/8)},"byteLength"),s.prototype.toTwos=i(function(l){return this.negative!==0?this.abs().inotn(l).iaddn(1):this.clone()},"toTwos"),s.prototype.fromTwos=i(function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},"fromTwos"),s.prototype.isNeg=i(function(){return this.negative!==0},"isNeg"),s.prototype.neg=i(function(){return this.clone().ineg()},"neg"),s.prototype.ineg=i(function(){return this.isZero()||(this.negative^=1),this},"ineg"),s.prototype.iuor=i(function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var m=0;m<l.length;m++)this.words[m]=this.words[m]|l.words[m];return this._strip()},"iuor"),s.prototype.ior=i(function(l){return a((this.negative|l.negative)===0),this.iuor(l)},"ior"),s.prototype.or=i(function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},"or"),s.prototype.uor=i(function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},"uor"),s.prototype.iuand=i(function(l){var m;this.length>l.length?m=l:m=this;for(var w=0;w<m.length;w++)this.words[w]=this.words[w]&l.words[w];return this.length=m.length,this._strip()},"iuand"),s.prototype.iand=i(function(l){return a((this.negative|l.negative)===0),this.iuand(l)},"iand"),s.prototype.and=i(function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},"and"),s.prototype.uand=i(function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},"uand"),s.prototype.iuxor=i(function(l){var m,w;this.length>l.length?(m=this,w=l):(m=l,w=this);for(var M=0;M<w.length;M++)this.words[M]=m.words[M]^w.words[M];if(this!==m)for(;M<m.length;M++)this.words[M]=m.words[M];return this.length=m.length,this._strip()},"iuxor"),s.prototype.ixor=i(function(l){return a((this.negative|l.negative)===0),this.iuxor(l)},"ixor"),s.prototype.xor=i(function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},"xor"),s.prototype.uxor=i(function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},"uxor"),s.prototype.inotn=i(function(l){a(typeof l=="number"&&l>=0);var m=Math.ceil(l/26)|0,w=l%26;this._expand(m),w>0&&m--;for(var M=0;M<m;M++)this.words[M]=~this.words[M]&67108863;return w>0&&(this.words[M]=~this.words[M]&67108863>>26-w),this._strip()},"inotn"),s.prototype.notn=i(function(l){return this.clone().inotn(l)},"notn"),s.prototype.setn=i(function(l,m){a(typeof l=="number"&&l>=0);var w=l/26|0,M=l%26;return this._expand(w+1),m?this.words[w]=this.words[w]|1<<M:this.words[w]=this.words[w]&~(1<<M),this._strip()},"setn"),s.prototype.iadd=i(function(l){var m;if(this.negative!==0&&l.negative===0)return this.negative=0,m=this.isub(l),this.negative^=1,this._normSign();if(this.negative===0&&l.negative!==0)return l.negative=0,m=this.isub(l),l.negative=1,m._normSign();var w,M;this.length>l.length?(w=this,M=l):(w=l,M=this);for(var A=0,S=0;S<M.length;S++)m=(w.words[S]|0)+(M.words[S]|0)+A,this.words[S]=m&67108863,A=m>>>26;for(;A!==0&&S<w.length;S++)m=(w.words[S]|0)+A,this.words[S]=m&67108863,A=m>>>26;if(this.length=w.length,A!==0)this.words[this.length]=A,this.length++;else if(w!==this)for(;S<w.length;S++)this.words[S]=w.words[S];return this},"iadd"),s.prototype.add=i(function(l){var m;return l.negative!==0&&this.negative===0?(l.negative=0,m=this.sub(l),l.negative^=1,m):l.negative===0&&this.negative!==0?(this.negative=0,m=l.sub(this),this.negative=1,m):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},"add"),s.prototype.isub=i(function(l){if(l.negative!==0){l.negative=0;var m=this.iadd(l);return l.negative=1,m._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var w=this.cmp(l);if(w===0)return this.negative=0,this.length=1,this.words[0]=0,this;var M,A;w>0?(M=this,A=l):(M=l,A=this);for(var S=0,f=0;f<A.length;f++)m=(M.words[f]|0)-(A.words[f]|0)+S,S=m>>26,this.words[f]=m&67108863;for(;S!==0&&f<M.length;f++)m=(M.words[f]|0)+S,S=m>>26,this.words[f]=m&67108863;if(S===0&&f<M.length&&M!==this)for(;f<M.length;f++)this.words[f]=M.words[f];return this.length=Math.max(this.length,f),M!==this&&(this.negative=1),this._strip()},"isub"),s.prototype.sub=i(function(l){return this.clone().isub(l)},"sub");function C(g,l,m){m.negative=l.negative^g.negative;var w=g.length+l.length|0;m.length=w,w=w-1|0;var M=g.words[0]|0,A=l.words[0]|0,S=M*A,f=S&67108863,_=S/67108864|0;m.words[0]=f;for(var E=1;E<w;E++){for(var I=_>>>26,D=_&67108863,L=Math.min(E,l.length-1),U=Math.max(0,E-g.length+1);U<=L;U++){var B=E-U|0;M=g.words[B]|0,A=l.words[U]|0,S=M*A+D,I+=S/67108864|0,D=S&67108863}m.words[E]=D|0,_=I|0}return _!==0?m.words[E]=_|0:m.length--,m._strip()}i(C,"smallMulTo");var R=i(function(l,m,w){var M=l.words,A=m.words,S=w.words,f=0,_,E,I,D=M[0]|0,L=D&8191,U=D>>>13,B=M[1]|0,G=B&8191,H=B>>>13,K=M[2]|0,_e=K&8191,ae=K>>>13,se=M[3]|0,ye=se&8191,q=se>>>13,re=M[4]|0,X=re&8191,W=re>>>13,le=M[5]|0,ke=le&8191,pe=le>>>13,fe=M[6]|0,Q=fe&8191,Y=fe>>>13,te=M[7]|0,he=te&8191,oe=te>>>13,ue=M[8]|0,ze=ue&8191,we=ue>>>13,Be=M[9]|0,We=Be&8191,ve=Be>>>13,Ue=A[0]|0,ce=Ue&8191,be=Ue>>>13,Te=A[1]|0,Re=Te&8191,Ae=Te>>>13,$e=A[2]|0,Ye=$e&8191,Ne=$e>>>13,Ee=A[3]|0,Pe=Ee&8191,Se=Ee>>>13,Ze=A[4]|0,Ke=Ze&8191,ie=Ze>>>13,me=A[5]|0,Ce=me&8191,xe=me>>>13,Oe=A[6]|0,He=Oe&8191,ne=Oe>>>13,je=A[7]|0,Ge=je&8191,ge=je>>>13,Je=A[8]|0,tt=Je&8191,De=Je>>>13,Qe=A[9]|0,Ie=Qe&8191,Fe=Qe>>>13;w.negative=l.negative^m.negative,w.length=19,_=Math.imul(L,ce),E=Math.imul(L,be),E=E+Math.imul(U,ce)|0,I=Math.imul(U,be);var lt=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(lt>>>26)|0,lt&=67108863,_=Math.imul(G,ce),E=Math.imul(G,be),E=E+Math.imul(H,ce)|0,I=Math.imul(H,be),_=_+Math.imul(L,Re)|0,E=E+Math.imul(L,Ae)|0,E=E+Math.imul(U,Re)|0,I=I+Math.imul(U,Ae)|0;var yt=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(yt>>>26)|0,yt&=67108863,_=Math.imul(_e,ce),E=Math.imul(_e,be),E=E+Math.imul(ae,ce)|0,I=Math.imul(ae,be),_=_+Math.imul(G,Re)|0,E=E+Math.imul(G,Ae)|0,E=E+Math.imul(H,Re)|0,I=I+Math.imul(H,Ae)|0,_=_+Math.imul(L,Ye)|0,E=E+Math.imul(L,Ne)|0,E=E+Math.imul(U,Ye)|0,I=I+Math.imul(U,Ne)|0;var ht=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(ht>>>26)|0,ht&=67108863,_=Math.imul(ye,ce),E=Math.imul(ye,be),E=E+Math.imul(q,ce)|0,I=Math.imul(q,be),_=_+Math.imul(_e,Re)|0,E=E+Math.imul(_e,Ae)|0,E=E+Math.imul(ae,Re)|0,I=I+Math.imul(ae,Ae)|0,_=_+Math.imul(G,Ye)|0,E=E+Math.imul(G,Ne)|0,E=E+Math.imul(H,Ye)|0,I=I+Math.imul(H,Ne)|0,_=_+Math.imul(L,Pe)|0,E=E+Math.imul(L,Se)|0,E=E+Math.imul(U,Pe)|0,I=I+Math.imul(U,Se)|0;var Mt=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,_=Math.imul(X,ce),E=Math.imul(X,be),E=E+Math.imul(W,ce)|0,I=Math.imul(W,be),_=_+Math.imul(ye,Re)|0,E=E+Math.imul(ye,Ae)|0,E=E+Math.imul(q,Re)|0,I=I+Math.imul(q,Ae)|0,_=_+Math.imul(_e,Ye)|0,E=E+Math.imul(_e,Ne)|0,E=E+Math.imul(ae,Ye)|0,I=I+Math.imul(ae,Ne)|0,_=_+Math.imul(G,Pe)|0,E=E+Math.imul(G,Se)|0,E=E+Math.imul(H,Pe)|0,I=I+Math.imul(H,Se)|0,_=_+Math.imul(L,Ke)|0,E=E+Math.imul(L,ie)|0,E=E+Math.imul(U,Ke)|0,I=I+Math.imul(U,ie)|0;var Bt=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,_=Math.imul(ke,ce),E=Math.imul(ke,be),E=E+Math.imul(pe,ce)|0,I=Math.imul(pe,be),_=_+Math.imul(X,Re)|0,E=E+Math.imul(X,Ae)|0,E=E+Math.imul(W,Re)|0,I=I+Math.imul(W,Ae)|0,_=_+Math.imul(ye,Ye)|0,E=E+Math.imul(ye,Ne)|0,E=E+Math.imul(q,Ye)|0,I=I+Math.imul(q,Ne)|0,_=_+Math.imul(_e,Pe)|0,E=E+Math.imul(_e,Se)|0,E=E+Math.imul(ae,Pe)|0,I=I+Math.imul(ae,Se)|0,_=_+Math.imul(G,Ke)|0,E=E+Math.imul(G,ie)|0,E=E+Math.imul(H,Ke)|0,I=I+Math.imul(H,ie)|0,_=_+Math.imul(L,Ce)|0,E=E+Math.imul(L,xe)|0,E=E+Math.imul(U,Ce)|0,I=I+Math.imul(U,xe)|0;var Et=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Et>>>26)|0,Et&=67108863,_=Math.imul(Q,ce),E=Math.imul(Q,be),E=E+Math.imul(Y,ce)|0,I=Math.imul(Y,be),_=_+Math.imul(ke,Re)|0,E=E+Math.imul(ke,Ae)|0,E=E+Math.imul(pe,Re)|0,I=I+Math.imul(pe,Ae)|0,_=_+Math.imul(X,Ye)|0,E=E+Math.imul(X,Ne)|0,E=E+Math.imul(W,Ye)|0,I=I+Math.imul(W,Ne)|0,_=_+Math.imul(ye,Pe)|0,E=E+Math.imul(ye,Se)|0,E=E+Math.imul(q,Pe)|0,I=I+Math.imul(q,Se)|0,_=_+Math.imul(_e,Ke)|0,E=E+Math.imul(_e,ie)|0,E=E+Math.imul(ae,Ke)|0,I=I+Math.imul(ae,ie)|0,_=_+Math.imul(G,Ce)|0,E=E+Math.imul(G,xe)|0,E=E+Math.imul(H,Ce)|0,I=I+Math.imul(H,xe)|0,_=_+Math.imul(L,He)|0,E=E+Math.imul(L,ne)|0,E=E+Math.imul(U,He)|0,I=I+Math.imul(U,ne)|0;var _t=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(_t>>>26)|0,_t&=67108863,_=Math.imul(he,ce),E=Math.imul(he,be),E=E+Math.imul(oe,ce)|0,I=Math.imul(oe,be),_=_+Math.imul(Q,Re)|0,E=E+Math.imul(Q,Ae)|0,E=E+Math.imul(Y,Re)|0,I=I+Math.imul(Y,Ae)|0,_=_+Math.imul(ke,Ye)|0,E=E+Math.imul(ke,Ne)|0,E=E+Math.imul(pe,Ye)|0,I=I+Math.imul(pe,Ne)|0,_=_+Math.imul(X,Pe)|0,E=E+Math.imul(X,Se)|0,E=E+Math.imul(W,Pe)|0,I=I+Math.imul(W,Se)|0,_=_+Math.imul(ye,Ke)|0,E=E+Math.imul(ye,ie)|0,E=E+Math.imul(q,Ke)|0,I=I+Math.imul(q,ie)|0,_=_+Math.imul(_e,Ce)|0,E=E+Math.imul(_e,xe)|0,E=E+Math.imul(ae,Ce)|0,I=I+Math.imul(ae,xe)|0,_=_+Math.imul(G,He)|0,E=E+Math.imul(G,ne)|0,E=E+Math.imul(H,He)|0,I=I+Math.imul(H,ne)|0,_=_+Math.imul(L,Ge)|0,E=E+Math.imul(L,ge)|0,E=E+Math.imul(U,Ge)|0,I=I+Math.imul(U,ge)|0;var Ft=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,_=Math.imul(ze,ce),E=Math.imul(ze,be),E=E+Math.imul(we,ce)|0,I=Math.imul(we,be),_=_+Math.imul(he,Re)|0,E=E+Math.imul(he,Ae)|0,E=E+Math.imul(oe,Re)|0,I=I+Math.imul(oe,Ae)|0,_=_+Math.imul(Q,Ye)|0,E=E+Math.imul(Q,Ne)|0,E=E+Math.imul(Y,Ye)|0,I=I+Math.imul(Y,Ne)|0,_=_+Math.imul(ke,Pe)|0,E=E+Math.imul(ke,Se)|0,E=E+Math.imul(pe,Pe)|0,I=I+Math.imul(pe,Se)|0,_=_+Math.imul(X,Ke)|0,E=E+Math.imul(X,ie)|0,E=E+Math.imul(W,Ke)|0,I=I+Math.imul(W,ie)|0,_=_+Math.imul(ye,Ce)|0,E=E+Math.imul(ye,xe)|0,E=E+Math.imul(q,Ce)|0,I=I+Math.imul(q,xe)|0,_=_+Math.imul(_e,He)|0,E=E+Math.imul(_e,ne)|0,E=E+Math.imul(ae,He)|0,I=I+Math.imul(ae,ne)|0,_=_+Math.imul(G,Ge)|0,E=E+Math.imul(G,ge)|0,E=E+Math.imul(H,Ge)|0,I=I+Math.imul(H,ge)|0,_=_+Math.imul(L,tt)|0,E=E+Math.imul(L,De)|0,E=E+Math.imul(U,tt)|0,I=I+Math.imul(U,De)|0;var Vt=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,_=Math.imul(We,ce),E=Math.imul(We,be),E=E+Math.imul(ve,ce)|0,I=Math.imul(ve,be),_=_+Math.imul(ze,Re)|0,E=E+Math.imul(ze,Ae)|0,E=E+Math.imul(we,Re)|0,I=I+Math.imul(we,Ae)|0,_=_+Math.imul(he,Ye)|0,E=E+Math.imul(he,Ne)|0,E=E+Math.imul(oe,Ye)|0,I=I+Math.imul(oe,Ne)|0,_=_+Math.imul(Q,Pe)|0,E=E+Math.imul(Q,Se)|0,E=E+Math.imul(Y,Pe)|0,I=I+Math.imul(Y,Se)|0,_=_+Math.imul(ke,Ke)|0,E=E+Math.imul(ke,ie)|0,E=E+Math.imul(pe,Ke)|0,I=I+Math.imul(pe,ie)|0,_=_+Math.imul(X,Ce)|0,E=E+Math.imul(X,xe)|0,E=E+Math.imul(W,Ce)|0,I=I+Math.imul(W,xe)|0,_=_+Math.imul(ye,He)|0,E=E+Math.imul(ye,ne)|0,E=E+Math.imul(q,He)|0,I=I+Math.imul(q,ne)|0,_=_+Math.imul(_e,Ge)|0,E=E+Math.imul(_e,ge)|0,E=E+Math.imul(ae,Ge)|0,I=I+Math.imul(ae,ge)|0,_=_+Math.imul(G,tt)|0,E=E+Math.imul(G,De)|0,E=E+Math.imul(H,tt)|0,I=I+Math.imul(H,De)|0,_=_+Math.imul(L,Ie)|0,E=E+Math.imul(L,Fe)|0,E=E+Math.imul(U,Ie)|0,I=I+Math.imul(U,Fe)|0;var Tt=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,_=Math.imul(We,Re),E=Math.imul(We,Ae),E=E+Math.imul(ve,Re)|0,I=Math.imul(ve,Ae),_=_+Math.imul(ze,Ye)|0,E=E+Math.imul(ze,Ne)|0,E=E+Math.imul(we,Ye)|0,I=I+Math.imul(we,Ne)|0,_=_+Math.imul(he,Pe)|0,E=E+Math.imul(he,Se)|0,E=E+Math.imul(oe,Pe)|0,I=I+Math.imul(oe,Se)|0,_=_+Math.imul(Q,Ke)|0,E=E+Math.imul(Q,ie)|0,E=E+Math.imul(Y,Ke)|0,I=I+Math.imul(Y,ie)|0,_=_+Math.imul(ke,Ce)|0,E=E+Math.imul(ke,xe)|0,E=E+Math.imul(pe,Ce)|0,I=I+Math.imul(pe,xe)|0,_=_+Math.imul(X,He)|0,E=E+Math.imul(X,ne)|0,E=E+Math.imul(W,He)|0,I=I+Math.imul(W,ne)|0,_=_+Math.imul(ye,Ge)|0,E=E+Math.imul(ye,ge)|0,E=E+Math.imul(q,Ge)|0,I=I+Math.imul(q,ge)|0,_=_+Math.imul(_e,tt)|0,E=E+Math.imul(_e,De)|0,E=E+Math.imul(ae,tt)|0,I=I+Math.imul(ae,De)|0,_=_+Math.imul(G,Ie)|0,E=E+Math.imul(G,Fe)|0,E=E+Math.imul(H,Ie)|0,I=I+Math.imul(H,Fe)|0;var zt=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(zt>>>26)|0,zt&=67108863,_=Math.imul(We,Ye),E=Math.imul(We,Ne),E=E+Math.imul(ve,Ye)|0,I=Math.imul(ve,Ne),_=_+Math.imul(ze,Pe)|0,E=E+Math.imul(ze,Se)|0,E=E+Math.imul(we,Pe)|0,I=I+Math.imul(we,Se)|0,_=_+Math.imul(he,Ke)|0,E=E+Math.imul(he,ie)|0,E=E+Math.imul(oe,Ke)|0,I=I+Math.imul(oe,ie)|0,_=_+Math.imul(Q,Ce)|0,E=E+Math.imul(Q,xe)|0,E=E+Math.imul(Y,Ce)|0,I=I+Math.imul(Y,xe)|0,_=_+Math.imul(ke,He)|0,E=E+Math.imul(ke,ne)|0,E=E+Math.imul(pe,He)|0,I=I+Math.imul(pe,ne)|0,_=_+Math.imul(X,Ge)|0,E=E+Math.imul(X,ge)|0,E=E+Math.imul(W,Ge)|0,I=I+Math.imul(W,ge)|0,_=_+Math.imul(ye,tt)|0,E=E+Math.imul(ye,De)|0,E=E+Math.imul(q,tt)|0,I=I+Math.imul(q,De)|0,_=_+Math.imul(_e,Ie)|0,E=E+Math.imul(_e,Fe)|0,E=E+Math.imul(ae,Ie)|0,I=I+Math.imul(ae,Fe)|0;var Nt=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,_=Math.imul(We,Pe),E=Math.imul(We,Se),E=E+Math.imul(ve,Pe)|0,I=Math.imul(ve,Se),_=_+Math.imul(ze,Ke)|0,E=E+Math.imul(ze,ie)|0,E=E+Math.imul(we,Ke)|0,I=I+Math.imul(we,ie)|0,_=_+Math.imul(he,Ce)|0,E=E+Math.imul(he,xe)|0,E=E+Math.imul(oe,Ce)|0,I=I+Math.imul(oe,xe)|0,_=_+Math.imul(Q,He)|0,E=E+Math.imul(Q,ne)|0,E=E+Math.imul(Y,He)|0,I=I+Math.imul(Y,ne)|0,_=_+Math.imul(ke,Ge)|0,E=E+Math.imul(ke,ge)|0,E=E+Math.imul(pe,Ge)|0,I=I+Math.imul(pe,ge)|0,_=_+Math.imul(X,tt)|0,E=E+Math.imul(X,De)|0,E=E+Math.imul(W,tt)|0,I=I+Math.imul(W,De)|0,_=_+Math.imul(ye,Ie)|0,E=E+Math.imul(ye,Fe)|0,E=E+Math.imul(q,Ie)|0,I=I+Math.imul(q,Fe)|0;var Pt=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,_=Math.imul(We,Ke),E=Math.imul(We,ie),E=E+Math.imul(ve,Ke)|0,I=Math.imul(ve,ie),_=_+Math.imul(ze,Ce)|0,E=E+Math.imul(ze,xe)|0,E=E+Math.imul(we,Ce)|0,I=I+Math.imul(we,xe)|0,_=_+Math.imul(he,He)|0,E=E+Math.imul(he,ne)|0,E=E+Math.imul(oe,He)|0,I=I+Math.imul(oe,ne)|0,_=_+Math.imul(Q,Ge)|0,E=E+Math.imul(Q,ge)|0,E=E+Math.imul(Y,Ge)|0,I=I+Math.imul(Y,ge)|0,_=_+Math.imul(ke,tt)|0,E=E+Math.imul(ke,De)|0,E=E+Math.imul(pe,tt)|0,I=I+Math.imul(pe,De)|0,_=_+Math.imul(X,Ie)|0,E=E+Math.imul(X,Fe)|0,E=E+Math.imul(W,Ie)|0,I=I+Math.imul(W,Fe)|0;var Ut=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,_=Math.imul(We,Ce),E=Math.imul(We,xe),E=E+Math.imul(ve,Ce)|0,I=Math.imul(ve,xe),_=_+Math.imul(ze,He)|0,E=E+Math.imul(ze,ne)|0,E=E+Math.imul(we,He)|0,I=I+Math.imul(we,ne)|0,_=_+Math.imul(he,Ge)|0,E=E+Math.imul(he,ge)|0,E=E+Math.imul(oe,Ge)|0,I=I+Math.imul(oe,ge)|0,_=_+Math.imul(Q,tt)|0,E=E+Math.imul(Q,De)|0,E=E+Math.imul(Y,tt)|0,I=I+Math.imul(Y,De)|0,_=_+Math.imul(ke,Ie)|0,E=E+Math.imul(ke,Fe)|0,E=E+Math.imul(pe,Ie)|0,I=I+Math.imul(pe,Fe)|0;var Zt=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,_=Math.imul(We,He),E=Math.imul(We,ne),E=E+Math.imul(ve,He)|0,I=Math.imul(ve,ne),_=_+Math.imul(ze,Ge)|0,E=E+Math.imul(ze,ge)|0,E=E+Math.imul(we,Ge)|0,I=I+Math.imul(we,ge)|0,_=_+Math.imul(he,tt)|0,E=E+Math.imul(he,De)|0,E=E+Math.imul(oe,tt)|0,I=I+Math.imul(oe,De)|0,_=_+Math.imul(Q,Ie)|0,E=E+Math.imul(Q,Fe)|0,E=E+Math.imul(Y,Ie)|0,I=I+Math.imul(Y,Fe)|0;var Ht=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,_=Math.imul(We,Ge),E=Math.imul(We,ge),E=E+Math.imul(ve,Ge)|0,I=Math.imul(ve,ge),_=_+Math.imul(ze,tt)|0,E=E+Math.imul(ze,De)|0,E=E+Math.imul(we,tt)|0,I=I+Math.imul(we,De)|0,_=_+Math.imul(he,Ie)|0,E=E+Math.imul(he,Fe)|0,E=E+Math.imul(oe,Ie)|0,I=I+Math.imul(oe,Fe)|0;var Jt=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,_=Math.imul(We,tt),E=Math.imul(We,De),E=E+Math.imul(ve,tt)|0,I=Math.imul(ve,De),_=_+Math.imul(ze,Ie)|0,E=E+Math.imul(ze,Fe)|0,E=E+Math.imul(we,Ie)|0,I=I+Math.imul(we,Fe)|0;var Lr=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,_=Math.imul(We,Ie),E=Math.imul(We,Fe),E=E+Math.imul(ve,Ie)|0,I=Math.imul(ve,Fe);var de=(f+_|0)+((E&8191)<<13)|0;return f=(I+(E>>>13)|0)+(de>>>26)|0,de&=67108863,S[0]=lt,S[1]=yt,S[2]=ht,S[3]=Mt,S[4]=Bt,S[5]=Et,S[6]=_t,S[7]=Ft,S[8]=Vt,S[9]=Tt,S[10]=zt,S[11]=Nt,S[12]=Pt,S[13]=Ut,S[14]=Zt,S[15]=Ht,S[16]=Jt,S[17]=Lr,S[18]=de,f!==0&&(S[19]=f,w.length++),w},"comb10MulTo");Math.imul||(R=C);function O(g,l,m){m.negative=l.negative^g.negative,m.length=g.length+l.length;for(var w=0,M=0,A=0;A<m.length-1;A++){var S=M;M=0;for(var f=w&67108863,_=Math.min(A,l.length-1),E=Math.max(0,A-g.length+1);E<=_;E++){var I=A-E,D=g.words[I]|0,L=l.words[E]|0,U=D*L,B=U&67108863;S=S+(U/67108864|0)|0,B=B+f|0,f=B&67108863,S=S+(B>>>26)|0,M+=S>>>26,S&=67108863}m.words[A]=f,w=S,S=M}return w!==0?m.words[A]=w:m.length--,m._strip()}i(O,"bigMulTo");function T(g,l,m){return O(g,l,m)}i(T,"jumboMulTo"),s.prototype.mulTo=i(function(l,m){var w,M=this.length+l.length;return this.length===10&&l.length===10?w=R(this,l,m):M<63?w=C(this,l,m):M<1024?w=O(this,l,m):w=T(this,l,m),w},"mulTo"),s.prototype.mul=i(function(l){var m=new s(null);return m.words=new Array(this.length+l.length),this.mulTo(l,m)},"mul"),s.prototype.mulf=i(function(l){var m=new s(null);return m.words=new Array(this.length+l.length),T(this,l,m)},"mulf"),s.prototype.imul=i(function(l){return this.clone().mulTo(l,this)},"imul"),s.prototype.imuln=i(function(l){var m=l<0;m&&(l=-l),a(typeof l=="number"),a(l<67108864);for(var w=0,M=0;M<this.length;M++){var A=(this.words[M]|0)*l,S=(A&67108863)+(w&67108863);w>>=26,w+=A/67108864|0,w+=S>>>26,this.words[M]=S&67108863}return w!==0&&(this.words[M]=w,this.length++),this.length=l===0?1:this.length,m?this.ineg():this},"imuln"),s.prototype.muln=i(function(l){return this.clone().imuln(l)},"muln"),s.prototype.sqr=i(function(){return this.mul(this)},"sqr"),s.prototype.isqr=i(function(){return this.imul(this.clone())},"isqr"),s.prototype.pow=i(function(l){var m=N(l);if(m.length===0)return new s(1);for(var w=this,M=0;M<m.length&&m[M]===0;M++,w=w.sqr());if(++M<m.length)for(var A=w.sqr();M<m.length;M++,A=A.sqr())m[M]!==0&&(w=w.mul(A));return w},"pow"),s.prototype.iushln=i(function(l){a(typeof l=="number"&&l>=0);var m=l%26,w=(l-m)/26,M=67108863>>>26-m<<26-m,A;if(m!==0){var S=0;for(A=0;A<this.length;A++){var f=this.words[A]&M,_=(this.words[A]|0)-f<<m;this.words[A]=_|S,S=f>>>26-m}S&&(this.words[A]=S,this.length++)}if(w!==0){for(A=this.length-1;A>=0;A--)this.words[A+w]=this.words[A];for(A=0;A<w;A++)this.words[A]=0;this.length+=w}return this._strip()},"iushln"),s.prototype.ishln=i(function(l){return a(this.negative===0),this.iushln(l)},"ishln"),s.prototype.iushrn=i(function(l,m,w){a(typeof l=="number"&&l>=0);var M;m?M=(m-m%26)/26:M=0;var A=l%26,S=Math.min((l-A)/26,this.length),f=67108863^67108863>>>A<<A,_=w;if(M-=S,M=Math.max(0,M),_){for(var E=0;E<S;E++)_.words[E]=this.words[E];_.length=S}if(S!==0)if(this.length>S)for(this.length-=S,E=0;E<this.length;E++)this.words[E]=this.words[E+S];else this.words[0]=0,this.length=1;var I=0;for(E=this.length-1;E>=0&&(I!==0||E>=M);E--){var D=this.words[E]|0;this.words[E]=I<<26-A|D>>>A,I=D&f}return _&&I!==0&&(_.words[_.length++]=I),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},"iushrn"),s.prototype.ishrn=i(function(l,m,w){return a(this.negative===0),this.iushrn(l,m,w)},"ishrn"),s.prototype.shln=i(function(l){return this.clone().ishln(l)},"shln"),s.prototype.ushln=i(function(l){return this.clone().iushln(l)},"ushln"),s.prototype.shrn=i(function(l){return this.clone().ishrn(l)},"shrn"),s.prototype.ushrn=i(function(l){return this.clone().iushrn(l)},"ushrn"),s.prototype.testn=i(function(l){a(typeof l=="number"&&l>=0);var m=l%26,w=(l-m)/26,M=1<<m;if(this.length<=w)return!1;var A=this.words[w];return!!(A&M)},"testn"),s.prototype.imaskn=i(function(l){a(typeof l=="number"&&l>=0);var m=l%26,w=(l-m)/26;if(a(this.negative===0,"imaskn works only with positive numbers"),this.length<=w)return this;if(m!==0&&w++,this.length=Math.min(w,this.length),m!==0){var M=67108863^67108863>>>m<<m;this.words[this.length-1]&=M}return this._strip()},"imaskn"),s.prototype.maskn=i(function(l){return this.clone().imaskn(l)},"maskn"),s.prototype.iaddn=i(function(l){return a(typeof l=="number"),a(l<67108864),l<0?this.isubn(-l):this.negative!==0?this.length===1&&(this.words[0]|0)<=l?(this.words[0]=l-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},"iaddn"),s.prototype._iaddn=i(function(l){this.words[0]+=l;for(var m=0;m<this.length&&this.words[m]>=67108864;m++)this.words[m]-=67108864,m===this.length-1?this.words[m+1]=1:this.words[m+1]++;return this.length=Math.max(this.length,m+1),this},"_iaddn"),s.prototype.isubn=i(function(l){if(a(typeof l=="number"),a(l<67108864),l<0)return this.iaddn(-l);if(this.negative!==0)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var m=0;m<this.length&&this.words[m]<0;m++)this.words[m]+=67108864,this.words[m+1]-=1;return this._strip()},"isubn"),s.prototype.addn=i(function(l){return this.clone().iaddn(l)},"addn"),s.prototype.subn=i(function(l){return this.clone().isubn(l)},"subn"),s.prototype.iabs=i(function(){return this.negative=0,this},"iabs"),s.prototype.abs=i(function(){return this.clone().iabs()},"abs"),s.prototype._ishlnsubmul=i(function(l,m,w){var M=l.length+w,A;this._expand(M);var S,f=0;for(A=0;A<l.length;A++){S=(this.words[A+w]|0)+f;var _=(l.words[A]|0)*m;S-=_&67108863,f=(S>>26)-(_/67108864|0),this.words[A+w]=S&67108863}for(;A<this.length-w;A++)S=(this.words[A+w]|0)+f,f=S>>26,this.words[A+w]=S&67108863;if(f===0)return this._strip();for(a(f===-1),f=0,A=0;A<this.length;A++)S=-(this.words[A]|0)+f,f=S>>26,this.words[A]=S&67108863;return this.negative=1,this._strip()},"_ishlnsubmul"),s.prototype._wordDiv=i(function(l,m){var w=this.length-l.length,M=this.clone(),A=l,S=A.words[A.length-1]|0,f=this._countBits(S);w=26-f,w!==0&&(A=A.ushln(w),M.iushln(w),S=A.words[A.length-1]|0);var _=M.length-A.length,E;if(m!=="mod"){E=new s(null),E.length=_+1,E.words=new Array(E.length);for(var I=0;I<E.length;I++)E.words[I]=0}var D=M.clone()._ishlnsubmul(A,1,_);D.negative===0&&(M=D,E&&(E.words[_]=1));for(var L=_-1;L>=0;L--){var U=(M.words[A.length+L]|0)*67108864+(M.words[A.length+L-1]|0);for(U=Math.min(U/S|0,67108863),M._ishlnsubmul(A,U,L);M.negative!==0;)U--,M.negative=0,M._ishlnsubmul(A,1,L),M.isZero()||(M.negative^=1);E&&(E.words[L]=U)}return E&&E._strip(),M._strip(),m!=="div"&&w!==0&&M.iushrn(w),{div:E||null,mod:M}},"_wordDiv"),s.prototype.divmod=i(function(l,m,w){if(a(!l.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var M,A,S;return this.negative!==0&&l.negative===0?(S=this.neg().divmod(l,m),m!=="mod"&&(M=S.div.neg()),m!=="div"&&(A=S.mod.neg(),w&&A.negative!==0&&A.iadd(l)),{div:M,mod:A}):this.negative===0&&l.negative!==0?(S=this.divmod(l.neg(),m),m!=="mod"&&(M=S.div.neg()),{div:M,mod:S.mod}):(this.negative&l.negative)!==0?(S=this.neg().divmod(l.neg(),m),m!=="div"&&(A=S.mod.neg(),w&&A.negative!==0&&A.isub(l)),{div:S.div,mod:A}):l.length>this.length||this.cmp(l)<0?{div:new s(0),mod:this}:l.length===1?m==="div"?{div:this.divn(l.words[0]),mod:null}:m==="mod"?{div:null,mod:new s(this.modrn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new s(this.modrn(l.words[0]))}:this._wordDiv(l,m)},"divmod"),s.prototype.div=i(function(l){return this.divmod(l,"div",!1).div},"div"),s.prototype.mod=i(function(l){return this.divmod(l,"mod",!1).mod},"mod"),s.prototype.umod=i(function(l){return this.divmod(l,"mod",!0).mod},"umod"),s.prototype.divRound=i(function(l){var m=this.divmod(l);if(m.mod.isZero())return m.div;var w=m.div.negative!==0?m.mod.isub(l):m.mod,M=l.ushrn(1),A=l.andln(1),S=w.cmp(M);return S<0||A===1&&S===0?m.div:m.div.negative!==0?m.div.isubn(1):m.div.iaddn(1)},"divRound"),s.prototype.modrn=i(function(l){var m=l<0;m&&(l=-l),a(l<=67108863);for(var w=(1<<26)%l,M=0,A=this.length-1;A>=0;A--)M=(w*M+(this.words[A]|0))%l;return m?-M:M},"modrn"),s.prototype.modn=i(function(l){return this.modrn(l)},"modn"),s.prototype.idivn=i(function(l){var m=l<0;m&&(l=-l),a(l<=67108863);for(var w=0,M=this.length-1;M>=0;M--){var A=(this.words[M]|0)+w*67108864;this.words[M]=A/l|0,w=A%l}return this._strip(),m?this.ineg():this},"idivn"),s.prototype.divn=i(function(l){return this.clone().idivn(l)},"divn"),s.prototype.egcd=i(function(l){a(l.negative===0),a(!l.isZero());var m=this,w=l.clone();m.negative!==0?m=m.umod(l):m=m.clone();for(var M=new s(1),A=new s(0),S=new s(0),f=new s(1),_=0;m.isEven()&&w.isEven();)m.iushrn(1),w.iushrn(1),++_;for(var E=w.clone(),I=m.clone();!m.isZero();){for(var D=0,L=1;(m.words[0]&L)===0&&D<26;++D,L<<=1);if(D>0)for(m.iushrn(D);D-- >0;)(M.isOdd()||A.isOdd())&&(M.iadd(E),A.isub(I)),M.iushrn(1),A.iushrn(1);for(var U=0,B=1;(w.words[0]&B)===0&&U<26;++U,B<<=1);if(U>0)for(w.iushrn(U);U-- >0;)(S.isOdd()||f.isOdd())&&(S.iadd(E),f.isub(I)),S.iushrn(1),f.iushrn(1);m.cmp(w)>=0?(m.isub(w),M.isub(S),A.isub(f)):(w.isub(m),S.isub(M),f.isub(A))}return{a:S,b:f,gcd:w.iushln(_)}},"egcd"),s.prototype._invmp=i(function(l){a(l.negative===0),a(!l.isZero());var m=this,w=l.clone();m.negative!==0?m=m.umod(l):m=m.clone();for(var M=new s(1),A=new s(0),S=w.clone();m.cmpn(1)>0&&w.cmpn(1)>0;){for(var f=0,_=1;(m.words[0]&_)===0&&f<26;++f,_<<=1);if(f>0)for(m.iushrn(f);f-- >0;)M.isOdd()&&M.iadd(S),M.iushrn(1);for(var E=0,I=1;(w.words[0]&I)===0&&E<26;++E,I<<=1);if(E>0)for(w.iushrn(E);E-- >0;)A.isOdd()&&A.iadd(S),A.iushrn(1);m.cmp(w)>=0?(m.isub(w),M.isub(A)):(w.isub(m),A.isub(M))}var D;return m.cmpn(1)===0?D=M:D=A,D.cmpn(0)<0&&D.iadd(l),D},"_invmp"),s.prototype.gcd=i(function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var m=this.clone(),w=l.clone();m.negative=0,w.negative=0;for(var M=0;m.isEven()&&w.isEven();M++)m.iushrn(1),w.iushrn(1);do{for(;m.isEven();)m.iushrn(1);for(;w.isEven();)w.iushrn(1);var A=m.cmp(w);if(A<0){var S=m;m=w,w=S}else if(A===0||w.cmpn(1)===0)break;m.isub(w)}while(!0);return w.iushln(M)},"gcd"),s.prototype.invm=i(function(l){return this.egcd(l).a.umod(l)},"invm"),s.prototype.isEven=i(function(){return(this.words[0]&1)===0},"isEven"),s.prototype.isOdd=i(function(){return(this.words[0]&1)===1},"isOdd"),s.prototype.andln=i(function(l){return this.words[0]&l},"andln"),s.prototype.bincn=i(function(l){a(typeof l=="number");var m=l%26,w=(l-m)/26,M=1<<m;if(this.length<=w)return this._expand(w+1),this.words[w]|=M,this;for(var A=M,S=w;A!==0&&S<this.length;S++){var f=this.words[S]|0;f+=A,A=f>>>26,f&=67108863,this.words[S]=f}return A!==0&&(this.words[S]=A,this.length++),this},"bincn"),s.prototype.isZero=i(function(){return this.length===1&&this.words[0]===0},"isZero"),s.prototype.cmpn=i(function(l){var m=l<0;if(this.negative!==0&&!m)return-1;if(this.negative===0&&m)return 1;this._strip();var w;if(this.length>1)w=1;else{m&&(l=-l),a(l<=67108863,"Number is too big");var M=this.words[0]|0;w=M===l?0:M<l?-1:1}return this.negative!==0?-w|0:w},"cmpn"),s.prototype.cmp=i(function(l){if(this.negative!==0&&l.negative===0)return-1;if(this.negative===0&&l.negative!==0)return 1;var m=this.ucmp(l);return this.negative!==0?-m|0:m},"cmp"),s.prototype.ucmp=i(function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var m=0,w=this.length-1;w>=0;w--){var M=this.words[w]|0,A=l.words[w]|0;if(M!==A){M<A?m=-1:M>A&&(m=1);break}}return m},"ucmp"),s.prototype.gtn=i(function(l){return this.cmpn(l)===1},"gtn"),s.prototype.gt=i(function(l){return this.cmp(l)===1},"gt"),s.prototype.gten=i(function(l){return this.cmpn(l)>=0},"gten"),s.prototype.gte=i(function(l){return this.cmp(l)>=0},"gte"),s.prototype.ltn=i(function(l){return this.cmpn(l)===-1},"ltn"),s.prototype.lt=i(function(l){return this.cmp(l)===-1},"lt"),s.prototype.lten=i(function(l){return this.cmpn(l)<=0},"lten"),s.prototype.lte=i(function(l){return this.cmp(l)<=0},"lte"),s.prototype.eqn=i(function(l){return this.cmpn(l)===0},"eqn"),s.prototype.eq=i(function(l){return this.cmp(l)===0},"eq"),s.red=i(function(l){return new F(l)},"red"),s.prototype.toRed=i(function(l){return a(!this.red,"Already a number in reduction context"),a(this.negative===0,"red works only with positives"),l.convertTo(this)._forceRed(l)},"toRed"),s.prototype.fromRed=i(function(){return a(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},"fromRed"),s.prototype._forceRed=i(function(l){return this.red=l,this},"_forceRed"),s.prototype.forceRed=i(function(l){return a(!this.red,"Already a number in reduction context"),this._forceRed(l)},"forceRed"),s.prototype.redAdd=i(function(l){return a(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},"redAdd"),s.prototype.redIAdd=i(function(l){return a(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},"redIAdd"),s.prototype.redSub=i(function(l){return a(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},"redSub"),s.prototype.redISub=i(function(l){return a(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},"redISub"),s.prototype.redShl=i(function(l){return a(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},"redShl"),s.prototype.redMul=i(function(l){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},"redMul"),s.prototype.redIMul=i(function(l){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},"redIMul"),s.prototype.redSqr=i(function(){return a(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},"redSqr"),s.prototype.redISqr=i(function(){return a(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},"redISqr"),s.prototype.redSqrt=i(function(){return a(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},"redSqrt"),s.prototype.redInvm=i(function(){return a(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},"redInvm"),s.prototype.redNeg=i(function(){return a(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},"redNeg"),s.prototype.redPow=i(function(l){return a(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)},"redPow");var P={k256:null,p224:null,p192:null,p25519:null};function z(g,l){this.name=g,this.p=new s(l,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}i(z,"MPrime"),z.prototype._tmp=i(function(){var l=new s(null);return l.words=new Array(Math.ceil(this.n/13)),l},"_tmp"),z.prototype.ireduce=i(function(l){var m=l,w;do this.split(m,this.tmp),m=this.imulK(m),m=m.iadd(this.tmp),w=m.bitLength();while(w>this.n);var M=w<this.n?-1:m.ucmp(this.p);return M===0?(m.words[0]=0,m.length=1):M>0?m.isub(this.p):m.strip!==void 0?m.strip():m._strip(),m},"ireduce"),z.prototype.split=i(function(l,m){l.iushrn(this.n,0,m)},"split"),z.prototype.imulK=i(function(l){return l.imul(this.k)},"imulK");function V(){z.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(V,"K256"),n(V,z),V.prototype.split=i(function(l,m){for(var w=4194303,M=Math.min(l.length,9),A=0;A<M;A++)m.words[A]=l.words[A];if(m.length=M,l.length<=9){l.words[0]=0,l.length=1;return}var S=l.words[9];for(m.words[m.length++]=S&w,A=10;A<l.length;A++){var f=l.words[A]|0;l.words[A-10]=(f&w)<<4|S>>>22,S=f}S>>>=22,l.words[A-10]=S,S===0&&l.length>10?l.length-=10:l.length-=9},"split"),V.prototype.imulK=i(function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var m=0,w=0;w<l.length;w++){var M=l.words[w]|0;m+=M*977,l.words[w]=m&67108863,m=M*64+(m/67108864|0)}return l.words[l.length-1]===0&&(l.length--,l.words[l.length-1]===0&&l.length--),l},"imulK");function Z(){z.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(Z,"P224"),n(Z,z);function ee(){z.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(ee,"P192"),n(ee,z);function $(){z.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i($,"P25519"),n($,z),$.prototype.imulK=i(function(l){for(var m=0,w=0;w<l.length;w++){var M=(l.words[w]|0)*19+m,A=M&67108863;M>>>=26,l.words[w]=A,m=M}return m!==0&&(l.words[l.length++]=m),l},"imulK"),s._prime=i(function(l){if(P[l])return P[l];var m;if(l==="k256")m=new V;else if(l==="p224")m=new Z;else if(l==="p192")m=new ee;else if(l==="p25519")m=new $;else throw new Error("Unknown prime "+l);return P[l]=m,m},"prime");function F(g){if(typeof g=="string"){var l=s._prime(g);this.m=l.p,this.prime=l}else a(g.gtn(1),"modulus must be greater than 1"),this.m=g,this.prime=null}i(F,"Red"),F.prototype._verify1=i(function(l){a(l.negative===0,"red works only with positives"),a(l.red,"red works only with red numbers")},"_verify1"),F.prototype._verify2=i(function(l,m){a((l.negative|m.negative)===0,"red works only with positives"),a(l.red&&l.red===m.red,"red works only with red numbers")},"_verify2"),F.prototype.imod=i(function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):(c(l,l.umod(this.m)._forceRed(this)),l)},"imod"),F.prototype.neg=i(function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},"neg"),F.prototype.add=i(function(l,m){this._verify2(l,m);var w=l.add(m);return w.cmp(this.m)>=0&&w.isub(this.m),w._forceRed(this)},"add"),F.prototype.iadd=i(function(l,m){this._verify2(l,m);var w=l.iadd(m);return w.cmp(this.m)>=0&&w.isub(this.m),w},"iadd"),F.prototype.sub=i(function(l,m){this._verify2(l,m);var w=l.sub(m);return w.cmpn(0)<0&&w.iadd(this.m),w._forceRed(this)},"sub"),F.prototype.isub=i(function(l,m){this._verify2(l,m);var w=l.isub(m);return w.cmpn(0)<0&&w.iadd(this.m),w},"isub"),F.prototype.shl=i(function(l,m){return this._verify1(l),this.imod(l.ushln(m))},"shl"),F.prototype.imul=i(function(l,m){return this._verify2(l,m),this.imod(l.imul(m))},"imul"),F.prototype.mul=i(function(l,m){return this._verify2(l,m),this.imod(l.mul(m))},"mul"),F.prototype.isqr=i(function(l){return this.imul(l,l.clone())},"isqr"),F.prototype.sqr=i(function(l){return this.mul(l,l)},"sqr"),F.prototype.sqrt=i(function(l){if(l.isZero())return l.clone();var m=this.m.andln(3);if(a(m%2===1),m===3){var w=this.m.add(new s(1)).iushrn(2);return this.pow(l,w)}for(var M=this.m.subn(1),A=0;!M.isZero()&&M.andln(1)===0;)A++,M.iushrn(1);a(!M.isZero());var S=new s(1).toRed(this),f=S.redNeg(),_=this.m.subn(1).iushrn(1),E=this.m.bitLength();for(E=new s(2*E*E).toRed(this);this.pow(E,_).cmp(f)!==0;)E.redIAdd(f);for(var I=this.pow(E,M),D=this.pow(l,M.addn(1).iushrn(1)),L=this.pow(l,M),U=A;L.cmp(S)!==0;){for(var B=L,G=0;B.cmp(S)!==0;G++)B=B.redSqr();a(G<U);var H=this.pow(I,new s(1).iushln(U-G-1));D=D.redMul(H),I=H.redSqr(),L=L.redMul(I),U=G}return D},"sqrt"),F.prototype.invm=i(function(l){var m=l._invmp(this.m);return m.negative!==0?(m.negative=0,this.imod(m).redNeg()):this.imod(m)},"invm"),F.prototype.pow=i(function(l,m){if(m.isZero())return new s(1).toRed(this);if(m.cmpn(1)===0)return l.clone();var w=4,M=new Array(1<<w);M[0]=new s(1).toRed(this),M[1]=l;for(var A=2;A<M.length;A++)M[A]=this.mul(M[A-1],l);var S=M[0],f=0,_=0,E=m.bitLength()%26;for(E===0&&(E=26),A=m.length-1;A>=0;A--){for(var I=m.words[A],D=E-1;D>=0;D--){var L=I>>D&1;if(S!==M[0]&&(S=this.sqr(S)),L===0&&f===0){_=0;continue}f<<=1,f|=L,_++,!(_!==w&&(A!==0||D!==0))&&(S=this.mul(S,M[f]),_=0,f=0)}E=26}return S},"pow"),F.prototype.convertTo=i(function(l){var m=l.umod(this.m);return m===l?m.clone():m},"convertTo"),F.prototype.convertFrom=i(function(l){var m=l.clone();return m.red=null,m},"convertFrom"),s.mont=i(function(l){return new u(l)},"mont");function u(g){F.call(this,g),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(u,"Mont"),n(u,F),u.prototype.convertTo=i(function(l){return this.imod(l.ushln(this.shift))},"convertTo"),u.prototype.convertFrom=i(function(l){var m=this.imod(l.mul(this.rinv));return m.red=null,m},"convertFrom"),u.prototype.imul=i(function(l,m){if(l.isZero()||m.isZero())return l.words[0]=0,l.length=1,l;var w=l.imul(m),M=w.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=w.isub(M).iushrn(this.shift),S=A;return A.cmp(this.m)>=0?S=A.isub(this.m):A.cmpn(0)<0&&(S=A.iadd(this.m)),S._forceRed(this)},"imul"),u.prototype.mul=i(function(l,m){if(l.isZero()||m.isZero())return new s(0)._forceRed(this);var w=l.mul(m),M=w.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=w.isub(M).iushrn(this.shift),S=A;return A.cmp(this.m)>=0?S=A.isub(this.m):A.cmpn(0)<0&&(S=A.iadd(this.m)),S._forceRed(this)},"mul"),u.prototype.invm=i(function(l){var m=this.imod(l._invmp(this.m).mul(this.r2));return m._forceRed(this)},"invm")})(e,XP)})(Eu)),Eu.exports}i(WP,"requireBn$1");var Wh,a6;function Av(){if(a6)return Wh;a6=1;var e=WP(),t=ys(),r=jt().Buffer;function a(o){var h=o.modulus.byteLength(),p;do p=new e(t(h));while(p.cmp(o.modulus)>=0||!p.umod(o.prime1)||!p.umod(o.prime2));return p}i(a,"getr");function n(o){var h=a(o),p=h.toRed(e.mont(o.modulus)).redPow(new e(o.publicExponent)).fromRed();return{blinder:p,unblinder:h.invm(o.modulus)}}i(n,"blind");function s(o,h){var p=n(h),v=h.modulus.byteLength(),c=new e(o).mul(p.blinder).umod(h.modulus),d=c.toRed(e.mont(h.prime1)),y=c.toRed(e.mont(h.prime2)),b=h.coefficient,x=h.prime1,k=h.prime2,N=d.redPow(h.exponent1).fromRed(),C=y.redPow(h.exponent2).fromRed(),R=N.isub(C).imul(b).umod(x).imul(k);return C.iadd(R).imul(p.unblinder).umod(h.modulus).toArrayLike(r,"be",v)}return i(s,"crt"),s.getr=a,Wh=s,Wh}i(Av,"requireBrowserifyRsa");var Qh={};const QP="6.6.1",YP={version:QP};var Yh={},e0={},s6;function P7(){return s6||(s6=1,(function(e){var t=e;function r(s,o){if(Array.isArray(s))return s.slice();if(!s)return[];var h=[];if(typeof s!="string"){for(var p=0;p<s.length;p++)h[p]=s[p]|0;return h}if(o==="hex"){s=s.replace(/[^a-z0-9]+/ig,""),s.length%2!==0&&(s="0"+s);for(var p=0;p<s.length;p+=2)h.push(parseInt(s[p]+s[p+1],16))}else for(var p=0;p<s.length;p++){var v=s.charCodeAt(p),c=v>>8,d=v&255;c?h.push(c,d):h.push(d)}return h}i(r,"toArray"),t.toArray=r;function a(s){return s.length===1?"0"+s:s}i(a,"zero2"),t.zero2=a;function n(s){for(var o="",h=0;h<s.length;h++)o+=a(s[h].toString(16));return o}i(n,"toHex"),t.toHex=n,t.encode=i(function(o,h){return h==="hex"?n(o):o},"encode")})(e0)),e0}i(P7,"requireUtils$2");var o6;function di(){return o6||(o6=1,(function(e){var t=e,r=Nr(),a=ci(),n=P7();t.assert=a,t.toArray=n.toArray,t.zero2=n.zero2,t.toHex=n.toHex,t.encode=n.encode;function s(c,d,y){var b=new Array(Math.max(c.bitLength(),y)+1),x;for(x=0;x<b.length;x+=1)b[x]=0;var k=1<<d+1,N=c.clone();for(x=0;x<b.length;x++){var C,R=N.andln(k-1);N.isOdd()?(R>(k>>1)-1?C=(k>>1)-R:C=R,N.isubn(C)):C=0,b[x]=C,N.iushrn(1)}return b}i(s,"getNAF"),t.getNAF=s;function o(c,d){var y=[[],[]];c=c.clone(),d=d.clone();for(var b=0,x=0,k;c.cmpn(-b)>0||d.cmpn(-x)>0;){var N=c.andln(3)+b&3,C=d.andln(3)+x&3;N===3&&(N=-1),C===3&&(C=-1);var R;(N&1)===0?R=0:(k=c.andln(7)+b&7,(k===3||k===5)&&C===2?R=-N:R=N),y[0].push(R);var O;(C&1)===0?O=0:(k=d.andln(7)+x&7,(k===3||k===5)&&N===2?O=-C:O=C),y[1].push(O),2*b===R+1&&(b=1-b),2*x===O+1&&(x=1-x),c.iushrn(1),d.iushrn(1)}return y}i(o,"getJSF"),t.getJSF=o;function h(c,d,y){var b="_"+d;c.prototype[d]=i(function(){return this[b]!==void 0?this[b]:this[b]=y.call(this)},"cachedProperty")}i(h,"cachedProperty"),t.cachedProperty=h;function p(c){return typeof c=="string"?t.toArray(c,"hex"):c}i(p,"parseBytes"),t.parseBytes=p;function v(c){return new r(c,"hex","le")}i(v,"intFromLE"),t.intFromLE=v})(Yh)),Yh}i(di,"requireUtils$1");var t0={},r0,l6;function Gf(){if(l6)return r0;l6=1;var e=Nr(),t=di(),r=t.getNAF,a=t.getJSF,n=t.assert;function s(h,p){this.type=h,this.p=new e(p.p,16),this.red=p.prime?e.red(p.prime):e.mont(this.p),this.zero=new e(0).toRed(this.red),this.one=new e(1).toRed(this.red),this.two=new e(2).toRed(this.red),this.n=p.n&&new e(p.n,16),this.g=p.g&&this.pointFromJSON(p.g,p.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var v=this.n&&this.p.div(this.n);!v||v.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}i(s,"BaseCurve"),r0=s,s.prototype.point=i(function(){throw new Error("Not implemented")},"point"),s.prototype.validate=i(function(){throw new Error("Not implemented")},"validate"),s.prototype._fixedNafMul=i(function(p,v){n(p.precomputed);var c=p._getDoubles(),d=r(v,1,this._bitLength),y=(1<<c.step+1)-(c.step%2===0?2:1);y/=3;var b=[],x,k;for(x=0;x<d.length;x+=c.step){k=0;for(var N=x+c.step-1;N>=x;N--)k=(k<<1)+d[N];b.push(k)}for(var C=this.jpoint(null,null,null),R=this.jpoint(null,null,null),O=y;O>0;O--){for(x=0;x<b.length;x++)k=b[x],k===O?R=R.mixedAdd(c.points[x]):k===-O&&(R=R.mixedAdd(c.points[x].neg()));C=C.add(R)}return C.toP()},"_fixedNafMul"),s.prototype._wnafMul=i(function(p,v){var c=4,d=p._getNAFPoints(c);c=d.wnd;for(var y=d.points,b=r(v,c,this._bitLength),x=this.jpoint(null,null,null),k=b.length-1;k>=0;k--){for(var N=0;k>=0&&b[k]===0;k--)N++;if(k>=0&&N++,x=x.dblp(N),k<0)break;var C=b[k];n(C!==0),p.type==="affine"?C>0?x=x.mixedAdd(y[C-1>>1]):x=x.mixedAdd(y[-C-1>>1].neg()):C>0?x=x.add(y[C-1>>1]):x=x.add(y[-C-1>>1].neg())}return p.type==="affine"?x.toP():x},"_wnafMul"),s.prototype._wnafMulAdd=i(function(p,v,c,d,y){var b=this._wnafT1,x=this._wnafT2,k=this._wnafT3,N=0,C,R,O;for(C=0;C<d;C++){O=v[C];var T=O._getNAFPoints(p);b[C]=T.wnd,x[C]=T.points}for(C=d-1;C>=1;C-=2){var P=C-1,z=C;if(b[P]!==1||b[z]!==1){k[P]=r(c[P],b[P],this._bitLength),k[z]=r(c[z],b[z],this._bitLength),N=Math.max(k[P].length,N),N=Math.max(k[z].length,N);continue}var V=[v[P],null,null,v[z]];v[P].y.cmp(v[z].y)===0?(V[1]=v[P].add(v[z]),V[2]=v[P].toJ().mixedAdd(v[z].neg())):v[P].y.cmp(v[z].y.redNeg())===0?(V[1]=v[P].toJ().mixedAdd(v[z]),V[2]=v[P].add(v[z].neg())):(V[1]=v[P].toJ().mixedAdd(v[z]),V[2]=v[P].toJ().mixedAdd(v[z].neg()));var Z=[-3,-1,-5,-7,0,7,5,1,3],ee=a(c[P],c[z]);for(N=Math.max(ee[0].length,N),k[P]=new Array(N),k[z]=new Array(N),R=0;R<N;R++){var $=ee[0][R]|0,F=ee[1][R]|0;k[P][R]=Z[($+1)*3+(F+1)],k[z][R]=0,x[P]=V}}var u=this.jpoint(null,null,null),g=this._wnafT4;for(C=N;C>=0;C--){for(var l=0;C>=0;){var m=!0;for(R=0;R<d;R++)g[R]=k[R][C]|0,g[R]!==0&&(m=!1);if(!m)break;l++,C--}if(C>=0&&l++,u=u.dblp(l),C<0)break;for(R=0;R<d;R++){var w=g[R];w!==0&&(w>0?O=x[R][w-1>>1]:w<0&&(O=x[R][-w-1>>1].neg()),O.type==="affine"?u=u.mixedAdd(O):u=u.add(O))}}for(C=0;C<d;C++)x[C]=null;return y?u:u.toP()},"_wnafMulAdd");function o(h,p){this.curve=h,this.type=p,this.precomputed=null}return i(o,"BasePoint"),s.BasePoint=o,o.prototype.eq=i(function(){throw new Error("Not implemented")},"eq"),o.prototype.validate=i(function(){return this.curve.validate(this)},"validate"),s.prototype.decodePoint=i(function(p,v){p=t.toArray(p,v);var c=this.p.byteLength();if((p[0]===4||p[0]===6||p[0]===7)&&p.length-1===2*c){p[0]===6?n(p[p.length-1]%2===0):p[0]===7&&n(p[p.length-1]%2===1);var d=this.point(p.slice(1,1+c),p.slice(1+c,1+2*c));return d}else if((p[0]===2||p[0]===3)&&p.length-1===c)return this.pointFromX(p.slice(1,1+c),p[0]===3);throw new Error("Unknown point format")},"decodePoint"),o.prototype.encodeCompressed=i(function(p){return this.encode(p,!0)},"encodeCompressed"),o.prototype._encode=i(function(p){var v=this.curve.p.byteLength(),c=this.getX().toArray("be",v);return p?[this.getY().isEven()?2:3].concat(c):[4].concat(c,this.getY().toArray("be",v))},"_encode"),o.prototype.encode=i(function(p,v){return t.encode(this._encode(v),p)},"encode"),o.prototype.precompute=i(function(p){if(this.precomputed)return this;var v={doubles:null,naf:null,beta:null};return v.naf=this._getNAFPoints(8),v.doubles=this._getDoubles(4,p),v.beta=this._getBeta(),this.precomputed=v,this},"precompute"),o.prototype._hasDoubles=i(function(p){if(!this.precomputed)return!1;var v=this.precomputed.doubles;return v?v.points.length>=Math.ceil((p.bitLength()+1)/v.step):!1},"_hasDoubles"),o.prototype._getDoubles=i(function(p,v){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var c=[this],d=this,y=0;y<v;y+=p){for(var b=0;b<p;b++)d=d.dbl();c.push(d)}return{step:p,points:c}},"_getDoubles"),o.prototype._getNAFPoints=i(function(p){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var v=[this],c=(1<<p)-1,d=c===1?null:this.dbl(),y=1;y<c;y++)v[y]=v[y-1].add(d);return{wnd:p,points:v}},"_getNAFPoints"),o.prototype._getBeta=i(function(){return null},"_getBeta"),o.prototype.dblp=i(function(p){for(var v=this,c=0;c<p;c++)v=v.dbl();return v},"dblp"),r0}i(Gf,"requireBase$1");var i0,u6;function eD(){if(u6)return i0;u6=1;var e=di(),t=Nr(),r=Lt(),a=Gf(),n=e.assert;function s(p){a.call(this,"short",p),this.a=new t(p.a,16).toRed(this.red),this.b=new t(p.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(p),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}i(s,"ShortCurve"),r(s,a),i0=s,s.prototype._getEndomorphism=i(function(v){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var c,d;if(v.beta)c=new t(v.beta,16).toRed(this.red);else{var y=this._getEndoRoots(this.p);c=y[0].cmp(y[1])<0?y[0]:y[1],c=c.toRed(this.red)}if(v.lambda)d=new t(v.lambda,16);else{var b=this._getEndoRoots(this.n);this.g.mul(b[0]).x.cmp(this.g.x.redMul(c))===0?d=b[0]:(d=b[1],n(this.g.mul(d).x.cmp(this.g.x.redMul(c))===0))}var x;return v.basis?x=v.basis.map(function(k){return{a:new t(k.a,16),b:new t(k.b,16)}}):x=this._getEndoBasis(d),{beta:c,lambda:d,basis:x}}},"_getEndomorphism"),s.prototype._getEndoRoots=i(function(v){var c=v===this.p?this.red:t.mont(v),d=new t(2).toRed(c).redInvm(),y=d.redNeg(),b=new t(3).toRed(c).redNeg().redSqrt().redMul(d),x=y.redAdd(b).fromRed(),k=y.redSub(b).fromRed();return[x,k]},"_getEndoRoots"),s.prototype._getEndoBasis=i(function(v){for(var c=this.n.ushrn(Math.floor(this.n.bitLength()/2)),d=v,y=this.n.clone(),b=new t(1),x=new t(0),k=new t(0),N=new t(1),C,R,O,T,P,z,V,Z=0,ee,$;d.cmpn(0)!==0;){var F=y.div(d);ee=y.sub(F.mul(d)),$=k.sub(F.mul(b));var u=N.sub(F.mul(x));if(!O&&ee.cmp(c)<0)C=V.neg(),R=b,O=ee.neg(),T=$;else if(O&&++Z===2)break;V=ee,y=d,d=ee,k=b,b=$,N=x,x=u}P=ee.neg(),z=$;var g=O.sqr().add(T.sqr()),l=P.sqr().add(z.sqr());return l.cmp(g)>=0&&(P=C,z=R),O.negative&&(O=O.neg(),T=T.neg()),P.negative&&(P=P.neg(),z=z.neg()),[{a:O,b:T},{a:P,b:z}]},"_getEndoBasis"),s.prototype._endoSplit=i(function(v){var c=this.endo.basis,d=c[0],y=c[1],b=y.b.mul(v).divRound(this.n),x=d.b.neg().mul(v).divRound(this.n),k=b.mul(d.a),N=x.mul(y.a),C=b.mul(d.b),R=x.mul(y.b),O=v.sub(k).sub(N),T=C.add(R).neg();return{k1:O,k2:T}},"_endoSplit"),s.prototype.pointFromX=i(function(v,c){v=new t(v,16),v.red||(v=v.toRed(this.red));var d=v.redSqr().redMul(v).redIAdd(v.redMul(this.a)).redIAdd(this.b),y=d.redSqrt();if(y.redSqr().redSub(d).cmp(this.zero)!==0)throw new Error("invalid point");var b=y.fromRed().isOdd();return(c&&!b||!c&&b)&&(y=y.redNeg()),this.point(v,y)},"pointFromX"),s.prototype.validate=i(function(v){if(v.inf)return!0;var c=v.x,d=v.y,y=this.a.redMul(c),b=c.redSqr().redMul(c).redIAdd(y).redIAdd(this.b);return d.redSqr().redISub(b).cmpn(0)===0},"validate"),s.prototype._endoWnafMulAdd=i(function(v,c,d){for(var y=this._endoWnafT1,b=this._endoWnafT2,x=0;x<v.length;x++){var k=this._endoSplit(c[x]),N=v[x],C=N._getBeta();k.k1.negative&&(k.k1.ineg(),N=N.neg(!0)),k.k2.negative&&(k.k2.ineg(),C=C.neg(!0)),y[x*2]=N,y[x*2+1]=C,b[x*2]=k.k1,b[x*2+1]=k.k2}for(var R=this._wnafMulAdd(1,y,b,x*2,d),O=0;O<x*2;O++)y[O]=null,b[O]=null;return R},"_endoWnafMulAdd");function o(p,v,c,d){a.BasePoint.call(this,p,"affine"),v===null&&c===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new t(v,16),this.y=new t(c,16),d&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}i(o,"Point"),r(o,a.BasePoint),s.prototype.point=i(function(v,c,d){return new o(this,v,c,d)},"point"),s.prototype.pointFromJSON=i(function(v,c){return o.fromJSON(this,v,c)},"pointFromJSON"),o.prototype._getBeta=i(function(){if(this.curve.endo){var v=this.precomputed;if(v&&v.beta)return v.beta;var c=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(v){var d=this.curve,y=i(function(b){return d.point(b.x.redMul(d.endo.beta),b.y)},"endoMul");v.beta=c,c.precomputed={beta:null,naf:v.naf&&{wnd:v.naf.wnd,points:v.naf.points.map(y)},doubles:v.doubles&&{step:v.doubles.step,points:v.doubles.points.map(y)}}}return c}},"_getBeta"),o.prototype.toJSON=i(function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},"toJSON"),o.fromJSON=i(function(v,c,d){typeof c=="string"&&(c=JSON.parse(c));var y=v.point(c[0],c[1],d);if(!c[2])return y;function b(k){return v.point(k[0],k[1],d)}i(b,"obj2point");var x=c[2];return y.precomputed={beta:null,doubles:x.doubles&&{step:x.doubles.step,points:[y].concat(x.doubles.points.map(b))},naf:x.naf&&{wnd:x.naf.wnd,points:[y].concat(x.naf.points.map(b))}},y},"fromJSON"),o.prototype.inspect=i(function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},"inspect"),o.prototype.isInfinity=i(function(){return this.inf},"isInfinity"),o.prototype.add=i(function(v){if(this.inf)return v;if(v.inf)return this;if(this.eq(v))return this.dbl();if(this.neg().eq(v))return this.curve.point(null,null);if(this.x.cmp(v.x)===0)return this.curve.point(null,null);var c=this.y.redSub(v.y);c.cmpn(0)!==0&&(c=c.redMul(this.x.redSub(v.x).redInvm()));var d=c.redSqr().redISub(this.x).redISub(v.x),y=c.redMul(this.x.redSub(d)).redISub(this.y);return this.curve.point(d,y)},"add"),o.prototype.dbl=i(function(){if(this.inf)return this;var v=this.y.redAdd(this.y);if(v.cmpn(0)===0)return this.curve.point(null,null);var c=this.curve.a,d=this.x.redSqr(),y=v.redInvm(),b=d.redAdd(d).redIAdd(d).redIAdd(c).redMul(y),x=b.redSqr().redISub(this.x.redAdd(this.x)),k=b.redMul(this.x.redSub(x)).redISub(this.y);return this.curve.point(x,k)},"dbl"),o.prototype.getX=i(function(){return this.x.fromRed()},"getX"),o.prototype.getY=i(function(){return this.y.fromRed()},"getY"),o.prototype.mul=i(function(v){return v=new t(v,16),this.isInfinity()?this:this._hasDoubles(v)?this.curve._fixedNafMul(this,v):this.curve.endo?this.curve._endoWnafMulAdd([this],[v]):this.curve._wnafMul(this,v)},"mul"),o.prototype.mulAdd=i(function(v,c,d){var y=[this,c],b=[v,d];return this.curve.endo?this.curve._endoWnafMulAdd(y,b):this.curve._wnafMulAdd(1,y,b,2)},"mulAdd"),o.prototype.jmulAdd=i(function(v,c,d){var y=[this,c],b=[v,d];return this.curve.endo?this.curve._endoWnafMulAdd(y,b,!0):this.curve._wnafMulAdd(1,y,b,2,!0)},"jmulAdd"),o.prototype.eq=i(function(v){return this===v||this.inf===v.inf&&(this.inf||this.x.cmp(v.x)===0&&this.y.cmp(v.y)===0)},"eq"),o.prototype.neg=i(function(v){if(this.inf)return this;var c=this.curve.point(this.x,this.y.redNeg());if(v&&this.precomputed){var d=this.precomputed,y=i(function(b){return b.neg()},"negate");c.precomputed={naf:d.naf&&{wnd:d.naf.wnd,points:d.naf.points.map(y)},doubles:d.doubles&&{step:d.doubles.step,points:d.doubles.points.map(y)}}}return c},"neg"),o.prototype.toJ=i(function(){if(this.inf)return this.curve.jpoint(null,null,null);var v=this.curve.jpoint(this.x,this.y,this.curve.one);return v},"toJ");function h(p,v,c,d){a.BasePoint.call(this,p,"jacobian"),v===null&&c===null&&d===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new t(0)):(this.x=new t(v,16),this.y=new t(c,16),this.z=new t(d,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}return i(h,"JPoint"),r(h,a.BasePoint),s.prototype.jpoint=i(function(v,c,d){return new h(this,v,c,d)},"jpoint"),h.prototype.toP=i(function(){if(this.isInfinity())return this.curve.point(null,null);var v=this.z.redInvm(),c=v.redSqr(),d=this.x.redMul(c),y=this.y.redMul(c).redMul(v);return this.curve.point(d,y)},"toP"),h.prototype.neg=i(function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},"neg"),h.prototype.add=i(function(v){if(this.isInfinity())return v;if(v.isInfinity())return this;var c=v.z.redSqr(),d=this.z.redSqr(),y=this.x.redMul(c),b=v.x.redMul(d),x=this.y.redMul(c.redMul(v.z)),k=v.y.redMul(d.redMul(this.z)),N=y.redSub(b),C=x.redSub(k);if(N.cmpn(0)===0)return C.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var R=N.redSqr(),O=R.redMul(N),T=y.redMul(R),P=C.redSqr().redIAdd(O).redISub(T).redISub(T),z=C.redMul(T.redISub(P)).redISub(x.redMul(O)),V=this.z.redMul(v.z).redMul(N);return this.curve.jpoint(P,z,V)},"add"),h.prototype.mixedAdd=i(function(v){if(this.isInfinity())return v.toJ();if(v.isInfinity())return this;var c=this.z.redSqr(),d=this.x,y=v.x.redMul(c),b=this.y,x=v.y.redMul(c).redMul(this.z),k=d.redSub(y),N=b.redSub(x);if(k.cmpn(0)===0)return N.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var C=k.redSqr(),R=C.redMul(k),O=d.redMul(C),T=N.redSqr().redIAdd(R).redISub(O).redISub(O),P=N.redMul(O.redISub(T)).redISub(b.redMul(R)),z=this.z.redMul(k);return this.curve.jpoint(T,P,z)},"mixedAdd"),h.prototype.dblp=i(function(v){if(v===0)return this;if(this.isInfinity())return this;if(!v)return this.dbl();var c;if(this.curve.zeroA||this.curve.threeA){var d=this;for(c=0;c<v;c++)d=d.dbl();return d}var y=this.curve.a,b=this.curve.tinv,x=this.x,k=this.y,N=this.z,C=N.redSqr().redSqr(),R=k.redAdd(k);for(c=0;c<v;c++){var O=x.redSqr(),T=R.redSqr(),P=T.redSqr(),z=O.redAdd(O).redIAdd(O).redIAdd(y.redMul(C)),V=x.redMul(T),Z=z.redSqr().redISub(V.redAdd(V)),ee=V.redISub(Z),$=z.redMul(ee);$=$.redIAdd($).redISub(P);var F=R.redMul(N);c+1<v&&(C=C.redMul(P)),x=Z,N=F,R=$}return this.curve.jpoint(x,R.redMul(b),N)},"dblp"),h.prototype.dbl=i(function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},"dbl"),h.prototype._zeroDbl=i(function(){var v,c,d;if(this.zOne){var y=this.x.redSqr(),b=this.y.redSqr(),x=b.redSqr(),k=this.x.redAdd(b).redSqr().redISub(y).redISub(x);k=k.redIAdd(k);var N=y.redAdd(y).redIAdd(y),C=N.redSqr().redISub(k).redISub(k),R=x.redIAdd(x);R=R.redIAdd(R),R=R.redIAdd(R),v=C,c=N.redMul(k.redISub(C)).redISub(R),d=this.y.redAdd(this.y)}else{var O=this.x.redSqr(),T=this.y.redSqr(),P=T.redSqr(),z=this.x.redAdd(T).redSqr().redISub(O).redISub(P);z=z.redIAdd(z);var V=O.redAdd(O).redIAdd(O),Z=V.redSqr(),ee=P.redIAdd(P);ee=ee.redIAdd(ee),ee=ee.redIAdd(ee),v=Z.redISub(z).redISub(z),c=V.redMul(z.redISub(v)).redISub(ee),d=this.y.redMul(this.z),d=d.redIAdd(d)}return this.curve.jpoint(v,c,d)},"_zeroDbl"),h.prototype._threeDbl=i(function(){var v,c,d;if(this.zOne){var y=this.x.redSqr(),b=this.y.redSqr(),x=b.redSqr(),k=this.x.redAdd(b).redSqr().redISub(y).redISub(x);k=k.redIAdd(k);var N=y.redAdd(y).redIAdd(y).redIAdd(this.curve.a),C=N.redSqr().redISub(k).redISub(k);v=C;var R=x.redIAdd(x);R=R.redIAdd(R),R=R.redIAdd(R),c=N.redMul(k.redISub(C)).redISub(R),d=this.y.redAdd(this.y)}else{var O=this.z.redSqr(),T=this.y.redSqr(),P=this.x.redMul(T),z=this.x.redSub(O).redMul(this.x.redAdd(O));z=z.redAdd(z).redIAdd(z);var V=P.redIAdd(P);V=V.redIAdd(V);var Z=V.redAdd(V);v=z.redSqr().redISub(Z),d=this.y.redAdd(this.z).redSqr().redISub(T).redISub(O);var ee=T.redSqr();ee=ee.redIAdd(ee),ee=ee.redIAdd(ee),ee=ee.redIAdd(ee),c=z.redMul(V.redISub(v)).redISub(ee)}return this.curve.jpoint(v,c,d)},"_threeDbl"),h.prototype._dbl=i(function(){var v=this.curve.a,c=this.x,d=this.y,y=this.z,b=y.redSqr().redSqr(),x=c.redSqr(),k=d.redSqr(),N=x.redAdd(x).redIAdd(x).redIAdd(v.redMul(b)),C=c.redAdd(c);C=C.redIAdd(C);var R=C.redMul(k),O=N.redSqr().redISub(R.redAdd(R)),T=R.redISub(O),P=k.redSqr();P=P.redIAdd(P),P=P.redIAdd(P),P=P.redIAdd(P);var z=N.redMul(T).redISub(P),V=d.redAdd(d).redMul(y);return this.curve.jpoint(O,z,V)},"_dbl"),h.prototype.trpl=i(function(){if(!this.curve.zeroA)return this.dbl().add(this);var v=this.x.redSqr(),c=this.y.redSqr(),d=this.z.redSqr(),y=c.redSqr(),b=v.redAdd(v).redIAdd(v),x=b.redSqr(),k=this.x.redAdd(c).redSqr().redISub(v).redISub(y);k=k.redIAdd(k),k=k.redAdd(k).redIAdd(k),k=k.redISub(x);var N=k.redSqr(),C=y.redIAdd(y);C=C.redIAdd(C),C=C.redIAdd(C),C=C.redIAdd(C);var R=b.redIAdd(k).redSqr().redISub(x).redISub(N).redISub(C),O=c.redMul(R);O=O.redIAdd(O),O=O.redIAdd(O);var T=this.x.redMul(N).redISub(O);T=T.redIAdd(T),T=T.redIAdd(T);var P=this.y.redMul(R.redMul(C.redISub(R)).redISub(k.redMul(N)));P=P.redIAdd(P),P=P.redIAdd(P),P=P.redIAdd(P);var z=this.z.redAdd(k).redSqr().redISub(d).redISub(N);return this.curve.jpoint(T,P,z)},"trpl"),h.prototype.mul=i(function(v,c){return v=new t(v,c),this.curve._wnafMul(this,v)},"mul"),h.prototype.eq=i(function(v){if(v.type==="affine")return this.eq(v.toJ());if(this===v)return!0;var c=this.z.redSqr(),d=v.z.redSqr();if(this.x.redMul(d).redISub(v.x.redMul(c)).cmpn(0)!==0)return!1;var y=c.redMul(this.z),b=d.redMul(v.z);return this.y.redMul(b).redISub(v.y.redMul(y)).cmpn(0)===0},"eq"),h.prototype.eqXToP=i(function(v){var c=this.z.redSqr(),d=v.toRed(this.curve.red).redMul(c);if(this.x.cmp(d)===0)return!0;for(var y=v.clone(),b=this.curve.redN.redMul(c);;){if(y.iadd(this.curve.n),y.cmp(this.curve.p)>=0)return!1;if(d.redIAdd(b),this.x.cmp(d)===0)return!0}},"eqXToP"),h.prototype.inspect=i(function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},"inspect"),h.prototype.isInfinity=i(function(){return this.z.cmpn(0)===0},"isInfinity"),i0}i(eD,"requireShort");var n0,f6;function tD(){if(f6)return n0;f6=1;var e=Nr(),t=Lt(),r=Gf(),a=di();function n(o){r.call(this,"mont",o),this.a=new e(o.a,16).toRed(this.red),this.b=new e(o.b,16).toRed(this.red),this.i4=new e(4).toRed(this.red).redInvm(),this.two=new e(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}i(n,"MontCurve"),t(n,r),n0=n,n.prototype.validate=i(function(h){var p=h.normalize().x,v=p.redSqr(),c=v.redMul(p).redAdd(v.redMul(this.a)).redAdd(p),d=c.redSqrt();return d.redSqr().cmp(c)===0},"validate");function s(o,h,p){r.BasePoint.call(this,o,"projective"),h===null&&p===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new e(h,16),this.z=new e(p,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}return i(s,"Point"),t(s,r.BasePoint),n.prototype.decodePoint=i(function(h,p){return this.point(a.toArray(h,p),1)},"decodePoint"),n.prototype.point=i(function(h,p){return new s(this,h,p)},"point"),n.prototype.pointFromJSON=i(function(h){return s.fromJSON(this,h)},"pointFromJSON"),s.prototype.precompute=i(function(){},"precompute"),s.prototype._encode=i(function(){return this.getX().toArray("be",this.curve.p.byteLength())},"_encode"),s.fromJSON=i(function(h,p){return new s(h,p[0],p[1]||h.one)},"fromJSON"),s.prototype.inspect=i(function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},"inspect"),s.prototype.isInfinity=i(function(){return this.z.cmpn(0)===0},"isInfinity"),s.prototype.dbl=i(function(){var h=this.x.redAdd(this.z),p=h.redSqr(),v=this.x.redSub(this.z),c=v.redSqr(),d=p.redSub(c),y=p.redMul(c),b=d.redMul(c.redAdd(this.curve.a24.redMul(d)));return this.curve.point(y,b)},"dbl"),s.prototype.add=i(function(){throw new Error("Not supported on Montgomery curve")},"add"),s.prototype.diffAdd=i(function(h,p){var v=this.x.redAdd(this.z),c=this.x.redSub(this.z),d=h.x.redAdd(h.z),y=h.x.redSub(h.z),b=y.redMul(v),x=d.redMul(c),k=p.z.redMul(b.redAdd(x).redSqr()),N=p.x.redMul(b.redISub(x).redSqr());return this.curve.point(k,N)},"diffAdd"),s.prototype.mul=i(function(h){for(var p=h.clone(),v=this,c=this.curve.point(null,null),d=this,y=[];p.cmpn(0)!==0;p.iushrn(1))y.push(p.andln(1));for(var b=y.length-1;b>=0;b--)y[b]===0?(v=v.diffAdd(c,d),c=c.dbl()):(c=v.diffAdd(c,d),v=v.dbl());return c},"mul"),s.prototype.mulAdd=i(function(){throw new Error("Not supported on Montgomery curve")},"mulAdd"),s.prototype.jumlAdd=i(function(){throw new Error("Not supported on Montgomery curve")},"jumlAdd"),s.prototype.eq=i(function(h){return this.getX().cmp(h.getX())===0},"eq"),s.prototype.normalize=i(function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},"normalize"),s.prototype.getX=i(function(){return this.normalize(),this.x.fromRed()},"getX"),n0}i(tD,"requireMont");var a0,c6;function rD(){if(c6)return a0;c6=1;var e=di(),t=Nr(),r=Lt(),a=Gf(),n=e.assert;function s(h){this.twisted=(h.a|0)!==1,this.mOneA=this.twisted&&(h.a|0)===-1,this.extended=this.mOneA,a.call(this,"edwards",h),this.a=new t(h.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new t(h.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new t(h.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),n(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(h.c|0)===1}i(s,"EdwardsCurve"),r(s,a),a0=s,s.prototype._mulA=i(function(p){return this.mOneA?p.redNeg():this.a.redMul(p)},"_mulA"),s.prototype._mulC=i(function(p){return this.oneC?p:this.c.redMul(p)},"_mulC"),s.prototype.jpoint=i(function(p,v,c,d){return this.point(p,v,c,d)},"jpoint"),s.prototype.pointFromX=i(function(p,v){p=new t(p,16),p.red||(p=p.toRed(this.red));var c=p.redSqr(),d=this.c2.redSub(this.a.redMul(c)),y=this.one.redSub(this.c2.redMul(this.d).redMul(c)),b=d.redMul(y.redInvm()),x=b.redSqrt();if(x.redSqr().redSub(b).cmp(this.zero)!==0)throw new Error("invalid point");var k=x.fromRed().isOdd();return(v&&!k||!v&&k)&&(x=x.redNeg()),this.point(p,x)},"pointFromX"),s.prototype.pointFromY=i(function(p,v){p=new t(p,16),p.red||(p=p.toRed(this.red));var c=p.redSqr(),d=c.redSub(this.c2),y=c.redMul(this.d).redMul(this.c2).redSub(this.a),b=d.redMul(y.redInvm());if(b.cmp(this.zero)===0){if(v)throw new Error("invalid point");return this.point(this.zero,p)}var x=b.redSqrt();if(x.redSqr().redSub(b).cmp(this.zero)!==0)throw new Error("invalid point");return x.fromRed().isOdd()!==v&&(x=x.redNeg()),this.point(x,p)},"pointFromY"),s.prototype.validate=i(function(p){if(p.isInfinity())return!0;p.normalize();var v=p.x.redSqr(),c=p.y.redSqr(),d=v.redMul(this.a).redAdd(c),y=this.c2.redMul(this.one.redAdd(this.d.redMul(v).redMul(c)));return d.cmp(y)===0},"validate");function o(h,p,v,c,d){a.BasePoint.call(this,h,"projective"),p===null&&v===null&&c===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new t(p,16),this.y=new t(v,16),this.z=c?new t(c,16):this.curve.one,this.t=d&&new t(d,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}return i(o,"Point"),r(o,a.BasePoint),s.prototype.pointFromJSON=i(function(p){return o.fromJSON(this,p)},"pointFromJSON"),s.prototype.point=i(function(p,v,c,d){return new o(this,p,v,c,d)},"point"),o.fromJSON=i(function(p,v){return new o(p,v[0],v[1],v[2])},"fromJSON"),o.prototype.inspect=i(function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},"inspect"),o.prototype.isInfinity=i(function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},"isInfinity"),o.prototype._extDbl=i(function(){var p=this.x.redSqr(),v=this.y.redSqr(),c=this.z.redSqr();c=c.redIAdd(c);var d=this.curve._mulA(p),y=this.x.redAdd(this.y).redSqr().redISub(p).redISub(v),b=d.redAdd(v),x=b.redSub(c),k=d.redSub(v),N=y.redMul(x),C=b.redMul(k),R=y.redMul(k),O=x.redMul(b);return this.curve.point(N,C,O,R)},"_extDbl"),o.prototype._projDbl=i(function(){var p=this.x.redAdd(this.y).redSqr(),v=this.x.redSqr(),c=this.y.redSqr(),d,y,b,x,k,N;if(this.curve.twisted){x=this.curve._mulA(v);var C=x.redAdd(c);this.zOne?(d=p.redSub(v).redSub(c).redMul(C.redSub(this.curve.two)),y=C.redMul(x.redSub(c)),b=C.redSqr().redSub(C).redSub(C)):(k=this.z.redSqr(),N=C.redSub(k).redISub(k),d=p.redSub(v).redISub(c).redMul(N),y=C.redMul(x.redSub(c)),b=C.redMul(N))}else x=v.redAdd(c),k=this.curve._mulC(this.z).redSqr(),N=x.redSub(k).redSub(k),d=this.curve._mulC(p.redISub(x)).redMul(N),y=this.curve._mulC(x).redMul(v.redISub(c)),b=x.redMul(N);return this.curve.point(d,y,b)},"_projDbl"),o.prototype.dbl=i(function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},"dbl"),o.prototype._extAdd=i(function(p){var v=this.y.redSub(this.x).redMul(p.y.redSub(p.x)),c=this.y.redAdd(this.x).redMul(p.y.redAdd(p.x)),d=this.t.redMul(this.curve.dd).redMul(p.t),y=this.z.redMul(p.z.redAdd(p.z)),b=c.redSub(v),x=y.redSub(d),k=y.redAdd(d),N=c.redAdd(v),C=b.redMul(x),R=k.redMul(N),O=b.redMul(N),T=x.redMul(k);return this.curve.point(C,R,T,O)},"_extAdd"),o.prototype._projAdd=i(function(p){var v=this.z.redMul(p.z),c=v.redSqr(),d=this.x.redMul(p.x),y=this.y.redMul(p.y),b=this.curve.d.redMul(d).redMul(y),x=c.redSub(b),k=c.redAdd(b),N=this.x.redAdd(this.y).redMul(p.x.redAdd(p.y)).redISub(d).redISub(y),C=v.redMul(x).redMul(N),R,O;return this.curve.twisted?(R=v.redMul(k).redMul(y.redSub(this.curve._mulA(d))),O=x.redMul(k)):(R=v.redMul(k).redMul(y.redSub(d)),O=this.curve._mulC(x).redMul(k)),this.curve.point(C,R,O)},"_projAdd"),o.prototype.add=i(function(p){return this.isInfinity()?p:p.isInfinity()?this:this.curve.extended?this._extAdd(p):this._projAdd(p)},"add"),o.prototype.mul=i(function(p){return this._hasDoubles(p)?this.curve._fixedNafMul(this,p):this.curve._wnafMul(this,p)},"mul"),o.prototype.mulAdd=i(function(p,v,c){return this.curve._wnafMulAdd(1,[this,v],[p,c],2,!1)},"mulAdd"),o.prototype.jmulAdd=i(function(p,v,c){return this.curve._wnafMulAdd(1,[this,v],[p,c],2,!0)},"jmulAdd"),o.prototype.normalize=i(function(){if(this.zOne)return this;var p=this.z.redInvm();return this.x=this.x.redMul(p),this.y=this.y.redMul(p),this.t&&(this.t=this.t.redMul(p)),this.z=this.curve.one,this.zOne=!0,this},"normalize"),o.prototype.neg=i(function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},"neg"),o.prototype.getX=i(function(){return this.normalize(),this.x.fromRed()},"getX"),o.prototype.getY=i(function(){return this.normalize(),this.y.fromRed()},"getY"),o.prototype.eq=i(function(p){return this===p||this.getX().cmp(p.getX())===0&&this.getY().cmp(p.getY())===0},"eq"),o.prototype.eqXToP=i(function(p){var v=p.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(v)===0)return!0;for(var c=p.clone(),d=this.curve.redN.redMul(this.z);;){if(c.iadd(this.curve.n),c.cmp(this.curve.p)>=0)return!1;if(v.redIAdd(d),this.x.cmp(v)===0)return!0}},"eqXToP"),o.prototype.toP=o.prototype.normalize,o.prototype.mixedAdd=o.prototype.add,a0}i(rD,"requireEdwards");var d6;function D7(){return d6||(d6=1,(function(e){var t=e;t.base=Gf(),t.short=eD(),t.mont=tD(),t.edwards=rD()})(t0)),t0}i(D7,"requireCurve");var s0={},o0={},Wt={},h6;function Qi(){if(h6)return Wt;h6=1;var e=ci(),t=Lt();Wt.inherits=t;function r(u,g){return(u.charCodeAt(g)&64512)!==55296||g<0||g+1>=u.length?!1:(u.charCodeAt(g+1)&64512)===56320}i(r,"isSurrogatePair");function a(u,g){if(Array.isArray(u))return u.slice();if(!u)return[];var l=[];if(typeof u=="string")if(g){if(g==="hex")for(u=u.replace(/[^a-z0-9]+/ig,""),u.length%2!==0&&(u="0"+u),w=0;w<u.length;w+=2)l.push(parseInt(u[w]+u[w+1],16))}else for(var m=0,w=0;w<u.length;w++){var M=u.charCodeAt(w);M<128?l[m++]=M:M<2048?(l[m++]=M>>6|192,l[m++]=M&63|128):r(u,w)?(M=65536+((M&1023)<<10)+(u.charCodeAt(++w)&1023),l[m++]=M>>18|240,l[m++]=M>>12&63|128,l[m++]=M>>6&63|128,l[m++]=M&63|128):(l[m++]=M>>12|224,l[m++]=M>>6&63|128,l[m++]=M&63|128)}else for(w=0;w<u.length;w++)l[w]=u[w]|0;return l}i(a,"toArray"),Wt.toArray=a;function n(u){for(var g="",l=0;l<u.length;l++)g+=h(u[l].toString(16));return g}i(n,"toHex"),Wt.toHex=n;function s(u){var g=u>>>24|u>>>8&65280|u<<8&16711680|(u&255)<<24;return g>>>0}i(s,"htonl"),Wt.htonl=s;function o(u,g){for(var l="",m=0;m<u.length;m++){var w=u[m];g==="little"&&(w=s(w)),l+=p(w.toString(16))}return l}i(o,"toHex32"),Wt.toHex32=o;function h(u){return u.length===1?"0"+u:u}i(h,"zero2"),Wt.zero2=h;function p(u){return u.length===7?"0"+u:u.length===6?"00"+u:u.length===5?"000"+u:u.length===4?"0000"+u:u.length===3?"00000"+u:u.length===2?"000000"+u:u.length===1?"0000000"+u:u}i(p,"zero8"),Wt.zero8=p;function v(u,g,l,m){var w=l-g;e(w%4===0);for(var M=new Array(w/4),A=0,S=g;A<M.length;A++,S+=4){var f;m==="big"?f=u[S]<<24|u[S+1]<<16|u[S+2]<<8|u[S+3]:f=u[S+3]<<24|u[S+2]<<16|u[S+1]<<8|u[S],M[A]=f>>>0}return M}i(v,"join32"),Wt.join32=v;function c(u,g){for(var l=new Array(u.length*4),m=0,w=0;m<u.length;m++,w+=4){var M=u[m];g==="big"?(l[w]=M>>>24,l[w+1]=M>>>16&255,l[w+2]=M>>>8&255,l[w+3]=M&255):(l[w+3]=M>>>24,l[w+2]=M>>>16&255,l[w+1]=M>>>8&255,l[w]=M&255)}return l}i(c,"split32"),Wt.split32=c;function d(u,g){return u>>>g|u<<32-g}i(d,"rotr32"),Wt.rotr32=d;function y(u,g){return u<<g|u>>>32-g}i(y,"rotl32"),Wt.rotl32=y;function b(u,g){return u+g>>>0}i(b,"sum32"),Wt.sum32=b;function x(u,g,l){return u+g+l>>>0}i(x,"sum32_3"),Wt.sum32_3=x;function k(u,g,l,m){return u+g+l+m>>>0}i(k,"sum32_4"),Wt.sum32_4=k;function N(u,g,l,m,w){return u+g+l+m+w>>>0}i(N,"sum32_5"),Wt.sum32_5=N;function C(u,g,l,m){var w=u[g],M=u[g+1],A=m+M>>>0,S=(A<m?1:0)+l+w;u[g]=S>>>0,u[g+1]=A}i(C,"sum64"),Wt.sum64=C;function R(u,g,l,m){var w=g+m>>>0,M=(w<g?1:0)+u+l;return M>>>0}i(R,"sum64_hi"),Wt.sum64_hi=R;function O(u,g,l,m){var w=g+m;return w>>>0}i(O,"sum64_lo"),Wt.sum64_lo=O;function T(u,g,l,m,w,M,A,S){var f=0,_=g;_=_+m>>>0,f+=_<g?1:0,_=_+M>>>0,f+=_<M?1:0,_=_+S>>>0,f+=_<S?1:0;var E=u+l+w+A+f;return E>>>0}i(T,"sum64_4_hi"),Wt.sum64_4_hi=T;function P(u,g,l,m,w,M,A,S){var f=g+m+M+S;return f>>>0}i(P,"sum64_4_lo"),Wt.sum64_4_lo=P;function z(u,g,l,m,w,M,A,S,f,_){var E=0,I=g;I=I+m>>>0,E+=I<g?1:0,I=I+M>>>0,E+=I<M?1:0,I=I+S>>>0,E+=I<S?1:0,I=I+_>>>0,E+=I<_?1:0;var D=u+l+w+A+f+E;return D>>>0}i(z,"sum64_5_hi"),Wt.sum64_5_hi=z;function V(u,g,l,m,w,M,A,S,f,_){var E=g+m+M+S+_;return E>>>0}i(V,"sum64_5_lo"),Wt.sum64_5_lo=V;function Z(u,g,l){var m=g<<32-l|u>>>l;return m>>>0}i(Z,"rotr64_hi"),Wt.rotr64_hi=Z;function ee(u,g,l){var m=u<<32-l|g>>>l;return m>>>0}i(ee,"rotr64_lo"),Wt.rotr64_lo=ee;function $(u,g,l){return u>>>l}i($,"shr64_hi"),Wt.shr64_hi=$;function F(u,g,l){var m=u<<32-l|g>>>l;return m>>>0}return i(F,"shr64_lo"),Wt.shr64_lo=F,Wt}i(Qi,"requireUtils");var l0={},p6;function nl(){if(p6)return l0;p6=1;var e=Qi(),t=ci();function r(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return i(r,"BlockHash"),l0.BlockHash=r,r.prototype.update=i(function(n,s){if(n=e.toArray(n,s),this.pending?this.pending=this.pending.concat(n):this.pending=n,this.pendingTotal+=n.length,this.pending.length>=this._delta8){n=this.pending;var o=n.length%this._delta8;this.pending=n.slice(n.length-o,n.length),this.pending.length===0&&(this.pending=null),n=e.join32(n,0,n.length-o,this.endian);for(var h=0;h<n.length;h+=this._delta32)this._update(n,h,h+this._delta32)}return this},"update"),r.prototype.digest=i(function(n){return this.update(this._pad()),t(this.pending===null),this._digest(n)},"digest"),r.prototype._pad=i(function(){var n=this.pendingTotal,s=this._delta8,o=s-(n+this.padLength)%s,h=new Array(o+this.padLength);h[0]=128;for(var p=1;p<o;p++)h[p]=0;if(n<<=3,this.endian==="big"){for(var v=8;v<this.padLength;v++)h[p++]=0;h[p++]=0,h[p++]=0,h[p++]=0,h[p++]=0,h[p++]=n>>>24&255,h[p++]=n>>>16&255,h[p++]=n>>>8&255,h[p++]=n&255}else for(h[p++]=n&255,h[p++]=n>>>8&255,h[p++]=n>>>16&255,h[p++]=n>>>24&255,h[p++]=0,h[p++]=0,h[p++]=0,h[p++]=0,v=8;v<this.padLength;v++)h[p++]=0;return h},"pad"),l0}i(nl,"requireCommon$1");var Yn={},Li={},m6;function L7(){if(m6)return Li;m6=1;var e=Qi(),t=e.rotr32;function r(c,d,y,b){if(c===0)return a(d,y,b);if(c===1||c===3)return s(d,y,b);if(c===2)return n(d,y,b)}i(r,"ft_1"),Li.ft_1=r;function a(c,d,y){return c&d^~c&y}i(a,"ch32"),Li.ch32=a;function n(c,d,y){return c&d^c&y^d&y}i(n,"maj32"),Li.maj32=n;function s(c,d,y){return c^d^y}i(s,"p32"),Li.p32=s;function o(c){return t(c,2)^t(c,13)^t(c,22)}i(o,"s0_256"),Li.s0_256=o;function h(c){return t(c,6)^t(c,11)^t(c,25)}i(h,"s1_256"),Li.s1_256=h;function p(c){return t(c,7)^t(c,18)^c>>>3}i(p,"g0_256"),Li.g0_256=p;function v(c){return t(c,17)^t(c,19)^c>>>10}return i(v,"g1_256"),Li.g1_256=v,Li}i(L7,"requireCommon");var u0,g6;function iD(){if(g6)return u0;g6=1;var e=Qi(),t=nl(),r=L7(),a=e.rotl32,n=e.sum32,s=e.sum32_5,o=r.ft_1,h=t.BlockHash,p=[1518500249,1859775393,2400959708,3395469782];function v(){if(!(this instanceof v))return new v;h.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return i(v,"SHA1"),e.inherits(v,h),u0=v,v.blockSize=512,v.outSize=160,v.hmacStrength=80,v.padLength=64,v.prototype._update=i(function(d,y){for(var b=this.W,x=0;x<16;x++)b[x]=d[y+x];for(;x<b.length;x++)b[x]=a(b[x-3]^b[x-8]^b[x-14]^b[x-16],1);var k=this.h[0],N=this.h[1],C=this.h[2],R=this.h[3],O=this.h[4];for(x=0;x<b.length;x++){var T=~~(x/20),P=s(a(k,5),o(T,N,C,R),O,b[x],p[T]);O=R,R=C,C=a(N,30),N=k,k=P}this.h[0]=n(this.h[0],k),this.h[1]=n(this.h[1],N),this.h[2]=n(this.h[2],C),this.h[3]=n(this.h[3],R),this.h[4]=n(this.h[4],O)},"_update"),v.prototype._digest=i(function(d){return d==="hex"?e.toHex32(this.h,"big"):e.split32(this.h,"big")},"digest"),u0}i(iD,"require_1");var f0,v6;function B7(){if(v6)return f0;v6=1;var e=Qi(),t=nl(),r=L7(),a=ci(),n=e.sum32,s=e.sum32_4,o=e.sum32_5,h=r.ch32,p=r.maj32,v=r.s0_256,c=r.s1_256,d=r.g0_256,y=r.g1_256,b=t.BlockHash,x=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function k(){if(!(this instanceof k))return new k;b.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=x,this.W=new Array(64)}return i(k,"SHA256"),e.inherits(k,b),f0=k,k.blockSize=512,k.outSize=256,k.hmacStrength=192,k.padLength=64,k.prototype._update=i(function(C,R){for(var O=this.W,T=0;T<16;T++)O[T]=C[R+T];for(;T<O.length;T++)O[T]=s(y(O[T-2]),O[T-7],d(O[T-15]),O[T-16]);var P=this.h[0],z=this.h[1],V=this.h[2],Z=this.h[3],ee=this.h[4],$=this.h[5],F=this.h[6],u=this.h[7];for(a(this.k.length===O.length),T=0;T<O.length;T++){var g=o(u,c(ee),h(ee,$,F),this.k[T],O[T]),l=n(v(P),p(P,z,V));u=F,F=$,$=ee,ee=n(Z,g),Z=V,V=z,z=P,P=n(g,l)}this.h[0]=n(this.h[0],P),this.h[1]=n(this.h[1],z),this.h[2]=n(this.h[2],V),this.h[3]=n(this.h[3],Z),this.h[4]=n(this.h[4],ee),this.h[5]=n(this.h[5],$),this.h[6]=n(this.h[6],F),this.h[7]=n(this.h[7],u)},"_update"),k.prototype._digest=i(function(C){return C==="hex"?e.toHex32(this.h,"big"):e.split32(this.h,"big")},"digest"),f0}i(B7,"require_256");var c0,b6;function nD(){if(b6)return c0;b6=1;var e=Qi(),t=B7();function r(){if(!(this instanceof r))return new r;t.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return i(r,"SHA224"),e.inherits(r,t),c0=r,r.blockSize=512,r.outSize=224,r.hmacStrength=192,r.padLength=64,r.prototype._digest=i(function(n){return n==="hex"?e.toHex32(this.h.slice(0,7),"big"):e.split32(this.h.slice(0,7),"big")},"digest"),c0}i(nD,"require_224");var d0,y6;function z7(){if(y6)return d0;y6=1;var e=Qi(),t=nl(),r=ci(),a=e.rotr64_hi,n=e.rotr64_lo,s=e.shr64_hi,o=e.shr64_lo,h=e.sum64,p=e.sum64_hi,v=e.sum64_lo,c=e.sum64_4_hi,d=e.sum64_4_lo,y=e.sum64_5_hi,b=e.sum64_5_lo,x=t.BlockHash,k=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function N(){if(!(this instanceof N))return new N;x.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=k,this.W=new Array(160)}i(N,"SHA512"),e.inherits(N,x),d0=N,N.blockSize=1024,N.outSize=512,N.hmacStrength=192,N.padLength=128,N.prototype._prepareBlock=i(function(l,m){for(var w=this.W,M=0;M<32;M++)w[M]=l[m+M];for(;M<w.length;M+=2){var A=F(w[M-4],w[M-3]),S=u(w[M-4],w[M-3]),f=w[M-14],_=w[M-13],E=ee(w[M-30],w[M-29]),I=$(w[M-30],w[M-29]),D=w[M-32],L=w[M-31];w[M]=c(A,S,f,_,E,I,D,L),w[M+1]=d(A,S,f,_,E,I,D,L)}},"_prepareBlock"),N.prototype._update=i(function(l,m){this._prepareBlock(l,m);var w=this.W,M=this.h[0],A=this.h[1],S=this.h[2],f=this.h[3],_=this.h[4],E=this.h[5],I=this.h[6],D=this.h[7],L=this.h[8],U=this.h[9],B=this.h[10],G=this.h[11],H=this.h[12],K=this.h[13],_e=this.h[14],ae=this.h[15];r(this.k.length===w.length);for(var se=0;se<w.length;se+=2){var ye=_e,q=ae,re=V(L,U),X=Z(L,U),W=C(L,U,B,G,H),le=R(L,U,B,G,H,K),ke=this.k[se],pe=this.k[se+1],fe=w[se],Q=w[se+1],Y=y(ye,q,re,X,W,le,ke,pe,fe,Q),te=b(ye,q,re,X,W,le,ke,pe,fe,Q);ye=P(M,A),q=z(M,A),re=O(M,A,S,f,_),X=T(M,A,S,f,_,E);var he=p(ye,q,re,X),oe=v(ye,q,re,X);_e=H,ae=K,H=B,K=G,B=L,G=U,L=p(I,D,Y,te),U=v(D,D,Y,te),I=_,D=E,_=S,E=f,S=M,f=A,M=p(Y,te,he,oe),A=v(Y,te,he,oe)}h(this.h,0,M,A),h(this.h,2,S,f),h(this.h,4,_,E),h(this.h,6,I,D),h(this.h,8,L,U),h(this.h,10,B,G),h(this.h,12,H,K),h(this.h,14,_e,ae)},"_update"),N.prototype._digest=i(function(l){return l==="hex"?e.toHex32(this.h,"big"):e.split32(this.h,"big")},"digest");function C(g,l,m,w,M){var A=g&m^~g&M;return A<0&&(A+=4294967296),A}i(C,"ch64_hi");function R(g,l,m,w,M,A){var S=l&w^~l&A;return S<0&&(S+=4294967296),S}i(R,"ch64_lo");function O(g,l,m,w,M){var A=g&m^g&M^m&M;return A<0&&(A+=4294967296),A}i(O,"maj64_hi");function T(g,l,m,w,M,A){var S=l&w^l&A^w&A;return S<0&&(S+=4294967296),S}i(T,"maj64_lo");function P(g,l){var m=a(g,l,28),w=a(l,g,2),M=a(l,g,7),A=m^w^M;return A<0&&(A+=4294967296),A}i(P,"s0_512_hi");function z(g,l){var m=n(g,l,28),w=n(l,g,2),M=n(l,g,7),A=m^w^M;return A<0&&(A+=4294967296),A}i(z,"s0_512_lo");function V(g,l){var m=a(g,l,14),w=a(g,l,18),M=a(l,g,9),A=m^w^M;return A<0&&(A+=4294967296),A}i(V,"s1_512_hi");function Z(g,l){var m=n(g,l,14),w=n(g,l,18),M=n(l,g,9),A=m^w^M;return A<0&&(A+=4294967296),A}i(Z,"s1_512_lo");function ee(g,l){var m=a(g,l,1),w=a(g,l,8),M=s(g,l,7),A=m^w^M;return A<0&&(A+=4294967296),A}i(ee,"g0_512_hi");function $(g,l){var m=n(g,l,1),w=n(g,l,8),M=o(g,l,7),A=m^w^M;return A<0&&(A+=4294967296),A}i($,"g0_512_lo");function F(g,l){var m=a(g,l,19),w=a(l,g,29),M=s(g,l,6),A=m^w^M;return A<0&&(A+=4294967296),A}i(F,"g1_512_hi");function u(g,l){var m=n(g,l,19),w=n(l,g,29),M=o(g,l,6),A=m^w^M;return A<0&&(A+=4294967296),A}return i(u,"g1_512_lo"),d0}i(z7,"require_512");var h0,w6;function aD(){if(w6)return h0;w6=1;var e=Qi(),t=z7();function r(){if(!(this instanceof r))return new r;t.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return i(r,"SHA384"),e.inherits(r,t),h0=r,r.blockSize=1024,r.outSize=384,r.hmacStrength=192,r.padLength=128,r.prototype._digest=i(function(n){return n==="hex"?e.toHex32(this.h.slice(0,12),"big"):e.split32(this.h.slice(0,12),"big")},"digest"),h0}i(aD,"require_384");var x6;function sD(){return x6||(x6=1,Yn.sha1=iD(),Yn.sha224=nD(),Yn.sha256=B7(),Yn.sha384=aD(),Yn.sha512=z7()),Yn}i(sD,"requireSha");var p0={},_6;function oD(){if(_6)return p0;_6=1;var e=Qi(),t=nl(),r=e.rotl32,a=e.sum32,n=e.sum32_3,s=e.sum32_4,o=t.BlockHash;function h(){if(!(this instanceof h))return new h;o.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}i(h,"RIPEMD160"),e.inherits(h,o),p0.ripemd160=h,h.blockSize=512,h.outSize=160,h.hmacStrength=192,h.padLength=64,h.prototype._update=i(function(N,C){for(var R=this.h[0],O=this.h[1],T=this.h[2],P=this.h[3],z=this.h[4],V=R,Z=O,ee=T,$=P,F=z,u=0;u<80;u++){var g=a(r(s(R,p(u,O,T,P),N[d[u]+C],v(u)),b[u]),z);R=z,z=P,P=r(T,10),T=O,O=g,g=a(r(s(V,p(79-u,Z,ee,$),N[y[u]+C],c(u)),x[u]),F),V=F,F=$,$=r(ee,10),ee=Z,Z=g}g=n(this.h[1],T,$),this.h[1]=n(this.h[2],P,F),this.h[2]=n(this.h[3],z,V),this.h[3]=n(this.h[4],R,Z),this.h[4]=n(this.h[0],O,ee),this.h[0]=g},"update"),h.prototype._digest=i(function(N){return N==="hex"?e.toHex32(this.h,"little"):e.split32(this.h,"little")},"digest");function p(k,N,C,R){return k<=15?N^C^R:k<=31?N&C|~N&R:k<=47?(N|~C)^R:k<=63?N&R|C&~R:N^(C|~R)}i(p,"f");function v(k){return k<=15?0:k<=31?1518500249:k<=47?1859775393:k<=63?2400959708:2840853838}i(v,"K");function c(k){return k<=15?1352829926:k<=31?1548603684:k<=47?1836072691:k<=63?2053994217:0}i(c,"Kh");var d=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],y=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],b=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],x=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return p0}i(oD,"requireRipemd");var m0,S6;function lD(){if(S6)return m0;S6=1;var e=Qi(),t=ci();function r(a,n,s){if(!(this instanceof r))return new r(a,n,s);this.Hash=a,this.blockSize=a.blockSize/8,this.outSize=a.outSize/8,this.inner=null,this.outer=null,this._init(e.toArray(n,s))}return i(r,"Hmac"),m0=r,r.prototype._init=i(function(n){n.length>this.blockSize&&(n=new this.Hash().update(n).digest()),t(n.length<=this.blockSize);for(var s=n.length;s<this.blockSize;s++)n.push(0);for(s=0;s<n.length;s++)n[s]^=54;for(this.inner=new this.Hash().update(n),s=0;s<n.length;s++)n[s]^=106;this.outer=new this.Hash().update(n)},"init"),r.prototype.update=i(function(n,s){return this.inner.update(n,s),this},"update"),r.prototype.digest=i(function(n){return this.outer.update(this.inner.digest()),this.outer.digest(n)},"digest"),m0}i(lD,"requireHmac");var M6;function jv(){return M6||(M6=1,(function(e){var t=e;t.utils=Qi(),t.common=nl(),t.sha=sD(),t.ripemd=oD(),t.hmac=lD(),t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160})(o0)),o0}i(jv,"requireHash");var g0,E6;function uD(){return E6||(E6=1,g0={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),g0}i(uD,"requireSecp256k1");var k6;function Nv(){return k6||(k6=1,(function(e){var t=e,r=jv(),a=D7(),n=di(),s=n.assert;function o(v){v.type==="short"?this.curve=new a.short(v):v.type==="edwards"?this.curve=new a.edwards(v):this.curve=new a.mont(v),this.g=this.curve.g,this.n=this.curve.n,this.hash=v.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}i(o,"PresetCurve"),t.PresetCurve=o;function h(v,c){Object.defineProperty(t,v,{configurable:!0,enumerable:!0,get:i(function(){var d=new o(c);return Object.defineProperty(t,v,{configurable:!0,enumerable:!0,value:d}),d},"get")})}i(h,"defineCurve"),h("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),h("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),h("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),h("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),h("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),h("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),h("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var p;try{p=uD()}catch{p=void 0}h("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",p]})})(s0)),s0}i(Nv,"requireCurves");var v0,A6;function fD(){if(A6)return v0;A6=1;var e=jv(),t=P7(),r=ci();function a(n){if(!(this instanceof a))return new a(n);this.hash=n.hash,this.predResist=!!n.predResist,this.outLen=this.hash.outSize,this.minEntropy=n.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var s=t.toArray(n.entropy,n.entropyEnc||"hex"),o=t.toArray(n.nonce,n.nonceEnc||"hex"),h=t.toArray(n.pers,n.persEnc||"hex");r(s.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(s,o,h)}return i(a,"HmacDRBG"),v0=a,a.prototype._init=i(function(s,o,h){var p=s.concat(o).concat(h);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var v=0;v<this.V.length;v++)this.K[v]=0,this.V[v]=1;this._update(p),this._reseed=1,this.reseedInterval=281474976710656},"init"),a.prototype._hmac=i(function(){return new e.hmac(this.hash,this.K)},"hmac"),a.prototype._update=i(function(s){var o=this._hmac().update(this.V).update([0]);s&&(o=o.update(s)),this.K=o.digest(),this.V=this._hmac().update(this.V).digest(),s&&(this.K=this._hmac().update(this.V).update([1]).update(s).digest(),this.V=this._hmac().update(this.V).digest())},"update"),a.prototype.reseed=i(function(s,o,h,p){typeof o!="string"&&(p=h,h=o,o=null),s=t.toArray(s,o),h=t.toArray(h,p),r(s.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(s.concat(h||[])),this._reseed=1},"reseed"),a.prototype.generate=i(function(s,o,h,p){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof o!="string"&&(p=h,h=o,o=null),h&&(h=t.toArray(h,p||"hex"),this._update(h));for(var v=[];v.length<s;)this.V=this._hmac().update(this.V).digest(),v=v.concat(this.V);var c=v.slice(0,s);return this._update(h),this._reseed++,t.encode(c,o)},"generate"),v0}i(fD,"requireHmacDrbg");var b0,j6;function cD(){if(j6)return b0;j6=1;var e=Nr(),t=di(),r=t.assert;function a(n,s){this.ec=n,this.priv=null,this.pub=null,s.priv&&this._importPrivate(s.priv,s.privEnc),s.pub&&this._importPublic(s.pub,s.pubEnc)}return i(a,"KeyPair"),b0=a,a.fromPublic=i(function(s,o,h){return o instanceof a?o:new a(s,{pub:o,pubEnc:h})},"fromPublic"),a.fromPrivate=i(function(s,o,h){return o instanceof a?o:new a(s,{priv:o,privEnc:h})},"fromPrivate"),a.prototype.validate=i(function(){var s=this.getPublic();return s.isInfinity()?{result:!1,reason:"Invalid public key"}:s.validate()?s.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},"validate"),a.prototype.getPublic=i(function(s,o){return typeof s=="string"&&(o=s,s=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),o?this.pub.encode(o,s):this.pub},"getPublic"),a.prototype.getPrivate=i(function(s){return s==="hex"?this.priv.toString(16,2):this.priv},"getPrivate"),a.prototype._importPrivate=i(function(s,o){this.priv=new e(s,o||16),this.priv=this.priv.umod(this.ec.curve.n)},"_importPrivate"),a.prototype._importPublic=i(function(s,o){if(s.x||s.y){this.ec.curve.type==="mont"?r(s.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&r(s.x&&s.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(s.x,s.y);return}this.pub=this.ec.curve.decodePoint(s,o)},"_importPublic"),a.prototype.derive=i(function(s){return s.validate()||r(s.validate(),"public point not validated"),s.mul(this.priv).getX()},"derive"),a.prototype.sign=i(function(s,o,h){return this.ec.sign(s,this,o,h)},"sign"),a.prototype.verify=i(function(s,o,h){return this.ec.verify(s,o,this,void 0,h)},"verify"),a.prototype.inspect=i(function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"},"inspect"),b0}i(cD,"requireKey$1");var y0,N6;function dD(){if(N6)return y0;N6=1;var e=Nr(),t=di(),r=t.assert;function a(p,v){if(p instanceof a)return p;this._importDER(p,v)||(r(p.r&&p.s,"Signature without r or s"),this.r=new e(p.r,16),this.s=new e(p.s,16),p.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=p.recoveryParam)}i(a,"Signature"),y0=a;function n(){this.place=0}i(n,"Position");function s(p,v){var c=p[v.place++];if(!(c&128))return c;var d=c&15;if(d===0||d>4||p[v.place]===0)return!1;for(var y=0,b=0,x=v.place;b<d;b++,x++)y<<=8,y|=p[x],y>>>=0;return y<=127?!1:(v.place=x,y)}i(s,"getLength");function o(p){for(var v=0,c=p.length-1;!p[v]&&!(p[v+1]&128)&&v<c;)v++;return v===0?p:p.slice(v)}i(o,"rmPadding"),a.prototype._importDER=i(function(v,c){v=t.toArray(v,c);var d=new n;if(v[d.place++]!==48)return!1;var y=s(v,d);if(y===!1||y+d.place!==v.length||v[d.place++]!==2)return!1;var b=s(v,d);if(b===!1||(v[d.place]&128)!==0)return!1;var x=v.slice(d.place,b+d.place);if(d.place+=b,v[d.place++]!==2)return!1;var k=s(v,d);if(k===!1||v.length!==k+d.place||(v[d.place]&128)!==0)return!1;var N=v.slice(d.place,k+d.place);if(x[0]===0)if(x[1]&128)x=x.slice(1);else return!1;if(N[0]===0)if(N[1]&128)N=N.slice(1);else return!1;return this.r=new e(x),this.s=new e(N),this.recoveryParam=null,!0},"_importDER");function h(p,v){if(v<128){p.push(v);return}var c=1+(Math.log(v)/Math.LN2>>>3);for(p.push(c|128);--c;)p.push(v>>>(c<<3)&255);p.push(v)}return i(h,"constructLength"),a.prototype.toDER=i(function(v){var c=this.r.toArray(),d=this.s.toArray();for(c[0]&128&&(c=[0].concat(c)),d[0]&128&&(d=[0].concat(d)),c=o(c),d=o(d);!d[0]&&!(d[1]&128);)d=d.slice(1);var y=[2];h(y,c.length),y=y.concat(c),y.push(2),h(y,d.length);var b=y.concat(d),x=[48];return h(x,b.length),x=x.concat(b),t.encode(x,v)},"toDER"),y0}i(dD,"requireSignature$1");var w0,I6;function hD(){if(I6)return w0;I6=1;var e=Nr(),t=fD(),r=di(),a=Nv(),n=kv(),s=r.assert,o=cD(),h=dD();function p(v){if(!(this instanceof p))return new p(v);typeof v=="string"&&(s(Object.prototype.hasOwnProperty.call(a,v),"Unknown curve "+v),v=a[v]),v instanceof a.PresetCurve&&(v={curve:v}),this.curve=v.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=v.curve.g,this.g.precompute(v.curve.n.bitLength()+1),this.hash=v.hash||v.curve.hash}return i(p,"EC"),w0=p,p.prototype.keyPair=i(function(c){return new o(this,c)},"keyPair"),p.prototype.keyFromPrivate=i(function(c,d){return o.fromPrivate(this,c,d)},"keyFromPrivate"),p.prototype.keyFromPublic=i(function(c,d){return o.fromPublic(this,c,d)},"keyFromPublic"),p.prototype.genKeyPair=i(function(c){c||(c={});for(var d=new t({hash:this.hash,pers:c.pers,persEnc:c.persEnc||"utf8",entropy:c.entropy||n(this.hash.hmacStrength),entropyEnc:c.entropy&&c.entropyEnc||"utf8",nonce:this.n.toArray()}),y=this.n.byteLength(),b=this.n.sub(new e(2));;){var x=new e(d.generate(y));if(!(x.cmp(b)>0))return x.iaddn(1),this.keyFromPrivate(x)}},"genKeyPair"),p.prototype._truncateToN=i(function(c,d,y){var b;if(e.isBN(c)||typeof c=="number")c=new e(c,16),b=c.byteLength();else if(typeof c=="object")b=c.length,c=new e(c,16);else{var x=c.toString();b=x.length+1>>>1,c=new e(x,16)}typeof y!="number"&&(y=b*8);var k=y-this.n.bitLength();return k>0&&(c=c.ushrn(k)),!d&&c.cmp(this.n)>=0?c.sub(this.n):c},"_truncateToN"),p.prototype.sign=i(function(c,d,y,b){if(typeof y=="object"&&(b=y,y=null),b||(b={}),typeof c!="string"&&typeof c!="number"&&!e.isBN(c)){s(typeof c=="object"&&c&&typeof c.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),s(c.length>>>0===c.length);for(var x=0;x<c.length;x++)s((c[x]&255)===c[x])}d=this.keyFromPrivate(d,y),c=this._truncateToN(c,!1,b.msgBitLength),s(!c.isNeg(),"Can not sign a negative message");var k=this.n.byteLength(),N=d.getPrivate().toArray("be",k),C=c.toArray("be",k);s(new e(C).eq(c),"Can not sign message");for(var R=new t({hash:this.hash,entropy:N,nonce:C,pers:b.pers,persEnc:b.persEnc||"utf8"}),O=this.n.sub(new e(1)),T=0;;T++){var P=b.k?b.k(T):new e(R.generate(this.n.byteLength()));if(P=this._truncateToN(P,!0),!(P.cmpn(1)<=0||P.cmp(O)>=0)){var z=this.g.mul(P);if(!z.isInfinity()){var V=z.getX(),Z=V.umod(this.n);if(Z.cmpn(0)!==0){var ee=P.invm(this.n).mul(Z.mul(d.getPrivate()).iadd(c));if(ee=ee.umod(this.n),ee.cmpn(0)!==0){var $=(z.getY().isOdd()?1:0)|(V.cmp(Z)!==0?2:0);return b.canonical&&ee.cmp(this.nh)>0&&(ee=this.n.sub(ee),$^=1),new h({r:Z,s:ee,recoveryParam:$})}}}}}},"sign"),p.prototype.verify=i(function(c,d,y,b,x){x||(x={}),c=this._truncateToN(c,!1,x.msgBitLength),y=this.keyFromPublic(y,b),d=new h(d,"hex");var k=d.r,N=d.s;if(k.cmpn(1)<0||k.cmp(this.n)>=0||N.cmpn(1)<0||N.cmp(this.n)>=0)return!1;var C=N.invm(this.n),R=C.mul(c).umod(this.n),O=C.mul(k).umod(this.n),T;return this.curve._maxwellTrick?(T=this.g.jmulAdd(R,y.getPublic(),O),T.isInfinity()?!1:T.eqXToP(k)):(T=this.g.mulAdd(R,y.getPublic(),O),T.isInfinity()?!1:T.getX().umod(this.n).cmp(k)===0)},"verify"),p.prototype.recoverPubKey=function(v,c,d,y){s((3&d)===d,"The recovery param is more than two bits"),c=new h(c,y);var b=this.n,x=new e(v),k=c.r,N=c.s,C=d&1,R=d>>1;if(k.cmp(this.curve.p.umod(this.curve.n))>=0&&R)throw new Error("Unable to find sencond key candinate");R?k=this.curve.pointFromX(k.add(this.curve.n),C):k=this.curve.pointFromX(k,C);var O=c.r.invm(b),T=b.sub(x).mul(O).umod(b),P=N.mul(O).umod(b);return this.g.mulAdd(T,k,P)},p.prototype.getKeyRecoveryParam=function(v,c,d,y){if(c=new h(c,y),c.recoveryParam!==null)return c.recoveryParam;for(var b=0;b<4;b++){var x;try{x=this.recoverPubKey(v,c,b)}catch{continue}if(x.eq(d))return b}throw new Error("Unable to find valid recovery factor")},w0}i(hD,"requireEc");var x0,C6;function pD(){if(C6)return x0;C6=1;var e=di(),t=e.assert,r=e.parseBytes,a=e.cachedProperty;function n(s,o){this.eddsa=s,this._secret=r(o.secret),s.isPoint(o.pub)?this._pub=o.pub:this._pubBytes=r(o.pub)}return i(n,"KeyPair"),n.fromPublic=i(function(o,h){return h instanceof n?h:new n(o,{pub:h})},"fromPublic"),n.fromSecret=i(function(o,h){return h instanceof n?h:new n(o,{secret:h})},"fromSecret"),n.prototype.secret=i(function(){return this._secret},"secret"),a(n,"pubBytes",i(function(){return this.eddsa.encodePoint(this.pub())},"pubBytes")),a(n,"pub",i(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())},"pub")),a(n,"privBytes",i(function(){var o=this.eddsa,h=this.hash(),p=o.encodingLength-1,v=h.slice(0,o.encodingLength);return v[0]&=248,v[p]&=127,v[p]|=64,v},"privBytes")),a(n,"priv",i(function(){return this.eddsa.decodeInt(this.privBytes())},"priv")),a(n,"hash",i(function(){return this.eddsa.hash().update(this.secret()).digest()},"hash")),a(n,"messagePrefix",i(function(){return this.hash().slice(this.eddsa.encodingLength)},"messagePrefix")),n.prototype.sign=i(function(o){return t(this._secret,"KeyPair can only verify"),this.eddsa.sign(o,this)},"sign"),n.prototype.verify=i(function(o,h){return this.eddsa.verify(o,h,this)},"verify"),n.prototype.getSecret=i(function(o){return t(this._secret,"KeyPair is public only"),e.encode(this.secret(),o)},"getSecret"),n.prototype.getPublic=i(function(o){return e.encode(this.pubBytes(),o)},"getPublic"),x0=n,x0}i(pD,"requireKey");var _0,R6;function mD(){if(R6)return _0;R6=1;var e=Nr(),t=di(),r=t.assert,a=t.cachedProperty,n=t.parseBytes;function s(o,h){this.eddsa=o,typeof h!="object"&&(h=n(h)),Array.isArray(h)&&(r(h.length===o.encodingLength*2,"Signature has invalid size"),h={R:h.slice(0,o.encodingLength),S:h.slice(o.encodingLength)}),r(h.R&&h.S,"Signature without R or S"),o.isPoint(h.R)&&(this._R=h.R),h.S instanceof e&&(this._S=h.S),this._Rencoded=Array.isArray(h.R)?h.R:h.Rencoded,this._Sencoded=Array.isArray(h.S)?h.S:h.Sencoded}return i(s,"Signature"),a(s,"S",i(function(){return this.eddsa.decodeInt(this.Sencoded())},"S")),a(s,"R",i(function(){return this.eddsa.decodePoint(this.Rencoded())},"R")),a(s,"Rencoded",i(function(){return this.eddsa.encodePoint(this.R())},"Rencoded")),a(s,"Sencoded",i(function(){return this.eddsa.encodeInt(this.S())},"Sencoded")),s.prototype.toBytes=i(function(){return this.Rencoded().concat(this.Sencoded())},"toBytes"),s.prototype.toHex=i(function(){return t.encode(this.toBytes(),"hex").toUpperCase()},"toHex"),_0=s,_0}i(mD,"requireSignature");var S0,O6;function gD(){if(O6)return S0;O6=1;var e=jv(),t=Nv(),r=di(),a=r.assert,n=r.parseBytes,s=pD(),o=mD();function h(p){if(a(p==="ed25519","only tested with ed25519 so far"),!(this instanceof h))return new h(p);p=t[p].curve,this.curve=p,this.g=p.g,this.g.precompute(p.n.bitLength()+1),this.pointClass=p.point().constructor,this.encodingLength=Math.ceil(p.n.bitLength()/8),this.hash=e.sha512}return i(h,"EDDSA"),S0=h,h.prototype.sign=i(function(v,c){v=n(v);var d=this.keyFromSecret(c),y=this.hashInt(d.messagePrefix(),v),b=this.g.mul(y),x=this.encodePoint(b),k=this.hashInt(x,d.pubBytes(),v).mul(d.priv()),N=y.add(k).umod(this.curve.n);return this.makeSignature({R:b,S:N,Rencoded:x})},"sign"),h.prototype.verify=i(function(v,c,d){if(v=n(v),c=this.makeSignature(c),c.S().gte(c.eddsa.curve.n)||c.S().isNeg())return!1;var y=this.keyFromPublic(d),b=this.hashInt(c.Rencoded(),y.pubBytes(),v),x=this.g.mul(c.S()),k=c.R().add(y.pub().mul(b));return k.eq(x)},"verify"),h.prototype.hashInt=i(function(){for(var v=this.hash(),c=0;c<arguments.length;c++)v.update(arguments[c]);return r.intFromLE(v.digest()).umod(this.curve.n)},"hashInt"),h.prototype.keyFromPublic=i(function(v){return s.fromPublic(this,v)},"keyFromPublic"),h.prototype.keyFromSecret=i(function(v){return s.fromSecret(this,v)},"keyFromSecret"),h.prototype.makeSignature=i(function(v){return v instanceof o?v:new o(this,v)},"makeSignature"),h.prototype.encodePoint=i(function(v){var c=v.getY().toArray("le",this.encodingLength);return c[this.encodingLength-1]|=v.getX().isOdd()?128:0,c},"encodePoint"),h.prototype.decodePoint=i(function(v){v=r.parseBytes(v);var c=v.length-1,d=v.slice(0,c).concat(v[c]&-129),y=(v[c]&128)!==0,b=r.intFromLE(d);return this.curve.pointFromY(b,y)},"decodePoint"),h.prototype.encodeInt=i(function(v){return v.toArray("le",this.encodingLength)},"encodeInt"),h.prototype.decodeInt=i(function(v){return r.intFromLE(v)},"decodeInt"),h.prototype.isPoint=i(function(v){return v instanceof this.pointClass},"isPoint"),S0}i(gD,"requireEddsa");var T6;function Iv(){return T6||(T6=1,(function(e){var t=e;t.version=YP.version,t.utils=di(),t.rand=kv(),t.curve=D7(),t.curves=Nv(),t.ec=hD(),t.eddsa=gD()})(Qh)),Qh}i(Iv,"requireElliptic");var ku={exports:{}},vD=ku.exports,P6;function U7(){return P6||(P6=1,(function(e){(function(t,r){function a(g,l){if(!g)throw new Error(l||"Assertion failed")}i(a,"assert");function n(g,l){g.super_=l;var m=i(function(){},"TempCtor");m.prototype=l.prototype,g.prototype=new m,g.prototype.constructor=g}i(n,"inherits");function s(g,l,m){if(s.isBN(g))return g;this.negative=0,this.words=null,this.length=0,this.red=null,g!==null&&((l==="le"||l==="be")&&(m=l,l=10),this._init(g||0,l||10,m||"be"))}i(s,"BN"),typeof t=="object"?t.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=ji.Buffer}catch{}s.isBN=i(function(l){return l instanceof s?!0:l!==null&&typeof l=="object"&&l.constructor.wordSize===s.wordSize&&Array.isArray(l.words)},"isBN"),s.max=i(function(l,m){return l.cmp(m)>0?l:m},"max"),s.min=i(function(l,m){return l.cmp(m)<0?l:m},"min"),s.prototype._init=i(function(l,m,w){if(typeof l=="number")return this._initNumber(l,m,w);if(typeof l=="object")return this._initArray(l,m,w);m==="hex"&&(m=16),a(m===(m|0)&&m>=2&&m<=36),l=l.toString().replace(/\s+/g,"");var M=0;l[0]==="-"&&(M++,this.negative=1),M<l.length&&(m===16?this._parseHex(l,M,w):(this._parseBase(l,m,M),w==="le"&&this._initArray(this.toArray(),m,w)))},"init"),s.prototype._initNumber=i(function(l,m,w){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[l&67108863],this.length=1):l<4503599627370496?(this.words=[l&67108863,l/67108864&67108863],this.length=2):(a(l<9007199254740992),this.words=[l&67108863,l/67108864&67108863,1],this.length=3),w==="le"&&this._initArray(this.toArray(),m,w)},"_initNumber"),s.prototype._initArray=i(function(l,m,w){if(a(typeof l.length=="number"),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var M=0;M<this.length;M++)this.words[M]=0;var A,S,f=0;if(w==="be")for(M=l.length-1,A=0;M>=0;M-=3)S=l[M]|l[M-1]<<8|l[M-2]<<16,this.words[A]|=S<<f&67108863,this.words[A+1]=S>>>26-f&67108863,f+=24,f>=26&&(f-=26,A++);else if(w==="le")for(M=0,A=0;M<l.length;M+=3)S=l[M]|l[M+1]<<8|l[M+2]<<16,this.words[A]|=S<<f&67108863,this.words[A+1]=S>>>26-f&67108863,f+=24,f>=26&&(f-=26,A++);return this._strip()},"_initArray");function h(g,l){var m=g.charCodeAt(l);if(m>=48&&m<=57)return m-48;if(m>=65&&m<=70)return m-55;if(m>=97&&m<=102)return m-87;a(!1,"Invalid character in "+g)}i(h,"parseHex4Bits");function p(g,l,m){var w=h(g,m);return m-1>=l&&(w|=h(g,m-1)<<4),w}i(p,"parseHexByte"),s.prototype._parseHex=i(function(l,m,w){this.length=Math.ceil((l.length-m)/6),this.words=new Array(this.length);for(var M=0;M<this.length;M++)this.words[M]=0;var A=0,S=0,f;if(w==="be")for(M=l.length-1;M>=m;M-=2)f=p(l,m,M)<<A,this.words[S]|=f&67108863,A>=18?(A-=18,S+=1,this.words[S]|=f>>>26):A+=8;else{var _=l.length-m;for(M=_%2===0?m+1:m;M<l.length;M+=2)f=p(l,m,M)<<A,this.words[S]|=f&67108863,A>=18?(A-=18,S+=1,this.words[S]|=f>>>26):A+=8}this._strip()},"_parseHex");function v(g,l,m,w){for(var M=0,A=0,S=Math.min(g.length,m),f=l;f<S;f++){var _=g.charCodeAt(f)-48;M*=w,_>=49?A=_-49+10:_>=17?A=_-17+10:A=_,a(_>=0&&A<w,"Invalid character"),M+=A}return M}i(v,"parseBase"),s.prototype._parseBase=i(function(l,m,w){this.words=[0],this.length=1;for(var M=0,A=1;A<=67108863;A*=m)M++;M--,A=A/m|0;for(var S=l.length-w,f=S%M,_=Math.min(S,S-f)+w,E=0,I=w;I<_;I+=M)E=v(l,I,I+M,m),this.imuln(A),this.words[0]+E<67108864?this.words[0]+=E:this._iaddn(E);if(f!==0){var D=1;for(E=v(l,I,l.length,m),I=0;I<f;I++)D*=m;this.imuln(D),this.words[0]+E<67108864?this.words[0]+=E:this._iaddn(E)}this._strip()},"_parseBase"),s.prototype.copy=i(function(l){l.words=new Array(this.length);for(var m=0;m<this.length;m++)l.words[m]=this.words[m];l.length=this.length,l.negative=this.negative,l.red=this.red},"copy");function c(g,l){g.words=l.words,g.length=l.length,g.negative=l.negative,g.red=l.red}if(i(c,"move"),s.prototype._move=i(function(l){c(l,this)},"_move"),s.prototype.clone=i(function(){var l=new s(null);return this.copy(l),l},"clone"),s.prototype._expand=i(function(l){for(;this.length<l;)this.words[this.length++]=0;return this},"_expand"),s.prototype._strip=i(function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},"strip"),s.prototype._normSign=i(function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},"_normSign"),typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=d}catch{s.prototype.inspect=d}else s.prototype.inspect=d;function d(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}i(d,"inspect");var y=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],b=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],x=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=i(function(l,m){l=l||10,m=m|0||1;var w;if(l===16||l==="hex"){w="";for(var M=0,A=0,S=0;S<this.length;S++){var f=this.words[S],_=((f<<M|A)&16777215).toString(16);A=f>>>24-M&16777215,M+=2,M>=26&&(M-=26,S--),A!==0||S!==this.length-1?w=y[6-_.length]+_+w:w=_+w}for(A!==0&&(w=A.toString(16)+w);w.length%m!==0;)w="0"+w;return this.negative!==0&&(w="-"+w),w}if(l===(l|0)&&l>=2&&l<=36){var E=b[l],I=x[l];w="";var D=this.clone();for(D.negative=0;!D.isZero();){var L=D.modrn(I).toString(l);D=D.idivn(I),D.isZero()?w=L+w:w=y[E-L.length]+L+w}for(this.isZero()&&(w="0"+w);w.length%m!==0;)w="0"+w;return this.negative!==0&&(w="-"+w),w}a(!1,"Base should be between 2 and 36")},"toString"),s.prototype.toNumber=i(function(){var l=this.words[0];return this.length===2?l+=this.words[1]*67108864:this.length===3&&this.words[2]===1?l+=4503599627370496+this.words[1]*67108864:this.length>2&&a(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-l:l},"toNumber"),s.prototype.toJSON=i(function(){return this.toString(16,2)},"toJSON"),o&&(s.prototype.toBuffer=i(function(l,m){return this.toArrayLike(o,l,m)},"toBuffer")),s.prototype.toArray=i(function(l,m){return this.toArrayLike(Array,l,m)},"toArray");var k=i(function(l,m){return l.allocUnsafe?l.allocUnsafe(m):new l(m)},"allocate");s.prototype.toArrayLike=i(function(l,m,w){this._strip();var M=this.byteLength(),A=w||Math.max(1,M);a(M<=A,"byte array longer than desired length"),a(A>0,"Requested array length <= 0");var S=k(l,A),f=m==="le"?"LE":"BE";return this["_toArrayLike"+f](S,M),S},"toArrayLike"),s.prototype._toArrayLikeLE=i(function(l,m){for(var w=0,M=0,A=0,S=0;A<this.length;A++){var f=this.words[A]<<S|M;l[w++]=f&255,w<l.length&&(l[w++]=f>>8&255),w<l.length&&(l[w++]=f>>16&255),S===6?(w<l.length&&(l[w++]=f>>24&255),M=0,S=0):(M=f>>>24,S+=2)}if(w<l.length)for(l[w++]=M;w<l.length;)l[w++]=0},"_toArrayLikeLE"),s.prototype._toArrayLikeBE=i(function(l,m){for(var w=l.length-1,M=0,A=0,S=0;A<this.length;A++){var f=this.words[A]<<S|M;l[w--]=f&255,w>=0&&(l[w--]=f>>8&255),w>=0&&(l[w--]=f>>16&255),S===6?(w>=0&&(l[w--]=f>>24&255),M=0,S=0):(M=f>>>24,S+=2)}if(w>=0)for(l[w--]=M;w>=0;)l[w--]=0},"_toArrayLikeBE"),Math.clz32?s.prototype._countBits=i(function(l){return 32-Math.clz32(l)},"_countBits"):s.prototype._countBits=i(function(l){var m=l,w=0;return m>=4096&&(w+=13,m>>>=13),m>=64&&(w+=7,m>>>=7),m>=8&&(w+=4,m>>>=4),m>=2&&(w+=2,m>>>=2),w+m},"_countBits"),s.prototype._zeroBits=i(function(l){if(l===0)return 26;var m=l,w=0;return(m&8191)===0&&(w+=13,m>>>=13),(m&127)===0&&(w+=7,m>>>=7),(m&15)===0&&(w+=4,m>>>=4),(m&3)===0&&(w+=2,m>>>=2),(m&1)===0&&w++,w},"_zeroBits"),s.prototype.bitLength=i(function(){var l=this.words[this.length-1],m=this._countBits(l);return(this.length-1)*26+m},"bitLength");function N(g){for(var l=new Array(g.bitLength()),m=0;m<l.length;m++){var w=m/26|0,M=m%26;l[m]=g.words[w]>>>M&1}return l}i(N,"toBitArray"),s.prototype.zeroBits=i(function(){if(this.isZero())return 0;for(var l=0,m=0;m<this.length;m++){var w=this._zeroBits(this.words[m]);if(l+=w,w!==26)break}return l},"zeroBits"),s.prototype.byteLength=i(function(){return Math.ceil(this.bitLength()/8)},"byteLength"),s.prototype.toTwos=i(function(l){return this.negative!==0?this.abs().inotn(l).iaddn(1):this.clone()},"toTwos"),s.prototype.fromTwos=i(function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},"fromTwos"),s.prototype.isNeg=i(function(){return this.negative!==0},"isNeg"),s.prototype.neg=i(function(){return this.clone().ineg()},"neg"),s.prototype.ineg=i(function(){return this.isZero()||(this.negative^=1),this},"ineg"),s.prototype.iuor=i(function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var m=0;m<l.length;m++)this.words[m]=this.words[m]|l.words[m];return this._strip()},"iuor"),s.prototype.ior=i(function(l){return a((this.negative|l.negative)===0),this.iuor(l)},"ior"),s.prototype.or=i(function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},"or"),s.prototype.uor=i(function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},"uor"),s.prototype.iuand=i(function(l){var m;this.length>l.length?m=l:m=this;for(var w=0;w<m.length;w++)this.words[w]=this.words[w]&l.words[w];return this.length=m.length,this._strip()},"iuand"),s.prototype.iand=i(function(l){return a((this.negative|l.negative)===0),this.iuand(l)},"iand"),s.prototype.and=i(function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},"and"),s.prototype.uand=i(function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},"uand"),s.prototype.iuxor=i(function(l){var m,w;this.length>l.length?(m=this,w=l):(m=l,w=this);for(var M=0;M<w.length;M++)this.words[M]=m.words[M]^w.words[M];if(this!==m)for(;M<m.length;M++)this.words[M]=m.words[M];return this.length=m.length,this._strip()},"iuxor"),s.prototype.ixor=i(function(l){return a((this.negative|l.negative)===0),this.iuxor(l)},"ixor"),s.prototype.xor=i(function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},"xor"),s.prototype.uxor=i(function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},"uxor"),s.prototype.inotn=i(function(l){a(typeof l=="number"&&l>=0);var m=Math.ceil(l/26)|0,w=l%26;this._expand(m),w>0&&m--;for(var M=0;M<m;M++)this.words[M]=~this.words[M]&67108863;return w>0&&(this.words[M]=~this.words[M]&67108863>>26-w),this._strip()},"inotn"),s.prototype.notn=i(function(l){return this.clone().inotn(l)},"notn"),s.prototype.setn=i(function(l,m){a(typeof l=="number"&&l>=0);var w=l/26|0,M=l%26;return this._expand(w+1),m?this.words[w]=this.words[w]|1<<M:this.words[w]=this.words[w]&~(1<<M),this._strip()},"setn"),s.prototype.iadd=i(function(l){var m;if(this.negative!==0&&l.negative===0)return this.negative=0,m=this.isub(l),this.negative^=1,this._normSign();if(this.negative===0&&l.negative!==0)return l.negative=0,m=this.isub(l),l.negative=1,m._normSign();var w,M;this.length>l.length?(w=this,M=l):(w=l,M=this);for(var A=0,S=0;S<M.length;S++)m=(w.words[S]|0)+(M.words[S]|0)+A,this.words[S]=m&67108863,A=m>>>26;for(;A!==0&&S<w.length;S++)m=(w.words[S]|0)+A,this.words[S]=m&67108863,A=m>>>26;if(this.length=w.length,A!==0)this.words[this.length]=A,this.length++;else if(w!==this)for(;S<w.length;S++)this.words[S]=w.words[S];return this},"iadd"),s.prototype.add=i(function(l){var m;return l.negative!==0&&this.negative===0?(l.negative=0,m=this.sub(l),l.negative^=1,m):l.negative===0&&this.negative!==0?(this.negative=0,m=l.sub(this),this.negative=1,m):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},"add"),s.prototype.isub=i(function(l){if(l.negative!==0){l.negative=0;var m=this.iadd(l);return l.negative=1,m._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var w=this.cmp(l);if(w===0)return this.negative=0,this.length=1,this.words[0]=0,this;var M,A;w>0?(M=this,A=l):(M=l,A=this);for(var S=0,f=0;f<A.length;f++)m=(M.words[f]|0)-(A.words[f]|0)+S,S=m>>26,this.words[f]=m&67108863;for(;S!==0&&f<M.length;f++)m=(M.words[f]|0)+S,S=m>>26,this.words[f]=m&67108863;if(S===0&&f<M.length&&M!==this)for(;f<M.length;f++)this.words[f]=M.words[f];return this.length=Math.max(this.length,f),M!==this&&(this.negative=1),this._strip()},"isub"),s.prototype.sub=i(function(l){return this.clone().isub(l)},"sub");function C(g,l,m){m.negative=l.negative^g.negative;var w=g.length+l.length|0;m.length=w,w=w-1|0;var M=g.words[0]|0,A=l.words[0]|0,S=M*A,f=S&67108863,_=S/67108864|0;m.words[0]=f;for(var E=1;E<w;E++){for(var I=_>>>26,D=_&67108863,L=Math.min(E,l.length-1),U=Math.max(0,E-g.length+1);U<=L;U++){var B=E-U|0;M=g.words[B]|0,A=l.words[U]|0,S=M*A+D,I+=S/67108864|0,D=S&67108863}m.words[E]=D|0,_=I|0}return _!==0?m.words[E]=_|0:m.length--,m._strip()}i(C,"smallMulTo");var R=i(function(l,m,w){var M=l.words,A=m.words,S=w.words,f=0,_,E,I,D=M[0]|0,L=D&8191,U=D>>>13,B=M[1]|0,G=B&8191,H=B>>>13,K=M[2]|0,_e=K&8191,ae=K>>>13,se=M[3]|0,ye=se&8191,q=se>>>13,re=M[4]|0,X=re&8191,W=re>>>13,le=M[5]|0,ke=le&8191,pe=le>>>13,fe=M[6]|0,Q=fe&8191,Y=fe>>>13,te=M[7]|0,he=te&8191,oe=te>>>13,ue=M[8]|0,ze=ue&8191,we=ue>>>13,Be=M[9]|0,We=Be&8191,ve=Be>>>13,Ue=A[0]|0,ce=Ue&8191,be=Ue>>>13,Te=A[1]|0,Re=Te&8191,Ae=Te>>>13,$e=A[2]|0,Ye=$e&8191,Ne=$e>>>13,Ee=A[3]|0,Pe=Ee&8191,Se=Ee>>>13,Ze=A[4]|0,Ke=Ze&8191,ie=Ze>>>13,me=A[5]|0,Ce=me&8191,xe=me>>>13,Oe=A[6]|0,He=Oe&8191,ne=Oe>>>13,je=A[7]|0,Ge=je&8191,ge=je>>>13,Je=A[8]|0,tt=Je&8191,De=Je>>>13,Qe=A[9]|0,Ie=Qe&8191,Fe=Qe>>>13;w.negative=l.negative^m.negative,w.length=19,_=Math.imul(L,ce),E=Math.imul(L,be),E=E+Math.imul(U,ce)|0,I=Math.imul(U,be);var lt=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(lt>>>26)|0,lt&=67108863,_=Math.imul(G,ce),E=Math.imul(G,be),E=E+Math.imul(H,ce)|0,I=Math.imul(H,be),_=_+Math.imul(L,Re)|0,E=E+Math.imul(L,Ae)|0,E=E+Math.imul(U,Re)|0,I=I+Math.imul(U,Ae)|0;var yt=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(yt>>>26)|0,yt&=67108863,_=Math.imul(_e,ce),E=Math.imul(_e,be),E=E+Math.imul(ae,ce)|0,I=Math.imul(ae,be),_=_+Math.imul(G,Re)|0,E=E+Math.imul(G,Ae)|0,E=E+Math.imul(H,Re)|0,I=I+Math.imul(H,Ae)|0,_=_+Math.imul(L,Ye)|0,E=E+Math.imul(L,Ne)|0,E=E+Math.imul(U,Ye)|0,I=I+Math.imul(U,Ne)|0;var ht=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(ht>>>26)|0,ht&=67108863,_=Math.imul(ye,ce),E=Math.imul(ye,be),E=E+Math.imul(q,ce)|0,I=Math.imul(q,be),_=_+Math.imul(_e,Re)|0,E=E+Math.imul(_e,Ae)|0,E=E+Math.imul(ae,Re)|0,I=I+Math.imul(ae,Ae)|0,_=_+Math.imul(G,Ye)|0,E=E+Math.imul(G,Ne)|0,E=E+Math.imul(H,Ye)|0,I=I+Math.imul(H,Ne)|0,_=_+Math.imul(L,Pe)|0,E=E+Math.imul(L,Se)|0,E=E+Math.imul(U,Pe)|0,I=I+Math.imul(U,Se)|0;var Mt=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,_=Math.imul(X,ce),E=Math.imul(X,be),E=E+Math.imul(W,ce)|0,I=Math.imul(W,be),_=_+Math.imul(ye,Re)|0,E=E+Math.imul(ye,Ae)|0,E=E+Math.imul(q,Re)|0,I=I+Math.imul(q,Ae)|0,_=_+Math.imul(_e,Ye)|0,E=E+Math.imul(_e,Ne)|0,E=E+Math.imul(ae,Ye)|0,I=I+Math.imul(ae,Ne)|0,_=_+Math.imul(G,Pe)|0,E=E+Math.imul(G,Se)|0,E=E+Math.imul(H,Pe)|0,I=I+Math.imul(H,Se)|0,_=_+Math.imul(L,Ke)|0,E=E+Math.imul(L,ie)|0,E=E+Math.imul(U,Ke)|0,I=I+Math.imul(U,ie)|0;var Bt=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,_=Math.imul(ke,ce),E=Math.imul(ke,be),E=E+Math.imul(pe,ce)|0,I=Math.imul(pe,be),_=_+Math.imul(X,Re)|0,E=E+Math.imul(X,Ae)|0,E=E+Math.imul(W,Re)|0,I=I+Math.imul(W,Ae)|0,_=_+Math.imul(ye,Ye)|0,E=E+Math.imul(ye,Ne)|0,E=E+Math.imul(q,Ye)|0,I=I+Math.imul(q,Ne)|0,_=_+Math.imul(_e,Pe)|0,E=E+Math.imul(_e,Se)|0,E=E+Math.imul(ae,Pe)|0,I=I+Math.imul(ae,Se)|0,_=_+Math.imul(G,Ke)|0,E=E+Math.imul(G,ie)|0,E=E+Math.imul(H,Ke)|0,I=I+Math.imul(H,ie)|0,_=_+Math.imul(L,Ce)|0,E=E+Math.imul(L,xe)|0,E=E+Math.imul(U,Ce)|0,I=I+Math.imul(U,xe)|0;var Et=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Et>>>26)|0,Et&=67108863,_=Math.imul(Q,ce),E=Math.imul(Q,be),E=E+Math.imul(Y,ce)|0,I=Math.imul(Y,be),_=_+Math.imul(ke,Re)|0,E=E+Math.imul(ke,Ae)|0,E=E+Math.imul(pe,Re)|0,I=I+Math.imul(pe,Ae)|0,_=_+Math.imul(X,Ye)|0,E=E+Math.imul(X,Ne)|0,E=E+Math.imul(W,Ye)|0,I=I+Math.imul(W,Ne)|0,_=_+Math.imul(ye,Pe)|0,E=E+Math.imul(ye,Se)|0,E=E+Math.imul(q,Pe)|0,I=I+Math.imul(q,Se)|0,_=_+Math.imul(_e,Ke)|0,E=E+Math.imul(_e,ie)|0,E=E+Math.imul(ae,Ke)|0,I=I+Math.imul(ae,ie)|0,_=_+Math.imul(G,Ce)|0,E=E+Math.imul(G,xe)|0,E=E+Math.imul(H,Ce)|0,I=I+Math.imul(H,xe)|0,_=_+Math.imul(L,He)|0,E=E+Math.imul(L,ne)|0,E=E+Math.imul(U,He)|0,I=I+Math.imul(U,ne)|0;var _t=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(_t>>>26)|0,_t&=67108863,_=Math.imul(he,ce),E=Math.imul(he,be),E=E+Math.imul(oe,ce)|0,I=Math.imul(oe,be),_=_+Math.imul(Q,Re)|0,E=E+Math.imul(Q,Ae)|0,E=E+Math.imul(Y,Re)|0,I=I+Math.imul(Y,Ae)|0,_=_+Math.imul(ke,Ye)|0,E=E+Math.imul(ke,Ne)|0,E=E+Math.imul(pe,Ye)|0,I=I+Math.imul(pe,Ne)|0,_=_+Math.imul(X,Pe)|0,E=E+Math.imul(X,Se)|0,E=E+Math.imul(W,Pe)|0,I=I+Math.imul(W,Se)|0,_=_+Math.imul(ye,Ke)|0,E=E+Math.imul(ye,ie)|0,E=E+Math.imul(q,Ke)|0,I=I+Math.imul(q,ie)|0,_=_+Math.imul(_e,Ce)|0,E=E+Math.imul(_e,xe)|0,E=E+Math.imul(ae,Ce)|0,I=I+Math.imul(ae,xe)|0,_=_+Math.imul(G,He)|0,E=E+Math.imul(G,ne)|0,E=E+Math.imul(H,He)|0,I=I+Math.imul(H,ne)|0,_=_+Math.imul(L,Ge)|0,E=E+Math.imul(L,ge)|0,E=E+Math.imul(U,Ge)|0,I=I+Math.imul(U,ge)|0;var Ft=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,_=Math.imul(ze,ce),E=Math.imul(ze,be),E=E+Math.imul(we,ce)|0,I=Math.imul(we,be),_=_+Math.imul(he,Re)|0,E=E+Math.imul(he,Ae)|0,E=E+Math.imul(oe,Re)|0,I=I+Math.imul(oe,Ae)|0,_=_+Math.imul(Q,Ye)|0,E=E+Math.imul(Q,Ne)|0,E=E+Math.imul(Y,Ye)|0,I=I+Math.imul(Y,Ne)|0,_=_+Math.imul(ke,Pe)|0,E=E+Math.imul(ke,Se)|0,E=E+Math.imul(pe,Pe)|0,I=I+Math.imul(pe,Se)|0,_=_+Math.imul(X,Ke)|0,E=E+Math.imul(X,ie)|0,E=E+Math.imul(W,Ke)|0,I=I+Math.imul(W,ie)|0,_=_+Math.imul(ye,Ce)|0,E=E+Math.imul(ye,xe)|0,E=E+Math.imul(q,Ce)|0,I=I+Math.imul(q,xe)|0,_=_+Math.imul(_e,He)|0,E=E+Math.imul(_e,ne)|0,E=E+Math.imul(ae,He)|0,I=I+Math.imul(ae,ne)|0,_=_+Math.imul(G,Ge)|0,E=E+Math.imul(G,ge)|0,E=E+Math.imul(H,Ge)|0,I=I+Math.imul(H,ge)|0,_=_+Math.imul(L,tt)|0,E=E+Math.imul(L,De)|0,E=E+Math.imul(U,tt)|0,I=I+Math.imul(U,De)|0;var Vt=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,_=Math.imul(We,ce),E=Math.imul(We,be),E=E+Math.imul(ve,ce)|0,I=Math.imul(ve,be),_=_+Math.imul(ze,Re)|0,E=E+Math.imul(ze,Ae)|0,E=E+Math.imul(we,Re)|0,I=I+Math.imul(we,Ae)|0,_=_+Math.imul(he,Ye)|0,E=E+Math.imul(he,Ne)|0,E=E+Math.imul(oe,Ye)|0,I=I+Math.imul(oe,Ne)|0,_=_+Math.imul(Q,Pe)|0,E=E+Math.imul(Q,Se)|0,E=E+Math.imul(Y,Pe)|0,I=I+Math.imul(Y,Se)|0,_=_+Math.imul(ke,Ke)|0,E=E+Math.imul(ke,ie)|0,E=E+Math.imul(pe,Ke)|0,I=I+Math.imul(pe,ie)|0,_=_+Math.imul(X,Ce)|0,E=E+Math.imul(X,xe)|0,E=E+Math.imul(W,Ce)|0,I=I+Math.imul(W,xe)|0,_=_+Math.imul(ye,He)|0,E=E+Math.imul(ye,ne)|0,E=E+Math.imul(q,He)|0,I=I+Math.imul(q,ne)|0,_=_+Math.imul(_e,Ge)|0,E=E+Math.imul(_e,ge)|0,E=E+Math.imul(ae,Ge)|0,I=I+Math.imul(ae,ge)|0,_=_+Math.imul(G,tt)|0,E=E+Math.imul(G,De)|0,E=E+Math.imul(H,tt)|0,I=I+Math.imul(H,De)|0,_=_+Math.imul(L,Ie)|0,E=E+Math.imul(L,Fe)|0,E=E+Math.imul(U,Ie)|0,I=I+Math.imul(U,Fe)|0;var Tt=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,_=Math.imul(We,Re),E=Math.imul(We,Ae),E=E+Math.imul(ve,Re)|0,I=Math.imul(ve,Ae),_=_+Math.imul(ze,Ye)|0,E=E+Math.imul(ze,Ne)|0,E=E+Math.imul(we,Ye)|0,I=I+Math.imul(we,Ne)|0,_=_+Math.imul(he,Pe)|0,E=E+Math.imul(he,Se)|0,E=E+Math.imul(oe,Pe)|0,I=I+Math.imul(oe,Se)|0,_=_+Math.imul(Q,Ke)|0,E=E+Math.imul(Q,ie)|0,E=E+Math.imul(Y,Ke)|0,I=I+Math.imul(Y,ie)|0,_=_+Math.imul(ke,Ce)|0,E=E+Math.imul(ke,xe)|0,E=E+Math.imul(pe,Ce)|0,I=I+Math.imul(pe,xe)|0,_=_+Math.imul(X,He)|0,E=E+Math.imul(X,ne)|0,E=E+Math.imul(W,He)|0,I=I+Math.imul(W,ne)|0,_=_+Math.imul(ye,Ge)|0,E=E+Math.imul(ye,ge)|0,E=E+Math.imul(q,Ge)|0,I=I+Math.imul(q,ge)|0,_=_+Math.imul(_e,tt)|0,E=E+Math.imul(_e,De)|0,E=E+Math.imul(ae,tt)|0,I=I+Math.imul(ae,De)|0,_=_+Math.imul(G,Ie)|0,E=E+Math.imul(G,Fe)|0,E=E+Math.imul(H,Ie)|0,I=I+Math.imul(H,Fe)|0;var zt=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(zt>>>26)|0,zt&=67108863,_=Math.imul(We,Ye),E=Math.imul(We,Ne),E=E+Math.imul(ve,Ye)|0,I=Math.imul(ve,Ne),_=_+Math.imul(ze,Pe)|0,E=E+Math.imul(ze,Se)|0,E=E+Math.imul(we,Pe)|0,I=I+Math.imul(we,Se)|0,_=_+Math.imul(he,Ke)|0,E=E+Math.imul(he,ie)|0,E=E+Math.imul(oe,Ke)|0,I=I+Math.imul(oe,ie)|0,_=_+Math.imul(Q,Ce)|0,E=E+Math.imul(Q,xe)|0,E=E+Math.imul(Y,Ce)|0,I=I+Math.imul(Y,xe)|0,_=_+Math.imul(ke,He)|0,E=E+Math.imul(ke,ne)|0,E=E+Math.imul(pe,He)|0,I=I+Math.imul(pe,ne)|0,_=_+Math.imul(X,Ge)|0,E=E+Math.imul(X,ge)|0,E=E+Math.imul(W,Ge)|0,I=I+Math.imul(W,ge)|0,_=_+Math.imul(ye,tt)|0,E=E+Math.imul(ye,De)|0,E=E+Math.imul(q,tt)|0,I=I+Math.imul(q,De)|0,_=_+Math.imul(_e,Ie)|0,E=E+Math.imul(_e,Fe)|0,E=E+Math.imul(ae,Ie)|0,I=I+Math.imul(ae,Fe)|0;var Nt=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,_=Math.imul(We,Pe),E=Math.imul(We,Se),E=E+Math.imul(ve,Pe)|0,I=Math.imul(ve,Se),_=_+Math.imul(ze,Ke)|0,E=E+Math.imul(ze,ie)|0,E=E+Math.imul(we,Ke)|0,I=I+Math.imul(we,ie)|0,_=_+Math.imul(he,Ce)|0,E=E+Math.imul(he,xe)|0,E=E+Math.imul(oe,Ce)|0,I=I+Math.imul(oe,xe)|0,_=_+Math.imul(Q,He)|0,E=E+Math.imul(Q,ne)|0,E=E+Math.imul(Y,He)|0,I=I+Math.imul(Y,ne)|0,_=_+Math.imul(ke,Ge)|0,E=E+Math.imul(ke,ge)|0,E=E+Math.imul(pe,Ge)|0,I=I+Math.imul(pe,ge)|0,_=_+Math.imul(X,tt)|0,E=E+Math.imul(X,De)|0,E=E+Math.imul(W,tt)|0,I=I+Math.imul(W,De)|0,_=_+Math.imul(ye,Ie)|0,E=E+Math.imul(ye,Fe)|0,E=E+Math.imul(q,Ie)|0,I=I+Math.imul(q,Fe)|0;var Pt=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,_=Math.imul(We,Ke),E=Math.imul(We,ie),E=E+Math.imul(ve,Ke)|0,I=Math.imul(ve,ie),_=_+Math.imul(ze,Ce)|0,E=E+Math.imul(ze,xe)|0,E=E+Math.imul(we,Ce)|0,I=I+Math.imul(we,xe)|0,_=_+Math.imul(he,He)|0,E=E+Math.imul(he,ne)|0,E=E+Math.imul(oe,He)|0,I=I+Math.imul(oe,ne)|0,_=_+Math.imul(Q,Ge)|0,E=E+Math.imul(Q,ge)|0,E=E+Math.imul(Y,Ge)|0,I=I+Math.imul(Y,ge)|0,_=_+Math.imul(ke,tt)|0,E=E+Math.imul(ke,De)|0,E=E+Math.imul(pe,tt)|0,I=I+Math.imul(pe,De)|0,_=_+Math.imul(X,Ie)|0,E=E+Math.imul(X,Fe)|0,E=E+Math.imul(W,Ie)|0,I=I+Math.imul(W,Fe)|0;var Ut=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,_=Math.imul(We,Ce),E=Math.imul(We,xe),E=E+Math.imul(ve,Ce)|0,I=Math.imul(ve,xe),_=_+Math.imul(ze,He)|0,E=E+Math.imul(ze,ne)|0,E=E+Math.imul(we,He)|0,I=I+Math.imul(we,ne)|0,_=_+Math.imul(he,Ge)|0,E=E+Math.imul(he,ge)|0,E=E+Math.imul(oe,Ge)|0,I=I+Math.imul(oe,ge)|0,_=_+Math.imul(Q,tt)|0,E=E+Math.imul(Q,De)|0,E=E+Math.imul(Y,tt)|0,I=I+Math.imul(Y,De)|0,_=_+Math.imul(ke,Ie)|0,E=E+Math.imul(ke,Fe)|0,E=E+Math.imul(pe,Ie)|0,I=I+Math.imul(pe,Fe)|0;var Zt=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,_=Math.imul(We,He),E=Math.imul(We,ne),E=E+Math.imul(ve,He)|0,I=Math.imul(ve,ne),_=_+Math.imul(ze,Ge)|0,E=E+Math.imul(ze,ge)|0,E=E+Math.imul(we,Ge)|0,I=I+Math.imul(we,ge)|0,_=_+Math.imul(he,tt)|0,E=E+Math.imul(he,De)|0,E=E+Math.imul(oe,tt)|0,I=I+Math.imul(oe,De)|0,_=_+Math.imul(Q,Ie)|0,E=E+Math.imul(Q,Fe)|0,E=E+Math.imul(Y,Ie)|0,I=I+Math.imul(Y,Fe)|0;var Ht=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,_=Math.imul(We,Ge),E=Math.imul(We,ge),E=E+Math.imul(ve,Ge)|0,I=Math.imul(ve,ge),_=_+Math.imul(ze,tt)|0,E=E+Math.imul(ze,De)|0,E=E+Math.imul(we,tt)|0,I=I+Math.imul(we,De)|0,_=_+Math.imul(he,Ie)|0,E=E+Math.imul(he,Fe)|0,E=E+Math.imul(oe,Ie)|0,I=I+Math.imul(oe,Fe)|0;var Jt=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,_=Math.imul(We,tt),E=Math.imul(We,De),E=E+Math.imul(ve,tt)|0,I=Math.imul(ve,De),_=_+Math.imul(ze,Ie)|0,E=E+Math.imul(ze,Fe)|0,E=E+Math.imul(we,Ie)|0,I=I+Math.imul(we,Fe)|0;var Lr=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,_=Math.imul(We,Ie),E=Math.imul(We,Fe),E=E+Math.imul(ve,Ie)|0,I=Math.imul(ve,Fe);var de=(f+_|0)+((E&8191)<<13)|0;return f=(I+(E>>>13)|0)+(de>>>26)|0,de&=67108863,S[0]=lt,S[1]=yt,S[2]=ht,S[3]=Mt,S[4]=Bt,S[5]=Et,S[6]=_t,S[7]=Ft,S[8]=Vt,S[9]=Tt,S[10]=zt,S[11]=Nt,S[12]=Pt,S[13]=Ut,S[14]=Zt,S[15]=Ht,S[16]=Jt,S[17]=Lr,S[18]=de,f!==0&&(S[19]=f,w.length++),w},"comb10MulTo");Math.imul||(R=C);function O(g,l,m){m.negative=l.negative^g.negative,m.length=g.length+l.length;for(var w=0,M=0,A=0;A<m.length-1;A++){var S=M;M=0;for(var f=w&67108863,_=Math.min(A,l.length-1),E=Math.max(0,A-g.length+1);E<=_;E++){var I=A-E,D=g.words[I]|0,L=l.words[E]|0,U=D*L,B=U&67108863;S=S+(U/67108864|0)|0,B=B+f|0,f=B&67108863,S=S+(B>>>26)|0,M+=S>>>26,S&=67108863}m.words[A]=f,w=S,S=M}return w!==0?m.words[A]=w:m.length--,m._strip()}i(O,"bigMulTo");function T(g,l,m){return O(g,l,m)}i(T,"jumboMulTo"),s.prototype.mulTo=i(function(l,m){var w,M=this.length+l.length;return this.length===10&&l.length===10?w=R(this,l,m):M<63?w=C(this,l,m):M<1024?w=O(this,l,m):w=T(this,l,m),w},"mulTo"),s.prototype.mul=i(function(l){var m=new s(null);return m.words=new Array(this.length+l.length),this.mulTo(l,m)},"mul"),s.prototype.mulf=i(function(l){var m=new s(null);return m.words=new Array(this.length+l.length),T(this,l,m)},"mulf"),s.prototype.imul=i(function(l){return this.clone().mulTo(l,this)},"imul"),s.prototype.imuln=i(function(l){var m=l<0;m&&(l=-l),a(typeof l=="number"),a(l<67108864);for(var w=0,M=0;M<this.length;M++){var A=(this.words[M]|0)*l,S=(A&67108863)+(w&67108863);w>>=26,w+=A/67108864|0,w+=S>>>26,this.words[M]=S&67108863}return w!==0&&(this.words[M]=w,this.length++),this.length=l===0?1:this.length,m?this.ineg():this},"imuln"),s.prototype.muln=i(function(l){return this.clone().imuln(l)},"muln"),s.prototype.sqr=i(function(){return this.mul(this)},"sqr"),s.prototype.isqr=i(function(){return this.imul(this.clone())},"isqr"),s.prototype.pow=i(function(l){var m=N(l);if(m.length===0)return new s(1);for(var w=this,M=0;M<m.length&&m[M]===0;M++,w=w.sqr());if(++M<m.length)for(var A=w.sqr();M<m.length;M++,A=A.sqr())m[M]!==0&&(w=w.mul(A));return w},"pow"),s.prototype.iushln=i(function(l){a(typeof l=="number"&&l>=0);var m=l%26,w=(l-m)/26,M=67108863>>>26-m<<26-m,A;if(m!==0){var S=0;for(A=0;A<this.length;A++){var f=this.words[A]&M,_=(this.words[A]|0)-f<<m;this.words[A]=_|S,S=f>>>26-m}S&&(this.words[A]=S,this.length++)}if(w!==0){for(A=this.length-1;A>=0;A--)this.words[A+w]=this.words[A];for(A=0;A<w;A++)this.words[A]=0;this.length+=w}return this._strip()},"iushln"),s.prototype.ishln=i(function(l){return a(this.negative===0),this.iushln(l)},"ishln"),s.prototype.iushrn=i(function(l,m,w){a(typeof l=="number"&&l>=0);var M;m?M=(m-m%26)/26:M=0;var A=l%26,S=Math.min((l-A)/26,this.length),f=67108863^67108863>>>A<<A,_=w;if(M-=S,M=Math.max(0,M),_){for(var E=0;E<S;E++)_.words[E]=this.words[E];_.length=S}if(S!==0)if(this.length>S)for(this.length-=S,E=0;E<this.length;E++)this.words[E]=this.words[E+S];else this.words[0]=0,this.length=1;var I=0;for(E=this.length-1;E>=0&&(I!==0||E>=M);E--){var D=this.words[E]|0;this.words[E]=I<<26-A|D>>>A,I=D&f}return _&&I!==0&&(_.words[_.length++]=I),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},"iushrn"),s.prototype.ishrn=i(function(l,m,w){return a(this.negative===0),this.iushrn(l,m,w)},"ishrn"),s.prototype.shln=i(function(l){return this.clone().ishln(l)},"shln"),s.prototype.ushln=i(function(l){return this.clone().iushln(l)},"ushln"),s.prototype.shrn=i(function(l){return this.clone().ishrn(l)},"shrn"),s.prototype.ushrn=i(function(l){return this.clone().iushrn(l)},"ushrn"),s.prototype.testn=i(function(l){a(typeof l=="number"&&l>=0);var m=l%26,w=(l-m)/26,M=1<<m;if(this.length<=w)return!1;var A=this.words[w];return!!(A&M)},"testn"),s.prototype.imaskn=i(function(l){a(typeof l=="number"&&l>=0);var m=l%26,w=(l-m)/26;if(a(this.negative===0,"imaskn works only with positive numbers"),this.length<=w)return this;if(m!==0&&w++,this.length=Math.min(w,this.length),m!==0){var M=67108863^67108863>>>m<<m;this.words[this.length-1]&=M}return this._strip()},"imaskn"),s.prototype.maskn=i(function(l){return this.clone().imaskn(l)},"maskn"),s.prototype.iaddn=i(function(l){return a(typeof l=="number"),a(l<67108864),l<0?this.isubn(-l):this.negative!==0?this.length===1&&(this.words[0]|0)<=l?(this.words[0]=l-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},"iaddn"),s.prototype._iaddn=i(function(l){this.words[0]+=l;for(var m=0;m<this.length&&this.words[m]>=67108864;m++)this.words[m]-=67108864,m===this.length-1?this.words[m+1]=1:this.words[m+1]++;return this.length=Math.max(this.length,m+1),this},"_iaddn"),s.prototype.isubn=i(function(l){if(a(typeof l=="number"),a(l<67108864),l<0)return this.iaddn(-l);if(this.negative!==0)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var m=0;m<this.length&&this.words[m]<0;m++)this.words[m]+=67108864,this.words[m+1]-=1;return this._strip()},"isubn"),s.prototype.addn=i(function(l){return this.clone().iaddn(l)},"addn"),s.prototype.subn=i(function(l){return this.clone().isubn(l)},"subn"),s.prototype.iabs=i(function(){return this.negative=0,this},"iabs"),s.prototype.abs=i(function(){return this.clone().iabs()},"abs"),s.prototype._ishlnsubmul=i(function(l,m,w){var M=l.length+w,A;this._expand(M);var S,f=0;for(A=0;A<l.length;A++){S=(this.words[A+w]|0)+f;var _=(l.words[A]|0)*m;S-=_&67108863,f=(S>>26)-(_/67108864|0),this.words[A+w]=S&67108863}for(;A<this.length-w;A++)S=(this.words[A+w]|0)+f,f=S>>26,this.words[A+w]=S&67108863;if(f===0)return this._strip();for(a(f===-1),f=0,A=0;A<this.length;A++)S=-(this.words[A]|0)+f,f=S>>26,this.words[A]=S&67108863;return this.negative=1,this._strip()},"_ishlnsubmul"),s.prototype._wordDiv=i(function(l,m){var w=this.length-l.length,M=this.clone(),A=l,S=A.words[A.length-1]|0,f=this._countBits(S);w=26-f,w!==0&&(A=A.ushln(w),M.iushln(w),S=A.words[A.length-1]|0);var _=M.length-A.length,E;if(m!=="mod"){E=new s(null),E.length=_+1,E.words=new Array(E.length);for(var I=0;I<E.length;I++)E.words[I]=0}var D=M.clone()._ishlnsubmul(A,1,_);D.negative===0&&(M=D,E&&(E.words[_]=1));for(var L=_-1;L>=0;L--){var U=(M.words[A.length+L]|0)*67108864+(M.words[A.length+L-1]|0);for(U=Math.min(U/S|0,67108863),M._ishlnsubmul(A,U,L);M.negative!==0;)U--,M.negative=0,M._ishlnsubmul(A,1,L),M.isZero()||(M.negative^=1);E&&(E.words[L]=U)}return E&&E._strip(),M._strip(),m!=="div"&&w!==0&&M.iushrn(w),{div:E||null,mod:M}},"_wordDiv"),s.prototype.divmod=i(function(l,m,w){if(a(!l.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var M,A,S;return this.negative!==0&&l.negative===0?(S=this.neg().divmod(l,m),m!=="mod"&&(M=S.div.neg()),m!=="div"&&(A=S.mod.neg(),w&&A.negative!==0&&A.iadd(l)),{div:M,mod:A}):this.negative===0&&l.negative!==0?(S=this.divmod(l.neg(),m),m!=="mod"&&(M=S.div.neg()),{div:M,mod:S.mod}):(this.negative&l.negative)!==0?(S=this.neg().divmod(l.neg(),m),m!=="div"&&(A=S.mod.neg(),w&&A.negative!==0&&A.isub(l)),{div:S.div,mod:A}):l.length>this.length||this.cmp(l)<0?{div:new s(0),mod:this}:l.length===1?m==="div"?{div:this.divn(l.words[0]),mod:null}:m==="mod"?{div:null,mod:new s(this.modrn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new s(this.modrn(l.words[0]))}:this._wordDiv(l,m)},"divmod"),s.prototype.div=i(function(l){return this.divmod(l,"div",!1).div},"div"),s.prototype.mod=i(function(l){return this.divmod(l,"mod",!1).mod},"mod"),s.prototype.umod=i(function(l){return this.divmod(l,"mod",!0).mod},"umod"),s.prototype.divRound=i(function(l){var m=this.divmod(l);if(m.mod.isZero())return m.div;var w=m.div.negative!==0?m.mod.isub(l):m.mod,M=l.ushrn(1),A=l.andln(1),S=w.cmp(M);return S<0||A===1&&S===0?m.div:m.div.negative!==0?m.div.isubn(1):m.div.iaddn(1)},"divRound"),s.prototype.modrn=i(function(l){var m=l<0;m&&(l=-l),a(l<=67108863);for(var w=(1<<26)%l,M=0,A=this.length-1;A>=0;A--)M=(w*M+(this.words[A]|0))%l;return m?-M:M},"modrn"),s.prototype.modn=i(function(l){return this.modrn(l)},"modn"),s.prototype.idivn=i(function(l){var m=l<0;m&&(l=-l),a(l<=67108863);for(var w=0,M=this.length-1;M>=0;M--){var A=(this.words[M]|0)+w*67108864;this.words[M]=A/l|0,w=A%l}return this._strip(),m?this.ineg():this},"idivn"),s.prototype.divn=i(function(l){return this.clone().idivn(l)},"divn"),s.prototype.egcd=i(function(l){a(l.negative===0),a(!l.isZero());var m=this,w=l.clone();m.negative!==0?m=m.umod(l):m=m.clone();for(var M=new s(1),A=new s(0),S=new s(0),f=new s(1),_=0;m.isEven()&&w.isEven();)m.iushrn(1),w.iushrn(1),++_;for(var E=w.clone(),I=m.clone();!m.isZero();){for(var D=0,L=1;(m.words[0]&L)===0&&D<26;++D,L<<=1);if(D>0)for(m.iushrn(D);D-- >0;)(M.isOdd()||A.isOdd())&&(M.iadd(E),A.isub(I)),M.iushrn(1),A.iushrn(1);for(var U=0,B=1;(w.words[0]&B)===0&&U<26;++U,B<<=1);if(U>0)for(w.iushrn(U);U-- >0;)(S.isOdd()||f.isOdd())&&(S.iadd(E),f.isub(I)),S.iushrn(1),f.iushrn(1);m.cmp(w)>=0?(m.isub(w),M.isub(S),A.isub(f)):(w.isub(m),S.isub(M),f.isub(A))}return{a:S,b:f,gcd:w.iushln(_)}},"egcd"),s.prototype._invmp=i(function(l){a(l.negative===0),a(!l.isZero());var m=this,w=l.clone();m.negative!==0?m=m.umod(l):m=m.clone();for(var M=new s(1),A=new s(0),S=w.clone();m.cmpn(1)>0&&w.cmpn(1)>0;){for(var f=0,_=1;(m.words[0]&_)===0&&f<26;++f,_<<=1);if(f>0)for(m.iushrn(f);f-- >0;)M.isOdd()&&M.iadd(S),M.iushrn(1);for(var E=0,I=1;(w.words[0]&I)===0&&E<26;++E,I<<=1);if(E>0)for(w.iushrn(E);E-- >0;)A.isOdd()&&A.iadd(S),A.iushrn(1);m.cmp(w)>=0?(m.isub(w),M.isub(A)):(w.isub(m),A.isub(M))}var D;return m.cmpn(1)===0?D=M:D=A,D.cmpn(0)<0&&D.iadd(l),D},"_invmp"),s.prototype.gcd=i(function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var m=this.clone(),w=l.clone();m.negative=0,w.negative=0;for(var M=0;m.isEven()&&w.isEven();M++)m.iushrn(1),w.iushrn(1);do{for(;m.isEven();)m.iushrn(1);for(;w.isEven();)w.iushrn(1);var A=m.cmp(w);if(A<0){var S=m;m=w,w=S}else if(A===0||w.cmpn(1)===0)break;m.isub(w)}while(!0);return w.iushln(M)},"gcd"),s.prototype.invm=i(function(l){return this.egcd(l).a.umod(l)},"invm"),s.prototype.isEven=i(function(){return(this.words[0]&1)===0},"isEven"),s.prototype.isOdd=i(function(){return(this.words[0]&1)===1},"isOdd"),s.prototype.andln=i(function(l){return this.words[0]&l},"andln"),s.prototype.bincn=i(function(l){a(typeof l=="number");var m=l%26,w=(l-m)/26,M=1<<m;if(this.length<=w)return this._expand(w+1),this.words[w]|=M,this;for(var A=M,S=w;A!==0&&S<this.length;S++){var f=this.words[S]|0;f+=A,A=f>>>26,f&=67108863,this.words[S]=f}return A!==0&&(this.words[S]=A,this.length++),this},"bincn"),s.prototype.isZero=i(function(){return this.length===1&&this.words[0]===0},"isZero"),s.prototype.cmpn=i(function(l){var m=l<0;if(this.negative!==0&&!m)return-1;if(this.negative===0&&m)return 1;this._strip();var w;if(this.length>1)w=1;else{m&&(l=-l),a(l<=67108863,"Number is too big");var M=this.words[0]|0;w=M===l?0:M<l?-1:1}return this.negative!==0?-w|0:w},"cmpn"),s.prototype.cmp=i(function(l){if(this.negative!==0&&l.negative===0)return-1;if(this.negative===0&&l.negative!==0)return 1;var m=this.ucmp(l);return this.negative!==0?-m|0:m},"cmp"),s.prototype.ucmp=i(function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var m=0,w=this.length-1;w>=0;w--){var M=this.words[w]|0,A=l.words[w]|0;if(M!==A){M<A?m=-1:M>A&&(m=1);break}}return m},"ucmp"),s.prototype.gtn=i(function(l){return this.cmpn(l)===1},"gtn"),s.prototype.gt=i(function(l){return this.cmp(l)===1},"gt"),s.prototype.gten=i(function(l){return this.cmpn(l)>=0},"gten"),s.prototype.gte=i(function(l){return this.cmp(l)>=0},"gte"),s.prototype.ltn=i(function(l){return this.cmpn(l)===-1},"ltn"),s.prototype.lt=i(function(l){return this.cmp(l)===-1},"lt"),s.prototype.lten=i(function(l){return this.cmpn(l)<=0},"lten"),s.prototype.lte=i(function(l){return this.cmp(l)<=0},"lte"),s.prototype.eqn=i(function(l){return this.cmpn(l)===0},"eqn"),s.prototype.eq=i(function(l){return this.cmp(l)===0},"eq"),s.red=i(function(l){return new F(l)},"red"),s.prototype.toRed=i(function(l){return a(!this.red,"Already a number in reduction context"),a(this.negative===0,"red works only with positives"),l.convertTo(this)._forceRed(l)},"toRed"),s.prototype.fromRed=i(function(){return a(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},"fromRed"),s.prototype._forceRed=i(function(l){return this.red=l,this},"_forceRed"),s.prototype.forceRed=i(function(l){return a(!this.red,"Already a number in reduction context"),this._forceRed(l)},"forceRed"),s.prototype.redAdd=i(function(l){return a(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},"redAdd"),s.prototype.redIAdd=i(function(l){return a(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},"redIAdd"),s.prototype.redSub=i(function(l){return a(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},"redSub"),s.prototype.redISub=i(function(l){return a(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},"redISub"),s.prototype.redShl=i(function(l){return a(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},"redShl"),s.prototype.redMul=i(function(l){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},"redMul"),s.prototype.redIMul=i(function(l){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},"redIMul"),s.prototype.redSqr=i(function(){return a(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},"redSqr"),s.prototype.redISqr=i(function(){return a(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},"redISqr"),s.prototype.redSqrt=i(function(){return a(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},"redSqrt"),s.prototype.redInvm=i(function(){return a(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},"redInvm"),s.prototype.redNeg=i(function(){return a(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},"redNeg"),s.prototype.redPow=i(function(l){return a(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)},"redPow");var P={k256:null,p224:null,p192:null,p25519:null};function z(g,l){this.name=g,this.p=new s(l,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}i(z,"MPrime"),z.prototype._tmp=i(function(){var l=new s(null);return l.words=new Array(Math.ceil(this.n/13)),l},"_tmp"),z.prototype.ireduce=i(function(l){var m=l,w;do this.split(m,this.tmp),m=this.imulK(m),m=m.iadd(this.tmp),w=m.bitLength();while(w>this.n);var M=w<this.n?-1:m.ucmp(this.p);return M===0?(m.words[0]=0,m.length=1):M>0?m.isub(this.p):m.strip!==void 0?m.strip():m._strip(),m},"ireduce"),z.prototype.split=i(function(l,m){l.iushrn(this.n,0,m)},"split"),z.prototype.imulK=i(function(l){return l.imul(this.k)},"imulK");function V(){z.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(V,"K256"),n(V,z),V.prototype.split=i(function(l,m){for(var w=4194303,M=Math.min(l.length,9),A=0;A<M;A++)m.words[A]=l.words[A];if(m.length=M,l.length<=9){l.words[0]=0,l.length=1;return}var S=l.words[9];for(m.words[m.length++]=S&w,A=10;A<l.length;A++){var f=l.words[A]|0;l.words[A-10]=(f&w)<<4|S>>>22,S=f}S>>>=22,l.words[A-10]=S,S===0&&l.length>10?l.length-=10:l.length-=9},"split"),V.prototype.imulK=i(function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var m=0,w=0;w<l.length;w++){var M=l.words[w]|0;m+=M*977,l.words[w]=m&67108863,m=M*64+(m/67108864|0)}return l.words[l.length-1]===0&&(l.length--,l.words[l.length-1]===0&&l.length--),l},"imulK");function Z(){z.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(Z,"P224"),n(Z,z);function ee(){z.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(ee,"P192"),n(ee,z);function $(){z.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i($,"P25519"),n($,z),$.prototype.imulK=i(function(l){for(var m=0,w=0;w<l.length;w++){var M=(l.words[w]|0)*19+m,A=M&67108863;M>>>=26,l.words[w]=A,m=M}return m!==0&&(l.words[l.length++]=m),l},"imulK"),s._prime=i(function(l){if(P[l])return P[l];var m;if(l==="k256")m=new V;else if(l==="p224")m=new Z;else if(l==="p192")m=new ee;else if(l==="p25519")m=new $;else throw new Error("Unknown prime "+l);return P[l]=m,m},"prime");function F(g){if(typeof g=="string"){var l=s._prime(g);this.m=l.p,this.prime=l}else a(g.gtn(1),"modulus must be greater than 1"),this.m=g,this.prime=null}i(F,"Red"),F.prototype._verify1=i(function(l){a(l.negative===0,"red works only with positives"),a(l.red,"red works only with red numbers")},"_verify1"),F.prototype._verify2=i(function(l,m){a((l.negative|m.negative)===0,"red works only with positives"),a(l.red&&l.red===m.red,"red works only with red numbers")},"_verify2"),F.prototype.imod=i(function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):(c(l,l.umod(this.m)._forceRed(this)),l)},"imod"),F.prototype.neg=i(function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},"neg"),F.prototype.add=i(function(l,m){this._verify2(l,m);var w=l.add(m);return w.cmp(this.m)>=0&&w.isub(this.m),w._forceRed(this)},"add"),F.prototype.iadd=i(function(l,m){this._verify2(l,m);var w=l.iadd(m);return w.cmp(this.m)>=0&&w.isub(this.m),w},"iadd"),F.prototype.sub=i(function(l,m){this._verify2(l,m);var w=l.sub(m);return w.cmpn(0)<0&&w.iadd(this.m),w._forceRed(this)},"sub"),F.prototype.isub=i(function(l,m){this._verify2(l,m);var w=l.isub(m);return w.cmpn(0)<0&&w.iadd(this.m),w},"isub"),F.prototype.shl=i(function(l,m){return this._verify1(l),this.imod(l.ushln(m))},"shl"),F.prototype.imul=i(function(l,m){return this._verify2(l,m),this.imod(l.imul(m))},"imul"),F.prototype.mul=i(function(l,m){return this._verify2(l,m),this.imod(l.mul(m))},"mul"),F.prototype.isqr=i(function(l){return this.imul(l,l.clone())},"isqr"),F.prototype.sqr=i(function(l){return this.mul(l,l)},"sqr"),F.prototype.sqrt=i(function(l){if(l.isZero())return l.clone();var m=this.m.andln(3);if(a(m%2===1),m===3){var w=this.m.add(new s(1)).iushrn(2);return this.pow(l,w)}for(var M=this.m.subn(1),A=0;!M.isZero()&&M.andln(1)===0;)A++,M.iushrn(1);a(!M.isZero());var S=new s(1).toRed(this),f=S.redNeg(),_=this.m.subn(1).iushrn(1),E=this.m.bitLength();for(E=new s(2*E*E).toRed(this);this.pow(E,_).cmp(f)!==0;)E.redIAdd(f);for(var I=this.pow(E,M),D=this.pow(l,M.addn(1).iushrn(1)),L=this.pow(l,M),U=A;L.cmp(S)!==0;){for(var B=L,G=0;B.cmp(S)!==0;G++)B=B.redSqr();a(G<U);var H=this.pow(I,new s(1).iushln(U-G-1));D=D.redMul(H),I=H.redSqr(),L=L.redMul(I),U=G}return D},"sqrt"),F.prototype.invm=i(function(l){var m=l._invmp(this.m);return m.negative!==0?(m.negative=0,this.imod(m).redNeg()):this.imod(m)},"invm"),F.prototype.pow=i(function(l,m){if(m.isZero())return new s(1).toRed(this);if(m.cmpn(1)===0)return l.clone();var w=4,M=new Array(1<<w);M[0]=new s(1).toRed(this),M[1]=l;for(var A=2;A<M.length;A++)M[A]=this.mul(M[A-1],l);var S=M[0],f=0,_=0,E=m.bitLength()%26;for(E===0&&(E=26),A=m.length-1;A>=0;A--){for(var I=m.words[A],D=E-1;D>=0;D--){var L=I>>D&1;if(S!==M[0]&&(S=this.sqr(S)),L===0&&f===0){_=0;continue}f<<=1,f|=L,_++,!(_!==w&&(A!==0||D!==0))&&(S=this.mul(S,M[f]),_=0,f=0)}E=26}return S},"pow"),F.prototype.convertTo=i(function(l){var m=l.umod(this.m);return m===l?m.clone():m},"convertTo"),F.prototype.convertFrom=i(function(l){var m=l.clone();return m.red=null,m},"convertFrom"),s.mont=i(function(l){return new u(l)},"mont");function u(g){F.call(this,g),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(u,"Mont"),n(u,F),u.prototype.convertTo=i(function(l){return this.imod(l.ushln(this.shift))},"convertTo"),u.prototype.convertFrom=i(function(l){var m=this.imod(l.mul(this.rinv));return m.red=null,m},"convertFrom"),u.prototype.imul=i(function(l,m){if(l.isZero()||m.isZero())return l.words[0]=0,l.length=1,l;var w=l.imul(m),M=w.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=w.isub(M).iushrn(this.shift),S=A;return A.cmp(this.m)>=0?S=A.isub(this.m):A.cmpn(0)<0&&(S=A.iadd(this.m)),S._forceRed(this)},"imul"),u.prototype.mul=i(function(l,m){if(l.isZero()||m.isZero())return new s(0)._forceRed(this);var w=l.mul(m),M=w.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=w.isub(M).iushrn(this.shift),S=A;return A.cmp(this.m)>=0?S=A.isub(this.m):A.cmpn(0)<0&&(S=A.iadd(this.m)),S._forceRed(this)},"mul"),u.prototype.invm=i(function(l){var m=this.imod(l._invmp(this.m).mul(this.r2));return m._forceRed(this)},"invm")})(e,vD)})(ku)),ku.exports}i(U7,"requireBn");var oi={},M0={},E0={},D6;function bD(){return D6||(D6=1,(function(e){var t=al(),r=Lt(),a=e;a.define=i(function(o,h){return new n(o,h)},"define");function n(s,o){this.name=s,this.body=o,this.decoders={},this.encoders={}}i(n,"Entity"),n.prototype._createNamed=i(function(o){var h;try{h=ji.runInThisContext("(function "+this.name+`(entity) {
  this._initNamed(entity);
})`)}catch{h=i(function(v){this._initNamed(v)},"named")}return r(h,o),h.prototype._initNamed=i(function(v){o.call(this,v)},"initnamed"),new h(this)},"createNamed"),n.prototype._getDecoder=i(function(o){return o=o||"der",this.decoders.hasOwnProperty(o)||(this.decoders[o]=this._createNamed(t.decoders[o])),this.decoders[o]},"_getDecoder"),n.prototype.decode=i(function(o,h,p){return this._getDecoder(h).decode(o,p)},"decode"),n.prototype._getEncoder=i(function(o){return o=o||"der",this.encoders.hasOwnProperty(o)||(this.encoders[o]=this._createNamed(t.encoders[o])),this.encoders[o]},"_getEncoder"),n.prototype.encode=i(function(o,h,p){return this._getEncoder(h).encode(o,p)},"encode")})(E0)),E0}i(bD,"requireApi");var k0={},A0={},L6;function yD(){if(L6)return A0;L6=1;var e=Lt();function t(a){this._reporterState={obj:null,path:[],options:a||{},errors:[]}}i(t,"Reporter"),A0.Reporter=t,t.prototype.isError=i(function(n){return n instanceof r},"isError"),t.prototype.save=i(function(){var n=this._reporterState;return{obj:n.obj,pathLen:n.path.length}},"save"),t.prototype.restore=i(function(n){var s=this._reporterState;s.obj=n.obj,s.path=s.path.slice(0,n.pathLen)},"restore"),t.prototype.enterKey=i(function(n){return this._reporterState.path.push(n)},"enterKey"),t.prototype.exitKey=i(function(n){var s=this._reporterState;s.path=s.path.slice(0,n-1)},"exitKey"),t.prototype.leaveKey=i(function(n,s,o){var h=this._reporterState;this.exitKey(n),h.obj!==null&&(h.obj[s]=o)},"leaveKey"),t.prototype.path=i(function(){return this._reporterState.path.join("/")},"path"),t.prototype.enterObject=i(function(){var n=this._reporterState,s=n.obj;return n.obj={},s},"enterObject"),t.prototype.leaveObject=i(function(n){var s=this._reporterState,o=s.obj;return s.obj=n,o},"leaveObject"),t.prototype.error=i(function(n){var s,o=this._reporterState,h=n instanceof r;if(h?s=n:s=new r(o.path.map(function(p){return"["+JSON.stringify(p)+"]"}).join(""),n.message||n,n.stack),!o.options.partial)throw s;return h||o.errors.push(s),s},"error"),t.prototype.wrapResult=i(function(n){var s=this._reporterState;return s.options.partial?{result:this.isError(n)?null:n,errors:s.errors}:n},"wrapResult");function r(a,n){this.path=a,this.rethrow(n)}return i(r,"ReporterError"),e(r,Error),r.prototype.rethrow=i(function(n){if(this.message=n+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,r),!this.stack)try{throw new Error(this.message)}catch(s){this.stack=s.stack}return this},"rethrow"),A0}i(yD,"requireReporter");var Ul={},B6;function z6(){if(B6)return Ul;B6=1;var e=Lt(),t=po().Reporter,r=Vn().Buffer;function a(s,o){if(t.call(this,o),!r.isBuffer(s)){this.error("Input not Buffer");return}this.base=s,this.offset=0,this.length=s.length}i(a,"DecoderBuffer"),e(a,t),Ul.DecoderBuffer=a,a.prototype.save=i(function(){return{offset:this.offset,reporter:t.prototype.save.call(this)}},"save"),a.prototype.restore=i(function(o){var h=new a(this.base);return h.offset=o.offset,h.length=this.offset,this.offset=o.offset,t.prototype.restore.call(this,o.reporter),h},"restore"),a.prototype.isEmpty=i(function(){return this.offset===this.length},"isEmpty"),a.prototype.readUInt8=i(function(o){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(o||"DecoderBuffer overrun")},"readUInt8"),a.prototype.skip=i(function(o,h){if(!(this.offset+o<=this.length))return this.error(h||"DecoderBuffer overrun");var p=new a(this.base);return p._reporterState=this._reporterState,p.offset=this.offset,p.length=this.offset+o,this.offset+=o,p},"skip"),a.prototype.raw=i(function(o){return this.base.slice(o?o.offset:this.offset,this.length)},"raw");function n(s,o){if(Array.isArray(s))this.length=0,this.value=s.map(function(h){return h instanceof n||(h=new n(h,o)),this.length+=h.length,h},this);else if(typeof s=="number"){if(!(0<=s&&s<=255))return o.error("non-byte EncoderBuffer value");this.value=s,this.length=1}else if(typeof s=="string")this.value=s,this.length=r.byteLength(s);else if(r.isBuffer(s))this.value=s,this.length=s.length;else return o.error("Unsupported type: "+typeof s)}return i(n,"EncoderBuffer"),Ul.EncoderBuffer=n,n.prototype.join=i(function(o,h){return o||(o=new r(this.length)),h||(h=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(p){p.join(o,h),h+=p.length}):(typeof this.value=="number"?o[h]=this.value:typeof this.value=="string"?o.write(this.value,h):r.isBuffer(this.value)&&this.value.copy(o,h),h+=this.length)),o},"join"),Ul}i(z6,"requireBuffer");var j0,U6;function wD(){if(U6)return j0;U6=1;var e=po().Reporter,t=po().EncoderBuffer,r=po().DecoderBuffer,a=ci(),n=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],s=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(n),o=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function h(v,c){var d={};this._baseState=d,d.enc=v,d.parent=c||null,d.children=null,d.tag=null,d.args=null,d.reverseArgs=null,d.choice=null,d.optional=!1,d.any=!1,d.obj=!1,d.use=null,d.useDecoder=null,d.key=null,d.default=null,d.explicit=null,d.implicit=null,d.contains=null,d.parent||(d.children=[],this._wrap())}i(h,"Node"),j0=h;var p=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];return h.prototype.clone=i(function(){var c=this._baseState,d={};p.forEach(function(b){d[b]=c[b]});var y=new this.constructor(d.parent);return y._baseState=d,y},"clone"),h.prototype._wrap=i(function(){var c=this._baseState;s.forEach(function(d){this[d]=i(function(){var b=new this.constructor(this);return c.children.push(b),b[d].apply(b,arguments)},"_wrappedMethod")},this)},"wrap"),h.prototype._init=i(function(c){var d=this._baseState;a(d.parent===null),c.call(this),d.children=d.children.filter(function(y){return y._baseState.parent===this},this),a.equal(d.children.length,1,"Root node can have only one child")},"init"),h.prototype._useArgs=i(function(c){var d=this._baseState,y=c.filter(function(b){return b instanceof this.constructor},this);c=c.filter(function(b){return!(b instanceof this.constructor)},this),y.length!==0&&(a(d.children===null),d.children=y,y.forEach(function(b){b._baseState.parent=this},this)),c.length!==0&&(a(d.args===null),d.args=c,d.reverseArgs=c.map(function(b){if(typeof b!="object"||b.constructor!==Object)return b;var x={};return Object.keys(b).forEach(function(k){k==(k|0)&&(k|=0);var N=b[k];x[N]=k}),x}))},"useArgs"),o.forEach(function(v){h.prototype[v]=i(function(){var d=this._baseState;throw new Error(v+" not implemented for encoding: "+d.enc)},"_overrided")}),n.forEach(function(v){h.prototype[v]=i(function(){var d=this._baseState,y=Array.prototype.slice.call(arguments);return a(d.tag===null),d.tag=v,this._useArgs(y),this},"_tagMethod")}),h.prototype.use=i(function(c){a(c);var d=this._baseState;return a(d.use===null),d.use=c,this},"use"),h.prototype.optional=i(function(){var c=this._baseState;return c.optional=!0,this},"optional"),h.prototype.def=i(function(c){var d=this._baseState;return a(d.default===null),d.default=c,d.optional=!0,this},"def"),h.prototype.explicit=i(function(c){var d=this._baseState;return a(d.explicit===null&&d.implicit===null),d.explicit=c,this},"explicit"),h.prototype.implicit=i(function(c){var d=this._baseState;return a(d.explicit===null&&d.implicit===null),d.implicit=c,this},"implicit"),h.prototype.obj=i(function(){var c=this._baseState,d=Array.prototype.slice.call(arguments);return c.obj=!0,d.length!==0&&this._useArgs(d),this},"obj"),h.prototype.key=i(function(c){var d=this._baseState;return a(d.key===null),d.key=c,this},"key"),h.prototype.any=i(function(){var c=this._baseState;return c.any=!0,this},"any"),h.prototype.choice=i(function(c){var d=this._baseState;return a(d.choice===null),d.choice=c,this._useArgs(Object.keys(c).map(function(y){return c[y]})),this},"choice"),h.prototype.contains=i(function(c){var d=this._baseState;return a(d.use===null),d.contains=c,this},"contains"),h.prototype._decode=i(function(c,d){var y=this._baseState;if(y.parent===null)return c.wrapResult(y.children[0]._decode(c,d));var b=y.default,x=!0,k=null;if(y.key!==null&&(k=c.enterKey(y.key)),y.optional){var N=null;if(y.explicit!==null?N=y.explicit:y.implicit!==null?N=y.implicit:y.tag!==null&&(N=y.tag),N===null&&!y.any){var C=c.save();try{y.choice===null?this._decodeGeneric(y.tag,c,d):this._decodeChoice(c,d),x=!0}catch{x=!1}c.restore(C)}else if(x=this._peekTag(c,N,y.any),c.isError(x))return x}var R;if(y.obj&&x&&(R=c.enterObject()),x){if(y.explicit!==null){var O=this._decodeTag(c,y.explicit);if(c.isError(O))return O;c=O}var T=c.offset;if(y.use===null&&y.choice===null){if(y.any)var C=c.save();var P=this._decodeTag(c,y.implicit!==null?y.implicit:y.tag,y.any);if(c.isError(P))return P;y.any?b=c.raw(C):c=P}if(d&&d.track&&y.tag!==null&&d.track(c.path(),T,c.length,"tagged"),d&&d.track&&y.tag!==null&&d.track(c.path(),c.offset,c.length,"content"),y.any?b=b:y.choice===null?b=this._decodeGeneric(y.tag,c,d):b=this._decodeChoice(c,d),c.isError(b))return b;if(!y.any&&y.choice===null&&y.children!==null&&y.children.forEach(i(function(Z){Z._decode(c,d)},"decodeChildren")),y.contains&&(y.tag==="octstr"||y.tag==="bitstr")){var z=new r(b);b=this._getUse(y.contains,c._reporterState.obj)._decode(z,d)}}return y.obj&&x&&(b=c.leaveObject(R)),y.key!==null&&(b!==null||x===!0)?c.leaveKey(k,y.key,b):k!==null&&c.exitKey(k),b},"decode"),h.prototype._decodeGeneric=i(function(c,d,y){var b=this._baseState;return c==="seq"||c==="set"?null:c==="seqof"||c==="setof"?this._decodeList(d,c,b.args[0],y):/str$/.test(c)?this._decodeStr(d,c,y):c==="objid"&&b.args?this._decodeObjid(d,b.args[0],b.args[1],y):c==="objid"?this._decodeObjid(d,null,null,y):c==="gentime"||c==="utctime"?this._decodeTime(d,c,y):c==="null_"?this._decodeNull(d,y):c==="bool"?this._decodeBool(d,y):c==="objDesc"?this._decodeStr(d,c,y):c==="int"||c==="enum"?this._decodeInt(d,b.args&&b.args[0],y):b.use!==null?this._getUse(b.use,d._reporterState.obj)._decode(d,y):d.error("unknown tag: "+c)},"decodeGeneric"),h.prototype._getUse=i(function(c,d){var y=this._baseState;return y.useDecoder=this._use(c,d),a(y.useDecoder._baseState.parent===null),y.useDecoder=y.useDecoder._baseState.children[0],y.implicit!==y.useDecoder._baseState.implicit&&(y.useDecoder=y.useDecoder.clone(),y.useDecoder._baseState.implicit=y.implicit),y.useDecoder},"_getUse"),h.prototype._decodeChoice=i(function(c,d){var y=this._baseState,b=null,x=!1;return Object.keys(y.choice).some(function(k){var N=c.save(),C=y.choice[k];try{var R=C._decode(c,d);if(c.isError(R))return!1;b={type:k,value:R},x=!0}catch{return c.restore(N),!1}return!0},this),x?b:c.error("Choice not matched")},"decodeChoice"),h.prototype._createEncoderBuffer=i(function(c){return new t(c,this.reporter)},"createEncoderBuffer"),h.prototype._encode=i(function(c,d,y){var b=this._baseState;if(!(b.default!==null&&b.default===c)){var x=this._encodeValue(c,d,y);if(x!==void 0&&!this._skipDefault(x,d,y))return x}},"encode"),h.prototype._encodeValue=i(function(c,d,y){var b=this._baseState;if(b.parent===null)return b.children[0]._encode(c,d||new e);var C=null;if(this.reporter=d,b.optional&&c===void 0)if(b.default!==null)c=b.default;else return;var x=null,k=!1;if(b.any)C=this._createEncoderBuffer(c);else if(b.choice)C=this._encodeChoice(c,d);else if(b.contains)x=this._getUse(b.contains,y)._encode(c,d),k=!0;else if(b.children)x=b.children.map(function(T){if(T._baseState.tag==="null_")return T._encode(null,d,c);if(T._baseState.key===null)return d.error("Child should have a key");var P=d.enterKey(T._baseState.key);if(typeof c!="object")return d.error("Child expected, but input is not object");var z=T._encode(c[T._baseState.key],d,c);return d.leaveKey(P),z},this).filter(function(T){return T}),x=this._createEncoderBuffer(x);else if(b.tag==="seqof"||b.tag==="setof"){if(!(b.args&&b.args.length===1))return d.error("Too many args for : "+b.tag);if(!Array.isArray(c))return d.error("seqof/setof, but data is not Array");var N=this.clone();N._baseState.implicit=null,x=this._createEncoderBuffer(c.map(function(T){var P=this._baseState;return this._getUse(P.args[0],c)._encode(T,d)},N))}else b.use!==null?C=this._getUse(b.use,y)._encode(c,d):(x=this._encodePrimitive(b.tag,c),k=!0);var C;if(!b.any&&b.choice===null){var R=b.implicit!==null?b.implicit:b.tag,O=b.implicit===null?"universal":"context";R===null?b.use===null&&d.error("Tag could be omitted only for .use()"):b.use===null&&(C=this._encodeComposite(R,k,O,x))}return b.explicit!==null&&(C=this._encodeComposite(b.explicit,!1,"context",C)),C},"encode"),h.prototype._encodeChoice=i(function(c,d){var y=this._baseState,b=y.choice[c.type];return b||a(!1,c.type+" not found in "+JSON.stringify(Object.keys(y.choice))),b._encode(c.value,d)},"encodeChoice"),h.prototype._encodePrimitive=i(function(c,d){var y=this._baseState;if(/str$/.test(c))return this._encodeStr(d,c);if(c==="objid"&&y.args)return this._encodeObjid(d,y.reverseArgs[0],y.args[1]);if(c==="objid")return this._encodeObjid(d,null,null);if(c==="gentime"||c==="utctime")return this._encodeTime(d,c);if(c==="null_")return this._encodeNull();if(c==="int"||c==="enum")return this._encodeInt(d,y.args&&y.reverseArgs[0]);if(c==="bool")return this._encodeBool(d);if(c==="objDesc")return this._encodeStr(d,c);throw new Error("Unsupported tag: "+c)},"encodePrimitive"),h.prototype._isNumstr=i(function(c){return/^[0-9 ]*$/.test(c)},"isNumstr"),h.prototype._isPrintstr=i(function(c){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(c)},"isPrintstr"),j0}i(wD,"requireNode");var F6;function po(){return F6||(F6=1,(function(e){var t=e;t.Reporter=yD().Reporter,t.DecoderBuffer=z6().DecoderBuffer,t.EncoderBuffer=z6().EncoderBuffer,t.Node=wD()})(k0)),k0}i(po,"requireBase");var N0={},I0={},$6;function xD(){return $6||($6=1,(function(e){var t=F7();e.tagClass={0:"universal",1:"application",2:"context",3:"private"},e.tagClassByName=t._reverse(e.tagClass),e.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},e.tagByName=t._reverse(e.tag)})(I0)),I0}i(xD,"requireDer$2");var G6;function F7(){return G6||(G6=1,(function(e){var t=e;t._reverse=i(function(a){var n={};return Object.keys(a).forEach(function(s){(s|0)==s&&(s=s|0);var o=a[s];n[o]=s}),n},"reverse"),t.der=xD()})(N0)),N0}i(F7,"requireConstants$1");var C0={},R0,V6;function $7(){if(V6)return R0;V6=1;var e=Lt(),t=al(),r=t.base,a=t.bignum,n=t.constants.der;function s(v){this.enc="der",this.name=v.name,this.entity=v,this.tree=new o,this.tree._init(v.body)}i(s,"DERDecoder"),R0=s,s.prototype.decode=i(function(c,d){return c instanceof r.DecoderBuffer||(c=new r.DecoderBuffer(c,d)),this.tree._decode(c,d)},"decode");function o(v){r.Node.call(this,"der",v)}i(o,"DERNode"),e(o,r.Node),o.prototype._peekTag=i(function(c,d,y){if(c.isEmpty())return!1;var b=c.save(),x=h(c,'Failed to peek tag: "'+d+'"');return c.isError(x)?x:(c.restore(b),x.tag===d||x.tagStr===d||x.tagStr+"of"===d||y)},"peekTag"),o.prototype._decodeTag=i(function(c,d,y){var b=h(c,'Failed to decode tag of "'+d+'"');if(c.isError(b))return b;var x=p(c,b.primitive,'Failed to get length of "'+d+'"');if(c.isError(x))return x;if(!y&&b.tag!==d&&b.tagStr!==d&&b.tagStr+"of"!==d)return c.error('Failed to match tag: "'+d+'"');if(b.primitive||x!==null)return c.skip(x,'Failed to match body of: "'+d+'"');var k=c.save(),N=this._skipUntilEnd(c,'Failed to skip indefinite length body: "'+this.tag+'"');return c.isError(N)?N:(x=c.offset-k.offset,c.restore(k),c.skip(x,'Failed to match body of: "'+d+'"'))},"decodeTag"),o.prototype._skipUntilEnd=i(function(c,d){for(;;){var y=h(c,d);if(c.isError(y))return y;var b=p(c,y.primitive,d);if(c.isError(b))return b;var x;if(y.primitive||b!==null?x=c.skip(b):x=this._skipUntilEnd(c,d),c.isError(x))return x;if(y.tagStr==="end")break}},"skipUntilEnd"),o.prototype._decodeList=i(function(c,d,y,b){for(var x=[];!c.isEmpty();){var k=this._peekTag(c,"end");if(c.isError(k))return k;var N=y.decode(c,"der",b);if(c.isError(N)&&k)break;x.push(N)}return x},"decodeList"),o.prototype._decodeStr=i(function(c,d){if(d==="bitstr"){var y=c.readUInt8();return c.isError(y)?y:{unused:y,data:c.raw()}}else if(d==="bmpstr"){var b=c.raw();if(b.length%2===1)return c.error("Decoding of string type: bmpstr length mismatch");for(var x="",k=0;k<b.length/2;k++)x+=String.fromCharCode(b.readUInt16BE(k*2));return x}else if(d==="numstr"){var N=c.raw().toString("ascii");return this._isNumstr(N)?N:c.error("Decoding of string type: numstr unsupported characters")}else{if(d==="octstr")return c.raw();if(d==="objDesc")return c.raw();if(d==="printstr"){var C=c.raw().toString("ascii");return this._isPrintstr(C)?C:c.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(d)?c.raw().toString():c.error("Decoding of string type: "+d+" unsupported")}},"decodeStr"),o.prototype._decodeObjid=i(function(c,d,y){for(var b,x=[],k=0;!c.isEmpty();){var N=c.readUInt8();k<<=7,k|=N&127,(N&128)===0&&(x.push(k),k=0)}N&128&&x.push(k);var C=x[0]/40|0,R=x[0]%40;if(y?b=x:b=[C,R].concat(x.slice(1)),d){var O=d[b.join(" ")];O===void 0&&(O=d[b.join(".")]),O!==void 0&&(b=O)}return b},"decodeObjid"),o.prototype._decodeTime=i(function(c,d){var y=c.raw().toString();if(d==="gentime")var b=y.slice(0,4)|0,x=y.slice(4,6)|0,k=y.slice(6,8)|0,N=y.slice(8,10)|0,C=y.slice(10,12)|0,R=y.slice(12,14)|0;else if(d==="utctime"){var b=y.slice(0,2)|0,x=y.slice(2,4)|0,k=y.slice(4,6)|0,N=y.slice(6,8)|0,C=y.slice(8,10)|0,R=y.slice(10,12)|0;b<70?b=2e3+b:b=1900+b}else return c.error("Decoding "+d+" time is not supported yet");return Date.UTC(b,x-1,k,N,C,R,0)},"decodeTime"),o.prototype._decodeNull=i(function(c){return null},"decodeNull"),o.prototype._decodeBool=i(function(c){var d=c.readUInt8();return c.isError(d)?d:d!==0},"decodeBool"),o.prototype._decodeInt=i(function(c,d){var y=c.raw(),b=new a(y);return d&&(b=d[b.toString(10)]||b),b},"decodeInt"),o.prototype._use=i(function(c,d){return typeof c=="function"&&(c=c(d)),c._getDecoder("der").tree},"use");function h(v,c){var d=v.readUInt8(c);if(v.isError(d))return d;var y=n.tagClass[d>>6],b=(d&32)===0;if((d&31)===31){var x=d;for(d=0;(x&128)===128;){if(x=v.readUInt8(c),v.isError(x))return x;d<<=7,d|=x&127}}else d&=31;var k=n.tag[d];return{cls:y,primitive:b,tag:d,tagStr:k}}i(h,"derDecodeTag");function p(v,c,d){var y=v.readUInt8(d);if(v.isError(y))return y;if(!c&&y===128)return null;if((y&128)===0)return y;var b=y&127;if(b>4)return v.error("length octect is too long");y=0;for(var x=0;x<b;x++){y<<=8;var k=v.readUInt8(d);if(v.isError(k))return k;y|=k}return y}return i(p,"derDecodeLen"),R0}i($7,"requireDer$1");var O0,Z6;function _D(){if(Z6)return O0;Z6=1;var e=Lt(),t=Vn().Buffer,r=$7();function a(n){r.call(this,n),this.enc="pem"}return i(a,"PEMDecoder"),e(a,r),O0=a,a.prototype.decode=i(function(s,o){for(var h=s.toString().split(/[\r\n]+/g),p=o.label.toUpperCase(),v=/^-----(BEGIN|END) ([^-]+)-----$/,c=-1,d=-1,y=0;y<h.length;y++){var b=h[y].match(v);if(b!==null&&b[2]===p)if(c===-1){if(b[1]!=="BEGIN")break;c=y}else{if(b[1]!=="END")break;d=y;break}}if(c===-1||d===-1)throw new Error("PEM section not found for: "+p);var x=h.slice(c+1,d).join("");x.replace(/[^a-z0-9\+\/=]+/gi,"");var k=new t(x,"base64");return r.prototype.decode.call(this,k,o)},"decode"),O0}i(_D,"requirePem$1");var H6;function SD(){return H6||(H6=1,(function(e){var t=e;t.der=$7(),t.pem=_D()})(C0)),C0}i(SD,"requireDecoders");var T0={},P0,J6;function G7(){if(J6)return P0;J6=1;var e=Lt(),t=Vn().Buffer,r=al(),a=r.base,n=r.constants.der;function s(v){this.enc="der",this.name=v.name,this.entity=v,this.tree=new o,this.tree._init(v.body)}i(s,"DEREncoder"),P0=s,s.prototype.encode=i(function(c,d){return this.tree._encode(c,d).join()},"encode");function o(v){a.Node.call(this,"der",v)}i(o,"DERNode"),e(o,a.Node),o.prototype._encodeComposite=i(function(c,d,y,b){var x=p(c,d,y,this.reporter);if(b.length<128){var C=new t(2);return C[0]=x,C[1]=b.length,this._createEncoderBuffer([C,b])}for(var k=1,N=b.length;N>=256;N>>=8)k++;var C=new t(2+k);C[0]=x,C[1]=128|k;for(var N=1+k,R=b.length;R>0;N--,R>>=8)C[N]=R&255;return this._createEncoderBuffer([C,b])},"encodeComposite"),o.prototype._encodeStr=i(function(c,d){if(d==="bitstr")return this._createEncoderBuffer([c.unused|0,c.data]);if(d==="bmpstr"){for(var y=new t(c.length*2),b=0;b<c.length;b++)y.writeUInt16BE(c.charCodeAt(b),b*2);return this._createEncoderBuffer(y)}else return d==="numstr"?this._isNumstr(c)?this._createEncoderBuffer(c):this.reporter.error("Encoding of string type: numstr supports only digits and space"):d==="printstr"?this._isPrintstr(c)?this._createEncoderBuffer(c):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(d)?this._createEncoderBuffer(c):d==="objDesc"?this._createEncoderBuffer(c):this.reporter.error("Encoding of string type: "+d+" unsupported")},"encodeStr"),o.prototype._encodeObjid=i(function(c,d,y){if(typeof c=="string"){if(!d)return this.reporter.error("string objid given, but no values map found");if(!d.hasOwnProperty(c))return this.reporter.error("objid not found in values map");c=d[c].split(/[\s\.]+/g);for(var b=0;b<c.length;b++)c[b]|=0}else if(Array.isArray(c)){c=c.slice();for(var b=0;b<c.length;b++)c[b]|=0}if(!Array.isArray(c))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(c));if(!y){if(c[1]>=40)return this.reporter.error("Second objid identifier OOB");c.splice(0,2,c[0]*40+c[1])}for(var x=0,b=0;b<c.length;b++){var k=c[b];for(x++;k>=128;k>>=7)x++}for(var N=new t(x),C=N.length-1,b=c.length-1;b>=0;b--){var k=c[b];for(N[C--]=k&127;(k>>=7)>0;)N[C--]=128|k&127}return this._createEncoderBuffer(N)},"encodeObjid");function h(v){return v<10?"0"+v:v}i(h,"two"),o.prototype._encodeTime=i(function(c,d){var y,b=new Date(c);return d==="gentime"?y=[h(b.getFullYear()),h(b.getUTCMonth()+1),h(b.getUTCDate()),h(b.getUTCHours()),h(b.getUTCMinutes()),h(b.getUTCSeconds()),"Z"].join(""):d==="utctime"?y=[h(b.getFullYear()%100),h(b.getUTCMonth()+1),h(b.getUTCDate()),h(b.getUTCHours()),h(b.getUTCMinutes()),h(b.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+d+" time is not supported yet"),this._encodeStr(y,"octstr")},"encodeTime"),o.prototype._encodeNull=i(function(){return this._createEncoderBuffer("")},"encodeNull"),o.prototype._encodeInt=i(function(c,d){if(typeof c=="string"){if(!d)return this.reporter.error("String int or enum given, but no values map");if(!d.hasOwnProperty(c))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(c));c=d[c]}if(typeof c!="number"&&!t.isBuffer(c)){var y=c.toArray();!c.sign&&y[0]&128&&y.unshift(0),c=new t(y)}if(t.isBuffer(c)){var b=c.length;c.length===0&&b++;var k=new t(b);return c.copy(k),c.length===0&&(k[0]=0),this._createEncoderBuffer(k)}if(c<128)return this._createEncoderBuffer(c);if(c<256)return this._createEncoderBuffer([0,c]);for(var b=1,x=c;x>=256;x>>=8)b++;for(var k=new Array(b),x=k.length-1;x>=0;x--)k[x]=c&255,c>>=8;return k[0]&128&&k.unshift(0),this._createEncoderBuffer(new t(k))},"encodeInt"),o.prototype._encodeBool=i(function(c){return this._createEncoderBuffer(c?255:0)},"encodeBool"),o.prototype._use=i(function(c,d){return typeof c=="function"&&(c=c(d)),c._getEncoder("der").tree},"use"),o.prototype._skipDefault=i(function(c,d,y){var b=this._baseState,x;if(b.default===null)return!1;var k=c.join();if(b.defaultBuffer===void 0&&(b.defaultBuffer=this._encodeValue(b.default,d,y).join()),k.length!==b.defaultBuffer.length)return!1;for(x=0;x<k.length;x++)if(k[x]!==b.defaultBuffer[x])return!1;return!0},"skipDefault");function p(v,c,d,y){var b;if(v==="seqof"?v="seq":v==="setof"&&(v="set"),n.tagByName.hasOwnProperty(v))b=n.tagByName[v];else if(typeof v=="number"&&(v|0)===v)b=v;else return y.error("Unknown tag: "+v);return b>=31?y.error("Multi-octet tag encoding unsupported"):(c||(b|=32),b|=n.tagClassByName[d||"universal"]<<6,b)}return i(p,"encodeTag"),P0}i(G7,"requireDer");var D0,q6;function MD(){if(q6)return D0;q6=1;var e=Lt(),t=G7();function r(a){t.call(this,a),this.enc="pem"}return i(r,"PEMEncoder"),e(r,t),D0=r,r.prototype.encode=i(function(n,s){for(var o=t.prototype.encode.call(this,n),h=o.toString("base64"),p=["-----BEGIN "+s.label+"-----"],v=0;v<h.length;v+=64)p.push(h.slice(v,v+64));return p.push("-----END "+s.label+"-----"),p.join(`
`)},"encode"),D0}i(MD,"requirePem");var K6;function ED(){return K6||(K6=1,(function(e){var t=e;t.der=G7(),t.pem=MD()})(T0)),T0}i(ED,"requireEncoders");var X6;function al(){return X6||(X6=1,(function(e){var t=e;t.bignum=Nr(),t.define=bD().define,t.base=po(),t.constants=F7(),t.decoders=SD(),t.encoders=ED()})(M0)),M0}i(al,"requireAsn1$1");var L0,W6;function kD(){if(W6)return L0;W6=1;var e=al(),t=e.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),r=e.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),a=e.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),n=e.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())}),s=e.define("RelativeDistinguishedName",function(){this.setof(r)}),o=e.define("RDNSequence",function(){this.seqof(s)}),h=e.define("Name",function(){this.choice({rdnSequence:this.use(o)})}),p=e.define("Validity",function(){this.seq().obj(this.key("notBefore").use(t),this.key("notAfter").use(t))}),v=e.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),c=e.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(a),this.key("issuer").use(h),this.key("validity").use(p),this.key("subject").use(h),this.key("subjectPublicKeyInfo").use(n),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(v).optional())}),d=e.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(c),this.key("signatureAlgorithm").use(a),this.key("signatureValue").bitstr())});return L0=d,L0}i(kD,"requireCertificate");var Q6;function AD(){if(Q6)return oi;Q6=1;var e=al();oi.certificate=kD();var t=e.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});oi.RSAPrivateKey=t;var r=e.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});oi.RSAPublicKey=r;var a=e.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),n=e.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())});oi.PublicKey=n;var s=e.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(a),this.key("subjectPrivateKey").octstr())});oi.PrivateKey=s;var o=e.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});oi.EncryptedPrivateKey=o;var h=e.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});oi.DSAPrivateKey=h,oi.DSAparam=e.define("DSAparam",function(){this.int()});var p=e.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),v=e.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(p),this.key("publicKey").optional().explicit(1).bitstr())});return oi.ECPrivateKey=v,oi.signature=e.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())}),oi}i(AD,"requireAsn1");const jD={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"};var B0,Y6;function ND(){if(Y6)return B0;Y6=1;var e=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,t=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,r=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,a=$f(),n=Ev(),s=jt().Buffer;return B0=i(function(o,h){var p=o.toString(),v=p.match(e),c;if(v){var y="aes"+v[1],b=s.from(v[2],"hex"),x=s.from(v[3].replace(/[\r\n]/g,""),"base64"),k=a(h,b.slice(0,8),parseInt(v[1],10)).key,N=[],C=n.createDecipheriv(y,k,b);N.push(C.update(x)),N.push(C.final()),c=s.concat(N)}else{var d=p.match(r);c=s.from(d[2].replace(/[\r\n]/g,""),"base64")}var R=p.match(t)[1];return{tag:R,data:c}},"fixProc"),B0}i(ND,"requireFixProc");var z0,ex;function Vf(){if(ex)return z0;ex=1;var e=AD(),t=jD,r=ND(),a=Ev(),n=k7().pbkdf2Sync,s=jt().Buffer;function o(p,v){var c=p.algorithm.decrypt.kde.kdeparams.salt,d=parseInt(p.algorithm.decrypt.kde.kdeparams.iters.toString(),10),y=t[p.algorithm.decrypt.cipher.algo.join(".")],b=p.algorithm.decrypt.cipher.iv,x=p.subjectPrivateKey,k=parseInt(y.split("-")[1],10)/8,N=n(v,c,d,k,"sha1"),C=a.createDecipheriv(y,N,b),R=[];return R.push(C.update(x)),R.push(C.final()),s.concat(R)}i(o,"decrypt");function h(p){var v;typeof p=="object"&&!s.isBuffer(p)&&(v=p.passphrase,p=p.key),typeof p=="string"&&(p=s.from(p));var c=r(p,v),d=c.tag,y=c.data,b,x;switch(d){case"CERTIFICATE":x=e.certificate.decode(y,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(x||(x=e.PublicKey.decode(y,"der")),b=x.algorithm.algorithm.join("."),b){case"1.2.840.113549.1.1.1":return e.RSAPublicKey.decode(x.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return x.subjectPrivateKey=x.subjectPublicKey,{type:"ec",data:x};case"1.2.840.10040.4.1":return x.algorithm.params.pub_key=e.DSAparam.decode(x.subjectPublicKey.data,"der"),{type:"dsa",data:x.algorithm.params};default:throw new Error("unknown key id "+b)}case"ENCRYPTED PRIVATE KEY":y=e.EncryptedPrivateKey.decode(y,"der"),y=o(y,v);case"PRIVATE KEY":switch(x=e.PrivateKey.decode(y,"der"),b=x.algorithm.algorithm.join("."),b){case"1.2.840.113549.1.1.1":return e.RSAPrivateKey.decode(x.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:x.algorithm.curve,privateKey:e.ECPrivateKey.decode(x.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return x.algorithm.params.priv_key=e.DSAparam.decode(x.subjectPrivateKey,"der"),{type:"dsa",params:x.algorithm.params};default:throw new Error("unknown key id "+b)}case"RSA PUBLIC KEY":return e.RSAPublicKey.decode(y,"der");case"RSA PRIVATE KEY":return e.RSAPrivateKey.decode(y,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:e.DSAPrivateKey.decode(y,"der")};case"EC PRIVATE KEY":return y=e.ECPrivateKey.decode(y,"der"),{curve:y.parameters.value,privateKey:y.privateKey};default:throw new Error("unknown key type "+d)}}return i(h,"parseKeys"),h.signature=e.signature,z0=h,z0}i(Vf,"requireParseAsn1");const V7={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"};var tx;function ID(){if(tx)return Cs.exports;tx=1;var e=jt().Buffer,t=w7(),r=Av(),a=Iv().ec,n=U7(),s=Vf(),o=V7,h=1;function p(C,R,O,T,P){var z=s(R);if(z.curve){if(T!=="ecdsa"&&T!=="ecdsa/rsa")throw new Error("wrong private key type");return v(C,z)}else if(z.type==="dsa"){if(T!=="dsa")throw new Error("wrong private key type");return c(C,z,O)}if(T!=="rsa"&&T!=="ecdsa/rsa")throw new Error("wrong private key type");if(R.padding!==void 0&&R.padding!==h)throw new Error("illegal or unsupported padding mode");C=e.concat([P,C]);for(var V=z.modulus.byteLength(),Z=[0,1];C.length+Z.length+1<V;)Z.push(255);Z.push(0);for(var ee=-1;++ee<C.length;)Z.push(C[ee]);var $=r(Z,z);return $}i(p,"sign$1");function v(C,R){var O=o[R.curve.join(".")];if(!O)throw new Error("unknown curve "+R.curve.join("."));var T=new a(O),P=T.keyFromPrivate(R.privateKey),z=P.sign(C);return e.from(z.toDER())}i(v,"ecSign");function c(C,R,O){for(var T=R.params.priv_key,P=R.params.p,z=R.params.q,V=R.params.g,Z=new n(0),ee,$=b(C,z).mod(z),F=!1,u=y(T,z,C,O);F===!1;)ee=k(z,u,O),Z=N(V,ee,P,z),F=ee.invm(z).imul($.add(T.mul(Z))).mod(z),F.cmpn(0)===0&&(F=!1,Z=new n(0));return d(Z,F)}i(c,"dsaSign");function d(C,R){C=C.toArray(),R=R.toArray(),C[0]&128&&(C=[0].concat(C)),R[0]&128&&(R=[0].concat(R));var O=C.length+R.length+4,T=[48,O,2,C.length];return T=T.concat(C,[2,R.length],R),e.from(T)}i(d,"toDER");function y(C,R,O,T){if(C=e.from(C.toArray()),C.length<R.byteLength()){var P=e.alloc(R.byteLength()-C.length);C=e.concat([P,C])}var z=O.length,V=x(O,R),Z=e.alloc(z);Z.fill(1);var ee=e.alloc(z);return ee=t(T,ee).update(Z).update(e.from([0])).update(C).update(V).digest(),Z=t(T,ee).update(Z).digest(),ee=t(T,ee).update(Z).update(e.from([1])).update(C).update(V).digest(),Z=t(T,ee).update(Z).digest(),{k:ee,v:Z}}i(y,"getKey");function b(C,R){var O=new n(C),T=(C.length<<3)-R.bitLength();return T>0&&O.ishrn(T),O}i(b,"bits2int");function x(C,R){C=b(C,R),C=C.mod(R);var O=e.from(C.toArray());if(O.length<R.byteLength()){var T=e.alloc(R.byteLength()-O.length);O=e.concat([T,O])}return O}i(x,"bits2octets");function k(C,R,O){var T,P;do{for(T=e.alloc(0);T.length*8<C.bitLength();)R.v=t(O,R.k).update(R.v).digest(),T=e.concat([T,R.v]);P=b(T,C),R.k=t(O,R.k).update(R.v).update(e.from([0])).digest(),R.v=t(O,R.k).update(R.v).digest()}while(P.cmp(C)!==-1);return P}i(k,"makeKey");function N(C,R,O,T){return C.toRed(n.mont(O)).redPow(R).fromRed().mod(T)}return i(N,"makeR"),Cs.exports=p,Cs.exports.getKey=y,Cs.exports.makeKey=k,Cs.exports}i(ID,"requireSign");var U0,rx;function CD(){if(rx)return U0;rx=1;var e=jt().Buffer,t=U7(),r=Iv().ec,a=Vf(),n=V7;function s(v,c,d,y,b){var x=a(d);if(x.type==="ec"){if(y!=="ecdsa"&&y!=="ecdsa/rsa")throw new Error("wrong public key type");return o(v,c,x)}else if(x.type==="dsa"){if(y!=="dsa")throw new Error("wrong public key type");return h(v,c,x)}if(y!=="rsa"&&y!=="ecdsa/rsa")throw new Error("wrong public key type");c=e.concat([b,c]);for(var k=x.modulus.byteLength(),N=[1],C=0;c.length+N.length+2<k;)N.push(255),C+=1;N.push(0);for(var R=-1;++R<c.length;)N.push(c[R]);N=e.from(N);var O=t.mont(x.modulus);v=new t(v).toRed(O),v=v.redPow(new t(x.publicExponent)),v=e.from(v.fromRed().toArray());var T=C<8?1:0;for(k=Math.min(v.length,N.length),v.length!==N.length&&(T=1),R=-1;++R<k;)T|=v[R]^N[R];return T===0}i(s,"verify");function o(v,c,d){var y=n[d.data.algorithm.curve.join(".")];if(!y)throw new Error("unknown curve "+d.data.algorithm.curve.join("."));var b=new r(y),x=d.data.subjectPrivateKey.data;return b.verify(c,v,x)}i(o,"ecVerify");function h(v,c,d){var y=d.data.p,b=d.data.q,x=d.data.g,k=d.data.pub_key,N=a.signature.decode(v,"der"),C=N.s,R=N.r;p(C,b),p(R,b);var O=t.mont(y),T=C.invm(b),P=x.toRed(O).redPow(new t(c).mul(T).mod(b)).fromRed().mul(k.toRed(O).redPow(R.mul(T).mod(b)).fromRed()).mod(y).mod(b);return P.cmp(R)===0}i(h,"dsaVerify");function p(v,c){if(v.cmpn(0)<=0)throw new Error("invalid sig");if(v.cmp(c)>=0)throw new Error("invalid sig")}return i(p,"checkValue"),U0=s,U0}i(CD,"requireVerify");var F0,ix;function RD(){if(ix)return F0;ix=1;var e=jt().Buffer,t=rl(),r=g7(),a=Lt(),n=ID(),s=CD(),o=x7;Object.keys(o).forEach(function(d){o[d].id=e.from(o[d].id,"hex"),o[d.toLowerCase()]=o[d]});function h(d){r.Writable.call(this);var y=o[d];if(!y)throw new Error("Unknown message digest");this._hashType=y.hash,this._hash=t(y.hash),this._tag=y.id,this._signType=y.sign}i(h,"Sign"),a(h,r.Writable),h.prototype._write=i(function(y,b,x){this._hash.update(y),x()},"_write"),h.prototype.update=i(function(y,b){return this._hash.update(typeof y=="string"?e.from(y,b):y),this},"update"),h.prototype.sign=i(function(y,b){this.end();var x=this._hash.digest(),k=n(x,y,this._hashType,this._signType,this._tag);return b?k.toString(b):k},"signMethod");function p(d){r.Writable.call(this);var y=o[d];if(!y)throw new Error("Unknown message digest");this._hash=t(y.hash),this._tag=y.id,this._signType=y.sign}i(p,"Verify"),a(p,r.Writable),p.prototype._write=i(function(y,b,x){this._hash.update(y),x()},"_write"),p.prototype.update=i(function(y,b){return this._hash.update(typeof y=="string"?e.from(y,b):y),this},"update"),p.prototype.verify=i(function(y,b,x){var k=typeof b=="string"?e.from(b,x):b;this.end();var N=this._hash.digest();return s(k,N,y,this._signType,this._tag)},"verifyMethod");function v(d){return new h(d)}i(v,"createSign");function c(d){return new p(d)}return i(c,"createVerify"),F0={Sign:v,Verify:c,createSign:v,createVerify:c},F0}i(RD,"requireBrowser$3");var $0,nx;function OD(){if(nx)return $0;nx=1;var e=Iv(),t=Nr();$0=i(function(o){return new a(o)},"createECDH");var r={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};r.p224=r.secp224r1,r.p256=r.secp256r1=r.prime256v1,r.p192=r.secp192r1=r.prime192v1,r.p384=r.secp384r1,r.p521=r.secp521r1;function a(s){this.curveType=r[s],this.curveType||(this.curveType={name:s}),this.curve=new e.ec(this.curveType.name),this.keys=void 0}i(a,"ECDH"),a.prototype.generateKeys=function(s,o){return this.keys=this.curve.genKeyPair(),this.getPublicKey(s,o)},a.prototype.computeSecret=function(s,o,h){o=o||"utf8",Buffer.isBuffer(s)||(s=new Buffer(s,o));var p=this.curve.keyFromPublic(s).getPublic(),v=p.mul(this.keys.getPrivate()).getX();return n(v,h,this.curveType.byteLength)},a.prototype.getPublicKey=function(s,o){var h=this.keys.getPublic(o==="compressed",!0);return o==="hybrid"&&(h[h.length-1]%2?h[0]=7:h[0]=6),n(h,s)},a.prototype.getPrivateKey=function(s){return n(this.keys.getPrivate(),s)},a.prototype.setPublicKey=function(s,o){return o=o||"utf8",Buffer.isBuffer(s)||(s=new Buffer(s,o)),this.keys._importPublic(s),this},a.prototype.setPrivateKey=function(s,o){o=o||"utf8",Buffer.isBuffer(s)||(s=new Buffer(s,o));var h=new t(s);return h=h.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(h),this};function n(s,o,h){Array.isArray(s)||(s=s.toArray());var p=new Buffer(s);if(h&&p.length<h){var v=new Buffer(h-p.length);v.fill(0),p=Buffer.concat([v,p])}return o?p.toString(o):p}return i(n,"formatReturnValue"),$0}i(OD,"requireBrowser$2");var G0={},V0,ax;function Z7(){if(ax)return V0;ax=1;var e=rl(),t=jt().Buffer;V0=i(function(a,n){for(var s=t.alloc(0),o=0,h;s.length<n;)h=r(o++),s=t.concat([s,e("sha1").update(a).update(h).digest()]);return s.slice(0,n)},"mgf");function r(a){var n=t.allocUnsafe(4);return n.writeUInt32BE(a,0),n}return i(r,"i2ops"),V0}i(Z7,"requireMgf");var Z0,sx;function H7(){return sx||(sx=1,Z0=i(function(t,r){for(var a=t.length,n=-1;++n<a;)t[n]^=r[n];return t},"xor")),Z0}i(H7,"requireXor");var H0,ox;function J7(){if(ox)return H0;ox=1;var e=Nr(),t=jt().Buffer;function r(a,n){return t.from(a.toRed(e.mont(n.modulus)).redPow(new e(n.publicExponent)).fromRed().toArray())}return i(r,"withPublic"),H0=r,H0}i(J7,"requireWithPublic");var J0,lx;function TD(){if(lx)return J0;lx=1;var e=Vf(),t=ys(),r=rl(),a=Z7(),n=H7(),s=Nr(),o=J7(),h=Av(),p=jt().Buffer;J0=i(function(b,x,k){var N;b.padding?N=b.padding:k?N=1:N=4;var C=e(b),R;if(N===4)R=v(C,x);else if(N===1)R=c(C,x,k);else if(N===3){if(R=new s(x),R.cmp(C.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return k?h(R,C):o(R,C)},"publicEncrypt");function v(y,b){var x=y.modulus.byteLength(),k=b.length,N=r("sha1").update(p.alloc(0)).digest(),C=N.length,R=2*C;if(k>x-R-2)throw new Error("message too long");var O=p.alloc(x-k-R-2),T=x-C-1,P=t(C),z=n(p.concat([N,O,p.alloc(1,1),b],T),a(P,T)),V=n(P,a(z,C));return new s(p.concat([p.alloc(1),V,z],x))}i(v,"oaep");function c(y,b,x){var k=b.length,N=y.modulus.byteLength();if(k>N-11)throw new Error("message too long");var C;return x?C=p.alloc(N-k-3,255):C=d(N-k-3),new s(p.concat([p.from([0,x?1:2]),C,p.alloc(1),b],N))}i(c,"pkcs1");function d(y){for(var b=p.allocUnsafe(y),x=0,k=t(y*2),N=0,C;x<y;)N===k.length&&(k=t(y*2),N=0),C=k[N++],C&&(b[x++]=C);return b}return i(d,"nonZero"),J0}i(TD,"requirePublicEncrypt");var q0,ux;function PD(){if(ux)return q0;ux=1;var e=Vf(),t=Z7(),r=H7(),a=Nr(),n=Av(),s=rl(),o=J7(),h=jt().Buffer;q0=i(function(y,b,x){var k;y.padding?k=y.padding:x?k=1:k=4;var N=e(y),C=N.modulus.byteLength();if(b.length>C||new a(b).cmp(N.modulus)>=0)throw new Error("decryption error");var R;x?R=o(new a(b),N):R=n(b,N);var O=h.alloc(C-R.length);if(R=h.concat([O,R],C),k===4)return p(N,R);if(k===1)return v(N,R,x);if(k===3)return R;throw new Error("unknown padding")},"privateDecrypt");function p(d,y){var b=d.modulus.byteLength(),x=s("sha1").update(h.alloc(0)).digest(),k=x.length;if(y[0]!==0)throw new Error("decryption error");var N=y.slice(1,k+1),C=y.slice(k+1),R=r(N,t(C,k)),O=r(C,t(R,b-k-1));if(c(x,O.slice(0,k)))throw new Error("decryption error");for(var T=k;O[T]===0;)T++;if(O[T++]!==1)throw new Error("decryption error");return O.slice(T)}i(p,"oaep");function v(d,y,b){for(var x=y.slice(0,2),k=2,N=0;y[k++]!==0;)if(k>=y.length){N++;break}var C=y.slice(2,k-1);if((x.toString("hex")!=="0002"&&!b||x.toString("hex")!=="0001"&&b)&&N++,C.length<8&&N++,N)throw new Error("decryption error");return y.slice(k)}i(v,"pkcs1");function c(d,y){d=h.from(d),y=h.from(y);var b=0,x=d.length;d.length!==y.length&&(b++,x=Math.min(d.length,y.length));for(var k=-1;++k<x;)b+=d[k]^y[k];return b}return i(c,"compare"),q0}i(PD,"requirePrivateDecrypt");var fx;function DD(){return fx||(fx=1,(function(e){e.publicEncrypt=TD(),e.privateDecrypt=PD(),e.privateEncrypt=i(function(r,a){return e.publicEncrypt(r,a,!0)},"privateEncrypt"),e.publicDecrypt=i(function(r,a){return e.privateDecrypt(r,a,!0)},"publicDecrypt")})(G0)),G0}i(DD,"requireBrowser$1");var Fl={},cx;function LD(){if(cx)return Fl;cx=1;function e(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}i(e,"oldBrowser");var t=jt();ys();var r=t.Buffer,a=t.kMaxLength,n=globalThis.crypto||globalThis.msCrypto,s=Math.pow(2,32)-1;function o(d,y){if(typeof d!="number"||d!==d)throw new TypeError("offset must be a number");if(d>s||d<0)throw new TypeError("offset must be a uint32");if(d>a||d>y)throw new RangeError("offset out of range")}i(o,"assertOffset");function h(d,y,b){if(typeof d!="number"||d!==d)throw new TypeError("size must be a number");if(d>s||d<0)throw new TypeError("size must be a uint32");if(d+y>b||d>a)throw new RangeError("buffer too small")}i(h,"assertSize"),n&&n.getRandomValues?(qg.randomFill=p,qg.randomFillSync=c):(Fl.randomFill=e,Fl.randomFillSync=e);function p(d,y,b,x){if(!r.isBuffer(d)&&!(d instanceof globalThis.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof y=="function")x=y,y=0,b=d.length;else if(typeof b=="function")x=b,b=d.length-y;else if(typeof x!="function")throw new TypeError('"cb" argument must be a function');return o(y,d.length),h(b,y,d.length),v(d,y,b,x)}i(p,"randomFill");function v(d,y,b,x){{var k=d.buffer,N=new Uint8Array(k,y,b);if(n.getRandomValues(N),x){process.nextTick(function(){x(null,d)});return}return d}}i(v,"actualFill");function c(d,y,b){if(typeof y>"u"&&(y=0),!r.isBuffer(d)&&!(d instanceof globalThis.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return o(y,d.length),b===void 0&&(b=d.length-y),h(b,y,d.length),v(d,y,b)}return i(c,"randomFillSync"),Fl}i(LD,"requireBrowser");var dx;function BD(){if(dx)return It;dx=1,It.randomBytes=It.rng=It.pseudoRandomBytes=It.prng=ys(),It.createHash=It.Hash=rl(),It.createHmac=It.Hmac=w7();var e=bP(),t=Object.keys(e),r=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(t);It.getHashes=function(){return r};var a=k7();It.pbkdf2=a.pbkdf2,It.pbkdf2Sync=a.pbkdf2Sync;var n=LP();It.Cipher=n.Cipher,It.createCipher=n.createCipher,It.Cipheriv=n.Cipheriv,It.createCipheriv=n.createCipheriv,It.Decipher=n.Decipher,It.createDecipher=n.createDecipher,It.Decipheriv=n.Decipheriv,It.createDecipheriv=n.createDecipheriv,It.getCiphers=n.getCiphers,It.listCiphers=n.listCiphers;var s=KP();It.DiffieHellmanGroup=s.DiffieHellmanGroup,It.createDiffieHellmanGroup=s.createDiffieHellmanGroup,It.getDiffieHellman=s.getDiffieHellman,It.createDiffieHellman=s.createDiffieHellman,It.DiffieHellman=s.DiffieHellman;var o=RD();It.createSign=o.createSign,It.Sign=o.Sign,It.createVerify=o.createVerify,It.Verify=o.Verify,It.createECDH=OD();var h=DD();It.publicEncrypt=h.publicEncrypt,It.privateEncrypt=h.privateEncrypt,It.publicDecrypt=h.publicDecrypt,It.privateDecrypt=h.privateDecrypt;var p=LD();return It.randomFill=p.randomFill,It.randomFillSync=p.randomFillSync,It.createCredentials=function(){throw new Error(`sorry, createCredentials is not implemented yet
we accept pull requests
https://github.com/browserify/crypto-browserify`)},It.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6},It}i(BD,"requireCryptoBrowserify");var zD=BD();const hx=Jo(zD);var gn={},UD=Object.create,{getPrototypeOf:FD,defineProperty:Eo,getOwnPropertyNames:q7,getOwnPropertyDescriptor:$D}=Object,K7=Object.prototype.hasOwnProperty,ti=i((e,t,r)=>{r=e!=null?UD(FD(e)):{};let a=t||!e||!e.__esModule?Eo(r,"default",{value:e,enumerable:!0}):r;for(let n of q7(e))K7.call(a,n)||Eo(a,n,{get:i(()=>e[n],"get"),enumerable:!0});return a},"Uq"),px=new WeakMap,$t=i(e=>{var t=px.get(e),r;return t||(t=Eo({},"__esModule",{value:!0}),(e&&typeof e=="object"||typeof e=="function")&&q7(e).map(a=>!K7.call(t,a)&&Eo(t,a,{get:i(()=>e[a],"get"),enumerable:!(r=$D(e,a))||r.enumerable})),px.set(e,t),t)},"w6"),rt=i((e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),"u$"),$r=i((e,t)=>{for(var r in t)Eo(e,r,{get:t[r],enumerable:!0,configurable:!0,set:i(a=>t[r]=()=>a,"set")})},"uq"),sl=i((e,t)=>()=>(e&&(t=e(e=0)),t),"o4"),K0=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:i((t,r)=>(typeof require<"u"?require:t)[r],"get")}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')}),GD=rt((e,t)=>{function r(a,n){typeof n=="boolean"&&(n={forever:n}),this._originalTimeouts=JSON.parse(JSON.stringify(a)),this._timeouts=a,this._options=n||{},this._maxRetryTime=n&&n.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}i(r,"_8"),t.exports=r,r.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},r.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},r.prototype.retry=function(a){if(this._timeout&&clearTimeout(this._timeout),!a)return!1;var n=new Date().getTime();if(a&&n-this._operationStart>=this._maxRetryTime)return this._errors.push(a),this._errors.unshift(Error("RetryOperation timeout occurred")),!1;this._errors.push(a);var s=this._timeouts.shift();if(s===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),s=this._cachedTimeouts.slice(-1);else return!1;var o=this;return this._timer=setTimeout(function(){o._attempts++,o._operationTimeoutCb&&(o._timeout=setTimeout(function(){o._operationTimeoutCb(o._attempts)},o._operationTimeout),o._options.unref&&o._timeout.unref()),o._fn(o._attempts)},s),this._options.unref&&this._timer.unref(),!0},r.prototype.attempt=function(a,n){this._fn=a,n&&(n.timeout&&(this._operationTimeout=n.timeout),n.cb&&(this._operationTimeoutCb=n.cb));var s=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){s._operationTimeoutCb()},s._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)},r.prototype.try=function(a){console.log("Using RetryOperation.try() is deprecated"),this.attempt(a)},r.prototype.start=function(a){console.log("Using RetryOperation.start() is deprecated"),this.attempt(a)},r.prototype.start=r.prototype.try,r.prototype.errors=function(){return this._errors},r.prototype.attempts=function(){return this._attempts},r.prototype.mainError=function(){if(this._errors.length===0)return null;for(var a={},n=null,s=0,o=0;o<this._errors.length;o++){var h=this._errors[o],p=h.message,v=(a[p]||0)+1;a[p]=v,v>=s&&(n=h,s=v)}return n}}),VD=rt(e=>{var t=GD();e.operation=function(r){var a=e.timeouts(r);return new t(a,{forever:r&&(r.forever||r.retries===1/0),unref:r&&r.unref,maxRetryTime:r&&r.maxRetryTime})},e.timeouts=function(r){if(r instanceof Array)return[].concat(r);var a={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var n in r)a[n]=r[n];if(a.minTimeout>a.maxTimeout)throw Error("minTimeout is greater than maxTimeout");for(var s=[],o=0;o<a.retries;o++)s.push(this.createTimeout(o,a));return r&&r.forever&&!s.length&&s.push(this.createTimeout(o,a)),s.sort(function(h,p){return h-p}),s},e.createTimeout=function(r,a){var n=a.randomize?Math.random()+1:1,s=Math.round(n*Math.max(a.minTimeout,1)*Math.pow(a.factor,r));return s=Math.min(s,a.maxTimeout),s},e.wrap=function(r,a,n){if(a instanceof Array&&(n=a,a=null),!n){n=[];for(var s in r)typeof r[s]=="function"&&n.push(s)}for(var o=0;o<n.length;o++){var h=n[o],p=r[h];r[h]=function(v){var c=e.operation(a),d=Array.prototype.slice.call(arguments,1),y=d.pop();d.push(function(b){c.retry(b)||(b&&(arguments[0]=c.mainError()),y.apply(this,arguments))}),c.attempt(function(){v.apply(r,d)})}.bind(r,p),r[h].options=a}}}),Cv=rt((e,t)=>{var r=VD(),a=["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"];class n extends Error{static{i(this,"YO")}constructor(v){super(),v instanceof Error?(this.originalError=v,{message:v}=v):(this.originalError=Error(v),this.originalError.stack=this.stack),this.name="AbortError",this.message=v}}var s=i((p,v,c)=>{let d=c.retries-(v-1);return p.attemptNumber=v,p.retriesLeft=d,p},"m0"),o=i(p=>a.includes(p),"d0"),h=i((p,v)=>new Promise((c,d)=>{v={onFailedAttempt:i(()=>{},"onFailedAttempt"),retries:10,...v};let y=r.operation(v);y.attempt(async b=>{try{c(await p(b))}catch(x){if(!(x instanceof Error)){d(TypeError(`Non-error was thrown: "${x}". You should only throw errors.`));return}if(x instanceof n)y.stop(),d(x.originalError);else if(x instanceof TypeError&&!o(x.message))y.stop(),d(x);else{s(x,b,v);try{await v.onFailedAttempt(x)}catch(k){d(k);return}y.retry(x)||d(y.mainError())}}})}),"QH");t.exports=h,t.exports.default=h,t.exports.AbortError=n}),ZD=rt((e,t)=>{var r=Object.prototype.hasOwnProperty,a="~";function n(){}i(n,"KP"),Object.create&&(n.prototype=Object.create(null),!new n().__proto__&&(a=!1));function s(v,c,d){this.fn=v,this.context=c,this.once=d||!1}i(s,"SN");function o(v,c,d,y,b){if(typeof d!="function")throw TypeError("The listener must be a function");var x=new s(d,y||v,b),k=a?a+c:c;return v._events[k]?v._events[k].fn?v._events[k]=[v._events[k],x]:v._events[k].push(x):(v._events[k]=x,v._eventsCount++),v}i(o,"eJ");function h(v,c){--v._eventsCount===0?v._events=new n:delete v._events[c]}i(h,"v1");function p(){this._events=new n,this._eventsCount=0}i(p,"Nq"),p.prototype.eventNames=function(){var v=[],c,d;if(this._eventsCount===0)return v;for(d in c=this._events)r.call(c,d)&&v.push(a?d.slice(1):d);return Object.getOwnPropertySymbols?v.concat(Object.getOwnPropertySymbols(c)):v},p.prototype.listeners=function(v){var c=a?a+v:v,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var y=0,b=d.length,x=Array(b);y<b;y++)x[y]=d[y].fn;return x},p.prototype.listenerCount=function(v){var c=a?a+v:v,d=this._events[c];return d?d.fn?1:d.length:0},p.prototype.emit=function(v,c,d,y,b,x){var k=a?a+v:v;if(!this._events[k])return!1;var N=this._events[k],C=arguments.length,R,O;if(N.fn){switch(N.once&&this.removeListener(v,N.fn,void 0,!0),C){case 1:return N.fn.call(N.context),!0;case 2:return N.fn.call(N.context,c),!0;case 3:return N.fn.call(N.context,c,d),!0;case 4:return N.fn.call(N.context,c,d,y),!0;case 5:return N.fn.call(N.context,c,d,y,b),!0;case 6:return N.fn.call(N.context,c,d,y,b,x),!0}for(O=1,R=Array(C-1);O<C;O++)R[O-1]=arguments[O];N.fn.apply(N.context,R)}else{var T=N.length,P;for(O=0;O<T;O++)switch(N[O].once&&this.removeListener(v,N[O].fn,void 0,!0),C){case 1:N[O].fn.call(N[O].context);break;case 2:N[O].fn.call(N[O].context,c);break;case 3:N[O].fn.call(N[O].context,c,d);break;case 4:N[O].fn.call(N[O].context,c,d,y);break;default:if(!R)for(P=1,R=Array(C-1);P<C;P++)R[P-1]=arguments[P];N[O].fn.apply(N[O].context,R)}}return!0},p.prototype.on=function(v,c,d){return o(this,v,c,d,!1)},p.prototype.once=function(v,c,d){return o(this,v,c,d,!0)},p.prototype.removeListener=function(v,c,d,y){var b=a?a+v:v;if(!this._events[b])return this;if(!c)return h(this,b),this;var x=this._events[b];if(x.fn)x.fn===c&&(!y||x.once)&&(!d||x.context===d)&&h(this,b);else{for(var k=0,N=[],C=x.length;k<C;k++)(x[k].fn!==c||y&&!x[k].once||d&&x[k].context!==d)&&N.push(x[k]);N.length?this._events[b]=N.length===1?N[0]:N:h(this,b)}return this},p.prototype.removeAllListeners=function(v){var c;return v?(c=a?a+v:v,this._events[c]&&h(this,c)):(this._events=new n,this._eventsCount=0),this},p.prototype.off=p.prototype.removeListener,p.prototype.addListener=p.prototype.on,p.prefixed=a,p.EventEmitter=p,typeof t<"u"&&(t.exports=p)}),HD=rt((e,t)=>{t.exports=(r,a)=>(a=a||(()=>{}),r.then(n=>new Promise(s=>{s(a())}).then(()=>n),n=>new Promise(s=>{s(a())}).then(()=>{throw n})))}),JD=rt((e,t)=>{var r=HD();class a extends Error{static{i(this,"IO")}constructor(o){super(o),this.name="TimeoutError"}}var n=i((s,o,h)=>new Promise((p,v)=>{if(typeof o!="number"||o<0)throw TypeError("Expected `milliseconds` to be a positive number");if(o===1/0){p(s);return}let c=setTimeout(()=>{if(typeof h=="function"){try{p(h())}catch(b){v(b)}return}let d=typeof h=="string"?h:`Promise timed out after ${o} milliseconds`,y=h instanceof Error?h:new a(d);typeof s.cancel=="function"&&s.cancel(),v(y)},o);r(s.then(p,v),()=>{clearTimeout(c)})}),"KT");t.exports=n,t.exports.default=n,t.exports.TimeoutError=a}),qD=rt(e=>{Object.defineProperty(e,"__esModule",{value:!0});function t(r,a,n){let s=0,o=r.length;for(;o>0;){let h=o/2|0,p=s+h;n(r[p],a)<=0?(s=++p,o-=h+1):o=h}return s}i(t,"NN"),e.default=t}),KD=rt(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=qD();class r{static{i(this,"OT")}constructor(){this._queue=[]}enqueue(n,s){s=Object.assign({priority:0},s);let o={priority:s.priority,run:n};if(this.size&&this._queue[this.size-1].priority>=s.priority){this._queue.push(o);return}let h=t.default(this._queue,o,(p,v)=>v.priority-p.priority);this._queue.splice(h,0,o)}dequeue(){let n=this._queue.shift();return n?.run}filter(n){return this._queue.filter(s=>s.priority===n.priority).map(s=>s.run)}get size(){return this._queue.length}}e.default=r}),Rv=rt(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=ZD(),r=JD(),a=KD(),n=i(()=>{},"W1"),s=new r.TimeoutError;class o extends t{static{i(this,"WT")}constructor(p){var v,c,d,y;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=n,this._resolveIdle=n,p=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:a.default},p),!(typeof p.intervalCap=="number"&&p.intervalCap>=1))throw TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(c=(v=p.intervalCap)===null||v===void 0?void 0:v.toString())!==null&&c!==void 0?c:""}\` (${typeof p.intervalCap})`);if(p.interval===void 0||!(Number.isFinite(p.interval)&&p.interval>=0))throw TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(y=(d=p.interval)===null||d===void 0?void 0:d.toString())!==null&&y!==void 0?y:""}\` (${typeof p.interval})`);this._carryoverConcurrencyCount=p.carryoverConcurrencyCount,this._isIntervalIgnored=p.intervalCap===1/0||p.interval===0,this._intervalCap=p.intervalCap,this._interval=p.interval,this._queue=new p.queueClass,this._queueClass=p.queueClass,this.concurrency=p.concurrency,this._timeout=p.timeout,this._throwOnTimeout=p.throwOnTimeout===!0,this._isPaused=p.autoStart===!1}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=n,this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=n,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){let p=Date.now();if(this._intervalId===void 0){let v=this._intervalEnd-p;if(v<0)this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;else return this._timeoutId===void 0&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},v)),!0}return!1}_tryToStartAnother(){if(this._queue.size===0)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){let p=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){let v=this._queue.dequeue();return v?(this.emit("active"),v(),p&&this._initializeIntervalIfNeeded(),!0):!1}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||this._intervalId!==void 0||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){this._intervalCount===0&&this._pendingCount===0&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(p){if(!(typeof p=="number"&&p>=1))throw TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${p}\` (${typeof p})`);this._concurrency=p,this._processQueue()}async add(p,v={}){return new Promise((c,d)=>{let y=i(async()=>{this._pendingCount++,this._intervalCount++;try{let b=this._timeout===void 0&&v.timeout===void 0?p():r.default(Promise.resolve(p()),v.timeout===void 0?this._timeout:v.timeout,()=>{(v.throwOnTimeout===void 0?this._throwOnTimeout:v.throwOnTimeout)&&d(s)});c(await b)}catch(b){d(b)}this._next()},"_");this._queue.enqueue(y,v),this._tryToStartAnother(),this.emit("add")})}async addAll(p,v){return Promise.all(p.map(async c=>this.add(c,v)))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size!==0)return new Promise(p=>{let v=this._resolveEmpty;this._resolveEmpty=()=>{v(),p()}})}async onIdle(){if(!(this._pendingCount===0&&this._queue.size===0))return new Promise(p=>{let v=this._resolveIdle;this._resolveIdle=()=>{v(),p()}})}get size(){return this._queue.size}sizeBy(p){return this._queue.filter(p).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(p){this._timeout=p}}e.default=o}),Zf=rt((e,t)=>{var r=Number.MAX_SAFE_INTEGER||9007199254740991,a=["major","premajor","minor","preminor","patch","prepatch","prerelease"];t.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:r,RELEASE_TYPES:a,SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}}),Hf=rt((e,t)=>{var r=typeof process=="object"&&gn&&gn.NODE_DEBUG&&/\bsemver\b/i.test(gn.NODE_DEBUG)?(...a)=>console.error("SEMVER",...a):()=>{};t.exports=r}),ol=rt((e,t)=>{var{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:a,MAX_LENGTH:n}=Zf(),s=Hf();e=t.exports={};var o=e.re=[],h=e.safeRe=[],p=e.src=[],v=e.safeSrc=[],c=e.t={},d=0,y="[a-zA-Z0-9-]",b=[["\\s",1],["\\d",n],[y,a]],x=i(N=>{for(let[C,R]of b)N=N.split(`${C}*`).join(`${C}{0,${R}}`).split(`${C}+`).join(`${C}{1,${R}}`);return N},"iN"),k=i((N,C,R)=>{let O=x(C),T=d++;s(N,T,C),c[N]=T,p[T]=C,v[T]=O,o[T]=new RegExp(C,R?"g":void 0),h[T]=new RegExp(O,R?"g":void 0)},"P6");k("NUMERICIDENTIFIER","0|[1-9]\\d*"),k("NUMERICIDENTIFIERLOOSE","\\d+"),k("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${y}*`),k("MAINVERSION",`(${p[c.NUMERICIDENTIFIER]})\\.(${p[c.NUMERICIDENTIFIER]})\\.(${p[c.NUMERICIDENTIFIER]})`),k("MAINVERSIONLOOSE",`(${p[c.NUMERICIDENTIFIERLOOSE]})\\.(${p[c.NUMERICIDENTIFIERLOOSE]})\\.(${p[c.NUMERICIDENTIFIERLOOSE]})`),k("PRERELEASEIDENTIFIER",`(?:${p[c.NONNUMERICIDENTIFIER]}|${p[c.NUMERICIDENTIFIER]})`),k("PRERELEASEIDENTIFIERLOOSE",`(?:${p[c.NONNUMERICIDENTIFIER]}|${p[c.NUMERICIDENTIFIERLOOSE]})`),k("PRERELEASE",`(?:-(${p[c.PRERELEASEIDENTIFIER]}(?:\\.${p[c.PRERELEASEIDENTIFIER]})*))`),k("PRERELEASELOOSE",`(?:-?(${p[c.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${p[c.PRERELEASEIDENTIFIERLOOSE]})*))`),k("BUILDIDENTIFIER",`${y}+`),k("BUILD",`(?:\\+(${p[c.BUILDIDENTIFIER]}(?:\\.${p[c.BUILDIDENTIFIER]})*))`),k("FULLPLAIN",`v?${p[c.MAINVERSION]}${p[c.PRERELEASE]}?${p[c.BUILD]}?`),k("FULL",`^${p[c.FULLPLAIN]}$`),k("LOOSEPLAIN",`[v=\\s]*${p[c.MAINVERSIONLOOSE]}${p[c.PRERELEASELOOSE]}?${p[c.BUILD]}?`),k("LOOSE",`^${p[c.LOOSEPLAIN]}$`),k("GTLT","((?:<|>)?=?)"),k("XRANGEIDENTIFIERLOOSE",`${p[c.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),k("XRANGEIDENTIFIER",`${p[c.NUMERICIDENTIFIER]}|x|X|\\*`),k("XRANGEPLAIN",`[v=\\s]*(${p[c.XRANGEIDENTIFIER]})(?:\\.(${p[c.XRANGEIDENTIFIER]})(?:\\.(${p[c.XRANGEIDENTIFIER]})(?:${p[c.PRERELEASE]})?${p[c.BUILD]}?)?)?`),k("XRANGEPLAINLOOSE",`[v=\\s]*(${p[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${p[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${p[c.XRANGEIDENTIFIERLOOSE]})(?:${p[c.PRERELEASELOOSE]})?${p[c.BUILD]}?)?)?`),k("XRANGE",`^${p[c.GTLT]}\\s*${p[c.XRANGEPLAIN]}$`),k("XRANGELOOSE",`^${p[c.GTLT]}\\s*${p[c.XRANGEPLAINLOOSE]}$`),k("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),k("COERCE",`${p[c.COERCEPLAIN]}(?:$|[^\\d])`),k("COERCEFULL",p[c.COERCEPLAIN]+`(?:${p[c.PRERELEASE]})?(?:${p[c.BUILD]})?(?:$|[^\\d])`),k("COERCERTL",p[c.COERCE],!0),k("COERCERTLFULL",p[c.COERCEFULL],!0),k("LONETILDE","(?:~>?)"),k("TILDETRIM",`(\\s*)${p[c.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",k("TILDE",`^${p[c.LONETILDE]}${p[c.XRANGEPLAIN]}$`),k("TILDELOOSE",`^${p[c.LONETILDE]}${p[c.XRANGEPLAINLOOSE]}$`),k("LONECARET","(?:\\^)"),k("CARETTRIM",`(\\s*)${p[c.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",k("CARET",`^${p[c.LONECARET]}${p[c.XRANGEPLAIN]}$`),k("CARETLOOSE",`^${p[c.LONECARET]}${p[c.XRANGEPLAINLOOSE]}$`),k("COMPARATORLOOSE",`^${p[c.GTLT]}\\s*(${p[c.LOOSEPLAIN]})$|^$`),k("COMPARATOR",`^${p[c.GTLT]}\\s*(${p[c.FULLPLAIN]})$|^$`),k("COMPARATORTRIM",`(\\s*)${p[c.GTLT]}\\s*(${p[c.LOOSEPLAIN]}|${p[c.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",k("HYPHENRANGE",`^\\s*(${p[c.XRANGEPLAIN]})\\s+-\\s+(${p[c.XRANGEPLAIN]})\\s*$`),k("HYPHENRANGELOOSE",`^\\s*(${p[c.XRANGEPLAINLOOSE]})\\s+-\\s+(${p[c.XRANGEPLAINLOOSE]})\\s*$`),k("STAR","(<|>)?=?\\s*\\*"),k("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),k("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}),Ov=rt((e,t)=>{var r=Object.freeze({loose:!0}),a=Object.freeze({}),n=i(s=>s?typeof s!="object"?r:s:a,"UN");t.exports=n}),X7=rt((e,t)=>{var r=/^[0-9]+$/,a=i((s,o)=>{let h=r.test(s),p=r.test(o);return h&&p&&(s=+s,o=+o),s===o?0:h&&!p?-1:p&&!h?1:s<o?-1:1},"AT"),n=i((s,o)=>a(o,s),"FN");t.exports={compareIdentifiers:a,rcompareIdentifiers:n}}),Pr=rt((e,t)=>{var r=Hf(),{MAX_LENGTH:a,MAX_SAFE_INTEGER:n}=Zf(),{safeRe:s,t:o}=ol(),h=Ov(),{compareIdentifiers:p}=X7();class v{static{i(this,"V8")}constructor(d,y){if(y=h(y),d instanceof v){if(d.loose===!!y.loose&&d.includePrerelease===!!y.includePrerelease)return d;d=d.version}else if(typeof d!="string")throw TypeError(`Invalid version. Must be a string. Got type "${typeof d}".`);if(d.length>a)throw TypeError(`version is longer than ${a} characters`);r("SemVer",d,y),this.options=y,this.loose=!!y.loose,this.includePrerelease=!!y.includePrerelease;let b=d.trim().match(y.loose?s[o.LOOSE]:s[o.FULL]);if(!b)throw TypeError(`Invalid Version: ${d}`);if(this.raw=d,this.major=+b[1],this.minor=+b[2],this.patch=+b[3],this.major>n||this.major<0)throw TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw TypeError("Invalid patch version");b[4]?this.prerelease=b[4].split(".").map(x=>{if(/^[0-9]+$/.test(x)){let k=+x;if(k>=0&&k<n)return k}return x}):this.prerelease=[],this.build=b[5]?b[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(d){if(r("SemVer.compare",this.version,this.options,d),!(d instanceof v)){if(typeof d=="string"&&d===this.version)return 0;d=new v(d,this.options)}return d.version===this.version?0:this.compareMain(d)||this.comparePre(d)}compareMain(d){return d instanceof v||(d=new v(d,this.options)),p(this.major,d.major)||p(this.minor,d.minor)||p(this.patch,d.patch)}comparePre(d){if(d instanceof v||(d=new v(d,this.options)),this.prerelease.length&&!d.prerelease.length)return-1;if(!this.prerelease.length&&d.prerelease.length)return 1;if(!this.prerelease.length&&!d.prerelease.length)return 0;let y=0;do{let b=this.prerelease[y],x=d.prerelease[y];if(r("prerelease compare",y,b,x),b===void 0&&x===void 0)return 0;if(x===void 0)return 1;if(b===void 0)return-1;if(b===x)continue;return p(b,x)}while(++y)}compareBuild(d){d instanceof v||(d=new v(d,this.options));let y=0;do{let b=this.build[y],x=d.build[y];if(r("build compare",y,b,x),b===void 0&&x===void 0)return 0;if(x===void 0)return 1;if(b===void 0)return-1;if(b===x)continue;return p(b,x)}while(++y)}inc(d,y,b){if(d.startsWith("pre")){if(!y&&b===!1)throw Error("invalid increment argument: identifier is empty");if(y){let x=`-${y}`.match(this.options.loose?s[o.PRERELEASELOOSE]:s[o.PRERELEASE]);if(!x||x[1]!==y)throw Error(`invalid identifier: ${y}`)}}switch(d){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",y,b);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",y,b);break;case"prepatch":this.prerelease.length=0,this.inc("patch",y,b),this.inc("pre",y,b);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",y,b),this.inc("pre",y,b);break;case"release":if(this.prerelease.length===0)throw Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let x=Number(b)?1:0;if(this.prerelease.length===0)this.prerelease=[x];else{let k=this.prerelease.length;for(;--k>=0;)typeof this.prerelease[k]=="number"&&(this.prerelease[k]++,k=-2);if(k===-1){if(y===this.prerelease.join(".")&&b===!1)throw Error("invalid increment argument: identifier already exists");this.prerelease.push(x)}}if(y){let k=[y,x];b===!1&&(k=[y]),p(this.prerelease[0],y)===0?isNaN(this.prerelease[1])&&(this.prerelease=k):this.prerelease=k}break}default:throw Error(`invalid increment argument: ${d}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}t.exports=v}),xs=rt((e,t)=>{var r=Pr(),a=i((n,s,o=!1)=>{if(n instanceof r)return n;try{return new r(n,s)}catch(h){if(!o)return null;throw h}},"QN");t.exports=a}),XD=rt((e,t)=>{var r=xs(),a=i((n,s)=>{let o=r(n,s);return o?o.version:null},"sN");t.exports=a}),WD=rt((e,t)=>{var r=xs(),a=i((n,s)=>{let o=r(n.trim().replace(/^[=v]+/,""),s);return o?o.version:null},"qC");t.exports=a}),QD=rt((e,t)=>{var r=Pr(),a=i((n,s,o,h,p)=>{typeof o=="string"&&(p=h,h=o,o=void 0);try{return new r(n instanceof r?n.version:n,o).inc(s,h,p).version}catch{return null}},"KC");t.exports=a}),YD=rt((e,t)=>{var r=xs(),a=i((n,s)=>{let o=r(n,null,!0),h=r(s,null,!0),p=o.compare(h);if(p===0)return null;let v=p>0,c=v?o:h,d=v?h:o,y=!!c.prerelease.length;if(d.prerelease.length&&!y){if(!d.patch&&!d.minor)return"major";if(d.compareMain(c)===0)return d.minor&&!d.patch?"minor":"patch"}let b=y?"pre":"";return o.major!==h.major?b+"major":o.minor!==h.minor?b+"minor":o.patch!==h.patch?b+"patch":"prerelease"},"_C");t.exports=a}),eL=rt((e,t)=>{var r=Pr(),a=i((n,s)=>new r(n,s).major,"jC");t.exports=a}),tL=rt((e,t)=>{var r=Pr(),a=i((n,s)=>new r(n,s).minor,"YC");t.exports=a}),rL=rt((e,t)=>{var r=Pr(),a=i((n,s)=>new r(n,s).patch,"zC");t.exports=a}),iL=rt((e,t)=>{var r=xs(),a=i((n,s)=>{let o=r(n,s);return o&&o.prerelease.length?o.prerelease:null},"HC");t.exports=a}),Ci=rt((e,t)=>{var r=Pr(),a=i((n,s,o)=>new r(n,o).compare(new r(s,o)),"JC");t.exports=a}),nL=rt((e,t)=>{var r=Ci(),a=i((n,s,o)=>r(s,n,o),"wC");t.exports=a}),aL=rt((e,t)=>{var r=Ci(),a=i((n,s)=>r(n,s,!0),"XC");t.exports=a}),Tv=rt((e,t)=>{var r=Pr(),a=i((n,s,o)=>{let h=new r(n,o),p=new r(s,o);return h.compare(p)||h.compareBuild(p)},"fC");t.exports=a}),sL=rt((e,t)=>{var r=Tv(),a=i((n,s)=>n.sort((o,h)=>r(o,h,s)),"AC");t.exports=a}),oL=rt((e,t)=>{var r=Tv(),a=i((n,s)=>n.sort((o,h)=>r(h,o,s)),"VC");t.exports=a}),Jf=rt((e,t)=>{var r=Ci(),a=i((n,s,o)=>r(n,s,o)>0,"MC");t.exports=a}),Pv=rt((e,t)=>{var r=Ci(),a=i((n,s,o)=>r(n,s,o)<0,"CC");t.exports=a}),W7=rt((e,t)=>{var r=Ci(),a=i((n,s,o)=>r(n,s,o)===0,"hC");t.exports=a}),Q7=rt((e,t)=>{var r=Ci(),a=i((n,s,o)=>r(n,s,o)!==0,"IC");t.exports=a}),Dv=rt((e,t)=>{var r=Ci(),a=i((n,s,o)=>r(n,s,o)>=0,"gC");t.exports=a}),Lv=rt((e,t)=>{var r=Ci(),a=i((n,s,o)=>r(n,s,o)<=0,"bC");t.exports=a}),Y7=rt((e,t)=>{var r=W7(),a=Q7(),n=Jf(),s=Dv(),o=Pv(),h=Lv(),p=i((v,c,d,y)=>{switch(c){case"===":return typeof v=="object"&&(v=v.version),typeof d=="object"&&(d=d.version),v===d;case"!==":return typeof v=="object"&&(v=v.version),typeof d=="object"&&(d=d.version),v!==d;case"":case"=":case"==":return r(v,d,y);case"!=":return a(v,d,y);case">":return n(v,d,y);case">=":return s(v,d,y);case"<":return o(v,d,y);case"<=":return h(v,d,y);default:throw TypeError(`Invalid operator: ${c}`)}},"dC");t.exports=p}),lL=rt((e,t)=>{var r=Pr(),a=xs(),{safeRe:n,t:s}=ol(),o=i((h,p)=>{if(h instanceof r)return h;if(typeof h=="number"&&(h=String(h)),typeof h!="string")return null;p=p||{};let v=null;if(!p.rtl)v=h.match(p.includePrerelease?n[s.COERCEFULL]:n[s.COERCE]);else{let k=p.includePrerelease?n[s.COERCERTLFULL]:n[s.COERCERTL],N;for(;(N=k.exec(h))&&(!v||v.index+v[0].length!==h.length);)(!v||N.index+N[0].length!==v.index+v[0].length)&&(v=N),k.lastIndex=N.index+N[1].length+N[2].length;k.lastIndex=-1}if(v===null)return null;let c=v[2],d=v[3]||"0",y=v[4]||"0",b=p.includePrerelease&&v[5]?`-${v[5]}`:"",x=p.includePrerelease&&v[6]?`+${v[6]}`:"";return a(`${c}.${d}.${y}${b}${x}`,p)},"rC");t.exports=o}),uL=rt((e,t)=>{class r{static{i(this,"Ww")}constructor(){this.max=1e3,this.map=new Map}get(n){let s=this.map.get(n);if(s!==void 0)return this.map.delete(n),this.map.set(n,s),s}delete(n){return this.map.delete(n)}set(n,s){if(!this.delete(n)&&s!==void 0){if(this.map.size>=this.max){let o=this.map.keys().next().value;this.delete(o)}this.map.set(n,s)}return this}}t.exports=r}),Ri=rt((e,t)=>{var r=/\s+/g;class a{static{i(this,"OP")}constructor(M,A){if(A=o(A),M instanceof a)return M.loose===!!A.loose&&M.includePrerelease===!!A.includePrerelease?M:new a(M.raw,A);if(M instanceof h)return this.raw=M.value,this.set=[[M]],this.formatted=void 0,this;if(this.options=A,this.loose=!!A.loose,this.includePrerelease=!!A.includePrerelease,this.raw=M.trim().replace(r," "),this.set=this.raw.split("||").map(S=>this.parseRange(S.trim())).filter(S=>S.length),!this.set.length)throw TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let S=this.set[0];if(this.set=this.set.filter(f=>!C(f[0])),this.set.length===0)this.set=[S];else if(this.set.length>1){for(let f of this.set)if(f.length===1&&R(f[0])){this.set=[f];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let M=0;M<this.set.length;M++){M>0&&(this.formatted+="||");let A=this.set[M];for(let S=0;S<A.length;S++)S>0&&(this.formatted+=" "),this.formatted+=A[S].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(M){let A=((this.options.includePrerelease&&k)|(this.options.loose&&N))+":"+M,S=s.get(A);if(S)return S;let f=this.options.loose,_=f?c[d.HYPHENRANGELOOSE]:c[d.HYPHENRANGE];M=M.replace(_,l(this.options.includePrerelease)),p("hyphen replace",M),M=M.replace(c[d.COMPARATORTRIM],y),p("comparator trim",M),M=M.replace(c[d.TILDETRIM],b),p("tilde trim",M),M=M.replace(c[d.CARETTRIM],x),p("caret trim",M);let E=M.split(" ").map(U=>T(U,this.options)).join(" ").split(/\s+/).map(U=>g(U,this.options));f&&(E=E.filter(U=>(p("loose invalid filter",U,this.options),!!U.match(c[d.COMPARATORLOOSE])))),p("range list",E);let I=new Map,D=E.map(U=>new h(U,this.options));for(let U of D){if(C(U))return[U];I.set(U.value,U)}I.size>1&&I.has("")&&I.delete("");let L=[...I.values()];return s.set(A,L),L}intersects(M,A){if(!(M instanceof a))throw TypeError("a Range is required");return this.set.some(S=>O(S,A)&&M.set.some(f=>O(f,A)&&S.every(_=>f.every(E=>_.intersects(E,A)))))}test(M){if(!M)return!1;if(typeof M=="string")try{M=new v(M,this.options)}catch{return!1}for(let A=0;A<this.set.length;A++)if(m(this.set[A],M,this.options))return!0;return!1}}t.exports=a;var n=uL(),s=new n,o=Ov(),h=qf(),p=Hf(),v=Pr(),{safeRe:c,t:d,comparatorTrimReplace:y,tildeTrimReplace:b,caretTrimReplace:x}=ol(),{FLAG_INCLUDE_PRERELEASE:k,FLAG_LOOSE:N}=Zf(),C=i(w=>w.value==="<0.0.0-0","ww"),R=i(w=>w.value==="","sC"),O=i((w,M)=>{let A=!0,S=w.slice(),f=S.pop();for(;A&&S.length;)A=S.every(_=>f.intersects(_,M)),f=S.pop();return A},"Zw"),T=i((w,M)=>(p("comp",w,M),w=Z(w,M),p("caret",w),w=z(w,M),p("tildes",w),w=$(w,M),p("xrange",w),w=u(w,M),p("stars",w),w),"$E"),P=i(w=>!w||w.toLowerCase()==="x"||w==="*","Rq"),z=i((w,M)=>w.trim().split(/\s+/).map(A=>V(A,M)).join(" "),"qE"),V=i((w,M)=>{let A=M.loose?c[d.TILDELOOSE]:c[d.TILDE];return w.replace(A,(S,f,_,E,I)=>{p("tilde",w,S,f,_,E,I);let D;return P(f)?D="":P(_)?D=`>=${f}.0.0 <${+f+1}.0.0-0`:P(E)?D=`>=${f}.${_}.0 <${f}.${+_+1}.0-0`:I?(p("replaceTilde pr",I),D=`>=${f}.${_}.${E}-${I} <${f}.${+_+1}.0-0`):D=`>=${f}.${_}.${E} <${f}.${+_+1}.0-0`,p("tilde return",D),D})},"KE"),Z=i((w,M)=>w.trim().split(/\s+/).map(A=>ee(A,M)).join(" "),"_E"),ee=i((w,M)=>{p("caret",w,M);let A=M.loose?c[d.CARETLOOSE]:c[d.CARET],S=M.includePrerelease?"-0":"";return w.replace(A,(f,_,E,I,D)=>{p("caret",w,f,_,E,I,D);let L;return P(_)?L="":P(E)?L=`>=${_}.0.0${S} <${+_+1}.0.0-0`:P(I)?_==="0"?L=`>=${_}.${E}.0${S} <${_}.${+E+1}.0-0`:L=`>=${_}.${E}.0${S} <${+_+1}.0.0-0`:D?(p("replaceCaret pr",D),_==="0"?E==="0"?L=`>=${_}.${E}.${I}-${D} <${_}.${E}.${+I+1}-0`:L=`>=${_}.${E}.${I}-${D} <${_}.${+E+1}.0-0`:L=`>=${_}.${E}.${I}-${D} <${+_+1}.0.0-0`):(p("no pr"),_==="0"?E==="0"?L=`>=${_}.${E}.${I}${S} <${_}.${E}.${+I+1}-0`:L=`>=${_}.${E}.${I}${S} <${_}.${+E+1}.0-0`:L=`>=${_}.${E}.${I} <${+_+1}.0.0-0`),p("caret return",L),L})},"PE"),$=i((w,M)=>(p("replaceXRanges",w,M),w.split(/\s+/).map(A=>F(A,M)).join(" ")),"jE"),F=i((w,M)=>{w=w.trim();let A=M.loose?c[d.XRANGELOOSE]:c[d.XRANGE];return w.replace(A,(S,f,_,E,I,D)=>{p("xRange",w,S,f,_,E,I,D);let L=P(_),U=L||P(E),B=U||P(I),G=B;return f==="="&&G&&(f=""),D=M.includePrerelease?"-0":"",L?f===">"||f==="<"?S="<0.0.0-0":S="*":f&&G?(U&&(E=0),I=0,f===">"?(f=">=",U?(_=+_+1,E=0,I=0):(E=+E+1,I=0)):f==="<="&&(f="<",U?_=+_+1:E=+E+1),f==="<"&&(D="-0"),S=`${f+_}.${E}.${I}${D}`):U?S=`>=${_}.0.0${D} <${+_+1}.0.0-0`:B&&(S=`>=${_}.${E}.0${D} <${_}.${+E+1}.0-0`),p("xRange return",S),S})},"OE"),u=i((w,M)=>(p("replaceStars",w,M),w.trim().replace(c[d.STAR],"")),"YE"),g=i((w,M)=>(p("replaceGTE0",w,M),w.trim().replace(c[M.includePrerelease?d.GTE0PRE:d.GTE0],"")),"vE"),l=i(w=>(M,A,S,f,_,E,I,D,L,U,B,G)=>(P(S)?A="":P(f)?A=`>=${S}.0.0${w?"-0":""}`:P(_)?A=`>=${S}.${f}.0${w?"-0":""}`:E?A=`>=${A}`:A=`>=${A}${w?"-0":""}`,P(L)?D="":P(U)?D=`<${+L+1}.0.0-0`:P(B)?D=`<${L}.${+U+1}.0-0`:G?D=`<=${L}.${U}.${B}-${G}`:w?D=`<${L}.${U}.${+B+1}-0`:D=`<=${D}`,`${A} ${D}`.trim()),"zE"),m=i((w,M,A)=>{for(let S=0;S<w.length;S++)if(!w[S].test(M))return!1;if(M.prerelease.length&&!A.includePrerelease){for(let S=0;S<w.length;S++)if(p(w[S].semver),w[S].semver!==h.ANY&&w[S].semver.prerelease.length>0){let f=w[S].semver;if(f.major===M.major&&f.minor===M.minor&&f.patch===M.patch)return!0}return!1}return!0},"WE")}),qf=rt((e,t)=>{var r=Symbol("SemVer ANY");class a{static{i(this,"E1")}static get ANY(){return r}constructor(y,b){if(b=n(b),y instanceof a){if(y.loose===!!b.loose)return y;y=y.value}y=y.trim().split(/\s+/).join(" "),p("comparator",y,b),this.options=b,this.loose=!!b.loose,this.parse(y),this.semver===r?this.value="":this.value=this.operator+this.semver.version,p("comp",this)}parse(y){let b=this.options.loose?s[o.COMPARATORLOOSE]:s[o.COMPARATOR],x=y.match(b);if(!x)throw TypeError(`Invalid comparator: ${y}`);this.operator=x[1]!==void 0?x[1]:"",this.operator==="="&&(this.operator=""),x[2]?this.semver=new v(x[2],this.options.loose):this.semver=r}toString(){return this.value}test(y){if(p("Comparator.test",y,this.options.loose),this.semver===r||y===r)return!0;if(typeof y=="string")try{y=new v(y,this.options)}catch{return!1}return h(y,this.operator,this.semver,this.options)}intersects(y,b){if(!(y instanceof a))throw TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new c(y.value,b).test(this.value):y.operator===""?y.value===""?!0:new c(this.value,b).test(y.semver):(b=n(b),b.includePrerelease&&(this.value==="<0.0.0-0"||y.value==="<0.0.0-0")||!b.includePrerelease&&(this.value.startsWith("<0.0.0")||y.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&y.operator.startsWith(">")||this.operator.startsWith("<")&&y.operator.startsWith("<")||this.semver.version===y.semver.version&&this.operator.includes("=")&&y.operator.includes("=")||h(this.semver,"<",y.semver,b)&&this.operator.startsWith(">")&&y.operator.startsWith("<")||h(this.semver,">",y.semver,b)&&this.operator.startsWith("<")&&y.operator.startsWith(">")))}}t.exports=a;var n=Ov(),{safeRe:s,t:o}=ol(),h=Y7(),p=Hf(),v=Pr(),c=Ri()}),Kf=rt((e,t)=>{var r=Ri(),a=i((n,s,o)=>{try{s=new r(s,o)}catch{return!1}return s.test(n)},"JE");t.exports=a}),fL=rt((e,t)=>{var r=Ri(),a=i((n,s)=>new r(n,s).set.map(o=>o.map(h=>h.value).join(" ").trim().split(" ")),"wE");t.exports=a}),cL=rt((e,t)=>{var r=Pr(),a=Ri(),n=i((s,o,h)=>{let p=null,v=null,c=null;try{c=new a(o,h)}catch{return null}return s.forEach(d=>{c.test(d)&&(!p||v.compare(d)===-1)&&(p=d,v=new r(p,h))}),p},"fE");t.exports=n}),dL=rt((e,t)=>{var r=Pr(),a=Ri(),n=i((s,o,h)=>{let p=null,v=null,c=null;try{c=new a(o,h)}catch{return null}return s.forEach(d=>{c.test(d)&&(!p||v.compare(d)===1)&&(p=d,v=new r(p,h))}),p},"GE");t.exports=n}),hL=rt((e,t)=>{var r=Pr(),a=Ri(),n=Jf(),s=i((o,h)=>{o=new a(o,h);let p=new r("0.0.0");if(o.test(p)||(p=new r("0.0.0-0"),o.test(p)))return p;p=null;for(let v=0;v<o.set.length;++v){let c=o.set[v],d=null;c.forEach(y=>{let b=new r(y.semver.version);switch(y.operator){case">":b.prerelease.length===0?b.patch++:b.prerelease.push(0),b.raw=b.format();case"":case">=":(!d||n(b,d))&&(d=b);break;case"<":case"<=":break;default:throw Error(`Unexpected operation: ${y.operator}`)}}),d&&(!p||n(p,d))&&(p=d)}return p&&o.test(p)?p:null},"SE");t.exports=s}),pL=rt((e,t)=>{var r=Ri(),a=i((n,s)=>{try{return new r(n,s).range||"*"}catch{return null}},"NE");t.exports=a}),Bv=rt((e,t)=>{var r=Pr(),a=qf(),{ANY:n}=a,s=Ri(),o=Kf(),h=Jf(),p=Pv(),v=Lv(),c=Dv(),d=i((y,b,x,k)=>{y=new r(y,k),b=new s(b,k);let N,C,R,O,T;switch(x){case">":N=h,C=v,R=p,O=">",T=">=";break;case"<":N=p,C=c,R=h,O="<",T="<=";break;default:throw TypeError('Must provide a hilo val of "<" or ">"')}if(o(y,b,k))return!1;for(let P=0;P<b.set.length;++P){let z=b.set[P],V=null,Z=null;if(z.forEach(ee=>{ee.semver===n&&(ee=new a(">=0.0.0")),V=V||ee,Z=Z||ee,N(ee.semver,V.semver,k)?V=ee:R(ee.semver,Z.semver,k)&&(Z=ee)}),V.operator===O||V.operator===T||(!Z.operator||Z.operator===O)&&C(y,Z.semver))return!1;if(Z.operator===T&&R(y,Z.semver))return!1}return!0},"gE");t.exports=d}),mL=rt((e,t)=>{var r=Bv(),a=i((n,s,o)=>r(n,s,">",o),"bE");t.exports=a}),gL=rt((e,t)=>{var r=Bv(),a=i((n,s,o)=>r(n,s,"<",o),"yE");t.exports=a}),vL=rt((e,t)=>{var r=Ri(),a=i((n,s,o)=>(n=new r(n,o),s=new r(s,o),n.intersects(s,o)),"pE");t.exports=a}),bL=rt((e,t)=>{var r=Kf(),a=Ci();t.exports=(n,s,o)=>{let h=[],p=null,v=null,c=n.sort((x,k)=>a(x,k,o));for(let x of c)r(x,s,o)?(v=x,!p&&(p=x)):(v&&h.push([p,v]),v=null,p=null);p&&h.push([p,null]);let d=[];for(let[x,k]of h)x===k?d.push(x):!k&&x===c[0]?d.push("*"):k?x===c[0]?d.push(`<=${k}`):d.push(`${x} - ${k}`):d.push(`>=${x}`);let y=d.join(" || "),b=typeof s.raw=="string"?s.raw:String(s);return y.length<b.length?y:s}}),yL=rt((e,t)=>{var r=Ri(),a=qf(),{ANY:n}=a,s=Kf(),o=Ci(),h=i((b,x,k={})=>{if(b===x)return!0;b=new r(b,k),x=new r(x,k);let N=!1;e:for(let C of b.set){for(let R of x.set){let O=c(C,R,k);if(N=N||O!==null,O)continue e}if(N)return!1}return!0},"mE"),p=[new a(">=0.0.0-0")],v=[new a(">=0.0.0")],c=i((b,x,k)=>{if(b===x)return!0;if(b.length===1&&b[0].semver===n){if(x.length===1&&x[0].semver===n)return!0;k.includePrerelease?b=p:b=v}if(x.length===1&&x[0].semver===n){if(k.includePrerelease)return!0;x=v}let N=new Set,C,R;for(let $ of b)$.operator===">"||$.operator===">="?C=d(C,$,k):$.operator==="<"||$.operator==="<="?R=y(R,$,k):N.add($.semver);if(N.size>1)return null;let O;if(C&&R){if(O=o(C.semver,R.semver,k),O>0)return null;if(O===0&&(C.operator!==">="||R.operator!=="<="))return null}for(let $ of N){if(C&&!s($,String(C),k)||R&&!s($,String(R),k))return null;for(let F of x)if(!s($,String(F),k))return!1;return!0}let T,P,z,V,Z=R&&!k.includePrerelease&&R.semver.prerelease.length?R.semver:!1,ee=C&&!k.includePrerelease&&C.semver.prerelease.length?C.semver:!1;Z&&Z.prerelease.length===1&&R.operator==="<"&&Z.prerelease[0]===0&&(Z=!1);for(let $ of x){if(V=V||$.operator===">"||$.operator===">=",z=z||$.operator==="<"||$.operator==="<=",C){if(ee&&$.semver.prerelease&&$.semver.prerelease.length&&$.semver.major===ee.major&&$.semver.minor===ee.minor&&$.semver.patch===ee.patch&&(ee=!1),$.operator===">"||$.operator===">="){if(T=d(C,$,k),T===$&&T!==C)return!1}else if(C.operator===">="&&!s(C.semver,String($),k))return!1}if(R){if(Z&&$.semver.prerelease&&$.semver.prerelease.length&&$.semver.major===Z.major&&$.semver.minor===Z.minor&&$.semver.patch===Z.patch&&(Z=!1),$.operator==="<"||$.operator==="<="){if(P=y(R,$,k),P===$&&P!==R)return!1}else if(R.operator==="<="&&!s(R.semver,String($),k))return!1}if(!$.operator&&(R||C)&&O!==0)return!1}return!(C&&z&&!R&&O!==0||R&&V&&!C&&O!==0||ee||Z)},"lE"),d=i((b,x,k)=>{if(!b)return x;let N=o(b.semver,x.semver,k);return N>0?b:N<0||x.operator===">"&&b.operator===">="?x:b},"aw"),y=i((b,x,k)=>{if(!b)return x;let N=o(b.semver,x.semver,k);return N<0?b:N>0||x.operator==="<"&&b.operator==="<="?x:b},"Qw");t.exports=h}),wL=rt((e,t)=>{var r=ol(),a=Zf(),n=Pr(),s=X7(),o=xs(),h=XD(),p=WD(),v=QD(),c=YD(),d=eL(),y=tL(),b=rL(),x=iL(),k=Ci(),N=nL(),C=aL(),R=Tv(),O=sL(),T=oL(),P=Jf(),z=Pv(),V=W7(),Z=Q7(),ee=Dv(),$=Lv(),F=Y7(),u=lL(),g=qf(),l=Ri(),m=Kf(),w=fL(),M=cL(),A=dL(),S=hL(),f=pL(),_=Bv(),E=mL(),I=gL(),D=vL(),L=bL(),U=yL();t.exports={parse:o,valid:h,clean:p,inc:v,diff:c,major:d,minor:y,patch:b,prerelease:x,compare:k,rcompare:N,compareLoose:C,compareBuild:R,sort:O,rsort:T,gt:P,lt:z,eq:V,neq:Z,gte:ee,lte:$,cmp:F,coerce:u,Comparator:g,Range:l,satisfies:m,toComparators:w,maxSatisfying:M,minSatisfying:A,minVersion:S,validRange:f,outside:_,gtr:E,ltr:I,intersects:D,simplifyRange:L,subset:U,SemVer:n,re:r.re,src:r.src,tokens:r.t,SEMVER_SPEC_VERSION:a.SEMVER_SPEC_VERSION,RELEASE_TYPES:a.RELEASE_TYPES,compareIdentifiers:s.compareIdentifiers,rcompareIdentifiers:s.rcompareIdentifiers}}),xL=rt((e,t)=>{t.exports=function(r,a){if(typeof r!="string")throw TypeError("Expected a string");return a=typeof a>"u"?"_":a,r.replace(/([a-z\d])([A-Z])/g,"$1"+a+"$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1"+a+"$2").toLowerCase()}}),_L=rt((e,t)=>{var r=/[\p{Lu}]/u,a=/[\p{Ll}]/u,n=/^[\p{Lu}](?![\p{Lu}])/gu,s=/([\p{Alpha}\p{N}_]|$)/u,o=/[_.\- ]+/,h=new RegExp("^"+o.source),p=new RegExp(o.source+s.source,"gu"),v=new RegExp("\\d+"+s.source,"gu"),c=i((x,k,N)=>{let C=!1,R=!1,O=!1;for(let T=0;T<x.length;T++){let P=x[T];C&&r.test(P)?(x=x.slice(0,T)+"-"+x.slice(T),C=!1,O=R,R=!0,T++):R&&O&&a.test(P)?(x=x.slice(0,T-1)+"-"+x.slice(T-1),O=R,R=!1,C=!0):(C=k(P)===P&&N(P)!==P,O=R,R=N(P)===P&&k(P)!==P)}return x},"Fh"),d=i((x,k)=>(n.lastIndex=0,x.replace(n,N=>k(N))),"ah"),y=i((x,k)=>(p.lastIndex=0,v.lastIndex=0,x.replace(p,(N,C)=>k(C)).replace(v,N=>k(N))),"Qh"),b=i((x,k)=>{if(!(typeof x=="string"||Array.isArray(x)))throw TypeError("Expected the input to be `string | string[]`");if(k={pascalCase:!1,preserveConsecutiveUppercase:!1,...k},Array.isArray(x)?x=x.map(R=>R.trim()).filter(R=>R.length).join("-"):x=x.trim(),x.length===0)return"";let N=k.locale===!1?R=>R.toLowerCase():R=>R.toLocaleLowerCase(k.locale),C=k.locale===!1?R=>R.toUpperCase():R=>R.toLocaleUpperCase(k.locale);return x.length===1?k.pascalCase?C(x):N(x):(x!==N(x)&&(x=c(x,N,C)),x=x.replace(h,""),k.preserveConsecutiveUppercase?x=d(x,N):x=N(x),k.pascalCase&&(x=C(x.charAt(0))+x.slice(1)),y(x,C))},"CZ");t.exports=b,t.exports.default=b}),SL=rt((e,t)=>{var r=i((s=0)=>o=>`\x1B[${38+s};5;${o}m`,"uZ"),a=i((s=0)=>(o,h,p)=>`\x1B[${38+s};2;${o};${h};${p}m`,"yZ");function n(){let s=new Map,o={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};o.color.gray=o.color.blackBright,o.bgColor.bgGray=o.bgColor.bgBlackBright,o.color.grey=o.color.blackBright,o.bgColor.bgGrey=o.bgColor.bgBlackBright;for(let[h,p]of Object.entries(o)){for(let[v,c]of Object.entries(p))o[v]={open:`\x1B[${c[0]}m`,close:`\x1B[${c[1]}m`},p[v]=o[v],s.set(c[0],c[1]);Object.defineProperty(o,h,{value:p,enumerable:!1})}return Object.defineProperty(o,"codes",{value:s,enumerable:!1}),o.color.close="\x1B[39m",o.bgColor.close="\x1B[49m",o.color.ansi256=r(),o.color.ansi16m=a(),o.bgColor.ansi256=r(10),o.bgColor.ansi16m=a(10),Object.defineProperties(o,{rgbToAnsi256:{value:i((h,p,v)=>h===p&&p===v?h<8?16:h>248?231:Math.round((h-8)/247*24)+232:16+36*Math.round(h/255*5)+6*Math.round(p/255*5)+Math.round(v/255*5),"value"),enumerable:!1},hexToRgb:{value:i(h=>{let p=/(?<colorString>[a-f\d]{6}|[a-f\d]{3})/i.exec(h.toString(16));if(!p)return[0,0,0];let{colorString:v}=p.groups;v.length===3&&(v=v.split("").map(d=>d+d).join(""));let c=Number.parseInt(v,16);return[c>>16&255,c>>8&255,c&255]},"value"),enumerable:!1},hexToAnsi256:{value:i(h=>o.rgbToAnsi256(...o.hexToRgb(h)),"value"),enumerable:!1}}),o}i(n,"OR"),Object.defineProperty(t,"exports",{enumerable:!0,get:n})}),ML=rt(e=>{e.byteLength=p,e.toByteArray=c,e.fromByteArray=b;var t=[],r=[],a=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(s=0,o=n.length;s<o;++s)t[s]=n[s],r[n.charCodeAt(s)]=s;var s,o;r[45]=62,r[95]=63;function h(x){var k=x.length;if(k%4>0)throw Error("Invalid string. Length must be a multiple of 4");var N=x.indexOf("=");N===-1&&(N=k);var C=N===k?0:4-N%4;return[N,C]}i(h,"Dk");function p(x){var k=h(x),N=k[0],C=k[1];return(N+C)*3/4-C}i(p,"LL");function v(x,k,N){return(k+N)*3/4-N}i(v,"bL");function c(x){var k,N=h(x),C=N[0],R=N[1],O=new a(v(x,C,R)),T=0,P=R>0?C-4:C,z;for(z=0;z<P;z+=4)k=r[x.charCodeAt(z)]<<18|r[x.charCodeAt(z+1)]<<12|r[x.charCodeAt(z+2)]<<6|r[x.charCodeAt(z+3)],O[T++]=k>>16&255,O[T++]=k>>8&255,O[T++]=k&255;return R===2&&(k=r[x.charCodeAt(z)]<<2|r[x.charCodeAt(z+1)]>>4,O[T++]=k&255),R===1&&(k=r[x.charCodeAt(z)]<<10|r[x.charCodeAt(z+1)]<<4|r[x.charCodeAt(z+2)]>>2,O[T++]=k>>8&255,O[T++]=k&255),O}i(c,"uL");function d(x){return t[x>>18&63]+t[x>>12&63]+t[x>>6&63]+t[x&63]}i(d,"yL");function y(x,k,N){for(var C,R=[],O=k;O<N;O+=3)C=(x[O]<<16&16711680)+(x[O+1]<<8&65280)+(x[O+2]&255),R.push(d(C));return R.join("")}i(y,"pL");function b(x){for(var k,N=x.length,C=N%3,R=[],O=16383,T=0,P=N-C;T<P;T+=O)R.push(y(x,T,T+O>P?P:T+O));return C===1?(k=x[N-1],R.push(t[k>>2]+t[k<<4&63]+"==")):C===2&&(k=(x[N-2]<<8)+x[N-1],R.push(t[k>>10]+t[k>>4&63]+t[k<<2&63]+"=")),R.join("")}i(b,"xL")}),Gr=rt(e=>{e.__esModule=!0,e.extend=s,e.indexOf=v,e.escapeExpression=c,e.isEmpty=d,e.createFrame=y,e.blockParams=b,e.appendContextPath=x;var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},r=/[&<>"'`=]/g,a=/[&<>"'`=]/;function n(k){return t[k]}i(n,"eL");function s(k){for(var N=1;N<arguments.length;N++)for(var C in arguments[N])Object.prototype.hasOwnProperty.call(arguments[N],C)&&(k[C]=arguments[N][C]);return k}i(s,"uk");var o=Object.prototype.toString;e.toString=o;var h=i(function(k){return typeof k=="function"},"Cz");h(/x/)&&(e.isFunction=h=i(function(k){return typeof k=="function"&&o.call(k)==="[object Function]"},"Cz")),e.isFunction=h;var p=Array.isArray||function(k){return k&&typeof k=="object"?o.call(k)==="[object Array]":!1};e.isArray=p;function v(k,N){for(var C=0,R=k.length;C<R;C++)if(k[C]===N)return C;return-1}i(v,"sL");function c(k){if(typeof k!="string"){if(k&&k.toHTML)return k.toHTML();if(k==null)return"";if(!k)return k+"";k=""+k}return a.test(k)?k.replace(r,n):k}i(c,"$b");function d(k){return!k&&k!==0?!0:!!(p(k)&&k.length===0)}i(d,"qb");function y(k){var N=s({},k);return N._parent=k,N}i(y,"Kb");function b(k,N){return k.path=N,k}i(b,"_b");function x(k,N){return(k?k+".":"")+N}i(x,"Pb")}),Oi=rt((e,t)=>{e.__esModule=!0;var r=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];function a(n,s){var o=s&&s.loc,h=void 0,p=void 0,v=void 0,c=void 0;o&&(h=o.start.line,p=o.end.line,v=o.start.column,c=o.end.column,n+=" - "+h+":"+v);for(var d=Error.prototype.constructor.call(this,n),y=0;y<r.length;y++)this[r[y]]=d[r[y]];Error.captureStackTrace&&Error.captureStackTrace(this,a);try{o&&(this.lineNumber=h,this.endLineNumber=p,Object.defineProperty?(Object.defineProperty(this,"column",{value:v,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:c,enumerable:!0})):(this.column=v,this.endColumn=c))}catch{}}i(a,"Rz"),a.prototype=Error(),e.default=a,t.exports=e.default}),EL=rt((e,t)=>{e.__esModule=!0;var r=Gr();e.default=function(a){a.registerHelper("blockHelperMissing",function(n,s){var{inverse:o,fn:h}=s;if(n===!0)return h(this);if(n===!1||n==null)return o(this);if(r.isArray(n))return n.length>0?(s.ids&&(s.ids=[s.name]),a.helpers.each(n,s)):o(this);if(s.data&&s.ids){var p=r.createFrame(s.data);p.contextPath=r.appendContextPath(s.data.contextPath,s.name),s={data:p}}return h(n,s)})},t.exports=e.default}),kL=rt((e,t)=>{e.__esModule=!0;function r(o){return o&&o.__esModule?o:{default:o}}i(r,"Vb");var a=Gr(),n=Oi(),s=r(n);e.default=function(o){o.registerHelper("each",function(h,p){if(!p)throw new s.default("Must pass iterator to #each");var{fn:v,inverse:c}=p,d=0,y="",b=void 0,x=void 0;p.data&&p.ids&&(x=a.appendContextPath(p.data.contextPath,p.ids[0])+"."),a.isFunction(h)&&(h=h.call(this)),p.data&&(b=a.createFrame(p.data));function k(T,P,z){b&&(b.key=T,b.index=P,b.first=P===0,b.last=!!z,x&&(b.contextPath=x+T)),y=y+v(h[T],{data:b,blockParams:a.blockParams([h[T],T],[x+T,null])})}if(i(k,"w"),h&&typeof h=="object")if(a.isArray(h))for(var N=h.length;d<N;d++)d in h&&k(d,d,d===h.length-1);else if(typeof Symbol=="function"&&h[Symbol.iterator]){for(var C=[],R=h[Symbol.iterator](),O=R.next();!O.done;O=R.next())C.push(O.value);h=C;for(var N=h.length;d<N;d++)k(d,d,d===h.length-1)}else(function(){var T=void 0;Object.keys(h).forEach(function(P){T!==void 0&&k(T,d-1),T=P,d++}),T!==void 0&&k(T,d-1,!0)})();return d===0&&(y=c(this)),y})},t.exports=e.default}),AL=rt((e,t)=>{e.__esModule=!0;function r(s){return s&&s.__esModule?s:{default:s}}i(r,"Eb");var a=Oi(),n=r(a);e.default=function(s){s.registerHelper("helperMissing",function(){if(arguments.length!==1)throw new n.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})},t.exports=e.default}),jL=rt((e,t)=>{e.__esModule=!0;function r(o){return o&&o.__esModule?o:{default:o}}i(r,"gb");var a=Gr(),n=Oi(),s=r(n);e.default=function(o){o.registerHelper("if",function(h,p){if(arguments.length!=2)throw new s.default("#if requires exactly one argument");return a.isFunction(h)&&(h=h.call(this)),!p.hash.includeZero&&!h||a.isEmpty(h)?p.inverse(this):p.fn(this)}),o.registerHelper("unless",function(h,p){if(arguments.length!=2)throw new s.default("#unless requires exactly one argument");return o.helpers.if.call(this,h,{fn:p.inverse,inverse:p.fn,hash:p.hash})})},t.exports=e.default}),NL=rt((e,t)=>{e.__esModule=!0,e.default=function(r){r.registerHelper("log",function(){for(var a=[void 0],n=arguments[arguments.length-1],s=0;s<arguments.length-1;s++)a.push(arguments[s]);var o=1;n.hash.level!=null?o=n.hash.level:n.data&&n.data.level!=null&&(o=n.data.level),a[0]=o,r.log.apply(r,a)})},t.exports=e.default}),IL=rt((e,t)=>{e.__esModule=!0,e.default=function(r){r.registerHelper("lookup",function(a,n,s){return a&&s.lookupProperty(a,n)})},t.exports=e.default}),CL=rt((e,t)=>{e.__esModule=!0;function r(o){return o&&o.__esModule?o:{default:o}}i(r,"mb");var a=Gr(),n=Oi(),s=r(n);e.default=function(o){o.registerHelper("with",function(h,p){if(arguments.length!=2)throw new s.default("#with requires exactly one argument");a.isFunction(h)&&(h=h.call(this));var v=p.fn;if(a.isEmpty(h))return p.inverse(this);var c=p.data;return p.data&&p.ids&&(c=a.createFrame(p.data),c.contextPath=a.appendContextPath(p.data.contextPath,p.ids[0])),v(h,{data:c,blockParams:a.blockParams([h],[c&&c.contextPath])})})},t.exports=e.default}),e9=rt(e=>{e.__esModule=!0,e.registerDefaultHelpers=N,e.moveHelperToHooks=C;function t(R){return R&&R.__esModule?R:{default:R}}i(t,"J_");var r=EL(),a=t(r),n=kL(),s=t(n),o=AL(),h=t(o),p=jL(),v=t(p),c=NL(),d=t(c),y=IL(),b=t(y),x=CL(),k=t(x);function N(R){a.default(R),s.default(R),h.default(R),v.default(R),d.default(R),b.default(R),k.default(R)}i(N,"Pu");function C(R,O,T){R.helpers[O]&&(R.hooks[O]=R.helpers[O],!T&&delete R.helpers[O])}i(C,"ju")}),RL=rt((e,t)=>{e.__esModule=!0;var r=Gr();e.default=function(a){a.registerDecorator("inline",function(n,s,o,h){var p=n;return s.partials||(s.partials={},p=i(function(v,c){var d=o.partials;o.partials=r.extend({},d,s.partials);var y=n(v,c);return o.partials=d,y},"O")),s.partials[h.args[0]]=h.fn,p})},t.exports=e.default}),OL=rt(e=>{e.__esModule=!0,e.registerDefaultDecorators=n;function t(s){return s&&s.__esModule?s:{default:s}}i(t,"Tu");var r=RL(),a=t(r);function n(s){a.default(s)}i(n,"Xu")}),t9=rt((e,t)=>{e.__esModule=!0;var r=Gr(),a={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:i(function(n){if(typeof n=="string"){var s=r.indexOf(a.methodMap,n.toLowerCase());s>=0?n=s:n=parseInt(n,10)}return n},"lookupLevel"),log:i(function(n){if(n=a.lookupLevel(n),typeof console<"u"&&a.lookupLevel(a.level)<=n){var s=a.methodMap[n];console[s]||(s="log");for(var o=arguments.length,h=Array(o>1?o-1:0),p=1;p<o;p++)h[p-1]=arguments[p];console[s].apply(console,h)}},"log")};e.default=a,t.exports=e.default}),TL=rt(e=>{e.__esModule=!0,e.createNewLookupObject=r;var t=Gr();function r(){for(var a=arguments.length,n=Array(a),s=0;s<a;s++)n[s]=arguments[s];return t.extend.apply(void 0,[Object.create(null)].concat(n))}i(r,"Nu")}),r9=rt(e=>{e.__esModule=!0,e.createProtoAccessControl=o,e.resultIsAllowed=h,e.resetLoggedProperties=c;function t(d){return d&&d.__esModule?d:{default:d}}i(t,"Ru");var r=TL(),a=t9(),n=t(a),s=Object.create(null);function o(d){var y=Object.create(null);y.constructor=!1,y.__defineGetter__=!1,y.__defineSetter__=!1,y.__lookupGetter__=!1;var b=Object.create(null);return b.__proto__=!1,{properties:{whitelist:r.createNewLookupObject(b,d.allowedProtoProperties),defaultValue:d.allowProtoPropertiesByDefault},methods:{whitelist:r.createNewLookupObject(y,d.allowedProtoMethods),defaultValue:d.allowProtoMethodsByDefault}}}i(o,"gu");function h(d,y,b){return p(typeof d=="function"?y.methods:y.properties,b)}i(h,"Lu");function p(d,y){return d.whitelist[y]!==void 0?d.whitelist[y]===!0:d.defaultValue!==void 0?d.defaultValue:(v(y),!1)}i(p,"ZA");function v(d){s[d]!==!0&&(s[d]=!0,n.default.log("error",'Handlebars: Access has been denied to resolve the property "'+d+`" because it is not an "own property" of its parent.
You can add a runtime option to disable the check or this warning:
See https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details`))}i(v,"bu");function c(){Object.keys(s).forEach(function(d){delete s[d]})}i(c,"uu")}),zv=rt(e=>{e.__esModule=!0,e.HandlebarsEnvironment=k;function t(C){return C&&C.__esModule?C:{default:C}}i(t,"XA");var r=Gr(),a=Oi(),n=t(a),s=e9(),o=OL(),h=t9(),p=t(h),v=r9(),c="4.7.8";e.VERSION=c;var d=8;e.COMPILER_REVISION=d;var y=7;e.LAST_COMPATIBLE_COMPILER_REVISION=y;var b={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"};e.REVISION_CHANGES=b;var x="[object Object]";function k(C,R,O){this.helpers=C||{},this.partials=R||{},this.decorators=O||{},s.registerDefaultHelpers(this),o.registerDefaultDecorators(this)}i(k,"yz"),k.prototype={constructor:k,logger:p.default,log:p.default.log,registerHelper:i(function(C,R){if(r.toString.call(C)===x){if(R)throw new n.default("Arg not supported with multiple helpers");r.extend(this.helpers,C)}else this.helpers[C]=R},"registerHelper"),unregisterHelper:i(function(C){delete this.helpers[C]},"unregisterHelper"),registerPartial:i(function(C,R){if(r.toString.call(C)===x)r.extend(this.partials,C);else{if(typeof R>"u")throw new n.default('Attempting to register a partial called "'+C+'" as undefined');this.partials[C]=R}},"registerPartial"),unregisterPartial:i(function(C){delete this.partials[C]},"unregisterPartial"),registerDecorator:i(function(C,R){if(r.toString.call(C)===x){if(R)throw new n.default("Arg not supported with multiple decorators");r.extend(this.decorators,C)}else this.decorators[C]=R},"registerDecorator"),unregisterDecorator:i(function(C){delete this.decorators[C]},"unregisterDecorator"),resetLoggedPropertyAccesses:i(function(){v.resetLoggedProperties()},"resetLoggedPropertyAccesses")};var N=p.default.log;e.log=N,e.createFrame=r.createFrame,e.logger=p.default}),PL=rt((e,t)=>{e.__esModule=!0;function r(a){this.string=a}i(r,"pz"),r.prototype.toString=r.prototype.toHTML=function(){return""+this.string},e.default=r,t.exports=e.default}),DL=rt(e=>{e.__esModule=!0,e.wrapHelper=t;function t(r,a){if(typeof r!="function")return r;var n=i(function(){var s=arguments[arguments.length-1];return arguments[arguments.length-1]=a(s),r.apply(this,arguments)},"K");return n}i(t,"vy")}),LL=rt(e=>{e.__esModule=!0,e.checkRevision=d,e.template=y,e.wrapProgram=b,e.resolvePartial=x,e.invokePartial=k,e.noop=N;function t(P){return P&&P.__esModule?P:{default:P}}i(t,"Jy");function r(P){if(P&&P.__esModule)return P;var z={};if(P!=null)for(var V in P)Object.prototype.hasOwnProperty.call(P,V)&&(z[V]=P[V]);return z.default=P,z}i(r,"Ty");var a=Gr(),n=r(a),s=Oi(),o=t(s),h=zv(),p=e9(),v=DL(),c=r9();function d(P){var z=P&&P[0]||1,V=h.COMPILER_REVISION;if(!(z>=h.LAST_COMPATIBLE_COMPILER_REVISION&&z<=h.COMPILER_REVISION))if(z<h.LAST_COMPATIBLE_COMPILER_REVISION){var Z=h.REVISION_CHANGES[V],ee=h.REVISION_CHANGES[z];throw new o.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+Z+") or downgrade your runtime to an older version ("+ee+").")}else throw new o.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+P[1]+").")}i(d,"fy");function y(P,z){if(!z)throw new o.default("No environment passed to template");if(!P||!P.main)throw new o.default("Unknown template object: "+typeof P);P.main.decorator=P.main_d,z.VM.checkRevision(P.compiler);var V=P.compiler&&P.compiler[0]===7;function Z(F,u,g){g.hash&&(u=n.extend({},u,g.hash),g.ids&&(g.ids[0]=!0)),F=z.VM.resolvePartial.call(this,F,u,g);var l=n.extend({},g,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),m=z.VM.invokePartial.call(this,F,u,l);if(m==null&&z.compile&&(g.partials[g.name]=z.compile(F,P.compilerOptions,z),m=g.partials[g.name](u,l)),m!=null){if(g.indent){for(var w=m.split(`
`),M=0,A=w.length;M<A&&!(!w[M]&&M+1===A);M++)w[M]=g.indent+w[M];m=w.join(`
`)}return m}else throw new o.default("The partial "+g.name+" could not be compiled when running in runtime-only mode")}i(Z,"P");var ee={strict:i(function(F,u,g){if(!F||!(u in F))throw new o.default('"'+u+'" not defined in '+F,{loc:g});return ee.lookupProperty(F,u)},"strict"),lookupProperty:i(function(F,u){var g=F[u];if(g==null||Object.prototype.hasOwnProperty.call(F,u)||c.resultIsAllowed(g,ee.protoAccessControl,u))return g},"lookupProperty"),lookup:i(function(F,u){for(var g=F.length,l=0;l<g;l++){var m=F[l]&&ee.lookupProperty(F[l],u);if(m!=null)return F[l][u]}},"lookup"),lambda:i(function(F,u){return typeof F=="function"?F.call(u):F},"lambda"),escapeExpression:n.escapeExpression,invokePartial:Z,fn:i(function(F){var u=P[F];return u.decorator=P[F+"_d"],u},"fn"),programs:[],program:i(function(F,u,g,l,m){var w=this.programs[F],M=this.fn(F);return u||m||l||g?w=b(this,F,M,u,g,l,m):w||(w=this.programs[F]=b(this,F,M)),w},"program"),data:i(function(F,u){for(;F&&u--;)F=F._parent;return F},"data"),mergeIfNeeded:i(function(F,u){var g=F||u;return F&&u&&F!==u&&(g=n.extend({},u,F)),g},"mergeIfNeeded"),nullContext:Object.seal({}),noop:z.VM.noop,compilerInfo:P.compiler};function $(F){var u=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],g=u.data;$._setup(u),!u.partial&&P.useData&&(g=C(F,g));var l=void 0,m=P.useBlockParams?[]:void 0;P.useDepths&&(u.depths?l=F!=u.depths[0]?[F].concat(u.depths):u.depths:l=[F]);function w(M){return""+P.main(ee,M,ee.helpers,ee.partials,g,m,l)}return i(w,"f"),w=R(P.main,w,ee,u.depths||[],g,m),w(F,u)}return i($,"O"),$.isTop=!0,$._setup=function(F){if(F.partial)ee.protoAccessControl=F.protoAccessControl,ee.helpers=F.helpers,ee.partials=F.partials,ee.decorators=F.decorators,ee.hooks=F.hooks;else{var u=n.extend({},z.helpers,F.helpers);O(u,ee),ee.helpers=u,P.usePartial&&(ee.partials=ee.mergeIfNeeded(F.partials,z.partials)),(P.usePartial||P.useDecorators)&&(ee.decorators=n.extend({},z.decorators,F.decorators)),ee.hooks={},ee.protoAccessControl=c.createProtoAccessControl(F);var g=F.allowCallsToHelperMissing||V;p.moveHelperToHooks(ee,"helperMissing",g),p.moveHelperToHooks(ee,"blockHelperMissing",g)}},$._child=function(F,u,g,l){if(P.useBlockParams&&!g)throw new o.default("must pass block params");if(P.useDepths&&!l)throw new o.default("must pass parent depths");return b(ee,F,P[F],u,0,g,l)},$}i(y,"ky");function b(P,z,V,Z,ee,$,F){function u(g){var l=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],m=F;return F&&g!=F[0]&&!(g===P.nullContext&&F[0]===null)&&(m=[g].concat(F)),V(P,g,P.helpers,P.partials,l.data||Z,$&&[l.blockParams].concat($),m)}return i(u,"z"),u=R(V,u,P,F,Z,$),u.program=z,u.depth=F?F.length:0,u.blockParams=ee||0,u}i(b,"Hj");function x(P,z,V){return P?!P.call&&!V.name&&(V.name=P,P=V.partials[P]):V.name==="@partial-block"?P=V.data["partial-block"]:P=V.partials[V.name],P}i(x,"Ay");function k(P,z,V){var Z=V.data&&V.data["partial-block"];V.partial=!0,V.ids&&(V.data.contextPath=V.ids[0]||V.data.contextPath);var ee=void 0;if(V.fn&&V.fn!==N&&(function(){V.data=h.createFrame(V.data);var $=V.fn;ee=V.data["partial-block"]=function(F){var u=arguments.length<=1||arguments[1]===void 0?{}:arguments[1];return u.data=h.createFrame(u.data),u.data["partial-block"]=Z,$(F,u)},$.partials&&(V.partials=n.extend({},V.partials,$.partials))})(),P===void 0&&ee&&(P=ee),P===void 0)throw new o.default("The partial "+V.name+" could not be found");if(P instanceof Function)return P(z,V)}i(k,"Gy");function N(){return""}i(N,"MA");function C(P,z){return(!z||!("root"in z))&&(z=z?h.createFrame(z):{},z.root=P),z}i(C,"Vy");function R(P,z,V,Z,ee,$){if(P.decorator){var F={};z=P.decorator(z,F,V,Z&&Z[0],ee,$,Z),n.extend(z,F)}return z}i(R,"NA");function O(P,z){Object.keys(P).forEach(function(V){var Z=P[V];P[V]=T(Z,z)})}i(O,"Sy");function T(P,z){var V=z.lookupProperty;return v.wrapHelper(P,function(Z){return n.extend({lookupProperty:V},Z)})}i(T,"My")}),i9=rt((e,t)=>{e.__esModule=!0,e.default=function(r){(function(){typeof globalThis!="object"&&(Object.prototype.__defineGetter__("__magic__",function(){return this}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__)})();var a=globalThis.Handlebars;r.noConflict=function(){return globalThis.Handlebars===r&&(globalThis.Handlebars=a),r}},t.exports=e.default}),BL=rt((e,t)=>{e.__esModule=!0;function r(R){return R&&R.__esModule?R:{default:R}}i(r,"mz");function a(R){if(R&&R.__esModule)return R;var O={};if(R!=null)for(var T in R)Object.prototype.hasOwnProperty.call(R,T)&&(O[T]=R[T]);return O.default=R,O}i(a,"dz");var n=zv(),s=a(n),o=PL(),h=r(o),p=Oi(),v=r(p),c=Gr(),d=a(c),y=LL(),b=a(y),x=i9(),k=r(x);function N(){var R=new s.HandlebarsEnvironment;return d.extend(R,s),R.SafeString=h.default,R.Exception=v.default,R.Utils=d,R.escapeExpression=d.escapeExpression,R.VM=b,R.template=function(O){return b.template(O,R)},R}i(N,"DA");var C=N();C.create=N,k.default(C),C.default=C,e.default=C,t.exports=e.default}),n9=rt((e,t)=>{e.__esModule=!0;var r={helpers:{helperExpression:i(function(a){return a.type==="SubExpression"||(a.type==="MustacheStatement"||a.type==="BlockStatement")&&!!(a.params&&a.params.length||a.hash)},"helperExpression"),scopedId:i(function(a){return/^\.|this\b/.test(a.original)},"scopedId"),simpleId:i(function(a){return a.parts.length===1&&!r.helpers.scopedId(a)&&!a.depth},"simpleId")}};e.default=r,t.exports=e.default}),zL=rt((e,t)=>{e.__esModule=!0;var r=(function(){var a={trace:i(function(){},"trace"),yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,0],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:i(function(o,h,p,v,c,d,y){var b=d.length-1;switch(c){case 1:return d[b-1];case 2:this.$=v.prepareProgram(d[b]);break;case 3:this.$=d[b];break;case 4:this.$=d[b];break;case 5:this.$=d[b];break;case 6:this.$=d[b];break;case 7:this.$=d[b];break;case 8:this.$=d[b];break;case 9:this.$={type:"CommentStatement",value:v.stripComment(d[b]),strip:v.stripFlags(d[b],d[b]),loc:v.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:d[b],value:d[b],loc:v.locInfo(this._$)};break;case 11:this.$=v.prepareRawBlock(d[b-2],d[b-1],d[b],this._$);break;case 12:this.$={path:d[b-3],params:d[b-2],hash:d[b-1]};break;case 13:this.$=v.prepareBlock(d[b-3],d[b-2],d[b-1],d[b],!1,this._$);break;case 14:this.$=v.prepareBlock(d[b-3],d[b-2],d[b-1],d[b],!0,this._$);break;case 15:this.$={open:d[b-5],path:d[b-4],params:d[b-3],hash:d[b-2],blockParams:d[b-1],strip:v.stripFlags(d[b-5],d[b])};break;case 16:this.$={path:d[b-4],params:d[b-3],hash:d[b-2],blockParams:d[b-1],strip:v.stripFlags(d[b-5],d[b])};break;case 17:this.$={path:d[b-4],params:d[b-3],hash:d[b-2],blockParams:d[b-1],strip:v.stripFlags(d[b-5],d[b])};break;case 18:this.$={strip:v.stripFlags(d[b-1],d[b-1]),program:d[b]};break;case 19:var x=v.prepareBlock(d[b-2],d[b-1],d[b],d[b],!1,this._$),k=v.prepareProgram([x],d[b-1].loc);k.chained=!0,this.$={strip:d[b-2].strip,program:k,chain:!0};break;case 20:this.$=d[b];break;case 21:this.$={path:d[b-1],strip:v.stripFlags(d[b-2],d[b])};break;case 22:this.$=v.prepareMustache(d[b-3],d[b-2],d[b-1],d[b-4],v.stripFlags(d[b-4],d[b]),this._$);break;case 23:this.$=v.prepareMustache(d[b-3],d[b-2],d[b-1],d[b-4],v.stripFlags(d[b-4],d[b]),this._$);break;case 24:this.$={type:"PartialStatement",name:d[b-3],params:d[b-2],hash:d[b-1],indent:"",strip:v.stripFlags(d[b-4],d[b]),loc:v.locInfo(this._$)};break;case 25:this.$=v.preparePartialBlock(d[b-2],d[b-1],d[b],this._$);break;case 26:this.$={path:d[b-3],params:d[b-2],hash:d[b-1],strip:v.stripFlags(d[b-4],d[b])};break;case 27:this.$=d[b];break;case 28:this.$=d[b];break;case 29:this.$={type:"SubExpression",path:d[b-3],params:d[b-2],hash:d[b-1],loc:v.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:d[b],loc:v.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:v.id(d[b-2]),value:d[b],loc:v.locInfo(this._$)};break;case 32:this.$=v.id(d[b-1]);break;case 33:this.$=d[b];break;case 34:this.$=d[b];break;case 35:this.$={type:"StringLiteral",value:d[b],original:d[b],loc:v.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(d[b]),original:Number(d[b]),loc:v.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:d[b]==="true",original:d[b]==="true",loc:v.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:v.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:v.locInfo(this._$)};break;case 40:this.$=d[b];break;case 41:this.$=d[b];break;case 42:this.$=v.preparePath(!0,d[b],this._$);break;case 43:this.$=v.preparePath(!1,d[b],this._$);break;case 44:d[b-2].push({part:v.id(d[b]),original:d[b],separator:d[b-1]}),this.$=d[b-2];break;case 45:this.$=[{part:v.id(d[b]),original:d[b]}];break;case 46:this.$=[];break;case 47:d[b-1].push(d[b]);break;case 48:this.$=[];break;case 49:d[b-1].push(d[b]);break;case 50:this.$=[];break;case 51:d[b-1].push(d[b]);break;case 58:this.$=[];break;case 59:d[b-1].push(d[b]);break;case 64:this.$=[];break;case 65:d[b-1].push(d[b]);break;case 70:this.$=[];break;case 71:d[b-1].push(d[b]);break;case 78:this.$=[];break;case 79:d[b-1].push(d[b]);break;case 82:this.$=[];break;case 83:d[b-1].push(d[b]);break;case 86:this.$=[];break;case 87:d[b-1].push(d[b]);break;case 90:this.$=[];break;case 91:d[b-1].push(d[b]);break;case 94:this.$=[];break;case 95:d[b-1].push(d[b]);break;case 98:this.$=[d[b]];break;case 99:d[b-1].push(d[b]);break;case 100:this.$=[d[b]];break;case 101:d[b-1].push(d[b]);break}},"performAction"),table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{15:[2,48],17:39,18:[2,48]},{20:41,56:40,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:44,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:45,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:41,56:48,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:49,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,50]},{72:[1,35],86:51},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:52,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:53,38:55,39:[1,57],43:56,44:[1,58],45:54,47:[2,54]},{28:59,43:60,44:[1,58],47:[2,56]},{13:62,15:[1,20],18:[1,61]},{33:[2,86],57:63,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:64,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:65,47:[1,66]},{30:67,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:68,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:69,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:70,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:74,33:[2,80],50:71,63:72,64:75,65:[1,43],69:73,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,79]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,50]},{20:74,53:80,54:[2,84],63:81,64:75,65:[1,43],69:82,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:83,47:[1,66]},{47:[2,55]},{4:84,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:85,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:86,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:87,47:[1,66]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:74,33:[2,88],58:88,63:89,64:75,65:[1,43],69:90,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:91,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:92,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,31:93,33:[2,60],63:94,64:75,65:[1,43],69:95,70:76,71:77,72:[1,78],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,66],36:96,63:97,64:75,65:[1,43],69:98,70:76,71:77,72:[1,78],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,22:99,23:[2,52],63:100,64:75,65:[1,43],69:101,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,92],62:102,63:103,64:75,65:[1,43],69:104,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,105]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:106,72:[1,107],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,108],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,109]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:55,39:[1,57],43:56,44:[1,58],45:111,46:110,47:[2,76]},{33:[2,70],40:112,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,113]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:74,63:115,64:75,65:[1,43],67:114,68:[2,96],69:116,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,117]},{32:118,33:[2,62],74:119,75:[1,120]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:121,74:122,75:[1,120]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,123]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,124]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,108]},{20:74,63:125,64:75,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:74,33:[2,72],41:126,63:127,64:75,65:[1,43],69:128,70:76,71:77,72:[1,78],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,129]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,130]},{33:[2,63]},{72:[1,132],76:131},{33:[1,133]},{33:[2,69]},{15:[2,12],18:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:134,74:135,75:[1,120]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,137],77:[1,136]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,138]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],54:[2,55],56:[2,20],60:[2,57],73:[2,81],82:[2,85],86:[2,18],90:[2,89],101:[2,53],104:[2,93],110:[2,19],111:[2,77],116:[2,97],119:[2,63],122:[2,69],135:[2,75],136:[2,32]},parseError:i(function(o,h){throw Error(o)},"parseError"),parse:i(function(o){var h=this,p=[0],v=[null],c=[],d=this.table,y="",b=0,x=0,k=0;this.lexer.setInput(o),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,typeof this.lexer.yylloc>"u"&&(this.lexer.yylloc={});var N=this.lexer.yylloc;c.push(N);var C=this.lexer.options&&this.lexer.options.ranges;typeof this.yy.parseError=="function"&&(this.parseError=this.yy.parseError);function R(){var g=h.lexer.lex()||1;return typeof g!="number"&&(g=h.symbols_[g]||g),g}i(R,"b");for(var O,T,P,z,V={},Z,ee,$,F;;){if(T=p[p.length-1],this.defaultActions[T]?P=this.defaultActions[T]:((O===null||typeof O>"u")&&(O=R()),P=d[T]&&d[T][O]),typeof P>"u"||!P.length||!P[0]){var u="";{F=[];for(Z in d[T])this.terminals_[Z]&&Z>2&&F.push("'"+this.terminals_[Z]+"'");this.lexer.showPosition?u="Parse error on line "+(b+1)+`:
`+this.lexer.showPosition()+`
Expecting `+F.join(", ")+", got '"+(this.terminals_[O]||O)+"'":u="Parse error on line "+(b+1)+": Unexpected "+(O==1?"end of input":"'"+(this.terminals_[O]||O)+"'"),this.parseError(u,{text:this.lexer.match,token:this.terminals_[O]||O,line:this.lexer.yylineno,loc:N,expected:F})}}if(P[0]instanceof Array&&P.length>1)throw Error("Parse Error: multiple actions possible at state: "+T+", token: "+O);switch(P[0]){case 1:p.push(O),v.push(this.lexer.yytext),c.push(this.lexer.yylloc),p.push(P[1]),O=null,x=this.lexer.yyleng,y=this.lexer.yytext,b=this.lexer.yylineno,N=this.lexer.yylloc,k>0;break;case 2:if(ee=this.productions_[P[1]][1],V.$=v[v.length-ee],V._$={first_line:c[c.length-(ee||1)].first_line,last_line:c[c.length-1].last_line,first_column:c[c.length-(ee||1)].first_column,last_column:c[c.length-1].last_column},C&&(V._$.range=[c[c.length-(ee||1)].range[0],c[c.length-1].range[1]]),z=this.performAction.call(V,y,x,b,this.yy,P[1],v,c),typeof z<"u")return z;ee&&(p=p.slice(0,-1*ee*2),v=v.slice(0,-1*ee),c=c.slice(0,-1*ee)),p.push(this.productions_[P[1]][0]),v.push(V.$),c.push(V._$),$=d[p[p.length-2]][p[p.length-1]],p.push($);break;case 3:return!0}}return!0},"parse")},n=(function(){var o={EOF:1,parseError:i(function(h,p){if(this.yy.parser)this.yy.parser.parseError(h,p);else throw Error(h)},"parseError"),setInput:i(function(h){return this._input=h,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:i(function(){var h=this._input[0];this.yytext+=h,this.yyleng++,this.offset++,this.match+=h,this.matched+=h;var p=h.match(/(?:\r\n?|\n).*/g);return p?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),h},"input"),unput:i(function(h){var p=h.length,v=h.split(/(?:\r\n?|\n)/g);this._input=h+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-p-1),this.offset-=p;var c=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),v.length-1&&(this.yylineno-=v.length-1);var d=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:v?(v.length===c.length?this.yylloc.first_column:0)+c[c.length-v.length].length-v[0].length:this.yylloc.first_column-p},this.options.ranges&&(this.yylloc.range=[d[0],d[0]+this.yyleng-p]),this},"unput"),more:i(function(){return this._more=!0,this},"more"),less:i(function(h){this.unput(this.match.slice(h))},"less"),pastInput:i(function(){var h=this.matched.substr(0,this.matched.length-this.match.length);return(h.length>20?"...":"")+h.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:i(function(){var h=this.match;return h.length<20&&(h+=this._input.substr(0,20-h.length)),(h.substr(0,20)+(h.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:i(function(){var h=this.pastInput(),p=Array(h.length+1).join("-");return h+this.upcomingInput()+`
`+p+"^"},"showPosition"),next:i(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var h,p,v,c,d;this._more||(this.yytext="",this.match="");for(var y=this._currentRules(),b=0;b<y.length&&(v=this._input.match(this.rules[y[b]]),!(v&&(!p||v[0].length>p[0].length)&&(p=v,c=b,!this.options.flex)));b++);return p?(d=p[0].match(/(?:\r\n?|\n).*/g),d&&(this.yylineno+=d.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:d?d[d.length-1].length-d[d.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+p[0].length},this.yytext+=p[0],this.match+=p[0],this.matches=p,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(p[0].length),this.matched+=p[0],h=this.performAction.call(this,this.yy,this,y[c],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),h||void 0):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:i(function(){var h=this.next();return typeof h<"u"?h:this.lex()},"lex"),begin:i(function(h){this.conditionStack.push(h)},"begin"),popState:i(function(){return this.conditionStack.pop()},"popState"),_currentRules:i(function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},"_currentRules"),topState:i(function(){return this.conditionStack[this.conditionStack.length-2]},"topState"),pushState:i(function(h){this.begin(h)},"pushState")};return o.options={},o.performAction=function(h,p,v,c){function d(y,b){return p.yytext=p.yytext.substring(y,p.yyleng-b+y)}switch(i(d,"w"),v){case 0:if(p.yytext.slice(-2)==="\\\\"?(d(0,1),this.begin("mu")):p.yytext.slice(-1)==="\\"?(d(0,1),this.begin("emu")):this.begin("mu"),p.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),this.conditionStack[this.conditionStack.length-1]==="raw"?15:(d(5,9),"END_RAW_BLOCK");case 5:return 15;case 6:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:return this.popState(),44;case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(p.yytext),this.popState(),this.begin("com");break;case 22:return this.popState(),14;case 23:return 48;case 24:return 73;case 25:return 72;case 26:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return p.yytext=d(1,2).replace(/\\"/g,'"'),80;case 32:return p.yytext=d(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:return 82;case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return p.yytext=p.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},o.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]+?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],o.conditions={mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}},o})();a.lexer=n;function s(){this.yy={}}return i(s,"K"),s.prototype=a,a.Parser=s,new s})();e.default=r,t.exports=e.default}),Uv=rt((e,t)=>{e.__esModule=!0;function r(v){return v&&v.__esModule?v:{default:v}}i(r,"ay");var a=Oi(),n=r(a);function s(){this.parents=[]}i(s,"Jj"),s.prototype={constructor:s,mutating:!1,acceptKey:i(function(v,c){var d=this.accept(v[c]);if(this.mutating){if(d&&!s.prototype[d.type])throw new n.default('Unexpected node type "'+d.type+'" found when accepting '+c+" on "+v.type);v[c]=d}},"acceptKey"),acceptRequired:i(function(v,c){if(this.acceptKey(v,c),!v[c])throw new n.default(v.type+" requires "+c)},"acceptRequired"),acceptArray:i(function(v){for(var c=0,d=v.length;c<d;c++)this.acceptKey(v,c),!v[c]&&(v.splice(c,1),c--,d--)},"acceptArray"),accept:i(function(v){if(v){if(!this[v.type])throw new n.default("Unknown type: "+v.type,v);this.current&&this.parents.unshift(this.current),this.current=v;var c=this[v.type](v);if(this.current=this.parents.shift(),!this.mutating||c)return c;if(c!==!1)return v}},"accept"),Program:i(function(v){this.acceptArray(v.body)},"Program"),MustacheStatement:o,Decorator:o,BlockStatement:h,DecoratorBlock:h,PartialStatement:p,PartialBlockStatement:i(function(v){p.call(this,v),this.acceptKey(v,"program")},"PartialBlockStatement"),ContentStatement:i(function(){},"ContentStatement"),CommentStatement:i(function(){},"CommentStatement"),SubExpression:o,PathExpression:i(function(){},"PathExpression"),StringLiteral:i(function(){},"StringLiteral"),NumberLiteral:i(function(){},"NumberLiteral"),BooleanLiteral:i(function(){},"BooleanLiteral"),UndefinedLiteral:i(function(){},"UndefinedLiteral"),NullLiteral:i(function(){},"NullLiteral"),Hash:i(function(v){this.acceptArray(v.pairs)},"Hash"),HashPair:i(function(v){this.acceptRequired(v,"value")},"HashPair")};function o(v){this.acceptRequired(v,"path"),this.acceptArray(v.params),this.acceptKey(v,"hash")}i(o,"Tj");function h(v){o.call(this,v),this.acceptKey(v,"program"),this.acceptKey(v,"inverse")}i(h,"dA");function p(v){this.acceptRequired(v,"name"),this.acceptArray(v.params),this.acceptKey(v,"hash")}i(p,"lA"),e.default=s,t.exports=e.default}),UL=rt((e,t)=>{e.__esModule=!0;function r(c){return c&&c.__esModule?c:{default:c}}i(r,"$p");var a=Uv(),n=r(a);function s(){var c=arguments.length<=0||arguments[0]===void 0?{}:arguments[0];this.options=c}i(s,"o8"),s.prototype=new n.default,s.prototype.Program=function(c){var d=!this.options.ignoreStandalone,y=!this.isRootSeen;this.isRootSeen=!0;for(var b=c.body,x=0,k=b.length;x<k;x++){var N=b[x],C=this.accept(N);if(C){var R=o(b,x,y),O=h(b,x,y),T=C.openStandalone&&R,P=C.closeStandalone&&O,z=C.inlineStandalone&&R&&O;C.close&&p(b,x,!0),C.open&&v(b,x,!0),d&&z&&(p(b,x),v(b,x)&&N.type==="PartialStatement"&&(N.indent=/([ \t]+$)/.exec(b[x-1].original)[1])),d&&T&&(p((N.program||N.inverse).body),v(b,x)),d&&P&&(p(b,x),v((N.inverse||N.program).body))}}return c},s.prototype.BlockStatement=s.prototype.DecoratorBlock=s.prototype.PartialBlockStatement=function(c){this.accept(c.program),this.accept(c.inverse);var d=c.program||c.inverse,y=c.program&&c.inverse,b=y,x=y;if(y&&y.chained)for(b=y.body[0].program;x.chained;)x=x.body[x.body.length-1].program;var k={open:c.openStrip.open,close:c.closeStrip.close,openStandalone:h(d.body),closeStandalone:o((b||d).body)};if(c.openStrip.close&&p(d.body,null,!0),y){var N=c.inverseStrip;N.open&&v(d.body,null,!0),N.close&&p(b.body,null,!0),c.closeStrip.open&&v(x.body,null,!0),!this.options.ignoreStandalone&&o(d.body)&&h(b.body)&&(v(d.body),p(b.body))}else c.closeStrip.open&&v(d.body,null,!0);return k},s.prototype.Decorator=s.prototype.MustacheStatement=function(c){return c.strip},s.prototype.PartialStatement=s.prototype.CommentStatement=function(c){var d=c.strip||{};return{inlineStandalone:!0,open:d.open,close:d.close}};function o(c,d,y){d===void 0&&(d=c.length);var b=c[d-1],x=c[d-2];if(!b)return y;if(b.type==="ContentStatement")return(x||!y?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(b.original)}i(o,"rz");function h(c,d,y){d===void 0&&(d=-1);var b=c[d+1],x=c[d+2];if(!b)return y;if(b.type==="ContentStatement")return(x||!y?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(b.original)}i(h,"nz");function p(c,d,y){var b=c[d==null?0:d+1];if(!(!b||b.type!=="ContentStatement"||!y&&b.rightStripped)){var x=b.value;b.value=b.value.replace(y?/^\s+/:/^[ \t]*\r?\n?/,""),b.rightStripped=b.value!==x}}i(p,"w_");function v(c,d,y){var b=c[d==null?c.length-1:d-1];if(!(!b||b.type!=="ContentStatement"||!y&&b.leftStripped)){var x=b.value;return b.value=b.value.replace(y?/\s+$/:/[ \t]+$/,""),b.leftStripped=b.value!==x,b.leftStripped}}i(v,"pK"),e.default=s,t.exports=e.default}),FL=rt(e=>{e.__esModule=!0,e.SourceLocation=s,e.id=o,e.stripFlags=h,e.stripComment=p,e.preparePath=v,e.prepareMustache=c,e.prepareRawBlock=d,e.prepareBlock=y,e.prepareProgram=b,e.preparePartialBlock=x;function t(k){return k&&k.__esModule?k:{default:k}}i(t,"jp");var r=Oi(),a=t(r);function n(k,N){if(N=N.path?N.path.original:N,k.path.original!==N){var C={loc:k.path.loc};throw new a.default(k.path.original+" doesn't match "+N,C)}}i(n,"tz");function s(k,N){this.source=k,this.start={line:N.first_line,column:N.first_column},this.end={line:N.last_line,column:N.last_column}}i(s,"Yp");function o(k){return/^\[.*\]$/.test(k)?k.substring(1,k.length-1):k}i(o,"vp");function h(k,N){return{open:k.charAt(2)==="~",close:N.charAt(N.length-3)==="~"}}i(h,"zp");function p(k){return k.replace(/^\{\{~?!-?-?/,"").replace(/-?-?~?\}\}$/,"")}i(p,"Wp");function v(k,N,C){C=this.locInfo(C);for(var R=k?"@":"",O=[],T=0,P=0,z=N.length;P<z;P++){var V=N[P].part,Z=N[P].original!==V;if(R+=(N[P].separator||"")+V,!Z&&(V===".."||V==="."||V==="this")){if(O.length>0)throw new a.default("Invalid path: "+R,{loc:C});V===".."&&T++}else O.push(V)}return{type:"PathExpression",data:k,depth:T,parts:O,original:R,loc:C}}i(v,"Hp");function c(k,N,C,R,O,T){var P=R.charAt(3)||R.charAt(2),z=P!=="{"&&P!=="&",V=/\*/.test(R);return{type:V?"Decorator":"MustacheStatement",path:k,params:N,hash:C,escaped:z,strip:O,loc:this.locInfo(T)}}i(c,"Jp");function d(k,N,C,R){n(k,C),R=this.locInfo(R);var O={type:"Program",body:N,strip:{},loc:R};return{type:"BlockStatement",path:k.path,params:k.params,hash:k.hash,program:O,openStrip:{},inverseStrip:{},closeStrip:{},loc:R}}i(d,"Tp");function y(k,N,C,R,O,T){R&&R.path&&n(k,R);var P=/\*/.test(k.open);N.blockParams=k.blockParams;var z=void 0,V=void 0;if(C){if(P)throw new a.default("Unexpected inverse block on decorator",C);C.chain&&(C.program.body[0].closeStrip=R.strip),V=C.strip,z=C.program}return O&&(O=z,z=N,N=O),{type:P?"DecoratorBlock":"BlockStatement",path:k.path,params:k.params,hash:k.hash,program:N,inverse:z,openStrip:k.strip,inverseStrip:V,closeStrip:R&&R.strip,loc:this.locInfo(T)}}i(y,"wp");function b(k,N){if(!N&&k.length){var C=k[0].loc,R=k[k.length-1].loc;C&&R&&(N={source:C.source,start:{line:C.start.line,column:C.start.column},end:{line:R.end.line,column:R.end.column}})}return{type:"Program",body:k,strip:{},loc:N}}i(b,"Zp");function x(k,N,C,R){return n(k,C),{type:"PartialBlockStatement",name:k.path,params:k.params,hash:k.hash,program:N,openStrip:k.strip,closeStrip:C&&C.strip,loc:this.locInfo(R)}}i(x,"Xp")}),$L=rt(e=>{e.__esModule=!0,e.parseWithoutProcessing=d,e.parse=y;function t(b){if(b&&b.__esModule)return b;var x={};if(b!=null)for(var k in b)Object.prototype.hasOwnProperty.call(b,k)&&(x[k]=b[k]);return x.default=b,x}i(t,"Ip");function r(b){return b&&b.__esModule?b:{default:b}}i(r,"UA");var a=zL(),n=r(a),s=UL(),o=r(s),h=FL(),p=t(h),v=Gr();e.parser=n.default;var c={};v.extend(c,p);function d(b,x){if(b.type==="Program")return b;n.default.yy=c,c.locInfo=function(N){return new c.SourceLocation(x&&x.srcName,N)};var k=n.default.parse(b);return k}i(d,"FA");function y(b,x){var k=d(b,x),N=new o.default(x);return N.accept(k)}i(y,"pp")}),GL=rt(e=>{e.__esModule=!0,e.Compiler=p,e.precompile=v,e.compile=c;function t(b){return b&&b.__esModule?b:{default:b}}i(t,"eA");var r=Oi(),a=t(r),n=Gr(),s=n9(),o=t(s),h=[].slice;function p(){}i(p,"Uz"),p.prototype={compiler:p,equals:i(function(b){var x=this.opcodes.length;if(b.opcodes.length!==x)return!1;for(var k=0;k<x;k++){var N=this.opcodes[k],C=b.opcodes[k];if(N.opcode!==C.opcode||!d(N.args,C.args))return!1}x=this.children.length;for(var k=0;k<x;k++)if(!this.children[k].equals(b.children[k]))return!1;return!0},"equals"),guid:0,compile:i(function(b,x){return this.sourceNode=[],this.opcodes=[],this.children=[],this.options=x,this.stringParams=x.stringParams,this.trackIds=x.trackIds,x.blockParams=x.blockParams||[],x.knownHelpers=n.extend(Object.create(null),{helperMissing:!0,blockHelperMissing:!0,each:!0,if:!0,unless:!0,with:!0,log:!0,lookup:!0},x.knownHelpers),this.accept(b)},"compile"),compileProgram:i(function(b){var x=new this.compiler,k=x.compile(b,this.options),N=this.guid++;return this.usePartial=this.usePartial||k.usePartial,this.children[N]=k,this.useDepths=this.useDepths||k.useDepths,N},"compileProgram"),accept:i(function(b){if(!this[b.type])throw new a.default("Unknown type: "+b.type,b);this.sourceNode.unshift(b);var x=this[b.type](b);return this.sourceNode.shift(),x},"accept"),Program:i(function(b){this.options.blockParams.unshift(b.blockParams);for(var x=b.body,k=x.length,N=0;N<k;N++)this.accept(x[N]);return this.options.blockParams.shift(),this.isSimple=k===1,this.blockParams=b.blockParams?b.blockParams.length:0,this},"Program"),BlockStatement:i(function(b){y(b);var{program:x,inverse:k}=b;x=x&&this.compileProgram(x),k=k&&this.compileProgram(k);var N=this.classifySexpr(b);N==="helper"?this.helperSexpr(b,x,k):N==="simple"?(this.simpleSexpr(b),this.opcode("pushProgram",x),this.opcode("pushProgram",k),this.opcode("emptyHash"),this.opcode("blockValue",b.path.original)):(this.ambiguousSexpr(b,x,k),this.opcode("pushProgram",x),this.opcode("pushProgram",k),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},"BlockStatement"),DecoratorBlock:i(function(b){var x=b.program&&this.compileProgram(b.program),k=this.setupFullMustacheParams(b,x,void 0),N=b.path;this.useDecorators=!0,this.opcode("registerDecorator",k.length,N.original)},"DecoratorBlock"),PartialStatement:i(function(b){this.usePartial=!0;var x=b.program;x&&(x=this.compileProgram(b.program));var k=b.params;if(k.length>1)throw new a.default("Unsupported number of partial arguments: "+k.length,b);k.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):k.push({type:"PathExpression",parts:[],depth:0}));var N=b.name.original,C=b.name.type==="SubExpression";C&&this.accept(b.name),this.setupFullMustacheParams(b,x,void 0,!0);var R=b.indent||"";this.options.preventIndent&&R&&(this.opcode("appendContent",R),R=""),this.opcode("invokePartial",C,N,R),this.opcode("append")},"PartialStatement"),PartialBlockStatement:i(function(b){this.PartialStatement(b)},"PartialBlockStatement"),MustacheStatement:i(function(b){this.SubExpression(b),b.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},"MustacheStatement"),Decorator:i(function(b){this.DecoratorBlock(b)},"Decorator"),ContentStatement:i(function(b){b.value&&this.opcode("appendContent",b.value)},"ContentStatement"),CommentStatement:i(function(){},"CommentStatement"),SubExpression:i(function(b){y(b);var x=this.classifySexpr(b);x==="simple"?this.simpleSexpr(b):x==="helper"?this.helperSexpr(b):this.ambiguousSexpr(b)},"SubExpression"),ambiguousSexpr:i(function(b,x,k){var N=b.path,C=N.parts[0],R=x!=null||k!=null;this.opcode("getContext",N.depth),this.opcode("pushProgram",x),this.opcode("pushProgram",k),N.strict=!0,this.accept(N),this.opcode("invokeAmbiguous",C,R)},"ambiguousSexpr"),simpleSexpr:i(function(b){var x=b.path;x.strict=!0,this.accept(x),this.opcode("resolvePossibleLambda")},"simpleSexpr"),helperSexpr:i(function(b,x,k){var N=this.setupFullMustacheParams(b,x,k),C=b.path,R=C.parts[0];if(this.options.knownHelpers[R])this.opcode("invokeKnownHelper",N.length,R);else{if(this.options.knownHelpersOnly)throw new a.default("You specified knownHelpersOnly, but used the unknown helper "+R,b);C.strict=!0,C.falsy=!0,this.accept(C),this.opcode("invokeHelper",N.length,C.original,o.default.helpers.simpleId(C))}},"helperSexpr"),PathExpression:i(function(b){this.addDepth(b.depth),this.opcode("getContext",b.depth);var x=b.parts[0],k=o.default.helpers.scopedId(b),N=!b.depth&&!k&&this.blockParamIndex(x);N?this.opcode("lookupBlockParam",N,b.parts):x?b.data?(this.options.data=!0,this.opcode("lookupData",b.depth,b.parts,b.strict)):this.opcode("lookupOnContext",b.parts,b.falsy,b.strict,k):this.opcode("pushContext")},"PathExpression"),StringLiteral:i(function(b){this.opcode("pushString",b.value)},"StringLiteral"),NumberLiteral:i(function(b){this.opcode("pushLiteral",b.value)},"NumberLiteral"),BooleanLiteral:i(function(b){this.opcode("pushLiteral",b.value)},"BooleanLiteral"),UndefinedLiteral:i(function(){this.opcode("pushLiteral","undefined")},"UndefinedLiteral"),NullLiteral:i(function(){this.opcode("pushLiteral","null")},"NullLiteral"),Hash:i(function(b){var x=b.pairs,k=0,N=x.length;for(this.opcode("pushHash");k<N;k++)this.pushParam(x[k].value);for(;k--;)this.opcode("assignToHash",x[k].key);this.opcode("popHash")},"Hash"),opcode:i(function(b){this.opcodes.push({opcode:b,args:h.call(arguments,1),loc:this.sourceNode[0].loc})},"opcode"),addDepth:i(function(b){b&&(this.useDepths=!0)},"addDepth"),classifySexpr:i(function(b){var x=o.default.helpers.simpleId(b.path),k=x&&!!this.blockParamIndex(b.path.parts[0]),N=!k&&o.default.helpers.helperExpression(b),C=!k&&(N||x);if(C&&!N){var R=b.path.parts[0],O=this.options;O.knownHelpers[R]?N=!0:O.knownHelpersOnly&&(C=!1)}return N?"helper":C?"ambiguous":"simple"},"classifySexpr"),pushParams:i(function(b){for(var x=0,k=b.length;x<k;x++)this.pushParam(b[x])},"pushParams"),pushParam:i(function(b){var x=b.value!=null?b.value:b.original||"";if(this.stringParams)x.replace&&(x=x.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),b.depth&&this.addDepth(b.depth),this.opcode("getContext",b.depth||0),this.opcode("pushStringParam",x,b.type),b.type==="SubExpression"&&this.accept(b);else{if(this.trackIds){var k=void 0;if(b.parts&&!o.default.helpers.scopedId(b)&&!b.depth&&(k=this.blockParamIndex(b.parts[0])),k){var N=b.parts.slice(1).join(".");this.opcode("pushId","BlockParam",k,N)}else x=b.original||x,x.replace&&(x=x.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",b.type,x)}this.accept(b)}},"pushParam"),setupFullMustacheParams:i(function(b,x,k,N){var C=b.params;return this.pushParams(C),this.opcode("pushProgram",x),this.opcode("pushProgram",k),b.hash?this.accept(b.hash):this.opcode("emptyHash",N),C},"setupFullMustacheParams"),blockParamIndex:i(function(b){for(var x=0,k=this.options.blockParams.length;x<k;x++){var N=this.options.blockParams[x],C=N&&n.indexOf(N,b);if(N&&C>=0)return[x,C]}},"blockParamIndex")};function v(b,x,k){if(b==null||typeof b!="string"&&b.type!=="Program")throw new a.default("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+b);x=x||{},!("data"in x)&&(x.data=!0),x.compat&&(x.useDepths=!0);var N=k.parse(b,x),C=new k.Compiler().compile(N,x);return new k.JavaScriptCompiler().compile(C,x)}i(v,"ip");function c(b,x,k){if(x===void 0&&(x={}),b==null||typeof b!="string"&&b.type!=="Program")throw new a.default("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+b);x=n.extend({},x),!("data"in x)&&(x.data=!0),x.compat&&(x.useDepths=!0);var N=void 0;function C(){var O=k.parse(b,x),T=new k.Compiler().compile(O,x),P=new k.JavaScriptCompiler().compile(T,x,void 0,!0);return k.template(P)}i(C,"_");function R(O,T){return N||(N=C()),N.call(this,O,T)}return i(R,"O"),R._setup=function(O){return N||(N=C()),N._setup(O)},R._child=function(O,T,P,z){return N||(N=C()),N._child(O,T,P,z)},R}i(c,"tp");function d(b,x){if(b===x)return!0;if(n.isArray(b)&&n.isArray(x)&&b.length===x.length){for(var k=0;k<b.length;k++)if(!d(b[k],x[k]))return!1;return!0}}i(d,"sA");function y(b){if(!b.path.parts){var x=b.path;b.path={type:"PathExpression",data:!1,depth:0,parts:[x.original+""],original:x.original+"",loc:x.loc}}}i(y,"QA")}),VL=rt(e=>{var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");e.encode=function(r){if(0<=r&&r<t.length)return t[r];throw TypeError("Must be between 0 and 63: "+r)},e.decode=function(r){var a=65,n=90,s=97,o=122,h=48,p=57,v=43,c=47,d=26,y=52;return a<=r&&r<=n?r-a:s<=r&&r<=o?r-s+d:h<=r&&r<=p?r-h+y:r==v?62:r==c?63:-1}}),a9=rt(e=>{var t=VL(),r=5,a=1<<r,n=a-1,s=a;function o(p){return p<0?(-p<<1)+1:(p<<1)+0}i(o,"qx");function h(p){var v=(p&1)===1,c=p>>1;return v?-c:c}i(h,"Kx"),e.encode=function(p){var v="",c,d=o(p);do c=d&n,d>>>=r,d>0&&(c|=s),v+=t.encode(c);while(d>0);return v},e.decode=function(p,v,c){var d=p.length,y=0,b=0,x,k;do{if(v>=d)throw Error("Expected more digits in base 64 VLQ value.");if(k=t.decode(p.charCodeAt(v++)),k===-1)throw Error("Invalid base64 digit: "+p.charAt(v-1));x=!!(k&s),k&=n,y=y+(k<<b),b+=r}while(x);c.value=h(y),c.rest=v}}),ll=rt(e=>{function t(T,P,z){if(P in T)return T[P];if(arguments.length===3)return z;throw Error('"'+P+'" is a required argument.')}i(t,"Ox"),e.getArg=t;var r=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,a=/^data:.+\,.+$/;function n(T){var P=T.match(r);return P?{scheme:P[1],auth:P[2],host:P[3],port:P[4],path:P[5]}:null}i(n,"X7"),e.urlParse=n;function s(T){var P="";return T.scheme&&(P+=T.scheme+":"),P+="//",T.auth&&(P+=T.auth+"@"),T.host&&(P+=T.host),T.port&&(P+=":"+T.port),T.path&&(P+=T.path),P}i(s,"X4"),e.urlGenerate=s;function o(T){var P=T,z=n(T);if(z){if(!z.path)return T;P=z.path}for(var V=e.isAbsolute(P),Z=P.split(/\/+/),ee,$=0,F=Z.length-1;F>=0;F--)ee=Z[F],ee==="."?Z.splice(F,1):ee===".."?$++:$>0&&(ee===""?(Z.splice(F+1,$),$=0):(Z.splice(F,2),$--));return P=Z.join("/"),P===""&&(P=V?"/":"."),z?(z.path=P,s(z)):P}i(o,"Qz"),e.normalize=o;function h(T,P){T===""&&(T="."),P===""&&(P=".");var z=n(P),V=n(T);if(V&&(T=V.path||"/"),z&&!z.scheme)return V&&(z.scheme=V.scheme),s(z);if(z||P.match(a))return P;if(V&&!V.host&&!V.path)return V.host=P,s(V);var Z=P.charAt(0)==="/"?P:o(T.replace(/\/+$/,"")+"/"+P);return V?(V.path=Z,s(V)):Z}i(h,"vG"),e.join=h,e.isAbsolute=function(T){return T.charAt(0)==="/"||r.test(T)};function p(T,P){T===""&&(T="."),T=T.replace(/\/$/,"");for(var z=0;P.indexOf(T+"/")!==0;){var V=T.lastIndexOf("/");if(V<0||(T=T.slice(0,V),T.match(/^([^\/]+:\/)?\/*$/)))return P;++z}return Array(z+1).join("../")+P.substr(T.length+1)}i(p,"vx"),e.relative=p;var v=(function(){var T=Object.create(null);return!("__proto__"in T)})();function c(T){return T}i(c,"WG");function d(T){return b(T)?"$"+T:T}i(d,"zx"),e.toSetString=v?c:d;function y(T){return b(T)?T.slice(1):T}i(y,"Wx"),e.fromSetString=v?c:y;function b(T){if(!T)return!1;var P=T.length;if(P<9||T.charCodeAt(P-1)!==95||T.charCodeAt(P-2)!==95||T.charCodeAt(P-3)!==111||T.charCodeAt(P-4)!==116||T.charCodeAt(P-5)!==111||T.charCodeAt(P-6)!==114||T.charCodeAt(P-7)!==112||T.charCodeAt(P-8)!==95||T.charCodeAt(P-9)!==95)return!1;for(var z=P-10;z>=0;z--)if(T.charCodeAt(z)!==36)return!1;return!0}i(b,"HG");function x(T,P,z){var V=N(T.source,P.source);return V!==0||(V=T.originalLine-P.originalLine,V!==0)||(V=T.originalColumn-P.originalColumn,V!==0||z)||(V=T.generatedColumn-P.generatedColumn,V!==0)||(V=T.generatedLine-P.generatedLine,V!==0)?V:N(T.name,P.name)}i(x,"Hx"),e.compareByOriginalPositions=x;function k(T,P,z){var V=T.generatedLine-P.generatedLine;return V!==0||(V=T.generatedColumn-P.generatedColumn,V!==0||z)||(V=N(T.source,P.source),V!==0)||(V=T.originalLine-P.originalLine,V!==0)||(V=T.originalColumn-P.originalColumn,V!==0)?V:N(T.name,P.name)}i(k,"Jx"),e.compareByGeneratedPositionsDeflated=k;function N(T,P){return T===P?0:T===null?1:P===null?-1:T>P?1:-1}i(N,"f4");function C(T,P){var z=T.generatedLine-P.generatedLine;return z!==0||(z=T.generatedColumn-P.generatedColumn,z!==0)||(z=N(T.source,P.source),z!==0)||(z=T.originalLine-P.originalLine,z!==0)||(z=T.originalColumn-P.originalColumn,z!==0)?z:N(T.name,P.name)}i(C,"Tx"),e.compareByGeneratedPositionsInflated=C;function R(T){return JSON.parse(T.replace(/^\)]}'[^\n]*\n/,""))}i(R,"wx"),e.parseSourceMapInput=R;function O(T,P,z){if(P=P||"",T&&(T[T.length-1]!=="/"&&P[0]!=="/"&&(T+="/"),P=T+P),z){var V=n(z);if(!V)throw Error("sourceMapURL could not be parsed");if(V.path){var Z=V.path.lastIndexOf("/");Z>=0&&(V.path=V.path.substring(0,Z+1))}P=h(s(V),P)}return o(P)}i(O,"Zx"),e.computeSourceURL=O}),s9=rt(e=>{var t=ll(),r=Object.prototype.hasOwnProperty,a=typeof Map<"u";function n(){this._array=[],this._set=a?new Map:Object.create(null)}i(n,"JK"),n.fromArray=function(s,o){for(var h=new n,p=0,v=s.length;p<v;p++)h.add(s[p],o);return h},n.prototype.size=function(){return a?this._set.size:Object.getOwnPropertyNames(this._set).length},n.prototype.add=function(s,o){var h=a?s:t.toSetString(s),p=a?this.has(s):r.call(this._set,h),v=this._array.length;(!p||o)&&this._array.push(s),p||(a?this._set.set(s,v):this._set[h]=v)},n.prototype.has=function(s){if(a)return this._set.has(s);var o=t.toSetString(s);return r.call(this._set,o)},n.prototype.indexOf=function(s){if(a){var o=this._set.get(s);if(o>=0)return o}else{var h=t.toSetString(s);if(r.call(this._set,h))return this._set[h]}throw Error('"'+s+'" is not in the set.')},n.prototype.at=function(s){if(s>=0&&s<this._array.length)return this._array[s];throw Error("No element indexed by "+s)},n.prototype.toArray=function(){return this._array.slice()},e.ArraySet=n}),ZL=rt(e=>{var t=ll();function r(n,s){var o=n.generatedLine,h=s.generatedLine,p=n.generatedColumn,v=s.generatedColumn;return h>o||h==o&&v>=p||t.compareByGeneratedPositionsInflated(n,s)<=0}i(r,"bx");function a(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}i(a,"Xj"),a.prototype.unsortedForEach=function(n,s){this._array.forEach(n,s)},a.prototype.add=function(n){r(this._last,n)?(this._last=n,this._array.push(n)):(this._sorted=!1,this._array.push(n))},a.prototype.toArray=function(){return this._sorted||(this._array.sort(t.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},e.MappingList=a}),o9=rt(e=>{var t=a9(),r=ll(),a=s9().ArraySet,n=ZL().MappingList;function s(o){o||(o={}),this._file=r.getArg(o,"file",null),this._sourceRoot=r.getArg(o,"sourceRoot",null),this._skipValidation=r.getArg(o,"skipValidation",!1),this._sources=new a,this._names=new a,this._mappings=new n,this._sourcesContents=null}i(s,"T8"),s.prototype._version=3,s.fromSourceMap=function(o){var h=o.sourceRoot,p=new s({file:o.file,sourceRoot:h});return o.eachMapping(function(v){var c={generated:{line:v.generatedLine,column:v.generatedColumn}};v.source!=null&&(c.source=v.source,h!=null&&(c.source=r.relative(h,c.source)),c.original={line:v.originalLine,column:v.originalColumn},v.name!=null&&(c.name=v.name)),p.addMapping(c)}),o.sources.forEach(function(v){var c=v;h!==null&&(c=r.relative(h,v)),p._sources.has(c)||p._sources.add(c);var d=o.sourceContentFor(v);d!=null&&p.setSourceContent(v,d)}),p},s.prototype.addMapping=function(o){var h=r.getArg(o,"generated"),p=r.getArg(o,"original",null),v=r.getArg(o,"source",null),c=r.getArg(o,"name",null);this._skipValidation||this._validateMapping(h,p,v,c),v!=null&&(v=String(v),!this._sources.has(v)&&this._sources.add(v)),c!=null&&(c=String(c),!this._names.has(c)&&this._names.add(c)),this._mappings.add({generatedLine:h.line,generatedColumn:h.column,originalLine:p!=null&&p.line,originalColumn:p!=null&&p.column,source:v,name:c})},s.prototype.setSourceContent=function(o,h){var p=o;this._sourceRoot!=null&&(p=r.relative(this._sourceRoot,p)),h!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[r.toSetString(p)]=h):this._sourcesContents&&(delete this._sourcesContents[r.toSetString(p)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))},s.prototype.applySourceMap=function(o,h,p){var v=h;if(h==null){if(o.file==null)throw Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);v=o.file}var c=this._sourceRoot;c!=null&&(v=r.relative(c,v));var d=new a,y=new a;this._mappings.unsortedForEach(function(b){if(b.source===v&&b.originalLine!=null){var x=o.originalPositionFor({line:b.originalLine,column:b.originalColumn});x.source!=null&&(b.source=x.source,p!=null&&(b.source=r.join(p,b.source)),c!=null&&(b.source=r.relative(c,b.source)),b.originalLine=x.line,b.originalColumn=x.column,x.name!=null&&(b.name=x.name))}var k=b.source;k!=null&&!d.has(k)&&d.add(k);var N=b.name;N!=null&&!y.has(N)&&y.add(N)},this),this._sources=d,this._names=y,o.sources.forEach(function(b){var x=o.sourceContentFor(b);x!=null&&(p!=null&&(b=r.join(p,b)),c!=null&&(b=r.relative(c,b)),this.setSourceContent(b,x))},this)},s.prototype._validateMapping=function(o,h,p,v){if(h&&typeof h.line!="number"&&typeof h.column!="number")throw Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(o&&"line"in o&&"column"in o&&o.line>0&&o.column>=0&&!h&&!p&&!v)){if(o&&"line"in o&&"column"in o&&h&&"line"in h&&"column"in h&&o.line>0&&o.column>=0&&h.line>0&&h.column>=0&&p)return;throw Error("Invalid mapping: "+JSON.stringify({generated:o,source:p,original:h,name:v}))}},s.prototype._serializeMappings=function(){for(var o=0,h=1,p=0,v=0,c=0,d=0,y="",b,x,k,N,C=this._mappings.toArray(),R=0,O=C.length;R<O;R++){if(x=C[R],b="",x.generatedLine!==h)for(o=0;x.generatedLine!==h;)b+=";",h++;else if(R>0){if(!r.compareByGeneratedPositionsInflated(x,C[R-1]))continue;b+=","}b+=t.encode(x.generatedColumn-o),o=x.generatedColumn,x.source!=null&&(N=this._sources.indexOf(x.source),b+=t.encode(N-d),d=N,b+=t.encode(x.originalLine-1-v),v=x.originalLine-1,b+=t.encode(x.originalColumn-p),p=x.originalColumn,x.name!=null&&(k=this._names.indexOf(x.name),b+=t.encode(k-c),c=k)),y+=b}return y},s.prototype._generateSourcesContent=function(o,h){return o.map(function(p){if(!this._sourcesContents)return null;h!=null&&(p=r.relative(h,p));var v=r.toSetString(p);return Object.prototype.hasOwnProperty.call(this._sourcesContents,v)?this._sourcesContents[v]:null},this)},s.prototype.toJSON=function(){var o={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(o.file=this._file),this._sourceRoot!=null&&(o.sourceRoot=this._sourceRoot),this._sourcesContents&&(o.sourcesContent=this._generateSourcesContent(o.sources,o.sourceRoot)),o},s.prototype.toString=function(){return JSON.stringify(this.toJSON())},e.SourceMapGenerator=s}),HL=rt(e=>{e.GREATEST_LOWER_BOUND=1,e.LEAST_UPPER_BOUND=2;function t(r,a,n,s,o,h){var p=Math.floor((a-r)/2)+r,v=o(n,s[p],!0);return v===0?p:v>0?a-p>1?t(p,a,n,s,o,h):h==e.LEAST_UPPER_BOUND?a<s.length?a:-1:p:p-r>1?t(r,p,n,s,o,h):h==e.LEAST_UPPER_BOUND?p:r<0?-1:r}i(t,"KW"),e.search=function(r,a,n,s){if(a.length===0)return-1;var o=t(-1,a.length,r,a,n,s||e.GREATEST_LOWER_BOUND);if(o<0)return-1;for(;o-1>=0&&n(a[o],a[o-1],!0)===0;)--o;return o}}),JL=rt(e=>{function t(n,s,o){var h=n[s];n[s]=n[o],n[o]=h}i(t,"PW");function r(n,s){return Math.round(n+Math.random()*(s-n))}i(r,"lx");function a(n,s,o,h){if(o<h){var p=r(o,h),v=o-1;t(n,p,h);for(var c=n[h],d=o;d<h;d++)s(n[d],c)<=0&&(v+=1,t(n,v,d));t(n,v+1,d);var y=v+1;a(n,s,o,y-1),a(n,s,y+1,h)}}i(a,"jW"),e.quickSort=function(n,s){a(n,s,0,n.length-1)}}),qL=rt(e=>{var t=ll(),r=HL(),a=s9().ArraySet,n=a9(),s=JL().quickSort;function o(c,d){var y=c;return typeof c=="string"&&(y=t.parseSourceMapInput(c)),y.sections!=null?new v(y,d):new h(y,d)}i(o,"C6"),o.fromSourceMap=function(c,d){return h.fromSourceMap(c,d)},o.prototype._version=3,o.prototype.__generatedMappings=null,Object.defineProperty(o.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:i(function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings},"get")}),o.prototype.__originalMappings=null,Object.defineProperty(o.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:i(function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings},"get")}),o.prototype._charIsMappingSeparator=function(c,d){var y=c.charAt(d);return y===";"||y===","},o.prototype._parseMappings=function(c,d){throw Error("Subclasses must implement _parseMappings")},o.GENERATED_ORDER=1,o.ORIGINAL_ORDER=2,o.GREATEST_LOWER_BOUND=1,o.LEAST_UPPER_BOUND=2,o.prototype.eachMapping=function(c,d,y){var b=d||null,x=y||o.GENERATED_ORDER,k;switch(x){case o.GENERATED_ORDER:k=this._generatedMappings;break;case o.ORIGINAL_ORDER:k=this._originalMappings;break;default:throw Error("Unknown order of iteration.")}var N=this.sourceRoot;k.map(function(C){var R=C.source===null?null:this._sources.at(C.source);return R=t.computeSourceURL(N,R,this._sourceMapURL),{source:R,generatedLine:C.generatedLine,generatedColumn:C.generatedColumn,originalLine:C.originalLine,originalColumn:C.originalColumn,name:C.name===null?null:this._names.at(C.name)}},this).forEach(c,b)},o.prototype.allGeneratedPositionsFor=function(c){var d=t.getArg(c,"line"),y={source:t.getArg(c,"source"),originalLine:d,originalColumn:t.getArg(c,"column",0)};if(y.source=this._findSourceIndex(y.source),y.source<0)return[];var b=[],x=this._findMapping(y,this._originalMappings,"originalLine","originalColumn",t.compareByOriginalPositions,r.LEAST_UPPER_BOUND);if(x>=0){var k=this._originalMappings[x];if(c.column===void 0)for(var N=k.originalLine;k&&k.originalLine===N;)b.push({line:t.getArg(k,"generatedLine",null),column:t.getArg(k,"generatedColumn",null),lastColumn:t.getArg(k,"lastGeneratedColumn",null)}),k=this._originalMappings[++x];else for(var C=k.originalColumn;k&&k.originalLine===d&&k.originalColumn==C;)b.push({line:t.getArg(k,"generatedLine",null),column:t.getArg(k,"generatedColumn",null),lastColumn:t.getArg(k,"lastGeneratedColumn",null)}),k=this._originalMappings[++x]}return b},e.SourceMapConsumer=o;function h(c,d){var y=c;typeof c=="string"&&(y=t.parseSourceMapInput(c));var b=t.getArg(y,"version"),x=t.getArg(y,"sources"),k=t.getArg(y,"names",[]),N=t.getArg(y,"sourceRoot",null),C=t.getArg(y,"sourcesContent",null),R=t.getArg(y,"mappings"),O=t.getArg(y,"file",null);if(b!=this._version)throw Error("Unsupported version: "+b);N&&(N=t.normalize(N)),x=x.map(String).map(t.normalize).map(function(T){return N&&t.isAbsolute(N)&&t.isAbsolute(T)?t.relative(N,T):T}),this._names=a.fromArray(k.map(String),!0),this._sources=a.fromArray(x,!0),this._absoluteSources=this._sources.toArray().map(function(T){return t.computeSourceURL(N,T,d)}),this.sourceRoot=N,this.sourcesContent=C,this._mappings=R,this._sourceMapURL=d,this.file=O}i(h,"fq"),h.prototype=Object.create(o.prototype),h.prototype.consumer=o,h.prototype._findSourceIndex=function(c){var d=c;if(this.sourceRoot!=null&&(d=t.relative(this.sourceRoot,d)),this._sources.has(d))return this._sources.indexOf(d);var y;for(y=0;y<this._absoluteSources.length;++y)if(this._absoluteSources[y]==c)return y;return-1},h.fromSourceMap=function(c,d){var y=Object.create(h.prototype),b=y._names=a.fromArray(c._names.toArray(),!0),x=y._sources=a.fromArray(c._sources.toArray(),!0);y.sourceRoot=c._sourceRoot,y.sourcesContent=c._generateSourcesContent(y._sources.toArray(),y.sourceRoot),y.file=c._file,y._sourceMapURL=d,y._absoluteSources=y._sources.toArray().map(function(z){return t.computeSourceURL(y.sourceRoot,z,d)});for(var k=c._mappings.toArray().slice(),N=y.__generatedMappings=[],C=y.__originalMappings=[],R=0,O=k.length;R<O;R++){var T=k[R],P=new p;P.generatedLine=T.generatedLine,P.generatedColumn=T.generatedColumn,T.source&&(P.source=x.indexOf(T.source),P.originalLine=T.originalLine,P.originalColumn=T.originalColumn,T.name&&(P.name=b.indexOf(T.name)),C.push(P)),N.push(P)}return s(y.__originalMappings,t.compareByOriginalPositions),y},h.prototype._version=3,Object.defineProperty(h.prototype,"sources",{get:i(function(){return this._absoluteSources.slice()},"get")});function p(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}i(p,"fG"),h.prototype._parseMappings=function(c,d){for(var y=1,b=0,x=0,k=0,N=0,C=0,R=c.length,O=0,T={},P={},z=[],V=[],Z,ee,$,F,u;O<R;)if(c.charAt(O)===";")y++,O++,b=0;else if(c.charAt(O)===",")O++;else{for(Z=new p,Z.generatedLine=y,F=O;F<R&&!this._charIsMappingSeparator(c,F);F++);if(ee=c.slice(O,F),$=T[ee],$)O+=ee.length;else{for($=[];O<F;)n.decode(c,O,P),u=P.value,O=P.rest,$.push(u);if($.length===2)throw Error("Found a source, but no line and column");if($.length===3)throw Error("Found a source and line, but no column");T[ee]=$}Z.generatedColumn=b+$[0],b=Z.generatedColumn,$.length>1&&(Z.source=N+$[1],N+=$[1],Z.originalLine=x+$[2],x=Z.originalLine,Z.originalLine+=1,Z.originalColumn=k+$[3],k=Z.originalColumn,$.length>4&&(Z.name=C+$[4],C+=$[4])),V.push(Z),typeof Z.originalLine=="number"&&z.push(Z)}s(V,t.compareByGeneratedPositionsDeflated),this.__generatedMappings=V,s(z,t.compareByOriginalPositions),this.__originalMappings=z},h.prototype._findMapping=function(c,d,y,b,x,k){if(c[y]<=0)throw TypeError("Line must be greater than or equal to 1, got "+c[y]);if(c[b]<0)throw TypeError("Column must be greater than or equal to 0, got "+c[b]);return r.search(c,d,x,k)},h.prototype.computeColumnSpans=function(){for(var c=0;c<this._generatedMappings.length;++c){var d=this._generatedMappings[c];if(c+1<this._generatedMappings.length){var y=this._generatedMappings[c+1];if(d.generatedLine===y.generatedLine){d.lastGeneratedColumn=y.generatedColumn-1;continue}}d.lastGeneratedColumn=1/0}},h.prototype.originalPositionFor=function(c){var d={generatedLine:t.getArg(c,"line"),generatedColumn:t.getArg(c,"column")},y=this._findMapping(d,this._generatedMappings,"generatedLine","generatedColumn",t.compareByGeneratedPositionsDeflated,t.getArg(c,"bias",o.GREATEST_LOWER_BOUND));if(y>=0){var b=this._generatedMappings[y];if(b.generatedLine===d.generatedLine){var x=t.getArg(b,"source",null);x!==null&&(x=this._sources.at(x),x=t.computeSourceURL(this.sourceRoot,x,this._sourceMapURL));var k=t.getArg(b,"name",null);return k!==null&&(k=this._names.at(k)),{source:x,line:t.getArg(b,"originalLine",null),column:t.getArg(b,"originalColumn",null),name:k}}}return{source:null,line:null,column:null,name:null}},h.prototype.hasContentsOfAllSources=function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(c){return c==null}):!1},h.prototype.sourceContentFor=function(c,d){if(!this.sourcesContent)return null;var y=this._findSourceIndex(c);if(y>=0)return this.sourcesContent[y];var b=c;this.sourceRoot!=null&&(b=t.relative(this.sourceRoot,b));var x;if(this.sourceRoot!=null&&(x=t.urlParse(this.sourceRoot))){var k=b.replace(/^file:\/\//,"");if(x.scheme=="file"&&this._sources.has(k))return this.sourcesContent[this._sources.indexOf(k)];if((!x.path||x.path=="/")&&this._sources.has("/"+b))return this.sourcesContent[this._sources.indexOf("/"+b)]}if(d)return null;throw Error('"'+b+'" is not in the SourceMap.')},h.prototype.generatedPositionFor=function(c){var d=t.getArg(c,"source");if(d=this._findSourceIndex(d),d<0)return{line:null,column:null,lastColumn:null};var y={source:d,originalLine:t.getArg(c,"line"),originalColumn:t.getArg(c,"column")},b=this._findMapping(y,this._originalMappings,"originalLine","originalColumn",t.compareByOriginalPositions,t.getArg(c,"bias",o.GREATEST_LOWER_BOUND));if(b>=0){var x=this._originalMappings[b];if(x.source===y.source)return{line:t.getArg(x,"generatedLine",null),column:t.getArg(x,"generatedColumn",null),lastColumn:t.getArg(x,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},e.BasicSourceMapConsumer=h;function v(c,d){var y=c;typeof c=="string"&&(y=t.parseSourceMapInput(c));var b=t.getArg(y,"version"),x=t.getArg(y,"sections");if(b!=this._version)throw Error("Unsupported version: "+b);this._sources=new a,this._names=new a;var k={line:-1,column:0};this._sections=x.map(function(N){if(N.url)throw Error("Support for url field in sections not implemented.");var C=t.getArg(N,"offset"),R=t.getArg(C,"line"),O=t.getArg(C,"column");if(R<k.line||R===k.line&&O<k.column)throw Error("Section offsets must be ordered and non-overlapping.");return k=C,{generatedOffset:{generatedLine:R+1,generatedColumn:O+1},consumer:new o(t.getArg(N,"map"),d)}})}i(v,"C8"),v.prototype=Object.create(o.prototype),v.prototype.constructor=o,v.prototype._version=3,Object.defineProperty(v.prototype,"sources",{get:i(function(){for(var c=[],d=0;d<this._sections.length;d++)for(var y=0;y<this._sections[d].consumer.sources.length;y++)c.push(this._sections[d].consumer.sources[y]);return c},"get")}),v.prototype.originalPositionFor=function(c){var d={generatedLine:t.getArg(c,"line"),generatedColumn:t.getArg(c,"column")},y=r.search(d,this._sections,function(x,k){var N=x.generatedLine-k.generatedOffset.generatedLine;return N||x.generatedColumn-k.generatedOffset.generatedColumn}),b=this._sections[y];return b?b.consumer.originalPositionFor({line:d.generatedLine-(b.generatedOffset.generatedLine-1),column:d.generatedColumn-(b.generatedOffset.generatedLine===d.generatedLine?b.generatedOffset.generatedColumn-1:0),bias:c.bias}):{source:null,line:null,column:null,name:null}},v.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(c){return c.consumer.hasContentsOfAllSources()})},v.prototype.sourceContentFor=function(c,d){for(var y=0;y<this._sections.length;y++){var b=this._sections[y],x=b.consumer.sourceContentFor(c,!0);if(x)return x}if(d)return null;throw Error('"'+c+'" is not in the SourceMap.')},v.prototype.generatedPositionFor=function(c){for(var d=0;d<this._sections.length;d++){var y=this._sections[d];if(y.consumer._findSourceIndex(t.getArg(c,"source"))!==-1){var b=y.consumer.generatedPositionFor(c);if(b){var x={line:b.line+(y.generatedOffset.generatedLine-1),column:b.column+(y.generatedOffset.generatedLine===b.line?y.generatedOffset.generatedColumn-1:0)};return x}}}return{line:null,column:null}},v.prototype._parseMappings=function(c,d){this.__generatedMappings=[],this.__originalMappings=[];for(var y=0;y<this._sections.length;y++)for(var b=this._sections[y],x=b.consumer._generatedMappings,k=0;k<x.length;k++){var N=x[k],C=b.consumer._sources.at(N.source);C=t.computeSourceURL(b.consumer.sourceRoot,C,this._sourceMapURL),this._sources.add(C),C=this._sources.indexOf(C);var R=null;N.name&&(R=b.consumer._names.at(N.name),this._names.add(R),R=this._names.indexOf(R));var O={source:C,generatedLine:N.generatedLine+(b.generatedOffset.generatedLine-1),generatedColumn:N.generatedColumn+(b.generatedOffset.generatedLine===N.generatedLine?b.generatedOffset.generatedColumn-1:0),originalLine:N.originalLine,originalColumn:N.originalColumn,name:R};this.__generatedMappings.push(O),typeof O.originalLine=="number"&&this.__originalMappings.push(O)}s(this.__generatedMappings,t.compareByGeneratedPositionsDeflated),s(this.__originalMappings,t.compareByOriginalPositions)},e.IndexedSourceMapConsumer=v}),KL=rt(e=>{var t=o9().SourceMapGenerator,r=ll(),a=/(\r?\n)/,n=10,s="$$$isSourceNode$$$";function o(h,p,v,c,d){this.children=[],this.sourceContents={},this.line=h??null,this.column=p??null,this.source=v??null,this.name=d??null,this[s]=!0,c!=null&&this.add(c)}i(o,"$8"),o.fromStringWithSourceMap=function(h,p,v){var c=new o,d=h.split(a),y=0,b=i(function(){var R=T(),O=T()||"";return R+O;function T(){return y<d.length?d[y++]:void 0}},"z"),x=1,k=0,N=null;return p.eachMapping(function(R){if(N!==null)if(x<R.generatedLine)C(N,b()),x++,k=0;else{var O=d[y]||"",T=O.substr(0,R.generatedColumn-k);d[y]=O.substr(R.generatedColumn-k),k=R.generatedColumn,C(N,T),N=R;return}for(;x<R.generatedLine;)c.add(b()),x++;if(k<R.generatedColumn){var O=d[y]||"";c.add(O.substr(0,R.generatedColumn)),d[y]=O.substr(R.generatedColumn),k=R.generatedColumn}N=R},this),y<d.length&&(N&&C(N,b()),c.add(d.splice(y).join(""))),p.sources.forEach(function(R){var O=p.sourceContentFor(R);O!=null&&(v!=null&&(R=r.join(v,R)),c.setSourceContent(R,O))}),c;function C(R,O){if(R===null||R.source===void 0)c.add(O);else{var T=v?r.join(v,R.source):R.source;c.add(new o(R.originalLine,R.originalColumn,T,O,R.name))}}i(C,"f")},o.prototype.add=function(h){if(Array.isArray(h))h.forEach(function(p){this.add(p)},this);else if(h[s]||typeof h=="string")h&&this.children.push(h);else throw TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+h);return this},o.prototype.prepend=function(h){if(Array.isArray(h))for(var p=h.length-1;p>=0;p--)this.prepend(h[p]);else if(h[s]||typeof h=="string")this.children.unshift(h);else throw TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+h);return this},o.prototype.walk=function(h){for(var p,v=0,c=this.children.length;v<c;v++)p=this.children[v],p[s]?p.walk(h):p!==""&&h(p,{source:this.source,line:this.line,column:this.column,name:this.name})},o.prototype.join=function(h){var p,v,c=this.children.length;if(c>0){for(p=[],v=0;v<c-1;v++)p.push(this.children[v]),p.push(h);p.push(this.children[v]),this.children=p}return this},o.prototype.replaceRight=function(h,p){var v=this.children[this.children.length-1];return v[s]?v.replaceRight(h,p):typeof v=="string"?this.children[this.children.length-1]=v.replace(h,p):this.children.push("".replace(h,p)),this},o.prototype.setSourceContent=function(h,p){this.sourceContents[r.toSetString(h)]=p},o.prototype.walkSourceContents=function(h){for(var p=0,v=this.children.length;p<v;p++)this.children[p][s]&&this.children[p].walkSourceContents(h);for(var c=Object.keys(this.sourceContents),p=0,v=c.length;p<v;p++)h(r.fromSetString(c[p]),this.sourceContents[c[p]])},o.prototype.toString=function(){var h="";return this.walk(function(p){h+=p}),h},o.prototype.toStringWithSourceMap=function(h){var p={code:"",line:1,column:0},v=new t(h),c=!1,d=null,y=null,b=null,x=null;return this.walk(function(k,N){p.code+=k,N.source!==null&&N.line!==null&&N.column!==null?((d!==N.source||y!==N.line||b!==N.column||x!==N.name)&&v.addMapping({source:N.source,original:{line:N.line,column:N.column},generated:{line:p.line,column:p.column},name:N.name}),d=N.source,y=N.line,b=N.column,x=N.name,c=!0):c&&(v.addMapping({generated:{line:p.line,column:p.column}}),d=null,c=!1);for(var C=0,R=k.length;C<R;C++)k.charCodeAt(C)===n?(p.line++,p.column=0,C+1===R?(d=null,c=!1):c&&v.addMapping({source:N.source,original:{line:N.line,column:N.column},generated:{line:p.line,column:p.column},name:N.name})):p.column++}),this.walkSourceContents(function(k,N){v.setSourceContent(k,N)}),{code:p.code,map:v}},e.SourceNode=o}),XL=rt(e=>{e.SourceMapGenerator=o9().SourceMapGenerator,e.SourceMapConsumer=qL().SourceMapConsumer,e.SourceNode=KL().SourceNode}),WL=rt((e,t)=>{e.__esModule=!0;var r=Gr(),a=void 0;try{(typeof define!="function"||!define.amd)&&(n=XL(),a=n.SourceNode)}catch{}var n;a||(a=i(function(h,p,v,c){this.src="",c&&this.add(c)},"X_"),a.prototype={add:i(function(h){r.isArray(h)&&(h=h.join("")),this.src+=h},"add"),prepend:i(function(h){r.isArray(h)&&(h=h.join("")),this.src=h+this.src},"prepend"),toStringWithSourceMap:i(function(){return{code:this.toString()}},"toStringWithSourceMap"),toString:i(function(){return this.src},"toString")});function s(h,p,v){if(r.isArray(h)){for(var c=[],d=0,y=h.length;d<y;d++)c.push(p.wrap(h[d],v));return c}else if(typeof h=="boolean"||typeof h=="number")return h+"";return h}i(s,"YW");function o(h){this.srcFile=h,this.source=[]}i(o,"VG"),o.prototype={isEmpty:i(function(){return!this.source.length},"isEmpty"),prepend:i(function(h,p){this.source.unshift(this.wrap(h,p))},"prepend"),push:i(function(h,p){this.source.push(this.wrap(h,p))},"push"),merge:i(function(){var h=this.empty();return this.each(function(p){h.add(["  ",p,`
`])}),h},"merge"),each:i(function(h){for(var p=0,v=this.source.length;p<v;p++)h(this.source[p])},"each"),empty:i(function(){var h=this.currentLocation||{start:{}};return new a(h.start.line,h.start.column,this.srcFile)},"empty"),wrap:i(function(h){var p=arguments.length<=1||arguments[1]===void 0?this.currentLocation||{start:{}}:arguments[1];return h instanceof a?h:(h=s(h,this,p),new a(p.start.line,p.start.column,this.srcFile,h))},"wrap"),functionCall:i(function(h,p,v){return v=this.generateList(v),this.wrap([h,p?"."+p+"(":"(",v,")"])},"functionCall"),quotedString:i(function(h){return'"'+(h+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},"quotedString"),objectLiteral:i(function(h){var p=this,v=[];Object.keys(h).forEach(function(d){var y=s(h[d],p);y!=="undefined"&&v.push([p.quotedString(d),":",y])});var c=this.generateList(v);return c.prepend("{"),c.add("}"),c},"objectLiteral"),generateList:i(function(h){for(var p=this.empty(),v=0,c=h.length;v<c;v++)v&&p.add(","),p.add(s(h[v],this));return p},"generateList"),generateArray:i(function(h){var p=this.generateList(h);return p.prepend("["),p.add("]"),p},"generateArray")},e.default=o,t.exports=e.default}),QL=rt((e,t)=>{e.__esModule=!0;function r(y){return y&&y.__esModule?y:{default:y}}i(r,"hG");var a=zv(),n=Oi(),s=r(n),o=Gr(),h=WL(),p=r(h);function v(y){this.value=y}i(v,"V4");function c(){}i(c,"S4"),c.prototype={nameLookup:i(function(y,b){return this.internalNameLookup(y,b)},"nameLookup"),depthedLookup:i(function(y){return[this.aliasable("container.lookup"),"(depths, ",JSON.stringify(y),")"]},"depthedLookup"),compilerInfo:i(function(){var y=a.COMPILER_REVISION,b=a.REVISION_CHANGES[y];return[y,b]},"compilerInfo"),appendToBuffer:i(function(y,b,x){return o.isArray(y)||(y=[y]),y=this.source.wrap(y,b),this.environment.isSimple?["return ",y,";"]:x?["buffer += ",y,";"]:(y.appendToBuffer=!0,y)},"appendToBuffer"),initializeBuffer:i(function(){return this.quotedString("")},"initializeBuffer"),internalNameLookup:i(function(y,b){return this.lookupPropertyFunctionIsUsed=!0,["lookupProperty(",y,",",JSON.stringify(b),")"]},"internalNameLookup"),lookupPropertyFunctionIsUsed:!1,compile:i(function(y,b,x,k){this.environment=y,this.options=b,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!k,this.name=this.environment.name,this.isChild=!!x,this.context=x||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(y,b),this.useDepths=this.useDepths||y.useDepths||y.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||y.useBlockParams;var N=y.opcodes,C=void 0,R=void 0,O=void 0,T=void 0;for(O=0,T=N.length;O<T;O++)C=N[O],this.source.currentLocation=C.loc,R=R||C.loc,this[C.opcode].apply(this,C.args);if(this.source.currentLocation=R,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new s.default("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend(["var decorators = container.decorators, ",this.lookupPropertyFunctionVarDeclaration(),`;
`]),this.decorators.push("return fn;"),k?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend(`function(fn, props, container, depth0, data, blockParams, depths) {
`),this.decorators.push(`}
`),this.decorators=this.decorators.merge()));var P=this.createFunctionContext(k);if(this.isChild)return P;var z={compiler:this.compilerInfo(),main:P};this.decorators&&(z.main_d=this.decorators,z.useDecorators=!0);var V=this.context,Z=V.programs,ee=V.decorators;for(O=0,T=Z.length;O<T;O++)Z[O]&&(z[O]=Z[O],ee[O]&&(z[O+"_d"]=ee[O],z.useDecorators=!0));return this.environment.usePartial&&(z.usePartial=!0),this.options.data&&(z.useData=!0),this.useDepths&&(z.useDepths=!0),this.useBlockParams&&(z.useBlockParams=!0),this.options.compat&&(z.compat=!0),k?z.compilerOptions=this.options:(z.compiler=JSON.stringify(z.compiler),this.source.currentLocation={start:{line:1,column:0}},z=this.objectLiteral(z),b.srcName?(z=z.toStringWithSourceMap({file:b.destName}),z.map=z.map&&z.map.toString()):z=z.toString()),z},"compile"),preamble:i(function(){this.lastContext=0,this.source=new p.default(this.options.srcName),this.decorators=new p.default(this.options.srcName)},"preamble"),createFunctionContext:i(function(y){var b=this,x="",k=this.stackVars.concat(this.registers.list);k.length>0&&(x+=", "+k.join(", "));var N=0;Object.keys(this.aliases).forEach(function(O){var T=b.aliases[O];T.children&&T.referenceCount>1&&(x+=", alias"+ ++N+"="+O,T.children[0]="alias"+N)}),this.lookupPropertyFunctionIsUsed&&(x+=", "+this.lookupPropertyFunctionVarDeclaration());var C=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&C.push("blockParams"),this.useDepths&&C.push("depths");var R=this.mergeSource(x);return y?(C.push(R),Function.apply(this,C)):this.source.wrap(["function(",C.join(","),`) {
  `,R,"}"])},"createFunctionContext"),mergeSource:i(function(y){var b=this.environment.isSimple,x=!this.forceBuffer,k=void 0,N=void 0,C=void 0,R=void 0;return this.source.each(function(O){O.appendToBuffer?(C?O.prepend("  + "):C=O,R=O):(C&&(N?C.prepend("buffer += "):k=!0,R.add(";"),C=R=void 0),N=!0,!b&&(x=!1))}),x?C?(C.prepend("return "),R.add(";")):N||this.source.push('return "";'):(y+=", buffer = "+(k?"":this.initializeBuffer()),C?(C.prepend("return buffer + "),R.add(";")):this.source.push("return buffer;")),y&&this.source.prepend("var "+y.substring(2)+(k?"":`;
`)),this.source.merge()},"mergeSource"),lookupPropertyFunctionVarDeclaration:i(function(){return`
      lookupProperty = container.lookupProperty || function(parent, propertyName) {
        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {
          return parent[propertyName];
        }
        return undefined
    }
    `.trim()},"lookupPropertyFunctionVarDeclaration"),blockValue:i(function(y){var b=this.aliasable("container.hooks.blockHelperMissing"),x=[this.contextName(0)];this.setupHelperArgs(y,0,x);var k=this.popStack();x.splice(1,0,k),this.push(this.source.functionCall(b,"call",x))},"blockValue"),ambiguousBlockValue:i(function(){var y=this.aliasable("container.hooks.blockHelperMissing"),b=[this.contextName(0)];this.setupHelperArgs("",0,b,!0),this.flushInline();var x=this.topStack();b.splice(1,0,x),this.pushSource(["if (!",this.lastHelper,") { ",x," = ",this.source.functionCall(y,"call",b),"}"])},"ambiguousBlockValue"),appendContent:i(function(y){this.pendingContent?y=this.pendingContent+y:this.pendingLocation=this.source.currentLocation,this.pendingContent=y},"appendContent"),append:i(function(){if(this.isInline())this.replaceStack(function(b){return[" != null ? ",b,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var y=this.popStack();this.pushSource(["if (",y," != null) { ",this.appendToBuffer(y,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},"append"),appendEscaped:i(function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},"appendEscaped"),getContext:i(function(y){this.lastContext=y},"getContext"),pushContext:i(function(){this.pushStackLiteral(this.contextName(this.lastContext))},"pushContext"),lookupOnContext:i(function(y,b,x,k){var N=0;!k&&this.options.compat&&!this.lastContext?this.push(this.depthedLookup(y[N++])):this.pushContext(),this.resolvePath("context",y,N,b,x)},"lookupOnContext"),lookupBlockParam:i(function(y,b){this.useBlockParams=!0,this.push(["blockParams[",y[0],"][",y[1],"]"]),this.resolvePath("context",b,1)},"lookupBlockParam"),lookupData:i(function(y,b,x){y?this.pushStackLiteral("container.data(data, "+y+")"):this.pushStackLiteral("data"),this.resolvePath("data",b,0,!0,x)},"lookupData"),resolvePath:i(function(y,b,x,k,N){var C=this;if(this.options.strict||this.options.assumeObjects){this.push(d(this.options.strict&&N,this,b,x,y));return}for(var R=b.length;x<R;x++)this.replaceStack(function(O){var T=C.nameLookup(O,b[x],y);return k?[" && ",T]:[" != null ? ",T," : ",O]})},"resolvePath"),resolvePossibleLambda:i(function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},"resolvePossibleLambda"),pushStringParam:i(function(y,b){this.pushContext(),this.pushString(b),b!=="SubExpression"&&(typeof y=="string"?this.pushString(y):this.pushStackLiteral(y))},"pushStringParam"),emptyHash:i(function(y){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(y?"undefined":"{}")},"emptyHash"),pushHash:i(function(){this.hash&&this.hashes.push(this.hash),this.hash={values:{},types:[],contexts:[],ids:[]}},"pushHash"),popHash:i(function(){var y=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(y.ids)),this.stringParams&&(this.push(this.objectLiteral(y.contexts)),this.push(this.objectLiteral(y.types))),this.push(this.objectLiteral(y.values))},"popHash"),pushString:i(function(y){this.pushStackLiteral(this.quotedString(y))},"pushString"),pushLiteral:i(function(y){this.pushStackLiteral(y)},"pushLiteral"),pushProgram:i(function(y){y!=null?this.pushStackLiteral(this.programExpression(y)):this.pushStackLiteral(null)},"pushProgram"),registerDecorator:i(function(y,b){var x=this.nameLookup("decorators",b,"decorator"),k=this.setupHelperArgs(b,y);this.decorators.push(["fn = ",this.decorators.functionCall(x,"",["fn","props","container",k])," || fn;"])},"registerDecorator"),invokeHelper:i(function(y,b,x){var k=this.popStack(),N=this.setupHelper(y,b),C=[];x&&C.push(N.name),C.push(k),!this.options.strict&&C.push(this.aliasable("container.hooks.helperMissing"));var R=["(",this.itemsSeparatedBy(C,"||"),")"],O=this.source.functionCall(R,"call",N.callParams);this.push(O)},"invokeHelper"),itemsSeparatedBy:i(function(y,b){var x=[];x.push(y[0]);for(var k=1;k<y.length;k++)x.push(b,y[k]);return x},"itemsSeparatedBy"),invokeKnownHelper:i(function(y,b){var x=this.setupHelper(y,b);this.push(this.source.functionCall(x.name,"call",x.callParams))},"invokeKnownHelper"),invokeAmbiguous:i(function(y,b){this.useRegister("helper");var x=this.popStack();this.emptyHash();var k=this.setupHelper(0,y,b),N=this.lastHelper=this.nameLookup("helpers",y,"helper"),C=["(","(helper = ",N," || ",x,")"];this.options.strict||(C[0]="(helper = ",C.push(" != null ? helper : ",this.aliasable("container.hooks.helperMissing"))),this.push(["(",C,k.paramsInit?["),(",k.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",k.callParams)," : helper))"])},"invokeAmbiguous"),invokePartial:i(function(y,b,x){var k=[],N=this.setupParams(b,1,k);y&&(b=this.popStack(),delete N.name),x&&(N.indent=JSON.stringify(x)),N.helpers="helpers",N.partials="partials",N.decorators="container.decorators",y?k.unshift(b):k.unshift(this.nameLookup("partials",b,"partial")),this.options.compat&&(N.depths="depths"),N=this.objectLiteral(N),k.push(N),this.push(this.source.functionCall("container.invokePartial","",k))},"invokePartial"),assignToHash:i(function(y){var b=this.popStack(),x=void 0,k=void 0,N=void 0;this.trackIds&&(N=this.popStack()),this.stringParams&&(k=this.popStack(),x=this.popStack());var C=this.hash;x&&(C.contexts[y]=x),k&&(C.types[y]=k),N&&(C.ids[y]=N),C.values[y]=b},"assignToHash"),pushId:i(function(y,b,x){y==="BlockParam"?this.pushStackLiteral("blockParams["+b[0]+"].path["+b[1]+"]"+(x?" + "+JSON.stringify("."+x):"")):y==="PathExpression"?this.pushString(b):y==="SubExpression"?this.pushStackLiteral("true"):this.pushStackLiteral("null")},"pushId"),compiler:c,compileChildren:i(function(y,b){for(var x=y.children,k=void 0,N=void 0,C=0,R=x.length;C<R;C++){k=x[C],N=new this.compiler;var O=this.matchExistingProgram(k);if(O==null){this.context.programs.push("");var T=this.context.programs.length;k.index=T,k.name="program"+T,this.context.programs[T]=N.compile(k,b,this.context,!this.precompile),this.context.decorators[T]=N.decorators,this.context.environments[T]=k,this.useDepths=this.useDepths||N.useDepths,this.useBlockParams=this.useBlockParams||N.useBlockParams,k.useDepths=this.useDepths,k.useBlockParams=this.useBlockParams}else k.index=O.index,k.name="program"+O.index,this.useDepths=this.useDepths||O.useDepths,this.useBlockParams=this.useBlockParams||O.useBlockParams}},"compileChildren"),matchExistingProgram:i(function(y){for(var b=0,x=this.context.environments.length;b<x;b++){var k=this.context.environments[b];if(k&&k.equals(y))return k}},"matchExistingProgram"),programExpression:i(function(y){var b=this.environment.children[y],x=[b.index,"data",b.blockParams];return(this.useBlockParams||this.useDepths)&&x.push("blockParams"),this.useDepths&&x.push("depths"),"container.program("+x.join(", ")+")"},"programExpression"),useRegister:i(function(y){this.registers[y]||(this.registers[y]=!0,this.registers.list.push(y))},"useRegister"),push:i(function(y){return y instanceof v||(y=this.source.wrap(y)),this.inlineStack.push(y),y},"push"),pushStackLiteral:i(function(y){this.push(new v(y))},"pushStackLiteral"),pushSource:i(function(y){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),y&&this.source.push(y)},"pushSource"),replaceStack:i(function(y){var b=["("],x=void 0,k=void 0,N=void 0;if(!this.isInline())throw new s.default("replaceStack on non-inline");var C=this.popStack(!0);if(C instanceof v)x=[C.value],b=["(",x],N=!0;else{k=!0;var R=this.incrStack();b=["((",this.push(R)," = ",C,")"],x=this.topStack()}var O=y.call(this,x);N||this.popStack(),k&&this.stackSlot--,this.push(b.concat(O,")"))},"replaceStack"),incrStack:i(function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},"incrStack"),topStackName:i(function(){return"stack"+this.stackSlot},"topStackName"),flushInline:i(function(){var y=this.inlineStack;this.inlineStack=[];for(var b=0,x=y.length;b<x;b++){var k=y[b];if(k instanceof v)this.compileStack.push(k);else{var N=this.incrStack();this.pushSource([N," = ",k,";"]),this.compileStack.push(N)}}},"flushInline"),isInline:i(function(){return this.inlineStack.length},"isInline"),popStack:i(function(y){var b=this.isInline(),x=(b?this.inlineStack:this.compileStack).pop();if(!y&&x instanceof v)return x.value;if(!b){if(!this.stackSlot)throw new s.default("Invalid stack pop");this.stackSlot--}return x},"popStack"),topStack:i(function(){var y=this.isInline()?this.inlineStack:this.compileStack,b=y[y.length-1];return b instanceof v?b.value:b},"topStack"),contextName:i(function(y){return this.useDepths&&y?"depths["+y+"]":"depth"+y},"contextName"),quotedString:i(function(y){return this.source.quotedString(y)},"quotedString"),objectLiteral:i(function(y){return this.source.objectLiteral(y)},"objectLiteral"),aliasable:i(function(y){var b=this.aliases[y];return b?(b.referenceCount++,b):(b=this.aliases[y]=this.source.wrap(y),b.aliasable=!0,b.referenceCount=1,b)},"aliasable"),setupHelper:i(function(y,b,x){var k=[],N=this.setupHelperArgs(b,y,k,x),C=this.nameLookup("helpers",b,"helper"),R=this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : (container.nullContext || {})");return{params:k,paramsInit:N,name:C,callParams:[R].concat(k)}},"setupHelper"),setupParams:i(function(y,b,x){var k={},N=[],C=[],R=[],O=!x,T=void 0;O&&(x=[]),k.name=this.quotedString(y),k.hash=this.popStack(),this.trackIds&&(k.hashIds=this.popStack()),this.stringParams&&(k.hashTypes=this.popStack(),k.hashContexts=this.popStack());var P=this.popStack(),z=this.popStack();(z||P)&&(k.fn=z||"container.noop",k.inverse=P||"container.noop");for(var V=b;V--;)T=this.popStack(),x[V]=T,this.trackIds&&(R[V]=this.popStack()),this.stringParams&&(C[V]=this.popStack(),N[V]=this.popStack());return O&&(k.args=this.source.generateArray(x)),this.trackIds&&(k.ids=this.source.generateArray(R)),this.stringParams&&(k.types=this.source.generateArray(C),k.contexts=this.source.generateArray(N)),this.options.data&&(k.data="data"),this.useBlockParams&&(k.blockParams="blockParams"),k},"setupParams"),setupHelperArgs:i(function(y,b,x,k){var N=this.setupParams(y,b,x);return N.loc=JSON.stringify(this.source.currentLocation),N=this.objectLiteral(N),k?(this.useRegister("options"),x.push("options"),["options=",N]):x?(x.push(N),""):N},"setupHelperArgs")},(function(){for(var y="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),b=c.RESERVED_WORDS={},x=0,k=y.length;x<k;x++)b[y[x]]=!0})(),c.isValidJavaScriptVariableName=function(y){return!c.RESERVED_WORDS[y]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(y)};function d(y,b,x,k,N){var C=b.popStack(),R=x.length;for(y&&R--;k<R;k++)C=b.nameLookup(C,x[k],N);return y?[b.aliasable("container.strict"),"(",C,", ",b.quotedString(x[k]),", ",JSON.stringify(b.source.currentLocation)," )"]:C}i(d,"zc"),e.default=c,t.exports=e.default}),YL=rt((e,t)=>{e.__esModule=!0;function r(R){return R&&R.__esModule?R:{default:R}}i(r,"A7");var a=BL(),n=r(a),s=n9(),o=r(s),h=$L(),p=GL(),v=QL(),c=r(v),d=Uv(),y=r(d),b=i9(),x=r(b),k=n.default.create;function N(){var R=k();return R.compile=function(O,T){return p.compile(O,T,R)},R.precompile=function(O,T){return p.precompile(O,T,R)},R.AST=o.default,R.Compiler=p.Compiler,R.JavaScriptCompiler=c.default,R.Parser=h.parser,R.parse=h.parse,R.parseWithoutProcessing=h.parseWithoutProcessing,R}i(N,"gG");var C=N();C.create=N,x.default(C),C.Visitor=y.default,C.default=C,e.default=C,t.exports=e.default}),eB=rt(e=>{e.__esModule=!0,e.print=n,e.PrintVisitor=s;function t(o){return o&&o.__esModule?o:{default:o}}i(t,"Cc");var r=Uv(),a=t(r);function n(o){return new s().accept(o)}i(n,"Rc");function s(){this.padding=0}i(s,"L6"),s.prototype=new a.default,s.prototype.pad=function(o){for(var h="",p=0,v=this.padding;p<v;p++)h+="  ";return h+=o+`
`,h},s.prototype.Program=function(o){var h="",p=o.body,v=void 0,c=void 0;if(o.blockParams){var d="BLOCK PARAMS: [";for(v=0,c=o.blockParams.length;v<c;v++)d+=" "+o.blockParams[v];d+=" ]",h+=this.pad(d)}for(v=0,c=p.length;v<c;v++)h+=this.accept(p[v]);return this.padding--,h},s.prototype.MustacheStatement=function(o){return this.pad("{{ "+this.SubExpression(o)+" }}")},s.prototype.Decorator=function(o){return this.pad("{{ DIRECTIVE "+this.SubExpression(o)+" }}")},s.prototype.BlockStatement=s.prototype.DecoratorBlock=function(o){var h="";return h+=this.pad((o.type==="DecoratorBlock"?"DIRECTIVE ":"")+"BLOCK:"),this.padding++,h+=this.pad(this.SubExpression(o)),o.program&&(h+=this.pad("PROGRAM:"),this.padding++,h+=this.accept(o.program),this.padding--),o.inverse&&(o.program&&this.padding++,h+=this.pad("{{^}}"),this.padding++,h+=this.accept(o.inverse),this.padding--,o.program&&this.padding--),this.padding--,h},s.prototype.PartialStatement=function(o){var h="PARTIAL:"+o.name.original;return o.params[0]&&(h+=" "+this.accept(o.params[0])),o.hash&&(h+=" "+this.accept(o.hash)),this.pad("{{> "+h+" }}")},s.prototype.PartialBlockStatement=function(o){var h="PARTIAL BLOCK:"+o.name.original;return o.params[0]&&(h+=" "+this.accept(o.params[0])),o.hash&&(h+=" "+this.accept(o.hash)),h+=" "+this.pad("PROGRAM:"),this.padding++,h+=this.accept(o.program),this.padding--,this.pad("{{> "+h+" }}")},s.prototype.ContentStatement=function(o){return this.pad("CONTENT[ '"+o.value+"' ]")},s.prototype.CommentStatement=function(o){return this.pad("{{! '"+o.value+"' }}")},s.prototype.SubExpression=function(o){for(var h=o.params,p=[],v=void 0,c=0,d=h.length;c<d;c++)p.push(this.accept(h[c]));return h="["+p.join(", ")+"]",v=o.hash?" "+this.accept(o.hash):"",this.accept(o.path)+" "+h+v},s.prototype.PathExpression=function(o){var h=o.parts.join("/");return(o.data?"@":"")+"PATH:"+h},s.prototype.StringLiteral=function(o){return'"'+o.value+'"'},s.prototype.NumberLiteral=function(o){return"NUMBER{"+o.value+"}"},s.prototype.BooleanLiteral=function(o){return"BOOLEAN{"+o.value+"}"},s.prototype.UndefinedLiteral=function(){return"UNDEFINED"},s.prototype.NullLiteral=function(){return"NULL"},s.prototype.Hash=function(o){for(var h=o.pairs,p=[],v=0,c=h.length;v<c;v++)p.push(this.accept(h[v]));return"HASH{"+p.join(", ")+"}"},s.prototype.HashPair=function(o){return o.key+"="+this.accept(o.value)}}),tB=rt((e,t)=>{var r=YL().default,a=eB();r.PrintVisitor=a.PrintVisitor,r.print=a.print,t.exports=r;function n(s,o){var h=i((()=>({})),"K"),p=h.readFileSync(o,"utf8");s.exports=r.compile(p)}i(n,"pG"),K0.extensions&&(K0.extensions[".handlebars"]=n,K0.extensions[".hbs"]=n)}),rB=rt((e,t)=>{var r=String,a=i(function(){return{isColorSupported:!1,reset:r,bold:r,dim:r,italic:r,underline:r,inverse:r,hidden:r,strikethrough:r,black:r,red:r,green:r,yellow:r,blue:r,magenta:r,cyan:r,white:r,gray:r,bgBlack:r,bgRed:r,bgGreen:r,bgYellow:r,bgBlue:r,bgMagenta:r,bgCyan:r,bgWhite:r,blackBright:r,redBright:r,greenBright:r,yellowBright:r,blueBright:r,magentaBright:r,cyanBright:r,whiteBright:r,bgBlackBright:r,bgRedBright:r,bgGreenBright:r,bgYellowBright:r,bgBlueBright:r,bgMagentaBright:r,bgCyanBright:r,bgWhiteBright:r}},"jV");t.exports=a(),t.exports.createColors=a}),l9={};$r(l9,{uptime:i(()=>sB,"uptime"),type:i(()=>fB,"type"),totalmem:i(()=>lB,"totalmem"),tmpdir:i(()=>c9,"tmpdir"),tmpDir:i(()=>d9,"tmpDir"),release:i(()=>cB,"release"),platform:i(()=>hB,"platform"),networkInterfaces:i(()=>f9,"networkInterfaces"),loadavg:i(()=>aB,"loadavg"),hostname:i(()=>nB,"hostname"),homedir:i(()=>mB,"homedir"),getNetworkInterfaces:i(()=>u9,"getNetworkInterfaces"),freemem:i(()=>oB,"freemem"),endianness:i(()=>iB,"endianness"),cpus:i(()=>uB,"cpus"),arch:i(()=>dB,"arch"),EOL:i(()=>pB,"EOL")});var iB=i(function(){return"LE"},"Qc"),nB=i(function(){return typeof location<"u"?location.hostname:""},"ec"),aB=i(function(){return[]},"sc"),sB=i(function(){return 0},"$m"),oB=i(function(){return Number.MAX_VALUE},"qm"),lB=i(function(){return Number.MAX_VALUE},"Km"),uB=i(function(){return[]},"_m"),fB=i(function(){return"Browser"},"Pm"),cB=i(function(){return typeof navigator<"u"?navigator.appVersion:""},"jm"),u9=i(function(){return{}},"AV"),f9,dB=i(function(){return"javascript"},"Ym"),hB=i(function(){return"browser"},"vm"),c9=i(function(){return"/tmp"},"GV"),d9,pB=`
`,mB=i(function(){return"/"},"Hm"),gB=sl(()=>{f9=u9,d9=c9}),wr={};$r(wr,{transcode:i(()=>T9,"transcode"),resolveObjectURL:i(()=>R9,"resolveObjectURL"),kStringMaxLength:i(()=>_9,"kStringMaxLength"),kMaxLength:i(()=>ko,"kMaxLength"),isUtf8:i(()=>O9,"isUtf8"),isAscii:i(()=>GB,"isAscii"),default:i(()=>P9,"default"),constants:i(()=>A9,"constants"),btoa:i(()=>S9,"btoa"),atob:i(()=>M9,"atob"),INSPECT_MAX_BYTES:i(()=>x9,"INSPECT_MAX_BYTES"),File:i(()=>E9,"File"),Buffer:i(()=>Xe,"Buffer"),Blob:i(()=>k9,"Blob")});function vB(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var a=r===t?0:4-r%4;return[r,a]}i(vB,"um");function bB(e,t){return(e+t)*3/4-t}i(bB,"ym");function yB(e){var t,r=vB(e),a=r[0],n=r[1],s=new Uint8Array(bB(a,n)),o=0,h=n>0?a-4:a,p;for(p=0;p<h;p+=4)t=Kr[e.charCodeAt(p)]<<18|Kr[e.charCodeAt(p+1)]<<12|Kr[e.charCodeAt(p+2)]<<6|Kr[e.charCodeAt(p+3)],s[o++]=t>>16&255,s[o++]=t>>8&255,s[o++]=t&255;return n===2&&(t=Kr[e.charCodeAt(p)]<<2|Kr[e.charCodeAt(p+1)]>>4,s[o++]=t&255),n===1&&(t=Kr[e.charCodeAt(p)]<<10|Kr[e.charCodeAt(p+1)]<<4|Kr[e.charCodeAt(p+2)]>>2,s[o++]=t>>8&255,s[o++]=t&255),s}i(yB,"pm");function wB(e){return _i[e>>18&63]+_i[e>>12&63]+_i[e>>6&63]+_i[e&63]}i(wB,"xm");function xB(e,t,r){for(var a,n=[],s=t;s<r;s+=3)a=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(e[s+2]&255),n.push(wB(a));return n.join("")}i(xB,"cm");function mx(e){for(var t,r=e.length,a=r%3,n=[],s=16383,o=0,h=r-a;o<h;o+=s)n.push(xB(e,o,o+s>h?h:o+s));return a===1?(t=e[r-1],n.push(_i[t>>2]+_i[t<<4&63]+"==")):a===2&&(t=(e[r-2]<<8)+e[r-1],n.push(_i[t>>10]+_i[t>>4&63]+_i[t<<2&63]+"=")),n.join("")}i(mx,"cV");function $l(e,t,r,a,n){var s,o,h=n*8-a-1,p=(1<<h)-1,v=p>>1,c=-7,d=r?n-1:0,y=r?-1:1,b=e[t+d];for(d+=y,s=b&(1<<-c)-1,b>>=-c,c+=h;c>0;s=s*256+e[t+d],d+=y,c-=8);for(o=s&(1<<-c)-1,s>>=-c,c+=a;c>0;o=o*256+e[t+d],d+=y,c-=8);if(s===0)s=1-v;else{if(s===p)return o?NaN:(b?-1:1)*(1/0);o=o+Math.pow(2,a),s=s-v}return(b?-1:1)*o*Math.pow(2,s-a)}i($l,"pj");function h9(e,t,r,a,n,s){var o,h,p,v=s*8-n-1,c=(1<<v)-1,d=c>>1,y=n===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=a?0:s-1,x=a?1:-1,k=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(h=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(p=Math.pow(2,-o))<1&&(o--,p*=2),o+d>=1?t+=y/p:t+=y*Math.pow(2,1-d),t*p>=2&&(o++,p/=2),o+d>=c?(h=0,o=c):o+d>=1?(h=(t*p-1)*Math.pow(2,n),o=o+d):(h=t*Math.pow(2,d-1)*Math.pow(2,n),o=0));n>=8;e[r+b]=h&255,b+=x,h/=256,n-=8);for(o=o<<n|h,v+=n;v>0;e[r+b]=o&255,b+=x,o/=256,v-=8);e[r+b-x]|=k*128}i(h9,"rV");function yn(e){if(e>ko)throw RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,Xe.prototype),t}i(yn,"wK");function X0(e,t,r){return class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(a){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:a,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}i(X0,"QW");function Xe(e,t,r){if(typeof e=="number"){if(typeof t=="string")throw TypeError('The "string" argument must be of type string. Received type number');return Wm(e)}return p9(e,t,r)}i(Xe,"J$");function p9(e,t,r){if(typeof e=="string")return SB(e,t);if(ArrayBuffer.isView(e))return MB(e);if(e==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if($i(e,ArrayBuffer)||e&&$i(e.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&($i(e,SharedArrayBuffer)||e&&$i(e.buffer,SharedArrayBuffer)))return Ym(e,t,r);if(typeof e=="number")throw TypeError('The "value" argument must not be of type number. Received type number');let a=e.valueOf&&e.valueOf();if(a!=null&&a!==e)return Xe.from(a,t,r);let n=EB(e);if(n)return n;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof e[Symbol.toPrimitive]=="function")return Xe.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}i(p9,"tV");function m9(e){if(typeof e!="number")throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}i(m9,"BV");function _B(e,t,r){return m9(e),e<=0?yn(e):t!==void 0?typeof r=="string"?yn(e).fill(t,r):yn(e).fill(t):yn(e)}i(_B,"tm");function Wm(e){return m9(e),yn(e<0?0:Fv(e)|0)}i(Wm,"eW");function SB(e,t){if((typeof t!="string"||t==="")&&(t="utf8"),!Xe.isEncoding(t))throw TypeError("Unknown encoding: "+t);let r=g9(e,t)|0,a=yn(r),n=a.write(e,t);return n!==r&&(a=a.slice(0,n)),a}i(SB,"Bm");function Qm(e){let t=e.length<0?0:Fv(e.length)|0,r=yn(t);for(let a=0;a<t;a+=1)r[a]=e[a]&255;return r}i(Qm,"UW");function MB(e){if($i(e,Uint8Array)){let t=new Uint8Array(e);return Ym(t.buffer,t.byteOffset,t.byteLength)}return Qm(e)}i(MB,"Um");function Ym(e,t,r){if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');let a;return t===void 0&&r===void 0?a=new Uint8Array(e):r===void 0?a=new Uint8Array(e,t):a=new Uint8Array(e,t,r),Object.setPrototypeOf(a,Xe.prototype),a}i(Ym,"FW");function EB(e){if(Xe.isBuffer(e)){let t=Fv(e.length)|0,r=yn(t);return r.length===0||e.copy(r,0,0,t),r}if(e.length!==void 0)return typeof e.length!="number"||Number.isNaN(e.length)?yn(0):Qm(e);if(e.type==="Buffer"&&Array.isArray(e.data))return Qm(e.data)}i(EB,"Fm");function Fv(e){if(e>=ko)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+ko.toString(16)+" bytes");return e|0}i(Fv,"sW");function g9(e,t){if(Xe.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||$i(e,ArrayBuffer))return e.byteLength;if(typeof e!="string")throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let r=e.length,a=arguments.length>2&&arguments[2]===!0;if(!a&&r===0)return 0;let n=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return eg(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return w9(e).length;default:if(n)return a?-1:eg(e).length;t=(""+t).toLowerCase(),n=!0}}i(g9,"UV");function kB(e,t,r){let a=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,t>>>=0,r<=t))return"";for(e||(e="utf8");;)switch(e){case"hex":return DB(this,t,r);case"utf8":case"utf-8":return v9(this,t,r);case"ascii":return TB(this,t,r);case"latin1":case"binary":return PB(this,t,r);case"base64":return RB(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return LB(this,t,r);default:if(a)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),a=!0}}i(kB,"am");function ea(e,t,r){let a=e[t];e[t]=e[r],e[r]=a}i(ea,"A_");function gx(e,t,r,a,n){if(e.length===0)return-1;if(typeof r=="string"?(a=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,Number.isNaN(r)&&(r=n?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(n)return-1;r=e.length-1}else if(r<0)if(n)r=0;else return-1;if(typeof t=="string"&&(t=Xe.from(t,a)),Xe.isBuffer(t))return t.length===0?-1:vx(e,t,r,a,n);if(typeof t=="number")return t=t&255,typeof Uint8Array.prototype.indexOf=="function"?n?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):vx(e,[t],r,a,n);throw TypeError("val must be string, number or Buffer")}i(gx,"FV");function vx(e,t,r,a,n){let s=1,o=e.length,h=t.length;if(a!==void 0&&(a=String(a).toLowerCase(),a==="ucs2"||a==="ucs-2"||a==="utf16le"||a==="utf-16le")){if(e.length<2||t.length<2)return-1;s=2,o/=2,h/=2,r/=2}function p(c,d){return s===1?c[d]:c.readUInt16BE(d*s)}i(p,"J");let v;if(n){let c=-1;for(v=r;v<o;v++)if(p(e,v)===p(t,c===-1?0:v-c)){if(c===-1&&(c=v),v-c+1===h)return c*s}else c!==-1&&(v-=v-c),c=-1}else for(r+h>o&&(r=o-h),v=r;v>=0;v--){let c=!0;for(let d=0;d<h;d++)if(p(e,v+d)!==p(t,d)){c=!1;break}if(c)return v}return-1}i(vx,"dV");function AB(e,t,r,a){r=Number(r)||0;let n=e.length-r;a?(a=Number(a),a>n&&(a=n)):a=n;let s=t.length;a>s/2&&(a=s/2);let o;for(o=0;o<a;++o){let h=parseInt(t.substr(o*2,2),16);if(Number.isNaN(h))return o;e[r+o]=h}return o}i(AB,"Qm");function jB(e,t,r,a){return Xf(eg(t,e.length-r),e,r,a)}i(jB,"em");function NB(e,t,r,a){return Xf(UB(t),e,r,a)}i(NB,"sm");function IB(e,t,r,a){return Xf(w9(t),e,r,a)}i(IB,"$d");function CB(e,t,r,a){return Xf(FB(t,e.length-r),e,r,a)}i(CB,"qd");function RB(e,t,r){return t===0&&r===e.length?mx(e):mx(e.slice(t,r))}i(RB,"Kd");function v9(e,t,r){r=Math.min(e.length,r);let a=[],n=t;for(;n<r;){let s=e[n],o=null,h=s>239?4:s>223?3:s>191?2:1;if(n+h<=r){let p,v,c,d;switch(h){case 1:s<128&&(o=s);break;case 2:p=e[n+1],(p&192)===128&&(d=(s&31)<<6|p&63,d>127&&(o=d));break;case 3:p=e[n+1],v=e[n+2],(p&192)===128&&(v&192)===128&&(d=(s&15)<<12|(p&63)<<6|v&63,d>2047&&(d<55296||d>57343)&&(o=d));break;case 4:p=e[n+1],v=e[n+2],c=e[n+3],(p&192)===128&&(v&192)===128&&(c&192)===128&&(d=(s&15)<<18|(p&63)<<12|(v&63)<<6|c&63,d>65535&&d<1114112&&(o=d))}}o===null?(o=65533,h=1):o>65535&&(o-=65536,a.push(o>>>10&1023|55296),o=56320|o&1023),a.push(o),n+=h}return OB(a)}i(v9,"aV");function OB(e){let t=e.length;if(t<=Mx)return String.fromCharCode.apply(String,e);let r="",a=0;for(;a<t;)r+=String.fromCharCode.apply(String,e.slice(a,a+=Mx));return r}i(OB,"_d");function TB(e,t,r){let a="";r=Math.min(e.length,r);for(let n=t;n<r;++n)a+=String.fromCharCode(e[n]&127);return a}i(TB,"Pd");function PB(e,t,r){let a="";r=Math.min(e.length,r);for(let n=t;n<r;++n)a+=String.fromCharCode(e[n]);return a}i(PB,"jd");function DB(e,t,r){let a=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>a)&&(r=a);let n="";for(let s=t;s<r;++s)n+=C9[e[s]];return n}i(DB,"Od");function LB(e,t,r){let a=e.slice(t,r),n="";for(let s=0;s<a.length-1;s+=2)n+=String.fromCharCode(a[s]+a[s+1]*256);return n}i(LB,"Yd");function yr(e,t,r){if(e%1!==0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}i(yr,"Pq");function Br(e,t,r,a,n,s){if(!Xe.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>n||t<s)throw RangeError('"value" argument is out of bounds');if(r+a>e.length)throw RangeError("Index out of range")}i(Br,"rq");function bx(e,t,r,a,n){y9(t,a,n,e,r,7);let s=Number(t&BigInt(4294967295));e[r++]=s,s=s>>8,e[r++]=s,s=s>>8,e[r++]=s,s=s>>8,e[r++]=s;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=o,o=o>>8,e[r++]=o,o=o>>8,e[r++]=o,o=o>>8,e[r++]=o,r}i(bx,"QV");function yx(e,t,r,a,n){y9(t,a,n,e,r,7);let s=Number(t&BigInt(4294967295));e[r+7]=s,s=s>>8,e[r+6]=s,s=s>>8,e[r+5]=s,s=s>>8,e[r+4]=s;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=o,o=o>>8,e[r+2]=o,o=o>>8,e[r+1]=o,o=o>>8,e[r]=o,r+8}i(yx,"eV");function b9(e,t,r,a,n,s){if(r+a>e.length||r<0)throw RangeError("Index out of range")}i(b9,"sV");function wx(e,t,r,a,n){return t=+t,r=r>>>0,!n&&b9(e,t,r,4),h9(e,t,r,a,23,4),r+4}i(wx,"$S");function xx(e,t,r,a,n){return t=+t,r=r>>>0,!n&&b9(e,t,r,8),h9(e,t,r,a,52,8),r+8}i(xx,"qS");function _x(e){let t="",r=e.length,a=e[0]==="-"?1:0;for(;r>=a+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}i(_x,"oV");function BB(e,t,r){Wa(t,"offset"),(e[t]===void 0||e[t+r]===void 0)&&oo(t,e.length-(r+1))}i(BB,"vd");function y9(e,t,r,a,n,s){if(e>r||e<t){let o=typeof t=="bigint"?"n":"",h;throw t===0||t===BigInt(0)?h=`>= 0${o} and < 2${o} ** ${(s+1)*8}${o}`:h=`>= -(2${o} ** ${(s+1)*8-1}${o}) and < 2 ** ${(s+1)*8-1}${o}`,new Fu("value",h,e)}BB(a,n,s)}i(y9,"KS");function Wa(e,t){if(typeof e!="number")throw new N9(t,"number",e)}i(Wa,"y4");function oo(e,t,r){throw Math.floor(e)!==e?(Wa(e,r),new Fu("offset","an integer",e)):t<0?new j9:new Fu("offset",`>= 0 and <= ${t}`,e)}i(oo,"L7");function zB(e){if(e=e.split("=")[0],e=e.trim().replace(I9,""),e.length<2)return"";for(;e.length%4!==0;)e=e+"=";return e}i(zB,"Wd");function eg(e,t){t=t||1/0;let r,a=e.length,n=null,s=[];for(let o=0;o<a;++o){if(r=e.charCodeAt(o),r>55295&&r<57344){if(!n){if(r>56319){(t-=3)>-1&&s.push(239,191,189);continue}else if(o+1===a){(t-=3)>-1&&s.push(239,191,189);continue}n=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),n=r;continue}r=(n-55296<<10|r-56320)+65536}else n&&(t-=3)>-1&&s.push(239,191,189);if(n=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,r&63|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw Error("Invalid code point")}return s}i(eg,"aW");function UB(e){let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r)&255);return t}i(UB,"Hd");function FB(e,t){let r,a,n,s=[];for(let o=0;o<e.length&&!((t-=2)<0);++o)r=e.charCodeAt(o),a=r>>8,n=r%256,s.push(n),s.push(a);return s}i(FB,"Jd");function w9(e){return yB(zB(e))}i(w9,"_S");function Xf(e,t,r,a){let n;for(n=0;n<a&&!(n+r>=t.length||n>=e.length);++n)t[n+r]=e[n];return n}i(Xf,"xj");function $i(e,t){return e instanceof t||e!=null&&e.constructor!=null&&e.constructor.name!=null&&e.constructor.name===t.name}i($i,"i8");function In(e){return typeof BigInt>"u"?$B:e}i(In,"cK");function $B(){throw Error("BigInt not supported")}i($B,"wd");function W0(e){return()=>{throw Error(e+" is not implemented for node:buffer browser polyfill")}}i(W0,"$H");var _i,Kr,Q0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ta,Sx,Y0,x9=50,ko=2147483647,_9=536870888,S9,M9,E9,k9,A9,j9,N9,Fu,Mx=4096,I9,C9,R9,O9,GB=i(e=>{for(let t of e)if(t.charCodeAt(0)>127)return!1;return!0},"fd"),T9,P9,Mr=sl(()=>{for(_i=[],Kr=[],ta=0,Sx=Q0.length;ta<Sx;++ta)_i[ta]=Q0[ta],Kr[Q0.charCodeAt(ta)]=ta;Kr[45]=62,Kr[95]=63,Y0=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null,S9=globalThis.btoa,M9=globalThis.atob,E9=globalThis.File,k9=globalThis.Blob,A9={MAX_LENGTH:ko,MAX_STRING_LENGTH:_9},j9=X0("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),N9=X0("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),Fu=X0("ERR_OUT_OF_RANGE",function(e,t,r){let a=`The value of "${e}" is out of range.`,n=r;return Number.isInteger(r)&&Math.abs(r)>4294967296?n=_x(String(r)):typeof r=="bigint"&&(n=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(n=_x(n)),n+="n"),a+=` It must be ${t}. Received ${n}`,a},RangeError),Object.defineProperty(Xe.prototype,"parent",{enumerable:!0,get:i(function(){if(Xe.isBuffer(this))return this.buffer},"get")}),Object.defineProperty(Xe.prototype,"offset",{enumerable:!0,get:i(function(){if(Xe.isBuffer(this))return this.byteOffset},"get")}),Xe.poolSize=8192,Xe.from=function(e,t,r){return p9(e,t,r)},Object.setPrototypeOf(Xe.prototype,Uint8Array.prototype),Object.setPrototypeOf(Xe,Uint8Array),Xe.alloc=function(e,t,r){return _B(e,t,r)},Xe.allocUnsafe=function(e){return Wm(e)},Xe.allocUnsafeSlow=function(e){return Wm(e)},Xe.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==Xe.prototype},Xe.compare=function(e,t){if($i(e,Uint8Array)&&(e=Xe.from(e,e.offset,e.byteLength)),$i(t,Uint8Array)&&(t=Xe.from(t,t.offset,t.byteLength)),!Xe.isBuffer(e)||!Xe.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,a=t.length;for(let n=0,s=Math.min(r,a);n<s;++n)if(e[n]!==t[n]){r=e[n],a=t[n];break}return r<a?-1:a<r?1:0},Xe.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Xe.concat=function(e,t){if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return Xe.alloc(0);let r;if(t===void 0)for(t=0,r=0;r<e.length;++r)t+=e[r].length;let a=Xe.allocUnsafe(t),n=0;for(r=0;r<e.length;++r){let s=e[r];if($i(s,Uint8Array))n+s.length>a.length?(Xe.isBuffer(s)||(s=Xe.from(s)),s.copy(a,n)):Uint8Array.prototype.set.call(a,s,n);else if(Xe.isBuffer(s))s.copy(a,n);else throw TypeError('"list" argument must be an Array of Buffers');n+=s.length}return a},Xe.byteLength=g9,Xe.prototype._isBuffer=!0,Xe.prototype.swap16=function(){let e=this.length;if(e%2!==0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)ea(this,t,t+1);return this},Xe.prototype.swap32=function(){let e=this.length;if(e%4!==0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)ea(this,t,t+3),ea(this,t+1,t+2);return this},Xe.prototype.swap64=function(){let e=this.length;if(e%8!==0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)ea(this,t,t+7),ea(this,t+1,t+6),ea(this,t+2,t+5),ea(this,t+3,t+4);return this},Xe.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?v9(this,0,e):kB.apply(this,arguments)},Xe.prototype.toLocaleString=Xe.prototype.toString,Xe.prototype.equals=function(e){if(!Xe.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e?!0:Xe.compare(this,e)===0},Xe.prototype.inspect=function(){let e="",t=x9;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},Y0&&(Xe.prototype[Y0]=Xe.prototype.inspect),Xe.prototype.compare=function(e,t,r,a,n){if($i(e,Uint8Array)&&(e=Xe.from(e,e.offset,e.byteLength)),!Xe.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),r===void 0&&(r=e?e.length:0),a===void 0&&(a=0),n===void 0&&(n=this.length),t<0||r>e.length||a<0||n>this.length)throw RangeError("out of range index");if(a>=n&&t>=r)return 0;if(a>=n)return-1;if(t>=r)return 1;if(t>>>=0,r>>>=0,a>>>=0,n>>>=0,this===e)return 0;let s=n-a,o=r-t,h=Math.min(s,o),p=this.slice(a,n),v=e.slice(t,r);for(let c=0;c<h;++c)if(p[c]!==v[c]){s=p[c],o=v[c];break}return s<o?-1:o<s?1:0},Xe.prototype.includes=function(e,t,r){return this.indexOf(e,t,r)!==-1},Xe.prototype.indexOf=function(e,t,r){return gx(this,e,t,r,!0)},Xe.prototype.lastIndexOf=function(e,t,r){return gx(this,e,t,r,!1)},Xe.prototype.write=function(e,t,r,a){if(t===void 0)a="utf8",r=this.length,t=0;else if(r===void 0&&typeof t=="string")a=t,r=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(r)?(r=r>>>0,a===void 0&&(a="utf8")):(a=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let n=this.length-t;if((r===void 0||r>n)&&(r=n),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");a||(a="utf8");let s=!1;for(;;)switch(a){case"hex":return AB(this,e,t,r);case"utf8":case"utf-8":return jB(this,e,t,r);case"ascii":case"latin1":case"binary":return NB(this,e,t,r);case"base64":return IB(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return CB(this,e,t,r);default:if(s)throw TypeError("Unknown encoding: "+a);a=(""+a).toLowerCase(),s=!0}},Xe.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},Xe.prototype.slice=function(e,t){let r=this.length;e=~~e,t=t===void 0?r:~~t,e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),t<e&&(t=e);let a=this.subarray(e,t);return Object.setPrototypeOf(a,Xe.prototype),a},Xe.prototype.readUintLE=Xe.prototype.readUIntLE=function(e,t,r){e=e>>>0,t=t>>>0,!r&&yr(e,t,this.length);let a=this[e],n=1,s=0;for(;++s<t&&(n*=256);)a+=this[e+s]*n;return a},Xe.prototype.readUintBE=Xe.prototype.readUIntBE=function(e,t,r){e=e>>>0,t=t>>>0,!r&&yr(e,t,this.length);let a=this[e+--t],n=1;for(;t>0&&(n*=256);)a+=this[e+--t]*n;return a},Xe.prototype.readUint8=Xe.prototype.readUInt8=function(e,t){return e=e>>>0,!t&&yr(e,1,this.length),this[e]},Xe.prototype.readUint16LE=Xe.prototype.readUInt16LE=function(e,t){return e=e>>>0,!t&&yr(e,2,this.length),this[e]|this[e+1]<<8},Xe.prototype.readUint16BE=Xe.prototype.readUInt16BE=function(e,t){return e=e>>>0,!t&&yr(e,2,this.length),this[e]<<8|this[e+1]},Xe.prototype.readUint32LE=Xe.prototype.readUInt32LE=function(e,t){return e=e>>>0,!t&&yr(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216},Xe.prototype.readUint32BE=Xe.prototype.readUInt32BE=function(e,t){return e=e>>>0,!t&&yr(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])},Xe.prototype.readBigUInt64LE=In(function(e){e=e>>>0,Wa(e,"offset");let t=this[e],r=this[e+7];(t===void 0||r===void 0)&&oo(e,this.length-8);let a=t+this[++e]*256+this[++e]*65536+this[++e]*16777216,n=this[++e]+this[++e]*256+this[++e]*65536+r*16777216;return BigInt(a)+(BigInt(n)<<BigInt(32))}),Xe.prototype.readBigUInt64BE=In(function(e){e=e>>>0,Wa(e,"offset");let t=this[e],r=this[e+7];(t===void 0||r===void 0)&&oo(e,this.length-8);let a=t*16777216+this[++e]*65536+this[++e]*256+this[++e],n=this[++e]*16777216+this[++e]*65536+this[++e]*256+r;return(BigInt(a)<<BigInt(32))+BigInt(n)}),Xe.prototype.readIntLE=function(e,t,r){e=e>>>0,t=t>>>0,!r&&yr(e,t,this.length);let a=this[e],n=1,s=0;for(;++s<t&&(n*=256);)a+=this[e+s]*n;return n*=128,a>=n&&(a-=Math.pow(2,8*t)),a},Xe.prototype.readIntBE=function(e,t,r){e=e>>>0,t=t>>>0,!r&&yr(e,t,this.length);let a=t,n=1,s=this[e+--a];for(;a>0&&(n*=256);)s+=this[e+--a]*n;return n*=128,s>=n&&(s-=Math.pow(2,8*t)),s},Xe.prototype.readInt8=function(e,t){return e=e>>>0,!t&&yr(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]},Xe.prototype.readInt16LE=function(e,t){e=e>>>0,!t&&yr(e,2,this.length);let r=this[e]|this[e+1]<<8;return r&32768?r|4294901760:r},Xe.prototype.readInt16BE=function(e,t){e=e>>>0,!t&&yr(e,2,this.length);let r=this[e+1]|this[e]<<8;return r&32768?r|4294901760:r},Xe.prototype.readInt32LE=function(e,t){return e=e>>>0,!t&&yr(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},Xe.prototype.readInt32BE=function(e,t){return e=e>>>0,!t&&yr(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},Xe.prototype.readBigInt64LE=In(function(e){e=e>>>0,Wa(e,"offset");let t=this[e],r=this[e+7];(t===void 0||r===void 0)&&oo(e,this.length-8);let a=this[e+4]+this[e+5]*256+this[e+6]*65536+(r<<24);return(BigInt(a)<<BigInt(32))+BigInt(t+this[++e]*256+this[++e]*65536+this[++e]*16777216)}),Xe.prototype.readBigInt64BE=In(function(e){e=e>>>0,Wa(e,"offset");let t=this[e],r=this[e+7];(t===void 0||r===void 0)&&oo(e,this.length-8);let a=(t<<24)+this[++e]*65536+this[++e]*256+this[++e];return(BigInt(a)<<BigInt(32))+BigInt(this[++e]*16777216+this[++e]*65536+this[++e]*256+r)}),Xe.prototype.readFloatLE=function(e,t){return e=e>>>0,!t&&yr(e,4,this.length),$l(this,e,!0,23,4)},Xe.prototype.readFloatBE=function(e,t){return e=e>>>0,!t&&yr(e,4,this.length),$l(this,e,!1,23,4)},Xe.prototype.readDoubleLE=function(e,t){return e=e>>>0,!t&&yr(e,8,this.length),$l(this,e,!0,52,8)},Xe.prototype.readDoubleBE=function(e,t){return e=e>>>0,!t&&yr(e,8,this.length),$l(this,e,!1,52,8)},Xe.prototype.writeUintLE=Xe.prototype.writeUIntLE=function(e,t,r,a){if(e=+e,t=t>>>0,r=r>>>0,!a){let o=Math.pow(2,8*r)-1;Br(this,e,t,r,o,0)}let n=1,s=0;for(this[t]=e&255;++s<r&&(n*=256);)this[t+s]=e/n&255;return t+r},Xe.prototype.writeUintBE=Xe.prototype.writeUIntBE=function(e,t,r,a){if(e=+e,t=t>>>0,r=r>>>0,!a){let o=Math.pow(2,8*r)-1;Br(this,e,t,r,o,0)}let n=r-1,s=1;for(this[t+n]=e&255;--n>=0&&(s*=256);)this[t+n]=e/s&255;return t+r},Xe.prototype.writeUint8=Xe.prototype.writeUInt8=function(e,t,r){return e=+e,t=t>>>0,!r&&Br(this,e,t,1,255,0),this[t]=e&255,t+1},Xe.prototype.writeUint16LE=Xe.prototype.writeUInt16LE=function(e,t,r){return e=+e,t=t>>>0,!r&&Br(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2},Xe.prototype.writeUint16BE=Xe.prototype.writeUInt16BE=function(e,t,r){return e=+e,t=t>>>0,!r&&Br(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2},Xe.prototype.writeUint32LE=Xe.prototype.writeUInt32LE=function(e,t,r){return e=+e,t=t>>>0,!r&&Br(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4},Xe.prototype.writeUint32BE=Xe.prototype.writeUInt32BE=function(e,t,r){return e=+e,t=t>>>0,!r&&Br(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4},Xe.prototype.writeBigUInt64LE=In(function(e,t=0){return bx(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),Xe.prototype.writeBigUInt64BE=In(function(e,t=0){return yx(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),Xe.prototype.writeIntLE=function(e,t,r,a){if(e=+e,t=t>>>0,!a){let h=Math.pow(2,8*r-1);Br(this,e,t,r,h-1,-h)}let n=0,s=1,o=0;for(this[t]=e&255;++n<r&&(s*=256);)e<0&&o===0&&this[t+n-1]!==0&&(o=1),this[t+n]=(e/s>>0)-o&255;return t+r},Xe.prototype.writeIntBE=function(e,t,r,a){if(e=+e,t=t>>>0,!a){let h=Math.pow(2,8*r-1);Br(this,e,t,r,h-1,-h)}let n=r-1,s=1,o=0;for(this[t+n]=e&255;--n>=0&&(s*=256);)e<0&&o===0&&this[t+n+1]!==0&&(o=1),this[t+n]=(e/s>>0)-o&255;return t+r},Xe.prototype.writeInt8=function(e,t,r){return e=+e,t=t>>>0,!r&&Br(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1},Xe.prototype.writeInt16LE=function(e,t,r){return e=+e,t=t>>>0,!r&&Br(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2},Xe.prototype.writeInt16BE=function(e,t,r){return e=+e,t=t>>>0,!r&&Br(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2},Xe.prototype.writeInt32LE=function(e,t,r){return e=+e,t=t>>>0,!r&&Br(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},Xe.prototype.writeInt32BE=function(e,t,r){return e=+e,t=t>>>0,!r&&Br(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4},Xe.prototype.writeBigInt64LE=In(function(e,t=0){return bx(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),Xe.prototype.writeBigInt64BE=In(function(e,t=0){return yx(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),Xe.prototype.writeFloatLE=function(e,t,r){return wx(this,e,t,!0,r)},Xe.prototype.writeFloatBE=function(e,t,r){return wx(this,e,t,!1,r)},Xe.prototype.writeDoubleLE=function(e,t,r){return xx(this,e,t,!0,r)},Xe.prototype.writeDoubleBE=function(e,t,r){return xx(this,e,t,!1,r)},Xe.prototype.copy=function(e,t,r,a){if(!Xe.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),!a&&a!==0&&(a=this.length),t>=e.length&&(t=e.length),t||(t=0),a>0&&a<r&&(a=r),a===r||e.length===0||this.length===0)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(a<0)throw RangeError("sourceEnd out of bounds");a>this.length&&(a=this.length),e.length-t<a-r&&(a=e.length-t+r);let n=a-r;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,r,a):Uint8Array.prototype.set.call(e,this.subarray(r,a),t),n},Xe.prototype.fill=function(e,t,r,a){if(typeof e=="string"){if(typeof t=="string"?(a=t,t=0,r=this.length):typeof r=="string"&&(a=r,r=this.length),a!==void 0&&typeof a!="string")throw TypeError("encoding must be a string");if(typeof a=="string"&&!Xe.isEncoding(a))throw TypeError("Unknown encoding: "+a);if(e.length===1){let s=e.charCodeAt(0);(a==="utf8"&&s<128||a==="latin1")&&(e=s)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;t=t>>>0,r=r===void 0?this.length:r>>>0,!e&&(e=0);let n;if(typeof e=="number")for(n=t;n<r;++n)this[n]=e;else{let s=Xe.isBuffer(e)?e:Xe.from(e,a),o=s.length;if(o===0)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(n=0;n<r-t;++n)this[n+t]=s[n%o]}return this},I9=/[^+/0-9A-Za-z-_]/g,C9=(function(){let e=Array(256);for(let t=0;t<16;++t){let r=t*16;for(let a=0;a<16;++a)e[r+a]="0123456789abcdef"[t]+"0123456789abcdef"[a]}return e})(),R9=W0("resolveObjectURL"),O9=W0("isUtf8"),T9=W0("transcode"),P9=Xe}),D9={};$r(D9,{types:i(()=>rz,"types"),promisify:i(()=>ng,"promisify"),log:i(()=>z9,"log"),isUndefined:i(()=>rs,"isUndefined"),isSymbol:i(()=>QB,"isSymbol"),isString:i(()=>Qf,"isString"),isRegExp:i(()=>Au,"isRegExp"),isPrimitive:i(()=>YB,"isPrimitive"),isObject:i(()=>_s,"isObject"),isNumber:i(()=>B9,"isNumber"),isNullOrUndefined:i(()=>WB,"isNullOrUndefined"),isNull:i(()=>Wf,"isNull"),isFunction:i(()=>Nu,"isFunction"),isError:i(()=>ju,"isError"),isDate:i(()=>rg,"isDate"),isBuffer:i(()=>ez,"isBuffer"),isBoolean:i(()=>Gv,"isBoolean"),isArray:i(()=>L9,"isArray"),inspect:i(()=>Pn,"inspect"),inherits:i(()=>U9,"inherits"),format:i(()=>$v,"format"),deprecate:i(()=>VB,"deprecate"),default:i(()=>H9,"default"),debuglog:i(()=>V9,"debuglog"),callbackifyOnRejected:i(()=>Zv,"callbackifyOnRejected"),callbackify:i(()=>$9,"callbackify"),_extend:i(()=>ig,"_extend"),TextEncoder:i(()=>ag,"TextEncoder"),TextDecoder:i(()=>sg,"TextDecoder")});function $v(e,...t){if(!Qf(e)){for(var r=[e],a=0;a<t.length;a++)r.push(Pn(t[a]));return r.join(" ")}for(var a=0,n=t.length,s=String(e).replace(G9,function(h){if(h==="%%")return"%";if(a>=n)return h;switch(h){case"%s":return String(t[a++]);case"%d":return Number(t[a++]);case"%j":try{return JSON.stringify(t[a++])}catch{return"[Circular]"}default:return h}}),o=t[a];a<n;o=t[++a])Wf(o)||!_s(o)?s+=" "+o:s+=" "+Pn(o);return s}i($v,"jH");function VB(e,t){if(typeof process>"u"||process?.noDeprecation===!0)return e;var r=!1;function a(...n){if(!r){if(process.throwDeprecation)throw Error(t);process.traceDeprecation?console.trace(t):console.error(t),r=!0}return e.apply(this,...n)}return i(a,"P"),a}i(VB,"Vd");function ZB(e,t){var r=Pn.styles[t];return r?"\x1B["+Pn.colors[r][0]+"m"+e+"\x1B["+Pn.colors[r][1]+"m":e}i(ZB,"Md");function HB(e,t){return e}i(HB,"Nd");function JB(e){var t={};return e.forEach(function(r,a){t[r]=!0}),t}i(JB,"Cd");function $u(e,t,r){if(e.customInspect&&t&&Nu(t.inspect)&&t.inspect!==Pn&&!(t.constructor&&t.constructor.prototype===t)){var a=t.inspect(r,e);return Qf(a)||(a=$u(e,a,r)),a}var n=qB(e,t);if(n)return n;var s=Object.keys(t),o=JB(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(t)),ju(t)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return ep(t);if(s.length===0){if(Nu(t)){var h=t.name?": "+t.name:"";return e.stylize("[Function"+h+"]","special")}if(Au(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(rg(t))return e.stylize(Date.prototype.toString.call(t),"date");if(ju(t))return ep(t)}var p="",v=!1,c=["{","}"];if(L9(t)&&(v=!0,c=["[","]"]),Nu(t)){var d=t.name?": "+t.name:"";p=" [Function"+d+"]"}if(Au(t)&&(p=" "+RegExp.prototype.toString.call(t)),rg(t)&&(p=" "+Date.prototype.toUTCString.call(t)),ju(t)&&(p=" "+ep(t)),s.length===0&&(!v||t.length==0))return c[0]+p+c[1];if(r<0)return Au(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var y;return v?y=KB(e,t,r,o,s):y=s.map(function(b){return tg(e,t,r,o,b,v)}),e.seen.pop(),XB(y,p,c)}i($u,"lj");function qB(e,t){if(rs(t))return e.stylize("undefined","undefined");if(Qf(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(B9(t))return e.stylize(""+t,"number");if(Gv(t))return e.stylize(""+t,"boolean");if(Wf(t))return e.stylize("null","null")}i(qB,"Ed");function ep(e){return"["+Error.prototype.toString.call(e)+"]"}i(ep,"qH");function KB(e,t,r,a,n){for(var s=[],o=0,h=t.length;o<h;++o)F9(t,String(o))?s.push(tg(e,t,r,a,String(o),!0)):s.push("");return n.forEach(function(p){p.match(/^\d+$/)||s.push(tg(e,t,r,a,p,!0))}),s}i(KB,"hd");function tg(e,t,r,a,n,s){var o,h,p;if(p=Object.getOwnPropertyDescriptor(t,n)||{value:t[n]},p.get?p.set?h=e.stylize("[Getter/Setter]","special"):h=e.stylize("[Getter]","special"):p.set&&(h=e.stylize("[Setter]","special")),F9(a,n)||(o="["+n+"]"),h||(e.seen.indexOf(p.value)<0?(Wf(r)?h=$u(e,p.value,null):h=$u(e,p.value,r-1),h.indexOf(`
`)>-1&&(s?h=h.split(`
`).map(function(v){return"  "+v}).join(`
`).slice(2):h=`
`+h.split(`
`).map(function(v){return"   "+v}).join(`
`))):h=e.stylize("[Circular]","special")),rs(o)){if(s&&n.match(/^\d+$/))return h;o=JSON.stringify(""+n),o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.slice(1,-1),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+h}i(tg,"_H");function XB(e,t,r){var a=e.reduce(function(n,s){return s.indexOf(`
`)>=0,n+s.replace(/\u001b\[\d\d?m/g,"").length+1},0);return a>60?r[0]+(t===""?"":t+`
 `)+" "+e.join(`,
  `)+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}i(XB,"Rd");function L9(e){return Array.isArray(e)}i(L9,"PS");function Gv(e){return typeof e=="boolean"}i(Gv,"OH");function Wf(e){return e===null}i(Wf,"oj");function WB(e){return e==null}i(WB,"Dd");function B9(e){return typeof e=="number"}i(B9,"jS");function Qf(e){return typeof e=="string"}i(Qf,"rj");function QB(e){return typeof e=="symbol"}i(QB,"gd");function rs(e){return e===void 0}i(rs,"p4");function Au(e){return _s(e)&&Vv(e)==="[object RegExp]"}i(Au,"cj");function _s(e){return typeof e=="object"&&e!==null}i(_s,"x4");function rg(e){return _s(e)&&Vv(e)==="[object Date]"}i(rg,"PH");function ju(e){return _s(e)&&(Vv(e)==="[object Error]"||e instanceof Error)}i(ju,"mj");function Nu(e){return typeof e=="function"}i(Nu,"dj");function YB(e){return e===null||typeof e=="boolean"||typeof e=="number"||typeof e=="string"||typeof e=="symbol"||typeof e>"u"}i(YB,"Ld");function ez(e){return e instanceof Buffer}i(ez,"bd");function Vv(e){return Object.prototype.toString.call(e)}i(Vv,"YH");function tp(e){return e<10?"0"+e.toString(10):e.toString(10)}i(tp,"KH");function tz(){var e=new Date,t=[tp(e.getHours()),tp(e.getMinutes()),tp(e.getSeconds())].join(":");return[e.getDate(),Z9[e.getMonth()],t].join(" ")}i(tz,"yd");function z9(...e){console.log("%s - %s",tz(),$v.apply(null,e))}i(z9,"OS");function U9(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}i(U9,"YS");function ig(e,t){if(!t||!_s(t))return e;for(var r=Object.keys(t),a=r.length;a--;)e[r[a]]=t[r[a]];return e}i(ig,"vH");function F9(e,t){return Object.prototype.hasOwnProperty.call(e,t)}i(F9,"vS");function Zv(e,t){if(!e){var r=Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}i(Zv,"zH");function $9(e){if(typeof e!="function")throw TypeError('The "original" argument must be of type Function');function t(...r){var a=r.pop();if(typeof a!="function")throw TypeError("The last argument must be of type Function");var n=this,s=i(function(...o){return a.apply(n,...o)},"O");e.apply(this,r).then(function(o){process.nextTick(s.bind(null,null,o))},function(o){process.nextTick(Zv.bind(null,o,s))})}return i(t,"q"),Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)),t}i($9,"WS$1");var G9,V9,Pn,rz=i(()=>{},"Id"),Z9,ng,ag,sg,H9,iz=sl(()=>{G9=/%[sdj%]/g,V9=((e={},t={},r)=>((r=typeof process<"u"&&!1)&&(r=r.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase()),t=new RegExp("^"+r+"$","i"),a=>(a=a.toUpperCase(),!e[a]&&(t.test(a)?e[a]=function(...n){console.error("%s: %s",a,pid,$v.apply(null,...n))}:e[a]=function(){}),e[a])))(),Pn=(e=>(e.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},e.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.custom=Symbol.for("nodejs.util.inspect.custom"),e))(function(e,t,...r){var a={seen:[],stylize:HB};return r.length>=1&&(a.depth=r[0]),r.length>=2&&(a.colors=r[1]),Gv(t)?a.showHidden=t:t&&ig(a,t),rs(a.showHidden)&&(a.showHidden=!1),rs(a.depth)&&(a.depth=2),rs(a.colors)&&(a.colors=!1),a.colors&&(a.stylize=ZB),$u(a,e,a.depth)}),Z9=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ng=(e=>(e.custom=Symbol.for("nodejs.util.promisify.custom"),e))(function(e){if(typeof e!="function")throw TypeError('The "original" argument must be of type Function');if(kCustomPromisifiedSymbol&&e[kCustomPromisifiedSymbol]){var t=e[kCustomPromisifiedSymbol];if(typeof t!="function")throw TypeError('The "nodejs.util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,kCustomPromisifiedSymbol,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(...r){var a,n,s=new Promise(function(o,h){a=o,n=h});r.push(function(o,h){o?n(o):a(h)});try{e.apply(this,r)}catch(o){n(o)}return s}return i(t,"K"),Object.setPrototypeOf(t,Object.getPrototypeOf(e)),kCustomPromisifiedSymbol&&Object.defineProperty(t,kCustomPromisifiedSymbol,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,Object.getOwnPropertyDescriptors(e))}),{TextEncoder:ag,TextDecoder:sg}=globalThis,H9={TextEncoder:ag,TextDecoder:sg,promisify:ng,log:z9,inherits:U9,_extend:ig,callbackifyOnRejected:Zv,callbackify:$9}}),lo={};$r(lo,{setMaxListeners:i(()=>X9,"setMaxListeners"),once:i(()=>q9,"once"),listenerCount:i(()=>W9,"listenerCount"),init:i(()=>pn,"init"),getMaxListeners:i(()=>Y9,"getMaxListeners"),getEventListeners:i(()=>K9,"getEventListeners"),default:i(()=>tS,"default"),captureRejectionSymbol:i(()=>fg,"captureRejectionSymbol"),addAbortListener:i(()=>eS,"addAbortListener"),EventEmitter:i(()=>pn,"EventEmitter")});function J9(e,t){var{_events:r}=e;if(t[0]??=Error("Unhandled error."),!r)throw t[0];var a=r[lg];if(a)for(var n of cg.call(a))n.apply(e,t);var s=r.error;if(!s)throw t[0];for(var n of cg.call(s))n.apply(e,t);return!0}i(J9,"GS");function nz(e,t,r,a){t.then(void 0,function(n){queueMicrotask(()=>az(e,n,r,a))})}i(nz,"md");function az(e,t,r,a){if(typeof e[ug]=="function")e[ug](t,r,...a);else try{e[Tn]=!1,e.emit("error",t)}finally{e[Tn]=!0}}i(az,"dd");function Ex(e,t,r){r.warned=!0;let a=Error(`Possible EventEmitter memory leak detected. ${r.length} ${String(t)} listeners added to [${e.constructor.name}]. Use emitter.setMaxListeners() to increase limit`);a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=r.length,console.warn(a)}i(Ex,"VS");function kx(e,t,...r){this.removeListener(e,t),t.apply(this,r)}i(kx,"SS");function q9(e,t,r){var a=r?.signal;if(Q9(a,"options.signal"),a?.aborted)throw new dg(void 0,{cause:a?.reason});let{resolve:n,reject:s,promise:o}=$newPromiseCapability(Promise),h=i(c=>{e.removeListener(t,p),a!=null&&Gl(a,"abort",v),s(c)},"z"),p=i((...c)=>{typeof e.removeListener=="function"&&e.removeListener("error",h),a!=null&&Gl(a,"abort",v),n(c)},"J");Ax(e,t,p,{once:!0}),t!=="error"&&typeof e.once=="function"&&e.once("error",h);function v(){Gl(e,t,p),Gl(e,"error",h),s(new dg(void 0,{cause:a?.reason}))}return i(v,"w"),a!=null&&Ax(a,"abort",v,{once:!0}),o}i(q9,"MS");function K9(e,t){return e.listeners(t)}i(K9,"NS");function X9(e,...t){og(e,"setMaxListeners",0);var r;if(t&&(r=t.length))for(let a=0;a<r;a++)t[a].setMaxListeners(e);else ca=e}i(X9,"CS");function W9(e,t){return e.listenerCount(t)}i(W9,"ES");function Gl(e,t,r,a){typeof e.removeListener=="function"?e.removeListener(t,r):e.removeEventListener(t,r,a)}i(Gl,"nj");function Ax(e,t,r,a){typeof e.on=="function"?a.once?e.once(t,r):e.on(t,r):e.addEventListener(t,r,a)}i(Ax,"fS");function os(e,t,r){let a=TypeError(`The "${e}" argument must be of type ${t}. Received ${r}`);return a.code="ERR_INVALID_ARG_TYPE",a}i(os,"c4");function sz(e,t,r){let a=RangeError(`The "${e}" argument is out of range. It must be ${t}. Received ${r}`);return a.code="ERR_OUT_OF_RANGE",a}i(sz,"rd");function Q9(e,t){if(e!==void 0&&(e===null||typeof e!="object"||!("aborted"in e)))throw os(t,"AbortSignal",e)}i(Q9,"hS");function og(e,t,r,a){if(typeof e!="number")throw os(t,"number",e);if(e<r||a!=null||Number.isNaN(e))throw sz(t,`${`>= ${r}`}`,e)}i(og,"JH");function Rs(e){if(typeof e!="function")throw TypeError("The listener must be a function")}i(Rs,"b7");function oz(e,t){if(typeof e!="boolean")throw os(t,"boolean",e)}i(oz,"nd");function Y9(e){return e?._maxListeners??ca}i(Y9,"RS");function eS(e,t){if(e===void 0)throw os("signal","AbortSignal",e);if(Q9(e,"signal"),typeof t!="function")throw os("listener","function",t);let r;return e.aborted?queueMicrotask(()=>t()):(e.addEventListener("abort",t,{__proto__:null,once:!0}),r=i(()=>{e.removeEventListener("abort",t)},"K")),{__proto__:null,[Symbol.dispose](){r?.()}}}i(eS,"IS");var Vl,Tn,lg,jx,Nx,ug,fg,cg,ca=10,pn=i(function(e){(this._events===void 0||this._events===this.__proto__._events)&&(this._events={__proto__:null},this._eventsCount=0),this._maxListeners??=void 0,(this[Tn]=e?.captureRejections?!!e?.captureRejections:tr[Tn])&&(this.emit=uz)},"mK"),tr,lz=i(function(e,...t){if(e==="error")return J9(this,t);var{_events:r}=this;if(r===void 0)return!1;var a=r[e];if(a===void 0)return!1;let n=a.length>1?a.slice():a;for(let s=0,{length:o}=n;s<o;s++){let h=n[s];switch(t.length){case 0:h.call(this);break;case 1:h.call(this,t[0]);break;case 2:h.call(this,t[0],t[1]);break;case 3:h.call(this,t[0],t[1],t[2]);break;default:h.apply(this,t);break}}return!0},"ld"),uz=i(function(e,...t){if(e==="error")return J9(this,t);var{_events:r}=this;if(r===void 0)return!1;var a=r[e];if(a===void 0)return!1;let n=a.length>1?a.slice():a;for(let s=0,{length:o}=n;s<o;s++){let h=n[s],p;switch(t.length){case 0:p=h.call(this);break;case 1:p=h.call(this,t[0]);break;case 2:p=h.call(this,t[0],t[1]);break;case 3:p=h.call(this,t[0],t[1],t[2]);break;default:p=h.apply(this,t);break}p!==void 0&&typeof p?.then=="function"&&p.then===Promise.prototype.then&&nz(this,p,e,t)}return!0},"od"),dg,tS,Zl=sl(()=>{Vl=Symbol.for,Tn=Symbol("kCapture"),lg=Vl("events.errorMonitor"),jx=Symbol("events.maxEventTargetListeners"),Nx=Symbol("events.maxEventTargetListenersWarned"),ug=Vl("nodejs.rejection"),fg=Vl("nodejs.rejection"),cg=Array.prototype.slice,tr=pn.prototype={},tr._events=void 0,tr._eventsCount=0,tr._maxListeners=void 0,tr.setMaxListeners=function(e){return og(e,"setMaxListeners",0),this._maxListeners=e,this},tr.constructor=pn,tr.getMaxListeners=function(){return this?._maxListeners??ca},tr.emit=lz,tr.addListener=function(e,t){Rs(t);var r=this._events;r?r.newListener&&this.emit("newListener",e,t.listener??t):(r=this._events={__proto__:null},this._eventsCount=0);var a=r[e];if(!a)r[e]=[t],this._eventsCount++;else{a.push(t);var n=this._maxListeners??ca;n>0&&a.length>n&&!a.warned&&Ex(this,e,a)}return this},tr.on=tr.addListener,tr.prependListener=function(e,t){Rs(t);var r=this._events;r?r.newListener&&this.emit("newListener",e,t.listener??t):(r=this._events={__proto__:null},this._eventsCount=0);var a=r[e];if(!a)r[e]=[t],this._eventsCount++;else{a.unshift(t);var n=this._maxListeners??ca;n>0&&a.length>n&&!a.warned&&Ex(this,e,a)}return this},tr.once=function(e,t){Rs(t);let r=kx.bind(this,e,t);return r.listener=t,this.addListener(e,r),this},tr.prependOnceListener=function(e,t){Rs(t);let r=kx.bind(this,e,t);return r.listener=t,this.prependListener(e,r),this},tr.removeListener=function(e,t){Rs(t);var{_events:r}=this;if(!r)return this;var a=r[e];if(!a)return this;var n=a.length;let s=-1;for(let o=n-1;o>=0;o--)if(a[o]===t||a[o].listener===t){s=o;break}return s<0?this:(s===0?a.shift():a.splice(s,1),a.length===0&&(delete r[e],this._eventsCount--),this)},tr.off=tr.removeListener,tr.removeAllListeners=function(e){var{_events:t}=this;return e&&t?t[e]&&(delete t[e],this._eventsCount--):this._events={__proto__:null},this},tr.listeners=function(e){var{_events:t}=this;if(!t)return[];var r=t[e];return r?r.map(a=>a.listener??a):[]},tr.rawListeners=function(e){var{_events:t}=this;if(!t)return[];var r=t[e];return r?r.slice():[]},tr.listenerCount=function(e){var{_events:t}=this;return t?t[e]?.length??0:0},tr.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]},tr[Tn]=!1,dg=class extends Error{static{i(this,"WH")}constructor(t="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw os("options","Object",r);super(t,r),this.code="ABORT_ERR",this.name="AbortError"}},Object.defineProperties(pn,{captureRejections:{get(){return tr[Tn]},set(e){oz(e,"EventEmitter.captureRejections"),tr[Tn]=e},enumerable:!0},defaultMaxListeners:{enumerable:!0,get:i(()=>ca,"get"),set:i(e=>{og(e,"defaultMaxListeners",0),ca=e},"set")},kMaxEventTargetListeners:{value:jx,enumerable:!1,configurable:!1,writable:!1},kMaxEventTargetListenersWarned:{value:Nx,enumerable:!1,configurable:!1,writable:!1}}),Object.assign(pn,{once:q9,getEventListeners:K9,getMaxListeners:Y9,setMaxListeners:X9,EventEmitter:pn,usingDomains:!1,captureRejectionSymbol:fg,errorMonitor:lg,addAbortListener:eS,init:pn,listenerCount:W9}),tS=pn}),rS=rt((e,t)=>{var r=i((M,A)=>()=>(A||M((A={exports:{}}).exports,A),A.exports),"k6"),a=r((M,A)=>{class S extends Error{static{i(this,"K")}constructor(_){if(!Array.isArray(_))throw TypeError(`Expected input to be an Array, got ${typeof _}`);let E="";for(let I=0;I<_.length;I++)E+=`    ${_[I].stack}
`;super(E),this.name="AggregateError",this.errors=_}}A.exports={AggregateError:S,ArrayIsArray(f){return Array.isArray(f)},ArrayPrototypeIncludes(f,_){return f.includes(_)},ArrayPrototypeIndexOf(f,_){return f.indexOf(_)},ArrayPrototypeJoin(f,_){return f.join(_)},ArrayPrototypeMap(f,_){return f.map(_)},ArrayPrototypePop(f,_){return f.pop(_)},ArrayPrototypePush(f,_){return f.push(_)},ArrayPrototypeSlice(f,_,E){return f.slice(_,E)},Error,FunctionPrototypeCall(f,_,...E){return f.call(_,...E)},FunctionPrototypeSymbolHasInstance(f,_){return Function.prototype[Symbol.hasInstance].call(f,_)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(f,_){return Object.defineProperties(f,_)},ObjectDefineProperty(f,_,E){return Object.defineProperty(f,_,E)},ObjectGetOwnPropertyDescriptor(f,_){return Object.getOwnPropertyDescriptor(f,_)},ObjectKeys(f){return Object.keys(f)},ObjectSetPrototypeOf(f,_){return Object.setPrototypeOf(f,_)},Promise,PromisePrototypeCatch(f,_){return f.catch(_)},PromisePrototypeThen(f,_,E){return f.then(_,E)},PromiseReject(f){return Promise.reject(f)},PromiseResolve(f){return Promise.resolve(f)},ReflectApply:Reflect.apply,RegExpPrototypeTest(f,_){return f.test(_)},SafeSet:Set,String,StringPrototypeSlice(f,_,E){return f.slice(_,E)},StringPrototypeToLowerCase(f){return f.toLowerCase()},StringPrototypeToUpperCase(f){return f.toUpperCase()},StringPrototypeTrim(f){return f.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(f,_,E){return f.set(_,E)},Boolean,Uint8Array}}),n=r((M,A)=>{A.exports={format(S,...f){return S.replace(/%([sdifj])/g,function(...[_,E]){let I=f.shift();return E==="f"?I.toFixed(6):E==="j"?JSON.stringify(I):E==="s"&&typeof I=="object"?`${I.constructor!==Object?I.constructor.name:""} {}`.trim():I.toString()})},inspect(S){switch(typeof S){case"string":if(S.includes("'"))if(S.includes('"')){if(!S.includes("`")&&!S.includes("${"))return`\`${S}\``}else return`"${S}"`;return`'${S}'`;case"number":return isNaN(S)?"NaN":Object.is(S,-0)?String(S):S;case"bigint":return`${String(S)}n`;case"boolean":case"undefined":return String(S);case"object":return"{}"}}}}),s=r((M,A)=>{var{format:S,inspect:f}=n(),{AggregateError:_}=a(),E=globalThis.AggregateError||_,I=Symbol("kIsNodeError"),D=["string","function","number","object","Function","Object","boolean","bigint","symbol"],L=/^([A-Z][a-z0-9]*)+$/,U={};function B(ye,q){if(!ye)throw new U.ERR_INTERNAL_ASSERTION(q)}i(B,"G");function G(ye){let q="",re=ye.length,X=ye[0]==="-"?1:0;for(;re>=X+4;re-=3)q=`_${ye.slice(re-3,re)}${q}`;return`${ye.slice(0,re)}${q}`}i(G,"f");function H(ye,q,re){if(typeof q=="function")return B(q.length<=re.length,`Code: ${ye}; The provided arguments length (${re.length}) does not match the required ones (${q.length}).`),q(...re);let X=(q.match(/%[dfijoOs]/g)||[]).length;return B(X===re.length,`Code: ${ye}; The provided arguments length (${re.length}) does not match the required ones (${X}).`),re.length===0?q:S(q,...re)}i(H,"A");function K(ye,q,re){re||(re=Error);class X extends re{static{i(this,"u")}constructor(...le){super(H(ye,q,le))}toString(){return`${this.name} [${ye}]: ${this.message}`}}Object.defineProperties(X.prototype,{name:{value:re.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${ye}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),X.prototype.code=ye,X.prototype[I]=!0,U[ye]=X}i(K,"V");function _e(ye){let q="__node_internal_"+ye.name;return Object.defineProperty(ye,"name",{value:q}),ye}i(_e,"C");function ae(ye,q){if(ye&&q&&ye!==q){if(Array.isArray(q.errors))return q.errors.push(ye),q;let re=new E([q,ye],q.message);return re.code=q.code,re}return ye||q}i(ae,"E");class se extends Error{static{i(this,"R")}constructor(q="The operation was aborted",re=void 0){if(re!==void 0&&typeof re!="object")throw new U.ERR_INVALID_ARG_TYPE("options","Object",re);super(q,re),this.code="ABORT_ERR",this.name="AbortError"}}K("ERR_ASSERTION","%s",Error),K("ERR_INVALID_ARG_TYPE",(ye,q,re)=>{B(typeof ye=="string","'name' must be a string"),!Array.isArray(q)&&(q=[q]);let X="The ";ye.endsWith(" argument")?X+=`${ye} `:X+=`"${ye}" ${ye.includes(".")?"property":"argument"} `,X+="must be ";let W=[],le=[],ke=[];for(let fe of q)B(typeof fe=="string","All expected entries have to be of type string"),D.includes(fe)?W.push(fe.toLowerCase()):L.test(fe)?le.push(fe):(B(fe!=="object",'The value "object" should be written as "Object"'),ke.push(fe));if(le.length>0){let fe=W.indexOf("object");fe!==-1&&(W.splice(W,fe,1),le.push("Object"))}if(W.length>0){switch(W.length){case 1:X+=`of type ${W[0]}`;break;case 2:X+=`one of type ${W[0]} or ${W[1]}`;break;default:{let fe=W.pop();X+=`one of type ${W.join(", ")}, or ${fe}`}}(le.length>0||ke.length>0)&&(X+=" or ")}if(le.length>0){switch(le.length){case 1:X+=`an instance of ${le[0]}`;break;case 2:X+=`an instance of ${le[0]} or ${le[1]}`;break;default:{let fe=le.pop();X+=`an instance of ${le.join(", ")}, or ${fe}`}}ke.length>0&&(X+=" or ")}switch(ke.length){case 0:break;case 1:ke[0].toLowerCase()!==ke[0]&&(X+="an "),X+=`${ke[0]}`;break;case 2:X+=`one of ${ke[0]} or ${ke[1]}`;break;default:{let fe=ke.pop();X+=`one of ${ke.join(", ")}, or ${fe}`}}if(re==null)X+=`. Received ${re}`;else if(typeof re=="function"&&re.name)X+=`. Received function ${re.name}`;else if(typeof re=="object"){var pe;if((pe=re.constructor)!==null&&pe!==void 0&&pe.name)X+=`. Received an instance of ${re.constructor.name}`;else{let fe=f(re,{depth:-1});X+=`. Received ${fe}`}}else{let fe=f(re,{colors:!1});fe.length>25&&(fe=`${fe.slice(0,25)}...`),X+=`. Received type ${typeof re} (${fe})`}return X},TypeError),K("ERR_INVALID_ARG_VALUE",(ye,q,re="is invalid")=>{let X=f(q);return X.length>128&&(X=X.slice(0,128)+"..."),`The ${ye.includes(".")?"property":"argument"} '${ye}' ${re}. Received ${X}`},TypeError),K("ERR_INVALID_RETURN_VALUE",(ye,q,re)=>{var X;let W=re!=null&&(X=re.constructor)!==null&&X!==void 0&&X.name?`instance of ${re.constructor.name}`:`type ${typeof re}`;return`Expected ${ye} to be returned from the "${q}" function but got ${W}.`},TypeError),K("ERR_MISSING_ARGS",(...ye)=>{B(ye.length>0,"At least one arg needs to be specified");let q,re=ye.length;switch(ye=(Array.isArray(ye)?ye:[ye]).map(X=>`"${X}"`).join(" or "),re){case 1:q+=`The ${ye[0]} argument`;break;case 2:q+=`The ${ye[0]} and ${ye[1]} arguments`;break;default:{let X=ye.pop();q+=`The ${ye.join(", ")}, and ${X} arguments`}break}return`${q} must be specified`},TypeError),K("ERR_OUT_OF_RANGE",(ye,q,re)=>{B(q,'Missing "range" argument');let X;if(Number.isInteger(re)&&Math.abs(re)>4294967296)X=G(String(re));else if(typeof re=="bigint"){X=String(re);let W=BigInt(2)**BigInt(32);(re>W||re<-W)&&(X=G(X)),X+="n"}else X=f(re);return`The value of "${ye}" is out of range. It must be ${q}. Received ${X}`},RangeError),K("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),K("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),K("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),K("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),K("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),K("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),K("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),K("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),K("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),K("ERR_STREAM_WRITE_AFTER_END","write after end",Error),K("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),A.exports={AbortError:se,aggregateTwoErrors:_e(ae),hideStackFrames:_e,codes:U}}),o=r((M,A)=>{Object.defineProperty(M,"__esModule",{value:!0});var S=new WeakMap,f=new WeakMap;function _(Q){let Y=S.get(Q);return console.assert(Y!=null,"'this' is expected an Event object, but got",Q),Y}i(_,"_");function E(Q){if(Q.passiveListener!=null){typeof console<"u"&&typeof console.error=="function"&&console.error("Unable to preventDefault inside passive event listener invocation.",Q.passiveListener);return}Q.event.cancelable&&(Q.canceled=!0,typeof Q.event.preventDefault=="function"&&Q.event.preventDefault())}i(E,"O");function I(Q,Y){S.set(this,{eventTarget:Q,event:Y,eventPhase:2,currentTarget:Q,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:Y.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});let te=Object.keys(Y);for(let he=0;he<te.length;++he){let oe=te[he];oe in this||Object.defineProperty(this,oe,D(oe))}}i(I,"j"),I.prototype={get type(){return _(this).event.type},get target(){return _(this).eventTarget},get currentTarget(){return _(this).currentTarget},composedPath(){let Q=_(this).currentTarget;return Q==null?[]:[Q]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return _(this).eventPhase},stopPropagation(){let Q=_(this);Q.stopped=!0,typeof Q.event.stopPropagation=="function"&&Q.event.stopPropagation()},stopImmediatePropagation(){let Q=_(this);Q.stopped=!0,Q.immediateStopped=!0,typeof Q.event.stopImmediatePropagation=="function"&&Q.event.stopImmediatePropagation()},get bubbles(){return!!_(this).event.bubbles},get cancelable(){return!!_(this).event.cancelable},preventDefault(){E(_(this))},get defaultPrevented(){return _(this).canceled},get composed(){return!!_(this).event.composed},get timeStamp(){return _(this).timeStamp},get srcElement(){return _(this).eventTarget},get cancelBubble(){return _(this).stopped},set cancelBubble(Q){if(!Q)return;let Y=_(this);Y.stopped=!0,typeof Y.event.cancelBubble=="boolean"&&(Y.event.cancelBubble=!0)},get returnValue(){return!_(this).canceled},set returnValue(Q){Q||E(_(this))},initEvent(){}},Object.defineProperty(I.prototype,"constructor",{value:I,configurable:!0,writable:!0}),typeof window<"u"&&typeof window.Event<"u"&&(Object.setPrototypeOf(I.prototype,window.Event.prototype),f.set(window.Event.prototype,I));function D(Q){return{get(){return _(this).event[Q]},set(Y){_(this).event[Q]=Y},configurable:!0,enumerable:!0}}i(D,"z");function L(Q){return{value(){let Y=_(this).event;return Y[Q].apply(Y,arguments)},configurable:!0,enumerable:!0}}i(L,"J");function U(Q,Y){let te=Object.keys(Y);if(te.length===0)return Q;function he(oe,ue){Q.call(this,oe,ue)}i(he,"Y"),he.prototype=Object.create(Q.prototype,{constructor:{value:he,configurable:!0,writable:!0}});for(let oe=0;oe<te.length;++oe){let ue=te[oe];if(!(ue in Q.prototype)){let ze=typeof Object.getOwnPropertyDescriptor(Y,ue).value=="function";Object.defineProperty(he.prototype,ue,ze?L(ue):D(ue))}}return he}i(U,"w");function B(Q){if(Q==null||Q===Object.prototype)return I;let Y=f.get(Q);return Y==null&&(Y=U(B(Object.getPrototypeOf(Q)),Q),f.set(Q,Y)),Y}i(B,"G");function G(Q,Y){return new(B(Object.getPrototypeOf(Y)))(Q,Y)}i(G,"f");function H(Q){return _(Q).immediateStopped}i(H,"A");function K(Q,Y){_(Q).eventPhase=Y}i(K,"V");function _e(Q,Y){_(Q).currentTarget=Y}i(_e,"C");function ae(Q,Y){_(Q).passiveListener=Y}i(ae,"E");var se=new WeakMap,ye=1,q=2,re=3;function X(Q){return Q!==null&&typeof Q=="object"}i(X,"u");function W(Q){let Y=se.get(Q);if(Y==null)throw TypeError("'this' is expected an EventTarget object, but got another value.");return Y}i(W,"y");function le(Q){return{get(){let Y=W(this).get(Q);for(;Y!=null;){if(Y.listenerType===re)return Y.listener;Y=Y.next}return null},set(Y){typeof Y!="function"&&!X(Y)&&(Y=null);let te=W(this),he=null,oe=te.get(Q);for(;oe!=null;)oe.listenerType===re?he!==null?he.next=oe.next:oe.next!==null?te.set(Q,oe.next):te.delete(Q):he=oe,oe=oe.next;if(Y!==null){let ue={listener:Y,listenerType:re,passive:!1,once:!1,next:null};he===null?te.set(Q,ue):he.next=ue}},configurable:!0,enumerable:!0}}i(le,"c");function ke(Q,Y){Object.defineProperty(Q,`on${Y}`,le(Y))}i(ke,"m");function pe(Q){function Y(){fe.call(this)}i(Y,"r"),Y.prototype=Object.create(fe.prototype,{constructor:{value:Y,configurable:!0,writable:!0}});for(let te=0;te<Q.length;++te)ke(Y.prototype,Q[te]);return Y}i(pe,"q$");function fe(){if(this instanceof fe){se.set(this,new Map);return}if(arguments.length===1&&Array.isArray(arguments[0]))return pe(arguments[0]);if(arguments.length>0){let Q=Array(arguments.length);for(let Y=0;Y<arguments.length;++Y)Q[Y]=arguments[Y];return pe(Q)}throw TypeError("Cannot call a class as a function")}i(fe,"e"),fe.prototype={addEventListener(Q,Y,te){if(Y==null)return;if(typeof Y!="function"&&!X(Y))throw TypeError("'listener' should be a function or an object.");let he=W(this),oe=X(te),ue=(oe?te.capture:te)?ye:q,ze={listener:Y,listenerType:ue,passive:oe&&!!te.passive,once:oe&&!!te.once,next:null},we=he.get(Q);if(we===void 0){he.set(Q,ze);return}let Be=null;for(;we!=null;){if(we.listener===Y&&we.listenerType===ue)return;Be=we,we=we.next}Be.next=ze},removeEventListener(Q,Y,te){if(Y==null)return;let he=W(this),oe=(X(te)?te.capture:te)?ye:q,ue=null,ze=he.get(Q);for(;ze!=null;){if(ze.listener===Y&&ze.listenerType===oe){ue!==null?ue.next=ze.next:ze.next!==null?he.set(Q,ze.next):he.delete(Q);return}ue=ze,ze=ze.next}},dispatchEvent(Q){if(Q==null||typeof Q.type!="string")throw TypeError('"event.type" should be a string.');let Y=W(this),te=Q.type,he=Y.get(te);if(he==null)return!0;let oe=G(this,Q),ue=null;for(;he!=null;){if(he.once?ue!==null?ue.next=he.next:he.next!==null?Y.set(te,he.next):Y.delete(te):ue=he,ae(oe,he.passive?he.listener:null),typeof he.listener=="function")try{he.listener.call(this,oe)}catch(ze){typeof console<"u"&&typeof console.error=="function"&&console.error(ze)}else he.listenerType!==re&&typeof he.listener.handleEvent=="function"&&he.listener.handleEvent(oe);if(H(oe))break;he=he.next}return ae(oe,null),K(oe,0),_e(oe,null),!oe.defaultPrevented}},Object.defineProperty(fe.prototype,"constructor",{value:fe,configurable:!0,writable:!0}),typeof window<"u"&&typeof window.EventTarget<"u"&&Object.setPrototypeOf(fe.prototype,window.EventTarget.prototype),M.defineEventAttribute=ke,M.EventTarget=fe,M.default=fe,A.exports=fe,A.exports.EventTarget=A.exports.default=fe,A.exports.defineEventAttribute=ke}),h=r((M,A)=>{Object.defineProperty(M,"__esModule",{value:!0});var S=o();class f extends S.EventTarget{static{i(this,"P")}constructor(){throw super(),TypeError("AbortSignal cannot be constructed directly")}get aborted(){let G=I.get(this);if(typeof G!="boolean")throw TypeError(`Expected 'this' to be an 'AbortSignal' object, but got ${this===null?"null":typeof this}`);return G}}S.defineEventAttribute(f.prototype,"abort");function _(){let B=Object.create(f.prototype);return S.EventTarget.call(B),I.set(B,!1),B}i(_,"_");function E(B){I.get(B)===!1&&(I.set(B,!0),B.dispatchEvent({type:"abort"}))}i(E,"O");var I=new WeakMap;Object.defineProperties(f.prototype,{aborted:{enumerable:!0}}),typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(f.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortSignal"});class D{static{i(this,"z")}constructor(){L.set(this,_())}get signal(){return U(this)}abort(){E(U(this))}}var L=new WeakMap;function U(B){let G=L.get(B);if(G==null)throw TypeError(`Expected 'this' to be an 'AbortController' object, but got ${B===null?"null":typeof B}`);return G}i(U,"w"),Object.defineProperties(D.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}}),typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(D.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortController"}),M.AbortController=D,M.AbortSignal=f,M.default=D,A.exports=D,A.exports.AbortController=A.exports.default=D,A.exports.AbortSignal=f}),p=r((M,A)=>{var S=(Mr(),$t(wr)),{format:f,inspect:_}=n(),{codes:{ERR_INVALID_ARG_TYPE:E}}=s(),{kResistStopPropagation:I,AggregateError:D,SymbolDispose:L}=a(),U=globalThis.AbortSignal||h().AbortSignal,B=globalThis.AbortController||h().AbortController,G=Object.getPrototypeOf(async function(){}).constructor,H=globalThis.Blob||S.Blob,K=typeof H<"u"?function(se){return se instanceof H}:function(se){return!1},_e=i((se,ye)=>{if(se!==void 0&&(se===null||typeof se!="object"||!("aborted"in se)))throw new E(ye,"AbortSignal",se)},"C"),ae=i((se,ye)=>{if(typeof se!="function")throw new E(ye,"Function",se)},"E");A.exports={AggregateError:D,kEmptyObject:Object.freeze({}),once(se){let ye=!1;return function(...q){ye||(ye=!0,se.apply(this,q))}},createDeferredPromise:i(function(){let se,ye;return{promise:new Promise((q,re)=>{se=q,ye=re}),resolve:se,reject:ye}},"createDeferredPromise"),promisify(se){return new Promise((ye,q)=>{se((re,...X)=>re?q(re):ye(...X))})},debuglog(){return function(){}},format:f,inspect:_,types:{isAsyncFunction(se){return se instanceof G},isArrayBufferView(se){return ArrayBuffer.isView(se)}},isBlob:K,deprecate(se,ye){return se},addAbortListener:(Zl(),$t(lo)).addAbortListener||function(se,ye){if(se===void 0)throw new E("signal","AbortSignal",se);_e(se,"signal"),ae(ye,"listener");let q;return se.aborted?queueMicrotask(()=>ye()):(se.addEventListener("abort",ye,{__proto__:null,once:!0,[I]:!0}),q=i(()=>{se.removeEventListener("abort",ye)},"b")),{__proto__:null,[L](){var re;(re=q)===null||re===void 0||re()}}},AbortSignalAny:U.any||function(se){if(se.length===1)return se[0];let ye=new B,q=i(()=>ye.abort(),"b");return se.forEach(re=>{_e(re,"signals"),re.addEventListener("abort",q,{once:!0})}),ye.signal.addEventListener("abort",()=>{se.forEach(re=>re.removeEventListener("abort",q))},{once:!0}),ye.signal}},A.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}),v=r((M,A)=>{var{ArrayIsArray:S,ArrayPrototypeIncludes:f,ArrayPrototypeJoin:_,ArrayPrototypeMap:E,NumberIsInteger:I,NumberIsNaN:D,NumberMAX_SAFE_INTEGER:L,NumberMIN_SAFE_INTEGER:U,NumberParseInt:B,ObjectPrototypeHasOwnProperty:G,RegExpPrototypeExec:H,String:K,StringPrototypeToUpperCase:_e,StringPrototypeTrim:ae}=a(),{hideStackFrames:se,codes:{ERR_SOCKET_BAD_PORT:ye,ERR_INVALID_ARG_TYPE:q,ERR_INVALID_ARG_VALUE:re,ERR_OUT_OF_RANGE:X,ERR_UNKNOWN_SIGNAL:W}}=s(),{normalizeEncoding:le}=p(),{isAsyncFunction:ke,isArrayBufferView:pe}=p().types,fe={};function Q(ne){return ne===(ne|0)}i(Q,"l");function Y(ne){return ne===ne>>>0}i(Y,"r");var te=/^[0-7]+$/,he="must be a 32-bit unsigned integer or an octal string";function oe(ne,je,Ge){if(typeof ne>"u"&&(ne=Ge),typeof ne=="string"){if(H(te,ne)===null)throw new re(je,ne,he);ne=B(ne,8)}return we(ne,je),ne}i(oe,"H");var ue=se((ne,je,Ge=U,ge=L)=>{if(typeof ne!="number")throw new q(je,"number",ne);if(!I(ne))throw new X(je,"an integer",ne);if(ne<Ge||ne>ge)throw new X(je,`>= ${Ge} && <= ${ge}`,ne)}),ze=se((ne,je,Ge=-2147483648,ge=2147483647)=>{if(typeof ne!="number")throw new q(je,"number",ne);if(!I(ne))throw new X(je,"an integer",ne);if(ne<Ge||ne>ge)throw new X(je,`>= ${Ge} && <= ${ge}`,ne)}),we=se((ne,je,Ge=!1)=>{if(typeof ne!="number")throw new q(je,"number",ne);if(!I(ne))throw new X(je,"an integer",ne);let ge=Ge?1:0,Je=4294967295;if(ne<ge||ne>Je)throw new X(je,`>= ${ge} && <= ${Je}`,ne)});function Be(ne,je){if(typeof ne!="string")throw new q(je,"string",ne)}i(Be,"S");function We(ne,je,Ge=void 0,ge){if(typeof ne!="number")throw new q(je,"number",ne);if(Ge!=null&&ne<Ge||ge!=null&&ne>ge||(Ge!=null||ge!=null)&&D(ne))throw new X(je,`${Ge!=null?`>= ${Ge}`:""}${Ge!=null&&ge!=null?" && ":""}${ge!=null?`<= ${ge}`:""}`,ne)}i(We,"N");var ve=se((ne,je,Ge)=>{if(!f(Ge,ne)){let ge="must be one of: "+_(E(Ge,Je=>typeof Je=="string"?`'${Je}'`:K(Je)),", ");throw new re(je,ne,ge)}});function Ue(ne,je){if(typeof ne!="boolean")throw new q(je,"boolean",ne)}i(Ue,"v");function ce(ne,je,Ge){return ne==null||!G(ne,je)?Ge:ne[je]}i(ce,"k");var be=se((ne,je,Ge=null)=>{let ge=ce(Ge,"allowArray",!1),Je=ce(Ge,"allowFunction",!1);if(!ce(Ge,"nullable",!1)&&ne===null||!ge&&S(ne)||typeof ne!="object"&&(!Je||typeof ne!="function"))throw new q(je,"Object",ne)}),Te=se((ne,je)=>{if(ne!=null&&typeof ne!="object"&&typeof ne!="function")throw new q(je,"a dictionary",ne)}),Re=se((ne,je,Ge=0)=>{if(!S(ne))throw new q(je,"Array",ne);if(ne.length<Ge){let ge=`must be longer than ${Ge}`;throw new re(je,ne,ge)}});function Ae(ne,je){Re(ne,je);for(let Ge=0;Ge<ne.length;Ge++)Be(ne[Ge],`${je}[${Ge}]`)}i(Ae,"d");function $e(ne,je){Re(ne,je);for(let Ge=0;Ge<ne.length;Ge++)Ue(ne[Ge],`${je}[${Ge}]`)}i($e,"i");function Ye(ne,je){Re(ne,je);for(let Ge=0;Ge<ne.length;Ge++){let ge=ne[Ge],Je=`${je}[${Ge}]`;if(ge==null)throw new q(Je,"AbortSignal",ge);Ze(ge,Je)}}i(Ye,"F");function Ne(ne,je="signal"){if(Be(ne,je),fe[ne]===void 0)throw fe[_e(ne)]!==void 0?new W(ne+" (signals must use all capital letters)"):new W(ne)}i(Ne,"W$");var Ee=se((ne,je="buffer")=>{if(!pe(ne))throw new q(je,["Buffer","TypedArray","DataView"],ne)});function Pe(ne,je){let Ge=le(je),ge=ne.length;if(Ge==="hex"&&ge%2!==0)throw new re("encoding",je,`is invalid for data of length ${ge}`)}i(Pe,"t");function Se(ne,je="Port",Ge=!0){if(typeof ne!="number"&&typeof ne!="string"||typeof ne=="string"&&ae(ne).length===0||+ne!==+ne>>>0||ne>65535||ne===0&&!Ge)throw new ye(je,ne,Ge);return ne|0}i(Se,"y$");var Ze=se((ne,je)=>{if(ne!==void 0&&(ne===null||typeof ne!="object"||!("aborted"in ne)))throw new q(je,"AbortSignal",ne)}),Ke=se((ne,je)=>{if(typeof ne!="function")throw new q(je,"Function",ne)}),ie=se((ne,je)=>{if(typeof ne!="function"||ke(ne))throw new q(je,"Function",ne)}),me=se((ne,je)=>{if(ne!==void 0)throw new q(je,"undefined",ne)});function Ce(ne,je,Ge){if(!f(Ge,ne))throw new q(je,`('${_(Ge,"|")}')`,ne)}i(Ce,"B");var xe=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function Oe(ne,je){if(typeof ne>"u"||!H(xe,ne))throw new re(je,ne,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}i(Oe,"$$");function He(ne){if(typeof ne=="string")return Oe(ne,"hints"),ne;if(S(ne)){let je=ne.length,Ge="";if(je===0)return Ge;for(let ge=0;ge<je;ge++){let Je=ne[ge];Oe(Je,"hints"),Ge+=Je,ge!==je-1&&(Ge+=", ")}return Ge}throw new re("hints",ne,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}i(He,"s"),A.exports={isInt32:Q,isUint32:Y,parseFileMode:oe,validateArray:Re,validateStringArray:Ae,validateBooleanArray:$e,validateAbortSignalArray:Ye,validateBoolean:Ue,validateBuffer:Ee,validateDictionary:Te,validateEncoding:Pe,validateFunction:Ke,validateInt32:ze,validateInteger:ue,validateNumber:We,validateObject:be,validateOneOf:ve,validatePlainFunction:ie,validatePort:Se,validateSignalName:Ne,validateString:Be,validateUint32:we,validateUndefined:me,validateUnion:Ce,validateAbortSignal:Ze,validateLinkHeaderValue:He}}),c=r((M,A)=>{A.exports=globalThis.process}),d=r((M,A)=>{var{SymbolAsyncIterator:S,SymbolIterator:f,SymbolFor:_}=a(),E=_("nodejs.stream.destroyed"),I=_("nodejs.stream.errored"),D=_("nodejs.stream.readable"),L=_("nodejs.stream.writable"),U=_("nodejs.stream.disturbed"),B=_("nodejs.webstream.isClosedPromise"),G=_("nodejs.webstream.controllerErrorFunction");function H(ce,be=!1){var Te;return!!(ce&&typeof ce.pipe=="function"&&typeof ce.on=="function"&&(!be||typeof ce.pause=="function"&&typeof ce.resume=="function")&&(!ce._writableState||((Te=ce._readableState)===null||Te===void 0?void 0:Te.readable)!==!1)&&(!ce._writableState||ce._readableState))}i(H,"A");function K(ce){var be;return!!(ce&&typeof ce.write=="function"&&typeof ce.on=="function"&&(!ce._readableState||((be=ce._writableState)===null||be===void 0?void 0:be.writable)!==!1))}i(K,"V");function _e(ce){return!!(ce&&typeof ce.pipe=="function"&&ce._readableState&&typeof ce.on=="function"&&typeof ce.write=="function")}i(_e,"C");function ae(ce){return ce&&(ce._readableState||ce._writableState||typeof ce.write=="function"&&typeof ce.on=="function"||typeof ce.pipe=="function"&&typeof ce.on=="function")}i(ae,"E");function se(ce){return!!(ce&&!ae(ce)&&typeof ce.pipeThrough=="function"&&typeof ce.getReader=="function"&&typeof ce.cancel=="function")}i(se,"R");function ye(ce){return!!(ce&&!ae(ce)&&typeof ce.getWriter=="function"&&typeof ce.abort=="function")}i(ye,"I");function q(ce){return!!(ce&&!ae(ce)&&typeof ce.readable=="object"&&typeof ce.writable=="object")}i(q,"D");function re(ce){return se(ce)||ye(ce)||q(ce)}i(re,"b");function X(ce,be){return ce==null?!1:be===!0?typeof ce[S]=="function":be===!1?typeof ce[f]=="function":typeof ce[S]=="function"||typeof ce[f]=="function"}i(X,"u");function W(ce){if(!ae(ce))return null;let{_writableState:be,_readableState:Te}=ce,Re=be||Te;return!!(ce.destroyed||ce[E]||Re!=null&&Re.destroyed)}i(W,"y");function le(ce){if(!K(ce))return null;if(ce.writableEnded===!0)return!0;let be=ce._writableState;return be!=null&&be.errored?!1:typeof be?.ended!="boolean"?null:be.ended}i(le,"c");function ke(ce,be){if(!K(ce))return null;if(ce.writableFinished===!0)return!0;let Te=ce._writableState;return Te!=null&&Te.errored?!1:typeof Te?.finished!="boolean"?null:!!(Te.finished||be===!1&&Te.ended===!0&&Te.length===0)}i(ke,"m");function pe(ce){if(!H(ce))return null;if(ce.readableEnded===!0)return!0;let be=ce._readableState;return!be||be.errored?!1:typeof be?.ended!="boolean"?null:be.ended}i(pe,"q$");function fe(ce,be){if(!H(ce))return null;let Te=ce._readableState;return Te!=null&&Te.errored?!1:typeof Te?.endEmitted!="boolean"?null:!!(Te.endEmitted||be===!1&&Te.ended===!0&&Te.length===0)}i(fe,"e");function Q(ce){return ce&&ce[D]!=null?ce[D]:typeof ce?.readable!="boolean"?null:W(ce)?!1:H(ce)&&ce.readable&&!fe(ce)}i(Q,"l");function Y(ce){return ce&&ce[L]!=null?ce[L]:typeof ce?.writable!="boolean"?null:W(ce)?!1:K(ce)&&ce.writable&&!le(ce)}i(Y,"r");function te(ce,be){return ae(ce)?W(ce)?!0:!(be?.readable!==!1&&Q(ce)||be?.writable!==!1&&Y(ce)):null}i(te,"M");function he(ce){var be,Te;return ae(ce)?ce.writableErrored?ce.writableErrored:(be=(Te=ce._writableState)===null||Te===void 0?void 0:Te.errored)!==null&&be!==void 0?be:null:null}i(he,"Y");function oe(ce){var be,Te;return ae(ce)?ce.readableErrored?ce.readableErrored:(be=(Te=ce._readableState)===null||Te===void 0?void 0:Te.errored)!==null&&be!==void 0?be:null:null}i(oe,"H");function ue(ce){if(!ae(ce))return null;if(typeof ce.closed=="boolean")return ce.closed;let{_writableState:be,_readableState:Te}=ce;return typeof be?.closed=="boolean"||typeof Te?.closed=="boolean"?be?.closed||Te?.closed:typeof ce._closed=="boolean"&&ze(ce)?ce._closed:null}i(ue,"T");function ze(ce){return typeof ce._closed=="boolean"&&typeof ce._defaultKeepAlive=="boolean"&&typeof ce._removedConnection=="boolean"&&typeof ce._removedContLen=="boolean"}i(ze,"W");function we(ce){return typeof ce._sent100=="boolean"&&ze(ce)}i(we,"Z");function Be(ce){var be;return typeof ce._consuming=="boolean"&&typeof ce._dumped=="boolean"&&((be=ce.req)===null||be===void 0?void 0:be.upgradeOrConnect)===void 0}i(Be,"S");function We(ce){if(!ae(ce))return null;let{_writableState:be,_readableState:Te}=ce,Re=be||Te;return!Re&&we(ce)||!!(Re&&Re.autoDestroy&&Re.emitClose&&Re.closed===!1)}i(We,"N");function ve(ce){var be;return!!(ce&&((be=ce[U])!==null&&be!==void 0?be:ce.readableDidRead||ce.readableAborted))}i(ve,"X");function Ue(ce){var be,Te,Re,Ae,$e,Ye,Ne,Ee,Pe,Se;return!!(ce&&((be=(Te=(Re=(Ae=($e=(Ye=ce[I])!==null&&Ye!==void 0?Ye:ce.readableErrored)!==null&&$e!==void 0?$e:ce.writableErrored)!==null&&Ae!==void 0?Ae:(Ne=ce._readableState)===null||Ne===void 0?void 0:Ne.errorEmitted)!==null&&Re!==void 0?Re:(Ee=ce._writableState)===null||Ee===void 0?void 0:Ee.errorEmitted)!==null&&Te!==void 0?Te:(Pe=ce._readableState)===null||Pe===void 0?void 0:Pe.errored)!==null&&be!==void 0?be:!((Se=ce._writableState)===null||Se===void 0)&&Se.errored))}i(Ue,"v"),A.exports={isDestroyed:W,kIsDestroyed:E,isDisturbed:ve,kIsDisturbed:U,isErrored:Ue,kIsErrored:I,isReadable:Q,kIsReadable:D,kIsClosedPromise:B,kControllerErrorFunction:G,kIsWritable:L,isClosed:ue,isDuplexNodeStream:_e,isFinished:te,isIterable:X,isReadableNodeStream:H,isReadableStream:se,isReadableEnded:pe,isReadableFinished:fe,isReadableErrored:oe,isNodeStream:ae,isWebStream:re,isWritable:Y,isWritableNodeStream:K,isWritableStream:ye,isWritableEnded:le,isWritableFinished:ke,isWritableErrored:he,isServerRequest:Be,isServerResponse:we,willEmitClose:We,isTransformStream:q}}),y=r((M,A)=>{var S=c(),{AbortError:f,codes:_}=s(),{ERR_INVALID_ARG_TYPE:E,ERR_STREAM_PREMATURE_CLOSE:I}=_,{kEmptyObject:D,once:L}=p(),{validateAbortSignal:U,validateFunction:B,validateObject:G,validateBoolean:H}=v(),{Promise:K,PromisePrototypeThen:_e,SymbolDispose:ae}=a(),{isClosed:se,isReadable:ye,isReadableNodeStream:q,isReadableStream:re,isReadableFinished:X,isReadableErrored:W,isWritable:le,isWritableNodeStream:ke,isWritableStream:pe,isWritableFinished:fe,isWritableErrored:Q,isNodeStream:Y,willEmitClose:te,kIsClosedPromise:he}=d(),oe;function ue(ve){return ve.setHeader&&typeof ve.abort=="function"}i(ue,"T");var ze=i(()=>{},"W");function we(ve,Ue,ce){var be,Te;if(arguments.length===2?(ce=Ue,Ue=D):Ue==null?Ue=D:G(Ue,"options"),B(ce,"callback"),U(Ue.signal,"options.signal"),ce=L(ce),re(ve)||pe(ve))return Be(ve,Ue,ce);if(!Y(ve))throw new E("stream",["ReadableStream","WritableStream","Stream"],ve);let Re=(be=Ue.readable)!==null&&be!==void 0?be:q(ve),Ae=(Te=Ue.writable)!==null&&Te!==void 0?Te:ke(ve),$e=ve._writableState,Ye=ve._readableState,Ne=i(()=>{ve.writable||Se()},"W$"),Ee=te(ve)&&q(ve)===Re&&ke(ve)===Ae,Pe=fe(ve,!1),Se=i(()=>{Pe=!0,ve.destroyed&&(Ee=!1),!(Ee&&(!ve.readable||Re))&&(!Re||Ze)&&ce.call(ve)},"y$"),Ze=X(ve,!1),Ke=i(()=>{Ze=!0,ve.destroyed&&(Ee=!1),!(Ee&&(!ve.writable||Ae))&&(!Ae||Pe)&&ce.call(ve)},"v$"),ie=i(ne=>{ce.call(ve,ne)},"a"),me=se(ve),Ce=i(()=>{me=!0;let ne=Q(ve)||W(ve);if(ne&&typeof ne!="boolean")return ce.call(ve,ne);if(Re&&!Ze&&q(ve,!0)&&!X(ve,!1))return ce.call(ve,new I);if(Ae&&!Pe&&!fe(ve,!1))return ce.call(ve,new I);ce.call(ve)},"B"),xe=i(()=>{me=!0;let ne=Q(ve)||W(ve);if(ne&&typeof ne!="boolean")return ce.call(ve,ne);ce.call(ve)},"p$"),Oe=i(()=>{ve.req.on("finish",Se)},"$$");ue(ve)?(ve.on("complete",Se),!Ee&&ve.on("abort",Ce),ve.req?Oe():ve.on("request",Oe)):Ae&&!$e&&(ve.on("end",Ne),ve.on("close",Ne)),!Ee&&typeof ve.aborted=="boolean"&&ve.on("aborted",Ce),ve.on("end",Ke),ve.on("finish",Se),Ue.error!==!1&&ve.on("error",ie),ve.on("close",Ce),me?S.nextTick(Ce):$e!=null&&$e.errorEmitted||Ye!=null&&Ye.errorEmitted?Ee||S.nextTick(xe):(!Re&&(!Ee||ye(ve))&&(Pe||le(ve)===!1)||!Ae&&(!Ee||le(ve))&&(Ze||ye(ve)===!1)||Ye&&ve.req&&ve.aborted)&&S.nextTick(xe);let He=i(()=>{ce=ze,ve.removeListener("aborted",Ce),ve.removeListener("complete",Se),ve.removeListener("abort",Ce),ve.removeListener("request",Oe),ve.req&&ve.req.removeListener("finish",Se),ve.removeListener("end",Ne),ve.removeListener("close",Ne),ve.removeListener("finish",Se),ve.removeListener("end",Ke),ve.removeListener("error",ie),ve.removeListener("close",Ce)},"s");if(Ue.signal&&!me){let ne=i(()=>{let je=ce;He(),je.call(ve,new f(void 0,{cause:Ue.signal.reason}))},"Q");if(Ue.signal.aborted)S.nextTick(ne);else{oe=oe||p().addAbortListener;let je=oe(Ue.signal,ne),Ge=ce;ce=L((...ge)=>{je[ae](),Ge.apply(ve,ge)})}}return He}i(we,"Z");function Be(ve,Ue,ce){let be=!1,Te=ze;if(Ue.signal)if(Te=i(()=>{be=!0,ce.call(ve,new f(void 0,{cause:Ue.signal.reason}))},"h"),Ue.signal.aborted)S.nextTick(Te);else{oe=oe||p().addAbortListener;let Ae=oe(Ue.signal,Te),$e=ce;ce=L((...Ye)=>{Ae[ae](),$e.apply(ve,Ye)})}let Re=i((...Ae)=>{be||S.nextTick(()=>ce.apply(ve,Ae))},"L");return _e(ve[he].promise,Re,Re),ze}i(Be,"S");function We(ve,Ue){var ce;let be=!1;return Ue===null&&(Ue=D),(ce=Ue)!==null&&ce!==void 0&&ce.cleanup&&(H(Ue.cleanup,"cleanup"),be=Ue.cleanup),new K((Te,Re)=>{let Ae=we(ve,Ue,$e=>{be&&Ae(),$e?Re($e):Te()})})}i(We,"N"),A.exports=we,A.exports.finished=We}),b=r((M,A)=>{var S=c(),{aggregateTwoErrors:f,codes:{ERR_MULTIPLE_CALLBACK:_},AbortError:E}=s(),{Symbol:I}=a(),{kIsDestroyed:D,isDestroyed:L,isFinished:U,isServerRequest:B}=d(),G=I("kDestroy"),H=I("kConstruct");function K(te,he,oe){te&&(te.stack,he&&!he.errored&&(he.errored=te),oe&&!oe.errored&&(oe.errored=te))}i(K,"V");function _e(te,he){let oe=this._readableState,ue=this._writableState,ze=ue||oe;return ue!=null&&ue.destroyed||oe!=null&&oe.destroyed?(typeof he=="function"&&he(),this):(K(te,ue,oe),ue&&(ue.destroyed=!0),oe&&(oe.destroyed=!0),ze.constructed?ae(this,te,he):this.once(G,function(we){ae(this,f(we,te),he)}),this)}i(_e,"C");function ae(te,he,oe){let ue=!1;function ze(we){if(ue)return;ue=!0;let{_readableState:Be,_writableState:We}=te;K(we,We,Be),We&&(We.closed=!0),Be&&(Be.closed=!0),typeof oe=="function"&&oe(we),we?S.nextTick(se,te,we):S.nextTick(ye,te)}i(ze,"W");try{te._destroy(he||null,ze)}catch(we){ze(we)}}i(ae,"E");function se(te,he){q(te,he),ye(te)}i(se,"R");function ye(te){let{_readableState:he,_writableState:oe}=te;oe&&(oe.closeEmitted=!0),he&&(he.closeEmitted=!0),(oe!=null&&oe.emitClose||he!=null&&he.emitClose)&&te.emit("close")}i(ye,"I");function q(te,he){let{_readableState:oe,_writableState:ue}=te;ue!=null&&ue.errorEmitted||oe!=null&&oe.errorEmitted||(ue&&(ue.errorEmitted=!0),oe&&(oe.errorEmitted=!0),te.emit("error",he))}i(q,"D");function re(){let te=this._readableState,he=this._writableState;te&&(te.constructed=!0,te.closed=!1,te.closeEmitted=!1,te.destroyed=!1,te.errored=null,te.errorEmitted=!1,te.reading=!1,te.ended=te.readable===!1,te.endEmitted=te.readable===!1),he&&(he.constructed=!0,he.destroyed=!1,he.closed=!1,he.closeEmitted=!1,he.errored=null,he.errorEmitted=!1,he.finalCalled=!1,he.prefinished=!1,he.ended=he.writable===!1,he.ending=he.writable===!1,he.finished=he.writable===!1)}i(re,"b");function X(te,he,oe){let{_readableState:ue,_writableState:ze}=te;if(ze!=null&&ze.destroyed||ue!=null&&ue.destroyed)return this;ue!=null&&ue.autoDestroy||ze!=null&&ze.autoDestroy?te.destroy(he):he&&(he.stack,ze&&!ze.errored&&(ze.errored=he),ue&&!ue.errored&&(ue.errored=he),oe?S.nextTick(q,te,he):q(te,he))}i(X,"u");function W(te,he){if(typeof te._construct!="function")return;let{_readableState:oe,_writableState:ue}=te;oe&&(oe.constructed=!1),ue&&(ue.constructed=!1),te.once(H,he),!(te.listenerCount(H)>1)&&S.nextTick(le,te)}i(W,"y");function le(te){let he=!1;function oe(ue){if(he){X(te,ue??new _);return}he=!0;let{_readableState:ze,_writableState:we}=te,Be=we||ze;ze&&(ze.constructed=!0),we&&(we.constructed=!0),Be.destroyed?te.emit(G,ue):ue?X(te,ue,!0):S.nextTick(ke,te)}i(oe,"H");try{te._construct(ue=>{S.nextTick(oe,ue)})}catch(ue){S.nextTick(oe,ue)}}i(le,"c");function ke(te){te.emit(H)}i(ke,"m");function pe(te){return te?.setHeader&&typeof te.abort=="function"}i(pe,"q$");function fe(te){te.emit("close")}i(fe,"e");function Q(te,he){te.emit("error",he),S.nextTick(fe,te)}i(Q,"l");function Y(te,he){!te||L(te)||(!he&&!U(te)&&(he=new E),B(te)?(te.socket=null,te.destroy(he)):pe(te)?te.abort():pe(te.req)?te.req.abort():typeof te.destroy=="function"?te.destroy(he):typeof te.close=="function"?te.close():he?S.nextTick(Q,te,he):S.nextTick(fe,te),te.destroyed||(te[D]=!0))}i(Y,"r"),A.exports={construct:W,destroyer:Y,destroy:_e,undestroy:re,errorOrDestroy:X}}),x=r((M,A)=>{var{ArrayIsArray:S,ObjectSetPrototypeOf:f}=a(),{EventEmitter:_}=(Zl(),$t(lo));function E(D){_.call(this,D)}i(E,"O"),f(E.prototype,_.prototype),f(E,_),E.prototype.pipe=function(D,L){let U=this;function B(ye){D.writable&&D.write(ye)===!1&&U.pause&&U.pause()}i(B,"G"),U.on("data",B);function G(){U.readable&&U.resume&&U.resume()}i(G,"f"),D.on("drain",G),!D._isStdio&&(!L||L.end!==!1)&&(U.on("end",K),U.on("close",_e));let H=!1;function K(){H||(H=!0,D.end())}i(K,"V");function _e(){H||(H=!0,typeof D.destroy=="function"&&D.destroy())}i(_e,"C");function ae(ye){se(),_.listenerCount(this,"error")===0&&this.emit("error",ye)}i(ae,"E"),I(U,"error",ae),I(D,"error",ae);function se(){U.removeListener("data",B),D.removeListener("drain",G),U.removeListener("end",K),U.removeListener("close",_e),U.removeListener("error",ae),D.removeListener("error",ae),U.removeListener("end",se),U.removeListener("close",se),D.removeListener("close",se)}return i(se,"R"),U.on("end",se),U.on("close",se),D.on("close",se),D.emit("pipe",U),D};function I(D,L,U){if(typeof D.prependListener=="function")return D.prependListener(L,U);!D._events||!D._events[L]?D.on(L,U):S(D._events[L])?D._events[L].unshift(U):D._events[L]=[U,D._events[L]]}i(I,"j"),A.exports={Stream:E,prependListener:I}}),k=r((M,A)=>{var{SymbolDispose:S}=a(),{AbortError:f,codes:_}=s(),{isNodeStream:E,isWebStream:I,kControllerErrorFunction:D}=d(),L=y(),{ERR_INVALID_ARG_TYPE:U}=_,B,G=i((H,K)=>{if(typeof H!="object"||!("aborted"in H))throw new U(K,"AbortSignal",H)},"f");A.exports.addAbortSignal=function(H,K){if(G(H,"signal"),!E(K)&&!I(K))throw new U("stream",["ReadableStream","WritableStream","Stream"],K);return A.exports.addAbortSignalNoValidate(H,K)},A.exports.addAbortSignalNoValidate=function(H,K){if(typeof H!="object"||!("aborted"in H))return K;let _e=E(K)?()=>{K.destroy(new f(void 0,{cause:H.reason}))}:()=>{K[D](new f(void 0,{cause:H.reason}))};if(H.aborted)_e();else{B=B||p().addAbortListener;let ae=B(H,_e);L(K,ae[S])}return K}}),N=r((M,A)=>{var{StringPrototypeSlice:S,SymbolIterator:f,TypedArrayPrototypeSet:_,Uint8Array:E}=a(),{Buffer:I}=(Mr(),$t(wr)),{inspect:D}=p();A.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(L){let U={data:L,next:null};this.length>0?this.tail.next=U:this.head=U,this.tail=U,++this.length}unshift(L){let U={data:L,next:this.head};this.length===0&&(this.tail=U),this.head=U,++this.length}shift(){if(this.length===0)return;let L=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,L}clear(){this.head=this.tail=null,this.length=0}join(L){if(this.length===0)return"";let U=this.head,B=""+U.data;for(;(U=U.next)!==null;)B+=L+U.data;return B}concat(L){if(this.length===0)return I.alloc(0);let U=I.allocUnsafe(L>>>0),B=this.head,G=0;for(;B;)_(U,B.data,G),G+=B.data.length,B=B.next;return U}consume(L,U){let B=this.head.data;if(L<B.length){let G=B.slice(0,L);return this.head.data=B.slice(L),G}return L===B.length?this.shift():U?this._getString(L):this._getBuffer(L)}first(){return this.head.data}*[f](){for(let L=this.head;L;L=L.next)yield L.data}_getString(L){let U="",B=this.head,G=0;do{let H=B.data;if(L>H.length)U+=H,L-=H.length;else{L===H.length?(U+=H,++G,B.next?this.head=B.next:this.head=this.tail=null):(U+=S(H,0,L),this.head=B,B.data=S(H,L));break}++G}while((B=B.next)!==null);return this.length-=G,U}_getBuffer(L){let U=I.allocUnsafe(L),B=L,G=this.head,H=0;do{let K=G.data;if(L>K.length)_(U,K,B-L),L-=K.length;else{L===K.length?(_(U,K,B-L),++H,G.next?this.head=G.next:this.head=this.tail=null):(_(U,new E(K.buffer,K.byteOffset,L),B-L),this.head=G,G.data=K.slice(L));break}++H}while((G=G.next)!==null);return this.length-=H,U}[Symbol.for("nodejs.util.inspect.custom")](L,U){return D(this,{...U,depth:0,customInspect:!1})}}}),C=r((M,A)=>{var{MathFloor:S,NumberIsInteger:f}=a(),{validateInteger:_}=v(),{ERR_INVALID_ARG_VALUE:E}=s().codes,I=16384,D=16;function L(H,K,_e){return H.highWaterMark!=null?H.highWaterMark:K?H[_e]:null}i(L,"J");function U(H){return H?D:I}i(U,"w");function B(H,K){_(K,"value",0),H?D=K:I=K}i(B,"G");function G(H,K,_e,ae){let se=L(K,ae,_e);if(se!=null){if(!f(se)||se<0){let ye=ae?`options.${_e}`:"options.highWaterMark";throw new E(ye,se)}return S(se)}return U(H.objectMode)}i(G,"f"),A.exports={getHighWaterMark:G,getDefaultHighWaterMark:U,setDefaultHighWaterMark:B}}),R=r((M,A)=>{/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var S=(Mr(),$t(wr)),f=S.Buffer;function _(I,D){for(var L in I)D[L]=I[L]}i(_,"_"),f.from&&f.alloc&&f.allocUnsafe&&f.allocUnsafeSlow?A.exports=S:(_(S,M),M.Buffer=E);function E(I,D,L){return f(I,D,L)}i(E,"O"),E.prototype=Object.create(f.prototype),_(f,E),E.from=function(I,D,L){if(typeof I=="number")throw TypeError("Argument must not be a number");return f(I,D,L)},E.alloc=function(I,D,L){if(typeof I!="number")throw TypeError("Argument must be a number");var U=f(I);return D!==void 0?typeof L=="string"?U.fill(D,L):U.fill(D):U.fill(0),U},E.allocUnsafe=function(I){if(typeof I!="number")throw TypeError("Argument must be a number");return f(I)},E.allocUnsafeSlow=function(I){if(typeof I!="number")throw TypeError("Argument must be a number");return S.SlowBuffer(I)}}),O=r(M=>{var A=R().Buffer,S=A.isEncoding||function(q){switch(q=""+q,q&&q.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function f(q){if(!q)return"utf8";for(var re;;)switch(q){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return q;default:if(re)return;q=(""+q).toLowerCase(),re=!0}}i(f,"P");function _(q){var re=f(q);if(typeof re!="string"&&(A.isEncoding===S||!S(q)))throw Error("Unknown encoding: "+q);return re||q}i(_,"_"),M.StringDecoder=E;function E(q){this.encoding=_(q);var re;switch(this.encoding){case"utf16le":this.text=H,this.end=K,re=4;break;case"utf8":this.fillLast=U,re=4;break;case"base64":this.text=_e,this.end=ae,re=3;break;default:this.write=se,this.end=ye;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=A.allocUnsafe(re)}i(E,"O"),E.prototype.write=function(q){if(q.length===0)return"";var re,X;if(this.lastNeed){if(re=this.fillLast(q),re===void 0)return"";X=this.lastNeed,this.lastNeed=0}else X=0;return X<q.length?re?re+this.text(q,X):this.text(q,X):re||""},E.prototype.end=G,E.prototype.text=B,E.prototype.fillLast=function(q){if(this.lastNeed<=q.length)return q.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);q.copy(this.lastChar,this.lastTotal-this.lastNeed,0,q.length),this.lastNeed-=q.length};function I(q){return q<=127?0:q>>5===6?2:q>>4===14?3:q>>3===30?4:q>>6===2?-1:-2}i(I,"j");function D(q,re,X){var W=re.length-1;if(W<X)return 0;var le=I(re[W]);return le>=0?(le>0&&(q.lastNeed=le-1),le):--W<X||le===-2?0:(le=I(re[W]),le>=0?(le>0&&(q.lastNeed=le-2),le):--W<X||le===-2?0:(le=I(re[W]),le>=0?(le>0&&(le===2?le=0:q.lastNeed=le-3),le):0))}i(D,"z");function L(q,re,X){if((re[0]&192)!==128)return q.lastNeed=0,"";if(q.lastNeed>1&&re.length>1){if((re[1]&192)!==128)return q.lastNeed=1,"";if(q.lastNeed>2&&re.length>2&&(re[2]&192)!==128)return q.lastNeed=2,""}}i(L,"J");function U(q){var re=this.lastTotal-this.lastNeed,X=L(this,q);if(X!==void 0)return X;if(this.lastNeed<=q.length)return q.copy(this.lastChar,re,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);q.copy(this.lastChar,re,0,q.length),this.lastNeed-=q.length}i(U,"w");function B(q,re){var X=D(this,q,re);if(!this.lastNeed)return q.toString("utf8",re);this.lastTotal=X;var W=q.length-(X-this.lastNeed);return q.copy(this.lastChar,0,W),q.toString("utf8",re,W)}i(B,"G");function G(q){var re=q&&q.length?this.write(q):"";return this.lastNeed?re+"":re}i(G,"f");function H(q,re){if((q.length-re)%2===0){var X=q.toString("utf16le",re);if(X){var W=X.charCodeAt(X.length-1);if(W>=55296&&W<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=q[q.length-2],this.lastChar[1]=q[q.length-1],X.slice(0,-1)}return X}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=q[q.length-1],q.toString("utf16le",re,q.length-1)}i(H,"A");function K(q){var re=q&&q.length?this.write(q):"";if(this.lastNeed){var X=this.lastTotal-this.lastNeed;return re+this.lastChar.toString("utf16le",0,X)}return re}i(K,"V");function _e(q,re){var X=(q.length-re)%3;return X===0?q.toString("base64",re):(this.lastNeed=3-X,this.lastTotal=3,X===1?this.lastChar[0]=q[q.length-1]:(this.lastChar[0]=q[q.length-2],this.lastChar[1]=q[q.length-1]),q.toString("base64",re,q.length-X))}i(_e,"C");function ae(q){var re=q&&q.length?this.write(q):"";return this.lastNeed?re+this.lastChar.toString("base64",0,3-this.lastNeed):re}i(ae,"E");function se(q){return q.toString(this.encoding)}i(se,"R");function ye(q){return q&&q.length?this.write(q):""}i(ye,"I")}),T=r((M,A)=>{var S=c(),{PromisePrototypeThen:f,SymbolAsyncIterator:_,SymbolIterator:E}=a(),{Buffer:I}=(Mr(),$t(wr)),{ERR_INVALID_ARG_TYPE:D,ERR_STREAM_NULL_VALUES:L}=s().codes;function U(B,G,H){let K;if(typeof G=="string"||G instanceof I)return new B({objectMode:!0,...H,read(){this.push(G),this.push(null)}});let _e;if(G&&G[_])_e=!0,K=G[_]();else if(G&&G[E])_e=!1,K=G[E]();else throw new D("iterable",["Iterable"],G);let ae=new B({objectMode:!0,highWaterMark:1,...H}),se=!1;ae._read=function(){se||(se=!0,q())},ae._destroy=function(re,X){f(ye(re),()=>S.nextTick(X,re),W=>S.nextTick(X,W||re))};async function ye(re){let X=re!=null,W=typeof K.throw=="function";if(X&&W){let{value:le,done:ke}=await K.throw(re);if(await le,ke)return}if(typeof K.return=="function"){let{value:le}=await K.return();await le}}i(ye,"I");async function q(){for(;;){try{let{value:re,done:X}=_e?await K.next():K.next();if(X)ae.push(null);else{let W=re&&typeof re.then=="function"?await re:re;if(W===null)throw se=!1,new L;if(ae.push(W))continue;se=!1}}catch(re){ae.destroy(re)}break}}return i(q,"D"),ae}i(U,"w"),A.exports=U}),P=r((M,A)=>{var S=c(),{ArrayPrototypeIndexOf:f,NumberIsInteger:_,NumberIsNaN:E,NumberParseInt:I,ObjectDefineProperties:D,ObjectKeys:L,ObjectSetPrototypeOf:U,Promise:B,SafeSet:G,SymbolAsyncDispose:H,SymbolAsyncIterator:K,Symbol:_e}=a();A.exports=ge,ge.ReadableState=Ge;var{EventEmitter:ae}=(Zl(),$t(lo)),{Stream:se,prependListener:ye}=x(),{Buffer:q}=(Mr(),$t(wr)),{addAbortSignal:re}=k(),X=y(),W=p().debuglog("stream",de=>{W=de}),le=N(),ke=b(),{getHighWaterMark:pe,getDefaultHighWaterMark:fe}=C(),{aggregateTwoErrors:Q,codes:{ERR_INVALID_ARG_TYPE:Y,ERR_METHOD_NOT_IMPLEMENTED:te,ERR_OUT_OF_RANGE:he,ERR_STREAM_PUSH_AFTER_EOF:oe,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:ue},AbortError:ze}=s(),{validateObject:we}=v(),Be=_e("kPaused"),{StringDecoder:We}=O(),ve=T();U(ge.prototype,se.prototype),U(ge,se);var Ue=i(()=>{},"v"),{errorOrDestroy:ce}=ke,be=1,Te=2,Re=4,Ae=8,$e=16,Ye=32,Ne=64,Ee=128,Pe=256,Se=512,Ze=1024,Ke=2048,ie=4096,me=8192,Ce=16384,xe=32768,Oe=65536,He=131072,ne=262144;function je(de){return{enumerable:!1,get(){return(this.state&de)!==0},set(Me){Me?this.state|=de:this.state&=~de}}}i(je,"U"),D(Ge.prototype,{objectMode:je(be),ended:je(Te),endEmitted:je(Re),reading:je(Ae),constructed:je($e),sync:je(Ye),needReadable:je(Ne),emittedReadable:je(Ee),readableListening:je(Pe),resumeScheduled:je(Se),errorEmitted:je(Ze),emitClose:je(Ke),autoDestroy:je(ie),destroyed:je(me),closed:je(Ce),closeEmitted:je(xe),multiAwaitDrain:je(Oe),readingMore:je(He),dataEmitted:je(ne)});function Ge(de,Me,nt){typeof nt!="boolean"&&(nt=Me instanceof Z()),this.state=Ke|ie|$e|Ye,de&&de.objectMode&&(this.state|=be),nt&&de&&de.readableObjectMode&&(this.state|=be),this.highWaterMark=de?pe(this,de,"readableHighWaterMark",nt):fe(!1),this.buffer=new le,this.length=0,this.pipes=[],this.flowing=null,this[Be]=null,de&&de.emitClose===!1&&(this.state&=~Ke),de&&de.autoDestroy===!1&&(this.state&=~ie),this.errored=null,this.defaultEncoding=de&&de.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,de&&de.encoding&&(this.decoder=new We(de.encoding),this.encoding=de.encoding)}i(Ge,"_$");function ge(de){if(!(this instanceof ge))return new ge(de);let Me=this instanceof Z();this._readableState=new Ge(de,this,Me),de&&(typeof de.read=="function"&&(this._read=de.read),typeof de.destroy=="function"&&(this._destroy=de.destroy),typeof de.construct=="function"&&(this._construct=de.construct),de.signal&&!Me&&re(de.signal,this)),se.call(this,de),ke.construct(this,()=>{this._readableState.needReadable&&ht(this,this._readableState)})}i(ge,"X$"),ge.prototype.destroy=ke.destroy,ge.prototype._undestroy=ke.undestroy,ge.prototype._destroy=function(de,Me){Me(de)},ge.prototype[ae.captureRejectionSymbol]=function(de){this.destroy(de)},ge.prototype[H]=function(){let de;return this.destroyed||(de=this.readableEnded?null:new ze,this.destroy(de)),new B((Me,nt)=>X(this,ft=>ft&&ft!==de?nt(ft):Me(null)))},ge.prototype.push=function(de,Me){return Je(this,de,Me,!1)},ge.prototype.unshift=function(de,Me){return Je(this,de,Me,!0)};function Je(de,Me,nt,ft){W("readableAddChunk",Me);let gt=de._readableState,Ir;if((gt.state&be)===0&&(typeof Me=="string"?(nt=nt||gt.defaultEncoding,gt.encoding!==nt&&(ft&&gt.encoding?Me=q.from(Me,nt).toString(gt.encoding):(Me=q.from(Me,nt),nt=""))):Me instanceof q?nt="":se._isUint8Array(Me)?(Me=se._uint8ArrayToBuffer(Me),nt=""):Me!=null&&(Ir=new Y("chunk",["string","Buffer","Uint8Array"],Me))),Ir)ce(de,Ir);else if(Me===null)gt.state&=~Ae,Fe(de,gt);else if((gt.state&be)!==0||Me&&Me.length>0)if(ft)if((gt.state&Re)!==0)ce(de,new ue);else{if(gt.destroyed||gt.errored)return!1;tt(de,gt,Me,!0)}else if(gt.ended)ce(de,new oe);else{if(gt.destroyed||gt.errored)return!1;gt.state&=~Ae,gt.decoder&&!nt?(Me=gt.decoder.write(Me),gt.objectMode||Me.length!==0?tt(de,gt,Me,!1):ht(de,gt)):tt(de,gt,Me,!1)}else ft||(gt.state&=~Ae,ht(de,gt));return!gt.ended&&(gt.length<gt.highWaterMark||gt.length===0)}i(Je,"O$");function tt(de,Me,nt,ft){Me.flowing&&Me.length===0&&!Me.sync&&de.listenerCount("data")>0?((Me.state&Oe)!==0?Me.awaitDrainWriters.clear():Me.awaitDrainWriters=null,Me.dataEmitted=!0,de.emit("data",nt)):(Me.length+=Me.objectMode?1:nt.length,ft?Me.buffer.unshift(nt):Me.buffer.push(nt),(Me.state&Ne)!==0&&lt(de)),ht(de,Me)}i(tt,"T$"),ge.prototype.isPaused=function(){let de=this._readableState;return de[Be]===!0||de.flowing===!1},ge.prototype.setEncoding=function(de){let Me=new We(de);this._readableState.decoder=Me,this._readableState.encoding=this._readableState.decoder.encoding;let nt=this._readableState.buffer,ft="";for(let gt of nt)ft+=Me.write(gt);return nt.clear(),ft!==""&&nt.push(ft),this._readableState.length=ft.length,this};var De=1073741824;function Qe(de){if(de>De)throw new he("size","<= 1GiB",de);return de--,de|=de>>>1,de|=de>>>2,de|=de>>>4,de|=de>>>8,de|=de>>>16,de++,de}i(Qe,"H$");function Ie(de,Me){return de<=0||Me.length===0&&Me.ended?0:(Me.state&be)!==0?1:E(de)?Me.flowing&&Me.length?Me.buffer.first().length:Me.length:de<=Me.length?de:Me.ended?Me.length:0}i(Ie,"f$"),ge.prototype.read=function(de){W("read",de),de===void 0?de=NaN:_(de)||(de=I(de,10));let Me=this._readableState,nt=de;if(de>Me.highWaterMark&&(Me.highWaterMark=Qe(de)),de!==0&&(Me.state&=~Ee),de===0&&Me.needReadable&&((Me.highWaterMark!==0?Me.length>=Me.highWaterMark:Me.length>0)||Me.ended))return W("read: emitReadable",Me.length,Me.ended),Me.length===0&&Me.ended?Ut(this):lt(this),null;if(de=Ie(de,Me),de===0&&Me.ended)return Me.length===0&&Ut(this),null;let ft=(Me.state&Ne)!==0;if(W("need readable",ft),(Me.length===0||Me.length-de<Me.highWaterMark)&&(ft=!0,W("length less than watermark",ft)),Me.ended||Me.reading||Me.destroyed||Me.errored||!Me.constructed)ft=!1,W("reading, ended or constructing",ft);else if(ft){W("do read"),Me.state|=Ae|Ye,Me.length===0&&(Me.state|=Ne);try{this._read(Me.highWaterMark)}catch(Ir){ce(this,Ir)}Me.state&=~Ye,!Me.reading&&(de=Ie(nt,Me))}let gt;return de>0?gt=Pt(de,Me):gt=null,gt===null?(Me.needReadable=Me.length<=Me.highWaterMark,de=0):(Me.length-=de,Me.multiAwaitDrain?Me.awaitDrainWriters.clear():Me.awaitDrainWriters=null),Me.length===0&&(Me.ended||(Me.needReadable=!0),nt!==de&&Me.ended&&Ut(this)),gt!==null&&!Me.errorEmitted&&!Me.closeEmitted&&(Me.dataEmitted=!0,this.emit("data",gt)),gt};function Fe(de,Me){if(W("onEofChunk"),!Me.ended){if(Me.decoder){let nt=Me.decoder.end();nt&&nt.length&&(Me.buffer.push(nt),Me.length+=Me.objectMode?1:nt.length)}Me.ended=!0,Me.sync?lt(de):(Me.needReadable=!1,Me.emittedReadable=!0,yt(de))}}i(Fe,"X6");function lt(de){let Me=de._readableState;W("emitReadable",Me.needReadable,Me.emittedReadable),Me.needReadable=!1,!Me.emittedReadable&&(W("emitReadable",Me.flowing),Me.emittedReadable=!0,S.nextTick(yt,de))}i(lt,"w$");function yt(de){let Me=de._readableState;W("emitReadable_",Me.destroyed,Me.length,Me.ended),!Me.destroyed&&!Me.errored&&(Me.length||Me.ended)&&(de.emit("readable"),Me.emittedReadable=!1),Me.needReadable=!Me.flowing&&!Me.ended&&Me.length<=Me.highWaterMark,Tt(de)}i(yt,"G$");function ht(de,Me){!Me.readingMore&&Me.constructed&&(Me.readingMore=!0,S.nextTick(Mt,de,Me))}i(ht,"b6");function Mt(de,Me){for(;!Me.reading&&!Me.ended&&(Me.length<Me.highWaterMark||Me.flowing&&Me.length===0);){let nt=Me.length;if(W("maybeReadMore read 0"),de.read(0),nt===Me.length)break}Me.readingMore=!1}i(Mt,"k$"),ge.prototype._read=function(de){throw new te("_read()")},ge.prototype.pipe=function(de,Me){let nt=this,ft=this._readableState;ft.pipes.length===1&&(ft.multiAwaitDrain||(ft.multiAwaitDrain=!0,ft.awaitDrainWriters=new G(ft.awaitDrainWriters?[ft.awaitDrainWriters]:[]))),ft.pipes.push(de),W("pipe count=%d opts=%j",ft.pipes.length,Me);let gt=(!Me||Me.end!==!1)&&de!==S.stdout&&de!==S.stderr?ni:Ns;ft.endEmitted?S.nextTick(gt):nt.once("end",gt),de.on("unpipe",Ir);function Ir(Kn,tn){W("onunpipe"),Kn===nt&&tn&&tn.hasUnpiped===!1&&(tn.hasUnpiped=!0,eC())}i(Ir,"f6");function ni(){W("onend"),de.end()}i(ni,"Z$");let qn,yy=!1;function eC(){W("cleanup"),de.removeListener("close",Uc),de.removeListener("finish",Fc),qn&&de.removeListener("drain",qn),de.removeListener("error",zc),de.removeListener("unpipe",Ir),nt.removeListener("end",ni),nt.removeListener("end",Ns),nt.removeListener("data",xy),yy=!0,qn&&ft.awaitDrainWriters&&(!de._writableState||de._writableState.needDrain)&&qn()}i(eC,"b$");function wy(){yy||(ft.pipes.length===1&&ft.pipes[0]===de?(W("false write response, pause",0),ft.awaitDrainWriters=de,ft.multiAwaitDrain=!1):ft.pipes.length>1&&ft.pipes.includes(de)&&(W("false write response, pause",ft.awaitDrainWriters.size),ft.awaitDrainWriters.add(de)),nt.pause()),qn||(qn=Bt(nt,de),de.on("drain",qn))}i(wy,"R$"),nt.on("data",xy);function xy(Kn){W("ondata");let tn=de.write(Kn);W("dest.write",tn),tn===!1&&wy()}i(xy,"Wq");function zc(Kn){if(W("onerror",Kn),Ns(),de.removeListener("error",zc),de.listenerCount("error")===0){let tn=de._writableState||de._readableState;tn&&!tn.errorEmitted?ce(de,Kn):de.emit("error",Kn)}}i(zc,"M$"),ye(de,"error",zc);function Uc(){de.removeListener("finish",Fc),Ns()}i(Uc,"N$"),de.once("close",Uc);function Fc(){W("onfinish"),de.removeListener("close",Uc),Ns()}i(Fc,"D6"),de.once("finish",Fc);function Ns(){W("unpipe"),nt.unpipe(de)}return i(Ns,"O6"),de.emit("pipe",nt),de.writableNeedDrain===!0?wy():ft.flowing||(W("pipe resume"),nt.resume()),de};function Bt(de,Me){return function(){let nt=de._readableState;nt.awaitDrainWriters===Me?(W("pipeOnDrain",1),nt.awaitDrainWriters=null):nt.multiAwaitDrain&&(W("pipeOnDrain",nt.awaitDrainWriters.size),nt.awaitDrainWriters.delete(Me)),(!nt.awaitDrainWriters||nt.awaitDrainWriters.size===0)&&de.listenerCount("data")&&de.resume()}}i(Bt,"I$"),ge.prototype.unpipe=function(de){let Me=this._readableState,nt={hasUnpiped:!1};if(Me.pipes.length===0)return this;if(!de){let gt=Me.pipes;Me.pipes=[],this.pause();for(let Ir=0;Ir<gt.length;Ir++)gt[Ir].emit("unpipe",this,{hasUnpiped:!1});return this}let ft=f(Me.pipes,de);return ft===-1?this:(Me.pipes.splice(ft,1),Me.pipes.length===0&&this.pause(),de.emit("unpipe",this,nt),this)},ge.prototype.on=function(de,Me){let nt=se.prototype.on.call(this,de,Me),ft=this._readableState;return de==="data"?(ft.readableListening=this.listenerCount("readable")>0,ft.flowing!==!1&&this.resume()):de==="readable"&&!ft.endEmitted&&!ft.readableListening&&(ft.readableListening=ft.needReadable=!0,ft.flowing=!1,ft.emittedReadable=!1,W("on readable",ft.length,ft.reading),ft.length?lt(this):ft.reading||S.nextTick(_t,this)),nt},ge.prototype.addListener=ge.prototype.on,ge.prototype.removeListener=function(de,Me){let nt=se.prototype.removeListener.call(this,de,Me);return de==="readable"&&S.nextTick(Et,this),nt},ge.prototype.off=ge.prototype.removeListener,ge.prototype.removeAllListeners=function(de){let Me=se.prototype.removeAllListeners.apply(this,arguments);return(de==="readable"||de===void 0)&&S.nextTick(Et,this),Me};function Et(de){let Me=de._readableState;Me.readableListening=de.listenerCount("readable")>0,Me.resumeScheduled&&Me[Be]===!1?Me.flowing=!0:de.listenerCount("data")>0?de.resume():Me.readableListening||(Me.flowing=null)}i(Et,"Yq");function _t(de){W("readable nexttick read 0"),de.read(0)}i(_t,"D$"),ge.prototype.resume=function(){let de=this._readableState;return de.flowing||(W("resume"),de.flowing=!de.readableListening,Ft(this,de)),de[Be]=!1,this};function Ft(de,Me){Me.resumeScheduled||(Me.resumeScheduled=!0,S.nextTick(Vt,de,Me))}i(Ft,"g$");function Vt(de,Me){W("resume",Me.reading),!Me.reading&&de.read(0),Me.resumeScheduled=!1,de.emit("resume"),Tt(de),Me.flowing&&!Me.reading&&de.read(0)}i(Vt,"Aq"),ge.prototype.pause=function(){return W("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(W("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[Be]=!0,this};function Tt(de){let Me=de._readableState;for(W("flow",Me.flowing);Me.flowing&&de.read()!==null;);}i(Tt,"C$"),ge.prototype.wrap=function(de){let Me=!1;de.on("data",ft=>{!this.push(ft)&&de.pause&&(Me=!0,de.pause())}),de.on("end",()=>{this.push(null)}),de.on("error",ft=>{ce(this,ft)}),de.on("close",()=>{this.destroy()}),de.on("destroy",()=>{this.destroy()}),this._read=()=>{Me&&de.resume&&(Me=!1,de.resume())};let nt=L(de);for(let ft=1;ft<nt.length;ft++){let gt=nt[ft];this[gt]===void 0&&typeof de[gt]=="function"&&(this[gt]=de[gt].bind(de))}return this},ge.prototype[K]=function(){return zt(this)},ge.prototype.iterator=function(de){return de!==void 0&&we(de,"options"),zt(this,de)};function zt(de,Me){typeof de.read!="function"&&(de=ge.wrap(de,{objectMode:!0}));let nt=Nt(de,Me);return nt.stream=de,nt}i(zt,"E$");async function*Nt(de,Me){let nt=Ue;function ft(ni){this===de?(nt(),nt=Ue):nt=ni}i(ft,"K$"),de.on("readable",ft);let gt,Ir=X(de,{writable:!1},ni=>{gt=ni?Q(gt,ni):null,nt(),nt=Ue});try{for(;;){let ni=de.destroyed?null:de.read();if(ni!==null)yield ni;else{if(gt)throw gt;if(gt===null)return;await new B(ft)}}}catch(ni){throw gt=Q(gt,ni),gt}finally{(gt||Me?.destroyOnReturn!==!1)&&(gt===void 0||de._readableState.autoDestroy)?ke.destroyer(de,null):(de.off("readable",ft),Ir())}}i(Nt,"Gq"),D(ge.prototype,{readable:{__proto__:null,get(){let de=this._readableState;return!!de&&de.readable!==!1&&!de.destroyed&&!de.errorEmitted&&!de.endEmitted},set(de){this._readableState&&(this._readableState.readable=!!de)}},readableDidRead:{__proto__:null,enumerable:!1,get:i(function(){return this._readableState.dataEmitted},"get")},readableAborted:{__proto__:null,enumerable:!1,get:i(function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)},"get")},readableHighWaterMark:{__proto__:null,enumerable:!1,get:i(function(){return this._readableState.highWaterMark},"get")},readableBuffer:{__proto__:null,enumerable:!1,get:i(function(){return this._readableState&&this._readableState.buffer},"get")},readableFlowing:{__proto__:null,enumerable:!1,get:i(function(){return this._readableState.flowing},"get"),set:i(function(de){this._readableState&&(this._readableState.flowing=de)},"set")},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(de){this._readableState&&(this._readableState.destroyed=de)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),D(Ge.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[Be]!==!1},set(de){this[Be]=!!de}}}),ge._fromList=Pt;function Pt(de,Me){if(Me.length===0)return null;let nt;return Me.objectMode?nt=Me.buffer.shift():!de||de>=Me.length?(Me.decoder?nt=Me.buffer.join(""):Me.buffer.length===1?nt=Me.buffer.first():nt=Me.buffer.concat(Me.length),Me.buffer.clear()):nt=Me.buffer.consume(de,Me.decoder),nt}i(Pt,"h$");function Ut(de){let Me=de._readableState;W("endReadable",Me.endEmitted),!Me.endEmitted&&(Me.ended=!0,S.nextTick(Zt,Me,de))}i(Ut,"V$");function Zt(de,Me){if(W("endReadableNT",de.endEmitted,de.length),!de.errored&&!de.closeEmitted&&!de.endEmitted&&de.length===0){if(de.endEmitted=!0,Me.emit("end"),Me.writable&&Me.allowHalfOpen===!1)S.nextTick(Ht,Me);else if(de.autoDestroy){let nt=Me._writableState;(!nt||nt.autoDestroy&&(nt.finished||nt.writable===!1))&&Me.destroy()}}}i(Zt,"Vq");function Ht(de){de.writable&&!de.writableEnded&&!de.destroyed&&de.end()}i(Ht,"L$"),ge.from=function(de,Me){return ve(ge,de,Me)};var Jt;function Lr(){return Jt===void 0&&(Jt={}),Jt}i(Lr,"vq"),ge.fromWeb=function(de,Me){return Lr().newStreamReadableFromReadableStream(de,Me)},ge.toWeb=function(de,Me){return Lr().newReadableStreamFromStreamReadable(de,Me)},ge.wrap=function(de,Me){var nt,ft;return new ge({objectMode:(nt=(ft=de.readableObjectMode)!==null&&ft!==void 0?ft:de.objectMode)!==null&&nt!==void 0?nt:!0,...Me,destroy(gt,Ir){ke.destroyer(de,gt),Ir(gt)}}).wrap(de)}}),z=r((M,A)=>{var S=c(),{ArrayPrototypeSlice:f,Error:_,FunctionPrototypeSymbolHasInstance:E,ObjectDefineProperty:I,ObjectDefineProperties:D,ObjectSetPrototypeOf:L,StringPrototypeToLowerCase:U,Symbol:B,SymbolHasInstance:G}=a();A.exports=we,we.WritableState=ue;var{EventEmitter:H}=(Zl(),$t(lo)),K=x().Stream,{Buffer:_e}=(Mr(),$t(wr)),ae=b(),{addAbortSignal:se}=k(),{getHighWaterMark:ye,getDefaultHighWaterMark:q}=C(),{ERR_INVALID_ARG_TYPE:re,ERR_METHOD_NOT_IMPLEMENTED:X,ERR_MULTIPLE_CALLBACK:W,ERR_STREAM_CANNOT_PIPE:le,ERR_STREAM_DESTROYED:ke,ERR_STREAM_ALREADY_FINISHED:pe,ERR_STREAM_NULL_VALUES:fe,ERR_STREAM_WRITE_AFTER_END:Q,ERR_UNKNOWN_ENCODING:Y}=s().codes,{errorOrDestroy:te}=ae;L(we.prototype,K.prototype),L(we,K);function he(){}i(he,"Y");var oe=B("kOnFinished");function ue(ie,me,Ce){typeof Ce!="boolean"&&(Ce=me instanceof Z()),this.objectMode=!!(ie&&ie.objectMode),Ce&&(this.objectMode=this.objectMode||!!(ie&&ie.writableObjectMode)),this.highWaterMark=ie?ye(this,ie,"writableHighWaterMark",Ce):q(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let xe=!!(ie&&ie.decodeStrings===!1);this.decodeStrings=!xe,this.defaultEncoding=ie&&ie.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=ce.bind(void 0,me),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,ze(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!ie||ie.emitClose!==!1,this.autoDestroy=!ie||ie.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[oe]=[]}i(ue,"T");function ze(ie){ie.buffered=[],ie.bufferedIndex=0,ie.allBuffers=!0,ie.allNoop=!0}i(ze,"W"),ue.prototype.getBuffer=function(){return f(this.buffered,this.bufferedIndex)},I(ue.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function we(ie){let me=this instanceof Z();if(!me&&!E(we,this))return new we(ie);this._writableState=new ue(ie,this,me),ie&&(typeof ie.write=="function"&&(this._write=ie.write),typeof ie.writev=="function"&&(this._writev=ie.writev),typeof ie.destroy=="function"&&(this._destroy=ie.destroy),typeof ie.final=="function"&&(this._final=ie.final),typeof ie.construct=="function"&&(this._construct=ie.construct),ie.signal&&se(ie.signal,this)),K.call(this,ie),ae.construct(this,()=>{let Ce=this._writableState;Ce.writing||Ae(this,Ce),Ee(this,Ce)})}i(we,"Z"),I(we,G,{__proto__:null,value:i(function(ie){return E(this,ie)?!0:this!==we?!1:ie&&ie._writableState instanceof ue},"value")}),we.prototype.pipe=function(){te(this,new le)};function Be(ie,me,Ce,xe){let Oe=ie._writableState;if(typeof Ce=="function")xe=Ce,Ce=Oe.defaultEncoding;else{if(!Ce)Ce=Oe.defaultEncoding;else if(Ce!=="buffer"&&!_e.isEncoding(Ce))throw new Y(Ce);typeof xe!="function"&&(xe=he)}if(me===null)throw new fe;if(!Oe.objectMode)if(typeof me=="string")Oe.decodeStrings!==!1&&(me=_e.from(me,Ce),Ce="buffer");else if(me instanceof _e)Ce="buffer";else if(K._isUint8Array(me))me=K._uint8ArrayToBuffer(me),Ce="buffer";else throw new re("chunk",["string","Buffer","Uint8Array"],me);let He;return Oe.ending?He=new Q:Oe.destroyed&&(He=new ke("write")),He?(S.nextTick(xe,He),te(ie,He,!0),He):(Oe.pendingcb++,We(ie,Oe,me,Ce,xe))}i(Be,"S"),we.prototype.write=function(ie,me,Ce){return Be(this,ie,me,Ce)===!0},we.prototype.cork=function(){this._writableState.corked++},we.prototype.uncork=function(){let ie=this._writableState;ie.corked&&(ie.corked--,!ie.writing&&Ae(this,ie))},we.prototype.setDefaultEncoding=function(ie){if(typeof ie=="string"&&(ie=U(ie)),!_e.isEncoding(ie))throw new Y(ie);return this._writableState.defaultEncoding=ie,this};function We(ie,me,Ce,xe,Oe){let He=me.objectMode?1:Ce.length;me.length+=He;let ne=me.length<me.highWaterMark;return ne||(me.needDrain=!0),me.writing||me.corked||me.errored||!me.constructed?(me.buffered.push({chunk:Ce,encoding:xe,callback:Oe}),me.allBuffers&&xe!=="buffer"&&(me.allBuffers=!1),me.allNoop&&Oe!==he&&(me.allNoop=!1)):(me.writelen=He,me.writecb=Oe,me.writing=!0,me.sync=!0,ie._write(Ce,xe,me.onwrite),me.sync=!1),ne&&!me.errored&&!me.destroyed}i(We,"N");function ve(ie,me,Ce,xe,Oe,He,ne){me.writelen=xe,me.writecb=ne,me.writing=!0,me.sync=!0,me.destroyed?me.onwrite(new ke("write")):Ce?ie._writev(Oe,me.onwrite):ie._write(Oe,He,me.onwrite),me.sync=!1}i(ve,"X");function Ue(ie,me,Ce,xe){--me.pendingcb,xe(Ce),Re(me),te(ie,Ce)}i(Ue,"v");function ce(ie,me){let Ce=ie._writableState,xe=Ce.sync,Oe=Ce.writecb;if(typeof Oe!="function"){te(ie,new W);return}Ce.writing=!1,Ce.writecb=null,Ce.length-=Ce.writelen,Ce.writelen=0,me?(me.stack,!Ce.errored&&(Ce.errored=me),ie._readableState&&!ie._readableState.errored&&(ie._readableState.errored=me),xe?S.nextTick(Ue,ie,Ce,me,Oe):Ue(ie,Ce,me,Oe)):(Ce.buffered.length>Ce.bufferedIndex&&Ae(ie,Ce),xe?Ce.afterWriteTickInfo!==null&&Ce.afterWriteTickInfo.cb===Oe?Ce.afterWriteTickInfo.count++:(Ce.afterWriteTickInfo={count:1,cb:Oe,stream:ie,state:Ce},S.nextTick(be,Ce.afterWriteTickInfo)):Te(ie,Ce,1,Oe))}i(ce,"k");function be({stream:ie,state:me,count:Ce,cb:xe}){return me.afterWriteTickInfo=null,Te(ie,me,Ce,xe)}i(be,"g");function Te(ie,me,Ce,xe){for(!me.ending&&!ie.destroyed&&me.length===0&&me.needDrain&&(me.needDrain=!1,ie.emit("drain"));Ce-- >0;)me.pendingcb--,xe();me.destroyed&&Re(me),Ee(ie,me)}i(Te,"h");function Re(ie){if(ie.writing)return;for(let Oe=ie.bufferedIndex;Oe<ie.buffered.length;++Oe){var me;let{chunk:He,callback:ne}=ie.buffered[Oe],je=ie.objectMode?1:He.length;ie.length-=je,ne((me=ie.errored)!==null&&me!==void 0?me:new ke("write"))}let Ce=ie[oe].splice(0);for(let Oe=0;Oe<Ce.length;Oe++){var xe;Ce[Oe]((xe=ie.errored)!==null&&xe!==void 0?xe:new ke("end"))}ze(ie)}i(Re,"L");function Ae(ie,me){if(me.corked||me.bufferProcessing||me.destroyed||!me.constructed)return;let{buffered:Ce,bufferedIndex:xe,objectMode:Oe}=me,He=Ce.length-xe;if(!He)return;let ne=xe;if(me.bufferProcessing=!0,He>1&&ie._writev){me.pendingcb-=He-1;let je=me.allNoop?he:ge=>{for(let Je=ne;Je<Ce.length;++Je)Ce[Je].callback(ge)},Ge=me.allNoop&&ne===0?Ce:f(Ce,ne);Ge.allBuffers=me.allBuffers,ve(ie,me,!0,me.length,Ge,"",je),ze(me)}else{do{let{chunk:je,encoding:Ge,callback:ge}=Ce[ne];Ce[ne++]=null;let Je=Oe?1:je.length;ve(ie,me,!1,Je,je,Ge,ge)}while(ne<Ce.length&&!me.writing);ne===Ce.length?ze(me):ne>256?(Ce.splice(0,ne),me.bufferedIndex=0):me.bufferedIndex=ne}me.bufferProcessing=!1}i(Ae,"d"),we.prototype._write=function(ie,me,Ce){if(this._writev)this._writev([{chunk:ie,encoding:me}],Ce);else throw new X("_write()")},we.prototype._writev=null,we.prototype.end=function(ie,me,Ce){let xe=this._writableState;typeof ie=="function"?(Ce=ie,ie=null,me=null):typeof me=="function"&&(Ce=me,me=null);let Oe;if(ie!=null){let He=Be(this,ie,me);He instanceof _&&(Oe=He)}return xe.corked&&(xe.corked=1,this.uncork()),Oe||(!xe.errored&&!xe.ending?(xe.ending=!0,Ee(this,xe,!0),xe.ended=!0):xe.finished?Oe=new pe("end"):xe.destroyed&&(Oe=new ke("end"))),typeof Ce=="function"&&(Oe||xe.finished?S.nextTick(Ce,Oe):xe[oe].push(Ce)),this};function $e(ie){return ie.ending&&!ie.destroyed&&ie.constructed&&ie.length===0&&!ie.errored&&ie.buffered.length===0&&!ie.finished&&!ie.writing&&!ie.errorEmitted&&!ie.closeEmitted}i($e,"i");function Ye(ie,me){let Ce=!1;function xe(Oe){if(Ce){te(ie,Oe??W());return}if(Ce=!0,me.pendingcb--,Oe){let He=me[oe].splice(0);for(let ne=0;ne<He.length;ne++)He[ne](Oe);te(ie,Oe,me.sync)}else $e(me)&&(me.prefinished=!0,ie.emit("prefinish"),me.pendingcb++,S.nextTick(Pe,ie,me))}i(xe,"p$"),me.sync=!0,me.pendingcb++;try{ie._final(xe)}catch(Oe){xe(Oe)}me.sync=!1}i(Ye,"F");function Ne(ie,me){!me.prefinished&&!me.finalCalled&&(typeof ie._final=="function"&&!me.destroyed?(me.finalCalled=!0,Ye(ie,me)):(me.prefinished=!0,ie.emit("prefinish")))}i(Ne,"W$");function Ee(ie,me,Ce){$e(me)&&(Ne(ie,me),me.pendingcb===0&&(Ce?(me.pendingcb++,S.nextTick((xe,Oe)=>{$e(Oe)?Pe(xe,Oe):Oe.pendingcb--},ie,me)):$e(me)&&(me.pendingcb++,Pe(ie,me))))}i(Ee,"n");function Pe(ie,me){me.pendingcb--,me.finished=!0;let Ce=me[oe].splice(0);for(let xe=0;xe<Ce.length;xe++)Ce[xe]();if(ie.emit("finish"),me.autoDestroy){let xe=ie._readableState;(!xe||xe.autoDestroy&&(xe.endEmitted||xe.readable===!1))&&ie.destroy()}}i(Pe,"t"),D(we.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(ie){this._writableState&&(this._writableState.destroyed=ie)}},writable:{__proto__:null,get(){let ie=this._writableState;return!!ie&&ie.writable!==!1&&!ie.destroyed&&!ie.errored&&!ie.ending&&!ie.ended},set(ie){this._writableState&&(this._writableState.writable=!!ie)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let ie=this._writableState;return ie?!ie.destroyed&&!ie.ending&&ie.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:i(function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)},"get")}});var Se=ae.destroy;we.prototype.destroy=function(ie,me){let Ce=this._writableState;return!Ce.destroyed&&(Ce.bufferedIndex<Ce.buffered.length||Ce[oe].length)&&S.nextTick(Re,Ce),Se.call(this,ie,me),this},we.prototype._undestroy=ae.undestroy,we.prototype._destroy=function(ie,me){me(ie)},we.prototype[H.captureRejectionSymbol]=function(ie){this.destroy(ie)};var Ze;function Ke(){return Ze===void 0&&(Ze={}),Ze}i(Ke,"v$"),we.fromWeb=function(ie,me){return Ke().newStreamWritableFromWritableStream(ie,me)},we.toWeb=function(ie){return Ke().newWritableStreamFromStreamWritable(ie)}}),V=r((M,A)=>{var S=c(),f=(Mr(),$t(wr)),{isReadable:_,isWritable:E,isIterable:I,isNodeStream:D,isReadableNodeStream:L,isWritableNodeStream:U,isDuplexNodeStream:B,isReadableStream:G,isWritableStream:H}=d(),K=y(),{AbortError:_e,codes:{ERR_INVALID_ARG_TYPE:ae,ERR_INVALID_RETURN_VALUE:se}}=s(),{destroyer:ye}=b(),q=Z(),re=P(),X=z(),{createDeferredPromise:W}=p(),le=T(),ke=globalThis.Blob||f.Blob,pe=typeof ke<"u"?function(oe){return oe instanceof ke}:function(oe){return!1},fe=globalThis.AbortController||h().AbortController,{FunctionPrototypeCall:Q}=a();class Y extends q{static{i(this,"r")}constructor(ue){super(ue),ue?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),ue?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}A.exports=i(function oe(ue,ze){if(B(ue))return ue;if(L(ue))return he({readable:ue});if(U(ue))return he({writable:ue});if(D(ue))return he({writable:!1,readable:!1});if(G(ue))return he({readable:re.fromWeb(ue)});if(H(ue))return he({writable:X.fromWeb(ue)});if(typeof ue=="function"){let{value:Be,write:We,final:ve,destroy:Ue}=te(ue);if(I(Be))return le(Y,Be,{objectMode:!0,write:We,final:ve,destroy:Ue});let ce=Be?.then;if(typeof ce=="function"){let be,Te=Q(ce,Be,Re=>{if(Re!=null)throw new se("nully","body",Re)},Re=>{ye(be,Re)});return be=new Y({objectMode:!0,readable:!1,write:We,final(Re){ve(async()=>{try{await Te,S.nextTick(Re,null)}catch(Ae){S.nextTick(Re,Ae)}})},destroy:Ue})}throw new se("Iterable, AsyncIterable or AsyncFunction",ze,Be)}if(pe(ue))return oe(ue.arrayBuffer());if(I(ue))return le(Y,ue,{objectMode:!0,writable:!1});if(G(ue?.readable)&&H(ue?.writable))return Y.fromWeb(ue);if(typeof ue?.writable=="object"||typeof ue?.readable=="object"){let Be=ue!=null&&ue.readable?L(ue?.readable)?ue?.readable:oe(ue.readable):void 0,We=ue!=null&&ue.writable?U(ue?.writable)?ue?.writable:oe(ue.writable):void 0;return he({readable:Be,writable:We})}let we=ue?.then;if(typeof we=="function"){let Be;return Q(we,ue,We=>{We!=null&&Be.push(We),Be.push(null)},We=>{ye(Be,We)}),Be=new Y({objectMode:!0,writable:!1,read(){}})}throw new ae(ze,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],ue)},"H");function te(oe){let{promise:ue,resolve:ze}=W(),we=new fe,Be=we.signal;return{value:oe((async function*(){for(;;){let We=ue;ue=null;let{chunk:ve,done:Ue,cb:ce}=await We;if(S.nextTick(ce),Ue)return;if(Be.aborted)throw new _e(void 0,{cause:Be.reason});({promise:ue,resolve:ze}=W()),yield ve}})(),{signal:Be}),write(We,ve,Ue){let ce=ze;ze=null,ce({chunk:We,done:!1,cb:Ue})},final(We){let ve=ze;ze=null,ve({done:!0,cb:We})},destroy(We,ve){we.abort(),ve(We)}}}i(te,"M");function he(oe){let ue=oe.readable&&typeof oe.readable.read!="function"?re.wrap(oe.readable):oe.readable,ze=oe.writable,we=!!_(ue),Be=!!E(ze),We,ve,Ue,ce,be;function Te(Re){let Ae=ce;ce=null,Ae?Ae(Re):Re&&be.destroy(Re)}return i(Te,"h"),be=new Y({readableObjectMode:!!(ue!=null&&ue.readableObjectMode),writableObjectMode:!!(ze!=null&&ze.writableObjectMode),readable:we,writable:Be}),Be&&(K(ze,Re=>{Be=!1,Re&&ye(ue,Re),Te(Re)}),be._write=function(Re,Ae,$e){ze.write(Re,Ae)?$e():We=$e},be._final=function(Re){ze.end(),ve=Re},ze.on("drain",function(){if(We){let Re=We;We=null,Re()}}),ze.on("finish",function(){if(ve){let Re=ve;ve=null,Re()}})),we&&(K(ue,Re=>{we=!1,Re&&ye(ue,Re),Te(Re)}),ue.on("readable",function(){if(Ue){let Re=Ue;Ue=null,Re()}}),ue.on("end",function(){be.push(null)}),be._read=function(){for(;;){let Re=ue.read();if(Re===null){Ue=be._read;return}if(!be.push(Re))return}}),be._destroy=function(Re,Ae){!Re&&ce!==null&&(Re=new _e),Ue=null,We=null,ve=null,ce===null?Ae(Re):(ce=Ae,ye(ze,Re),ye(ue,Re))},be}i(he,"Y")}),Z=r((M,A)=>{var{ObjectDefineProperties:S,ObjectGetOwnPropertyDescriptor:f,ObjectKeys:_,ObjectSetPrototypeOf:E}=a();A.exports=L;var I=P(),D=z();E(L.prototype,I.prototype),E(L,I);{let H=_(D.prototype);for(let K=0;K<H.length;K++){let _e=H[K];L.prototype[_e]||(L.prototype[_e]=D.prototype[_e])}}function L(H){if(!(this instanceof L))return new L(H);I.call(this,H),D.call(this,H),H?(this.allowHalfOpen=H.allowHalfOpen!==!1,H.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),H.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}i(L,"J"),S(L.prototype,{writable:{__proto__:null,...f(D.prototype,"writable")},writableHighWaterMark:{__proto__:null,...f(D.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...f(D.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...f(D.prototype,"writableBuffer")},writableLength:{__proto__:null,...f(D.prototype,"writableLength")},writableFinished:{__proto__:null,...f(D.prototype,"writableFinished")},writableCorked:{__proto__:null,...f(D.prototype,"writableCorked")},writableEnded:{__proto__:null,...f(D.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...f(D.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(H){this._readableState&&this._writableState&&(this._readableState.destroyed=H,this._writableState.destroyed=H)}}});var U;function B(){return U===void 0&&(U={}),U}i(B,"G"),L.fromWeb=function(H,K){return B().newStreamDuplexFromReadableWritablePair(H,K)},L.toWeb=function(H){return B().newReadableWritablePairFromDuplex(H)};var G;L.from=function(H){return G||(G=V()),G(H,"body")}}),ee=r((M,A)=>{var{ObjectSetPrototypeOf:S,Symbol:f}=a();A.exports=L;var{ERR_METHOD_NOT_IMPLEMENTED:_}=s().codes,E=Z(),{getHighWaterMark:I}=C();S(L.prototype,E.prototype),S(L,E);var D=f("kCallback");function L(G){if(!(this instanceof L))return new L(G);let H=G?I(this,G,"readableHighWaterMark",!0):null;H===0&&(G={...G,highWaterMark:null,readableHighWaterMark:H,writableHighWaterMark:G.writableHighWaterMark||0}),E.call(this,G),this._readableState.sync=!1,this[D]=null,G&&(typeof G.transform=="function"&&(this._transform=G.transform),typeof G.flush=="function"&&(this._flush=G.flush)),this.on("prefinish",B)}i(L,"J");function U(G){typeof this._flush=="function"&&!this.destroyed?this._flush((H,K)=>{if(H){G?G(H):this.destroy(H);return}K!=null&&this.push(K),this.push(null),G&&G()}):(this.push(null),G&&G())}i(U,"w");function B(){this._final!==U&&U.call(this)}i(B,"G"),L.prototype._final=U,L.prototype._transform=function(G,H,K){throw new _("_transform()")},L.prototype._write=function(G,H,K){let _e=this._readableState,ae=this._writableState,se=_e.length;this._transform(G,H,(ye,q)=>{if(ye){K(ye);return}q!=null&&this.push(q),ae.ended||se===_e.length||_e.length<_e.highWaterMark?K():this[D]=K})},L.prototype._read=function(){if(this[D]){let G=this[D];this[D]=null,G()}}}),$=r((M,A)=>{var{ObjectSetPrototypeOf:S}=a();A.exports=_;var f=ee();S(_.prototype,f.prototype),S(_,f);function _(E){if(!(this instanceof _))return new _(E);f.call(this,E)}i(_,"_"),_.prototype._transform=function(E,I,D){D(null,E)}}),F=r((M,A)=>{var S=c(),{ArrayIsArray:f,Promise:_,SymbolAsyncIterator:E,SymbolDispose:I}=a(),D=y(),{once:L}=p(),U=b(),B=Z(),{aggregateTwoErrors:G,codes:{ERR_INVALID_ARG_TYPE:H,ERR_INVALID_RETURN_VALUE:K,ERR_MISSING_ARGS:_e,ERR_STREAM_DESTROYED:ae,ERR_STREAM_PREMATURE_CLOSE:se},AbortError:ye}=s(),{validateFunction:q,validateAbortSignal:re}=v(),{isIterable:X,isReadable:W,isReadableNodeStream:le,isNodeStream:ke,isTransformStream:pe,isWebStream:fe,isReadableStream:Q,isReadableFinished:Y}=d(),te=globalThis.AbortController||h().AbortController,he,oe,ue;function ze(Re,Ae,$e){let Ye=!1;Re.on("close",()=>{Ye=!0});let Ne=D(Re,{readable:Ae,writable:$e},Ee=>{Ye=!Ee});return{destroy:i(Ee=>{Ye||(Ye=!0,U.destroyer(Re,Ee||new ae("pipe")))},"destroy"),cleanup:Ne}}i(ze,"W");function we(Re){return q(Re[Re.length-1],"streams[stream.length - 1]"),Re.pop()}i(we,"Z");function Be(Re){if(X(Re))return Re;if(le(Re))return We(Re);throw new H("val",["Readable","Iterable","AsyncIterable"],Re)}i(Be,"S");async function*We(Re){oe||(oe=P()),yield*oe.prototype[E].call(Re)}i(We,"N");async function ve(Re,Ae,$e,{end:Ye}){let Ne,Ee=null,Pe=i(Ke=>{if(Ke&&(Ne=Ke),Ee){let ie=Ee;Ee=null,ie()}},"t"),Se=i(()=>new _((Ke,ie)=>{Ne?ie(Ne):Ee=i(()=>{Ne?ie(Ne):Ke()},"n")}),"y$");Ae.on("drain",Pe);let Ze=D(Ae,{readable:!1},Pe);try{Ae.writableNeedDrain&&await Se();for await(let Ke of Re)Ae.write(Ke)||await Se();Ye&&(Ae.end(),await Se()),$e()}catch(Ke){$e(Ne!==Ke?G(Ne,Ke):Ke)}finally{Ze(),Ae.off("drain",Pe)}}i(ve,"X");async function Ue(Re,Ae,$e,{end:Ye}){pe(Ae)&&(Ae=Ae.writable);let Ne=Ae.getWriter();try{for await(let Ee of Re)await Ne.ready,Ne.write(Ee).catch(()=>{});await Ne.ready,Ye&&await Ne.close(),$e()}catch(Ee){try{await Ne.abort(Ee),$e(Ee)}catch(Pe){$e(Pe)}}}i(Ue,"v");function ce(...Re){return be(Re,L(we(Re)))}i(ce,"k");function be(Re,Ae,$e){if(Re.length===1&&f(Re[0])&&(Re=Re[0]),Re.length<2)throw new _e("streams");let Ye=new te,Ne=Ye.signal,Ee=$e?.signal,Pe=[];re(Ee,"options.signal");function Se(){Oe(new ye)}i(Se,"y$"),ue=ue||p().addAbortListener;let Ze;Ee&&(Ze=ue(Ee,Se));let Ke,ie,me=[],Ce=0;function xe(Ge){Oe(Ge,--Ce===0)}i(xe,"p$");function Oe(Ge,ge){var Je;if(Ge&&(!Ke||Ke.code==="ERR_STREAM_PREMATURE_CLOSE")&&(Ke=Ge),!(!Ke&&!ge)){for(;me.length;)me.shift()(Ke);(Je=Ze)===null||Je===void 0||Je[I](),Ye.abort(),ge&&(Ke||Pe.forEach(tt=>tt()),S.nextTick(Ae,Ke,ie))}}i(Oe,"$$");let He;for(let Ge=0;Ge<Re.length;Ge++){let ge=Re[Ge],Je=Ge<Re.length-1,tt=Ge>0,De=Je||$e?.end!==!1,Qe=Ge===Re.length-1;if(ke(ge)){let Ie=i(function(Fe){Fe&&Fe.name!=="AbortError"&&Fe.code!=="ERR_STREAM_PREMATURE_CLOSE"&&xe(Fe)},"X6");if(De){let{destroy:Fe,cleanup:lt}=ze(ge,Je,tt);me.push(Fe),W(ge)&&Qe&&Pe.push(lt)}ge.on("error",Ie),W(ge)&&Qe&&Pe.push(()=>{ge.removeListener("error",Ie)})}if(Ge===0)if(typeof ge=="function"){if(He=ge({signal:Ne}),!X(He))throw new K("Iterable, AsyncIterable or Stream","source",He)}else X(ge)||le(ge)||pe(ge)?He=ge:He=B.from(ge);else if(typeof ge=="function"){if(pe(He)){var ne;He=Be((ne=He)===null||ne===void 0?void 0:ne.readable)}else He=Be(He);if(He=ge(He,{signal:Ne}),Je){if(!X(He,!0))throw new K("AsyncIterable",`transform[${Ge-1}]`,He)}else{var je;he||(he=$());let Ie=new he({objectMode:!0}),Fe=(je=He)===null||je===void 0?void 0:je.then;if(typeof Fe=="function")Ce++,Fe.call(He,ht=>{ie=ht,ht!=null&&Ie.write(ht),De&&Ie.end(),S.nextTick(xe)},ht=>{Ie.destroy(ht),S.nextTick(xe,ht)});else if(X(He,!0))Ce++,ve(He,Ie,xe,{end:De});else if(Q(He)||pe(He)){let ht=He.readable||He;Ce++,ve(ht,Ie,xe,{end:De})}else throw new K("AsyncIterable or Promise","destination",He);He=Ie;let{destroy:lt,cleanup:yt}=ze(He,!1,!0);me.push(lt),Qe&&Pe.push(yt)}}else if(ke(ge)){if(le(He)){Ce+=2;let Ie=Te(He,ge,xe,{end:De});W(ge)&&Qe&&Pe.push(Ie)}else if(pe(He)||Q(He)){let Ie=He.readable||He;Ce++,ve(Ie,ge,xe,{end:De})}else if(X(He))Ce++,ve(He,ge,xe,{end:De});else throw new H("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],He);He=ge}else if(fe(ge)){if(le(He))Ce++,Ue(Be(He),ge,xe,{end:De});else if(Q(He)||X(He))Ce++,Ue(He,ge,xe,{end:De});else if(pe(He))Ce++,Ue(He.readable,ge,xe,{end:De});else throw new H("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],He);He=ge}else He=B.from(ge)}return(Ne!=null&&Ne.aborted||Ee!=null&&Ee.aborted)&&S.nextTick(Se),He}i(be,"g");function Te(Re,Ae,$e,{end:Ye}){let Ne=!1;if(Ae.on("close",()=>{Ne||$e(new se)}),Re.pipe(Ae,{end:!1}),Ye){let Ee=i(function(){Ne=!0,Ae.end()},"t");Y(Re)?S.nextTick(Ee):Re.once("end",Ee)}else $e();return D(Re,{readable:!0,writable:!1},Ee=>{let Pe=Re._readableState;Ee&&Ee.code==="ERR_STREAM_PREMATURE_CLOSE"&&Pe&&Pe.ended&&!Pe.errored&&!Pe.errorEmitted?Re.once("end",$e).once("error",$e):$e(Ee)}),D(Ae,{readable:!1,writable:!0},$e)}i(Te,"h"),A.exports={pipelineImpl:be,pipeline:ce}}),u=r((M,A)=>{var{pipeline:S}=F(),f=Z(),{destroyer:_}=b(),{isNodeStream:E,isReadable:I,isWritable:D,isWebStream:L,isTransformStream:U,isWritableStream:B,isReadableStream:G}=d(),{AbortError:H,codes:{ERR_INVALID_ARG_VALUE:K,ERR_MISSING_ARGS:_e}}=s(),ae=y();A.exports=function(...se){if(se.length===0)throw new _e("streams");if(se.length===1)return f.from(se[0]);let ye=[...se];if(typeof se[0]=="function"&&(se[0]=f.from(se[0])),typeof se[se.length-1]=="function"){let te=se.length-1;se[te]=f.from(se[te])}for(let te=0;te<se.length;++te)if(!(!E(se[te])&&!L(se[te]))){if(te<se.length-1&&!(I(se[te])||G(se[te])||U(se[te])))throw new K(`streams[${te}]`,ye[te],"must be readable");if(te>0&&!(D(se[te])||B(se[te])||U(se[te])))throw new K(`streams[${te}]`,ye[te],"must be writable")}let q,re,X,W,le;function ke(te){let he=W;W=null,he?he(te):te?le.destroy(te):!Y&&!Q&&le.destroy()}i(ke,"q$");let pe=se[0],fe=S(se,ke),Q=!!(D(pe)||B(pe)||U(pe)),Y=!!(I(fe)||G(fe)||U(fe));if(le=new f({writableObjectMode:!!(pe!=null&&pe.writableObjectMode),readableObjectMode:!!(fe!=null&&fe.readableObjectMode),writable:Q,readable:Y}),Q){if(E(pe))le._write=function(he,oe,ue){pe.write(he,oe)?ue():q=ue},le._final=function(he){pe.end(),re=he},pe.on("drain",function(){if(q){let he=q;q=null,he()}});else if(L(pe)){let he=(U(pe)?pe.writable:pe).getWriter();le._write=async function(oe,ue,ze){try{await he.ready,he.write(oe).catch(()=>{}),ze()}catch(we){ze(we)}},le._final=async function(oe){try{await he.ready,he.close().catch(()=>{}),re=oe}catch(ue){oe(ue)}}}let te=U(fe)?fe.readable:fe;ae(te,()=>{if(re){let he=re;re=null,he()}})}if(Y){if(E(fe))fe.on("readable",function(){if(X){let te=X;X=null,te()}}),fe.on("end",function(){le.push(null)}),le._read=function(){for(;;){let te=fe.read();if(te===null){X=le._read;return}if(!le.push(te))return}};else if(L(fe)){let te=(U(fe)?fe.readable:fe).getReader();le._read=async function(){for(;;)try{let{value:he,done:oe}=await te.read();if(!le.push(he))return;if(oe){le.push(null);return}}catch{return}}}}return le._destroy=function(te,he){!te&&W!==null&&(te=new H),X=null,q=null,re=null,W===null?he(te):(W=he,E(fe)&&_(fe,te))},le}}),g=r((M,A)=>{var S=globalThis.AbortController||h().AbortController,{codes:{ERR_INVALID_ARG_VALUE:f,ERR_INVALID_ARG_TYPE:_,ERR_MISSING_ARGS:E,ERR_OUT_OF_RANGE:I},AbortError:D}=s(),{validateAbortSignal:L,validateInteger:U,validateObject:B}=v(),G=a().Symbol("kWeak"),H=a().Symbol("kResistStopPropagation"),{finished:K}=y(),_e=u(),{addAbortSignalNoValidate:ae}=k(),{isWritable:se,isNodeStream:ye}=d(),{deprecate:q}=p(),{ArrayPrototypePush:re,Boolean:X,MathFloor:W,Number:le,NumberIsNaN:ke,Promise:pe,PromiseReject:fe,PromiseResolve:Q,PromisePrototypeThen:Y,Symbol:te}=a(),he=te("kEmpty"),oe=te("kEof");function ue(Ee,Pe){if(Pe!=null&&B(Pe,"options"),Pe?.signal!=null&&L(Pe.signal,"options.signal"),ye(Ee)&&!se(Ee))throw new f("stream",Ee,"must be writable");let Se=_e(this,Ee);return Pe!=null&&Pe.signal&&ae(Pe.signal,Se),Se}i(ue,"T");function ze(Ee,Pe){if(typeof Ee!="function")throw new _("fn",["Function","AsyncFunction"],Ee);Pe!=null&&B(Pe,"options"),Pe?.signal!=null&&L(Pe.signal,"options.signal");let Se=1;Pe?.concurrency!=null&&(Se=W(Pe.concurrency));let Ze=Se-1;return Pe?.highWaterMark!=null&&(Ze=W(Pe.highWaterMark)),U(Se,"options.concurrency",1),U(Ze,"options.highWaterMark",0),Ze+=Se,async function*(){let Ke=p().AbortSignalAny([Pe?.signal].filter(X)),ie=this,me=[],Ce={signal:Ke},xe,Oe,He=!1,ne=0;function je(){He=!0,Ge()}i(je,"_$");function Ge(){ne-=1,ge()}i(Ge,"X$");function ge(){Oe&&!He&&ne<Se&&me.length<Ze&&(Oe(),Oe=null)}i(ge,"O$");async function Je(){try{for await(let tt of ie){if(He)return;if(Ke.aborted)throw new D;try{if(tt=Ee(tt,Ce),tt===he)continue;tt=Q(tt)}catch(De){tt=fe(De)}ne+=1,Y(tt,Ge,je),me.push(tt),xe&&(xe(),xe=null),!He&&(me.length>=Ze||ne>=Se)&&await new pe(De=>{Oe=De})}me.push(oe)}catch(tt){let De=fe(tt);Y(De,Ge,je),me.push(De)}finally{He=!0,xe&&(xe(),xe=null)}}i(Je,"T$"),Je();try{for(;;){for(;me.length>0;){let tt=await me[0];if(tt===oe)return;if(Ke.aborted)throw new D;tt!==he&&(yield tt),me.shift(),ge()}await new pe(tt=>{xe=tt})}}finally{He=!0,Oe&&(Oe(),Oe=null)}}.call(this)}i(ze,"W");function we(Ee=void 0){return Ee!=null&&B(Ee,"options"),Ee?.signal!=null&&L(Ee.signal,"options.signal"),async function*(){let Pe=0;for await(let Ze of this){var Se;if(Ee!=null&&(Se=Ee.signal)!==null&&Se!==void 0&&Se.aborted)throw new D({cause:Ee.signal.reason});yield[Pe++,Ze]}}.call(this)}i(we,"Z");async function Be(Ee,Pe=void 0){for await(let Se of ce.call(this,Ee,Pe))return!0;return!1}i(Be,"S");async function We(Ee,Pe=void 0){if(typeof Ee!="function")throw new _("fn",["Function","AsyncFunction"],Ee);return!await Be.call(this,async(...Se)=>!await Ee(...Se),Pe)}i(We,"N");async function ve(Ee,Pe){for await(let Se of ce.call(this,Ee,Pe))return Se}i(ve,"X");async function Ue(Ee,Pe){if(typeof Ee!="function")throw new _("fn",["Function","AsyncFunction"],Ee);async function Se(Ze,Ke){return await Ee(Ze,Ke),he}i(Se,"y$");for await(let Ze of ze.call(this,Se,Pe));}i(Ue,"v");function ce(Ee,Pe){if(typeof Ee!="function")throw new _("fn",["Function","AsyncFunction"],Ee);async function Se(Ze,Ke){return await Ee(Ze,Ke)?Ze:he}return i(Se,"y$"),ze.call(this,Se,Pe)}i(ce,"k");class be extends E{static{i(this,"g")}constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function Te(Ee,Pe,Se){var Ze;if(typeof Ee!="function")throw new _("reducer",["Function","AsyncFunction"],Ee);Se!=null&&B(Se,"options"),Se?.signal!=null&&L(Se.signal,"options.signal");let Ke=arguments.length>1;if(Se!=null&&(Ze=Se.signal)!==null&&Ze!==void 0&&Ze.aborted){let Oe=new D(void 0,{cause:Se.signal.reason});throw this.once("error",()=>{}),await K(this.destroy(Oe)),Oe}let ie=new S,me=ie.signal;if(Se!=null&&Se.signal){let Oe={once:!0,[G]:this,[H]:!0};Se.signal.addEventListener("abort",()=>ie.abort(),Oe)}let Ce=!1;try{for await(let Oe of this){var xe;if(Ce=!0,Se!=null&&(xe=Se.signal)!==null&&xe!==void 0&&xe.aborted)throw new D;Ke?Pe=await Ee(Pe,Oe,{signal:me}):(Pe=Oe,Ke=!0)}if(!Ce&&!Ke)throw new be}finally{ie.abort()}return Pe}i(Te,"h");async function Re(Ee){Ee!=null&&B(Ee,"options"),Ee?.signal!=null&&L(Ee.signal,"options.signal");let Pe=[];for await(let Ze of this){var Se;if(Ee!=null&&(Se=Ee.signal)!==null&&Se!==void 0&&Se.aborted)throw new D(void 0,{cause:Ee.signal.reason});re(Pe,Ze)}return Pe}i(Re,"L");function Ae(Ee,Pe){let Se=ze.call(this,Ee,Pe);return async function*(){for await(let Ze of Se)yield*Ze}.call(this)}i(Ae,"d");function $e(Ee){if(Ee=le(Ee),ke(Ee))return 0;if(Ee<0)throw new I("number",">= 0",Ee);return Ee}i($e,"i");function Ye(Ee,Pe=void 0){return Pe!=null&&B(Pe,"options"),Pe?.signal!=null&&L(Pe.signal,"options.signal"),Ee=$e(Ee),async function*(){var Se;if(Pe!=null&&(Se=Pe.signal)!==null&&Se!==void 0&&Se.aborted)throw new D;for await(let Ke of this){var Ze;if(Pe!=null&&(Ze=Pe.signal)!==null&&Ze!==void 0&&Ze.aborted)throw new D;Ee--<=0&&(yield Ke)}}.call(this)}i(Ye,"F");function Ne(Ee,Pe=void 0){return Pe!=null&&B(Pe,"options"),Pe?.signal!=null&&L(Pe.signal,"options.signal"),Ee=$e(Ee),async function*(){var Se;if(Pe!=null&&(Se=Pe.signal)!==null&&Se!==void 0&&Se.aborted)throw new D;for await(let Ke of this){var Ze;if(Pe!=null&&(Ze=Pe.signal)!==null&&Ze!==void 0&&Ze.aborted)throw new D;if(Ee-- >0&&(yield Ke),Ee<=0)return}}.call(this)}i(Ne,"W$"),A.exports.streamReturningOperators={asIndexedPairs:q(we,"readable.asIndexedPairs will be removed in a future version."),drop:Ye,filter:ce,flatMap:Ae,map:ze,take:Ne,compose:ue},A.exports.promiseReturningOperators={every:We,forEach:Ue,reduce:Te,toArray:Re,some:Be,find:ve}}),l=r((M,A)=>{var{ArrayPrototypePop:S,Promise:f}=a(),{isIterable:_,isNodeStream:E,isWebStream:I}=d(),{pipelineImpl:D}=F(),{finished:L}=y();m();function U(...B){return new f((G,H)=>{let K,_e,ae=B[B.length-1];if(ae&&typeof ae=="object"&&!E(ae)&&!_(ae)&&!I(ae)){let se=S(B);K=se.signal,_e=se.end}D(B,(se,ye)=>{se?H(se):G(ye)},{signal:K,end:_e})})}i(U,"w"),A.exports={finished:L,pipeline:U}}),m=r((M,A)=>{var{Buffer:S}=(Mr(),$t(wr)),{ObjectDefineProperty:f,ObjectKeys:_,ReflectApply:E}=a(),{promisify:{custom:I}}=p(),{streamReturningOperators:D,promiseReturningOperators:L}=g(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:U}}=s(),B=u(),{setDefaultHighWaterMark:G,getDefaultHighWaterMark:H}=C(),{pipeline:K}=F(),{destroyer:_e}=b(),ae=y(),se=l(),ye=d(),q=A.exports=x().Stream;q.isDestroyed=ye.isDestroyed,q.isDisturbed=ye.isDisturbed,q.isErrored=ye.isErrored,q.isReadable=ye.isReadable,q.isWritable=ye.isWritable,q.Readable=P();for(let X of _(D)){let W=i(function(...ke){if(new.target)throw U();return q.Readable.from(E(le,this,ke))},"y"),le=D[X];f(W,"name",{__proto__:null,value:le.name}),f(W,"length",{__proto__:null,value:le.length}),f(q.Readable.prototype,X,{__proto__:null,value:W,enumerable:!1,configurable:!0,writable:!0})}for(let X of _(L)){let W=i(function(...ke){if(new.target)throw U();return E(le,this,ke)},"y"),le=L[X];f(W,"name",{__proto__:null,value:le.name}),f(W,"length",{__proto__:null,value:le.length}),f(q.Readable.prototype,X,{__proto__:null,value:W,enumerable:!1,configurable:!0,writable:!0})}q.Writable=z(),q.Duplex=Z(),q.Transform=ee(),q.PassThrough=$(),q.pipeline=K;var{addAbortSignal:re}=k();q.addAbortSignal=re,q.finished=ae,q.destroy=_e,q.compose=B,q.setDefaultHighWaterMark=G,q.getDefaultHighWaterMark=H,f(q,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return se}}),f(K,I,{__proto__:null,enumerable:!0,get(){return se.pipeline}}),f(ae,I,{__proto__:null,enumerable:!0,get(){return se.finished}}),q.Stream=q,q._isUint8Array=function(X){return X instanceof Uint8Array},q._uint8ArrayToBuffer=function(X){return S.from(X.buffer,X.byteOffset,X.byteLength)}}),w=r((M,A)=>{rS();{let S=m(),f=l(),_=S.Readable.destroy;A.exports=S.Readable,A.exports._uint8ArrayToBuffer=S._uint8ArrayToBuffer,A.exports._isUint8Array=S._isUint8Array,A.exports.isDisturbed=S.isDisturbed,A.exports.isErrored=S.isErrored,A.exports.isReadable=S.isReadable,A.exports.Readable=S.Readable,A.exports.Writable=S.Writable,A.exports.Duplex=S.Duplex,A.exports.Transform=S.Transform,A.exports.PassThrough=S.PassThrough,A.exports.addAbortSignal=S.addAbortSignal,A.exports.finished=S.finished,A.exports.destroy=S.destroy,A.exports.destroy=_,A.exports.pipeline=S.pipeline,A.exports.compose=S.compose,Object.defineProperty(S,"promises",{configurable:!0,enumerable:!0,get(){return f}}),A.exports.Stream=S.Stream}A.exports.default=A.exports});t.exports=w()}),Ur={};$r(Ur,{webcrypto:i(()=>JS,"webcrypto"),rng:i(()=>uS,"rng"),randomUUID:i(()=>pz,"randomUUID"),randomFillSync:i(()=>GS,"randomFillSync"),randomFill:i(()=>$S,"randomFill"),randomBytes:i(()=>fS,"randomBytes"),publicEncrypt:i(()=>BS,"publicEncrypt"),publicDecrypt:i(()=>US,"publicDecrypt"),pseudoRandomBytes:i(()=>lS,"pseudoRandomBytes"),prng:i(()=>oS,"prng"),privateEncrypt:i(()=>zS,"privateEncrypt"),privateDecrypt:i(()=>FS,"privateDecrypt"),pbkdf2Sync:i(()=>vS,"pbkdf2Sync"),pbkdf2:i(()=>gS,"pbkdf2"),listCiphers:i(()=>AS,"listCiphers"),getRandomValues:i(()=>hz,"getRandomValues"),getHashes:i(()=>mS,"getHashes"),getDiffieHellman:i(()=>IS,"getDiffieHellman"),getCurves:i(()=>fz,"getCurves"),getCiphers:i(()=>kS,"getCiphers"),default:i(()=>qS,"default"),createVerify:i(()=>PS,"createVerify"),createSign:i(()=>OS,"createSign"),createHmac:i(()=>pS,"createHmac"),createHash:i(()=>dS,"createHash"),createECDH:i(()=>LS,"createECDH"),createDiffieHellmanGroup:i(()=>NS,"createDiffieHellmanGroup"),createDiffieHellman:i(()=>CS,"createDiffieHellman"),createDecipheriv:i(()=>ES,"createDecipheriv"),createDecipher:i(()=>SS,"createDecipher"),createCredentials:i(()=>VS,"createCredentials"),createCipheriv:i(()=>xS,"createCipheriv"),createCipher:i(()=>yS,"createCipher"),constants:i(()=>ZS,"constants"),Verify:i(()=>DS,"Verify"),Sign:i(()=>TS,"Sign"),Hmac:i(()=>hS,"Hmac"),Hash:i(()=>cS,"Hash"),DiffieHellmanGroup:i(()=>jS,"DiffieHellmanGroup"),DiffieHellman:i(()=>RS,"DiffieHellman"),Decipheriv:i(()=>MS,"Decipheriv"),Decipher:i(()=>_S,"Decipher"),DEFAULT_ENCODING:i(()=>dz,"DEFAULT_ENCODING"),Cipheriv:i(()=>wS,"Cipheriv"),Cipher:i(()=>bS,"Cipher")});function fz(){return HS}i(fz,"io");var iS,nS,hg,aS,sS,cz=i((e,t,r)=>{r=e!=null?iS(nS(e)):{};let a=t||!e||!e.__esModule?hg(r,"default",{value:e,enumerable:!0}):r;for(let n of aS(e))sS.call(a,n)||hg(a,n,{get:i(()=>e[n],"get"),enumerable:!0});return a},"_l"),at=i((e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),"l$"),Os,Ts,rp,Ix,Hl,Jl,Rr,ql,ip,Cx,np,Rx,Ox,Tx,Px,Bi,nn,ap,Zr,sp,Ps,Dx,zr,Lx,Bx,zx,op,mi,$a,lp,Ux,up,Fx,fp,$x,Gx,Vx,Zx,Kl,Hx,Xl,Jx,qx,Kx,Xx,Wx,Qx,Yx,e4,t4,r4,i4,n4,a4,s4,cp,o4,Ga,l4,dp,hp,u4,f4,pp,c4,d4,Va,h4,p4,m4,g4,v4,b4,mp,y4,gp,vp,bp,Wl,yp,w4,wp,x4,_4,Ql,S4,M4,E4,k4,Ct,oS,lS,uS,fS,cS,dS,hS,pS,mS,gS,vS,bS,yS,wS,xS,_S,SS,MS,ES,kS,AS,jS,NS,IS,CS,RS,OS,TS,PS,DS,LS,BS,zS,US,FS,$S,GS,VS,ZS,dz="buffer",hz=i(e=>crypto.getRandomValues(e),"oo"),pz=i(()=>crypto.randomUUID(),"ro"),HS,JS,qS,qr=sl(()=>{iS=Object.create,{getPrototypeOf:nS,defineProperty:hg,getOwnPropertyNames:aS}=Object,sS=Object.prototype.hasOwnProperty,Os=at((e,t)=>{t.exports=(qr(),$t(Ur)).randomBytes}),Ts=at((e,t)=>{t.exports=(qr(),$t(Ur)).createHash}),rp=at((e,t)=>{t.exports=(qr(),$t(Ur)).createHmac}),Ix=at((e,t)=>{t.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}}),Hl=at((e,t)=>{var r=Math.pow(2,30)-1;t.exports=function(a,n){if(typeof a!="number")throw TypeError("Iterations not a number");if(a<0)throw TypeError("Bad iterations");if(typeof n!="number")throw TypeError("Key length not a number");if(n<0||n>r||n!==n)throw TypeError("Bad key length")}}),Jl=at((e,t)=>{var r;globalThis.process&&globalThis.process.browser?r="utf-8":globalThis.process&&globalThis.process.version?(a=parseInt(process.version.split(".")[0].slice(1),10),r=a>=6?"utf-8":"binary"):r="utf-8";var a;t.exports=r}),Rr=at((e,t)=>{/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var r=(Mr(),$t(wr)),a=r.Buffer;function n(o,h){for(var p in o)h[p]=o[p]}i(n,"_"),a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?t.exports=r:(n(r,e),e.Buffer=s);function s(o,h,p){return a(o,h,p)}i(s,"O"),s.prototype=Object.create(a.prototype),n(a,s),s.from=function(o,h,p){if(typeof o=="number")throw TypeError("Argument must not be a number");return a(o,h,p)},s.alloc=function(o,h,p){if(typeof o!="number")throw TypeError("Argument must be a number");var v=a(o);return h!==void 0?typeof p=="string"?v.fill(h,p):v.fill(h):v.fill(0),v},s.allocUnsafe=function(o){if(typeof o!="number")throw TypeError("Argument must be a number");return a(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw TypeError("Argument must be a number");return r.SlowBuffer(o)}}),ql=at((e,t)=>{var r=Rr().Buffer;t.exports=function(a,n,s){if(r.isBuffer(a))return a;if(typeof a=="string")return r.from(a,n);if(ArrayBuffer.isView(a))return r.from(a.buffer);throw TypeError(s+" must be a string, a Buffer, a typed array or a DataView")}}),ip=at((e,t)=>{var r={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20},a=rp(),n=Rr().Buffer,s=Hl(),o=Jl(),h=ql();function p(v,c,d,y,b){s(d,y),v=h(v,o,"Password"),c=h(c,o,"Salt"),b=b||"sha1";var x=n.allocUnsafe(y),k=n.allocUnsafe(c.length+4);c.copy(k,0,0,c.length);for(var N=0,C=r[b],R=Math.ceil(y/C),O=1;O<=R;O++){k.writeUInt32BE(O,c.length);for(var T=a(b,v).update(k).digest(),P=T,z=1;z<d;z++){P=a(b,v).update(P).digest();for(var V=0;V<C;V++)T[V]^=P[V]}T.copy(x,N),N+=C}return x}i(p,"J"),t.exports=p}),Cx=at((e,t)=>{var r=Rr().Buffer,a=Hl(),n=Jl(),s=ip(),o=ql(),h,p=globalThis.crypto&&globalThis.crypto.subtle,v={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},c=[];function d(N){if(globalThis.process&&!globalThis.process.browser||!p||!p.importKey||!p.deriveBits)return Promise.resolve(!1);if(c[N]!==void 0)return c[N];h=h||r.alloc(8);var C=x(h,h,10,128,N).then(function(){return!0}).catch(function(){return!1});return c[N]=C,C}i(d,"f");var y;function b(){return y||(globalThis.process&&globalThis.process.nextTick?y=globalThis.process.nextTick:globalThis.queueMicrotask?y=globalThis.queueMicrotask:globalThis.setImmediate?y=globalThis.setImmediate:y=globalThis.setTimeout,y)}i(b,"V");function x(N,C,R,O,T){return p.importKey("raw",N,{name:"PBKDF2"},!1,["deriveBits"]).then(function(P){return p.deriveBits({name:"PBKDF2",salt:C,iterations:R,hash:{name:T}},P,O<<3)}).then(function(P){return r.from(P)})}i(x,"C");function k(N,C){N.then(function(R){b()(function(){C(null,R)})},function(R){b()(function(){C(R)})})}i(k,"E"),t.exports=function(N,C,R,O,T,P){typeof T=="function"&&(P=T,T=void 0),T=T||"sha1";var z=v[T.toLowerCase()];if(!z||typeof globalThis.Promise!="function"){b()(function(){var V;try{V=s(N,C,R,O,T)}catch(Z){return P(Z)}P(null,V)});return}if(a(R,O),N=o(N,n,"Password"),C=o(C,n,"Salt"),typeof P!="function")throw Error("No callback provided to pbkdf2");k(d(z).then(function(V){return V?x(N,C,R,O,z):s(N,C,R,O,T)}),P)}}),np=at(e=>{var t=(qr(),$t(Ur)),r=Hl(),a=Jl(),n=ql();function s(h,p,v,c,d,y){if(r(v,c),h=n(h,a,"Password"),p=n(p,a,"Salt"),typeof d=="function"&&(y=d,d="sha1"),typeof y!="function")throw Error("No callback provided to pbkdf2");return t.pbkdf2(h,p,v,c,d,y)}i(s,"O");function o(h,p,v,c,d){return r(v,c),h=n(h,a,"Password"),p=n(p,a,"Salt"),d=d||"sha1",t.pbkdf2Sync(h,p,v,c,d)}i(o,"j"),!t.pbkdf2Sync||t.pbkdf2Sync.toString().indexOf("keylen, digest")===-1?(e.pbkdf2Sync=ip(),e.pbkdf2=Cx()):(e.pbkdf2Sync=o,e.pbkdf2=s)}),Rx=at(e=>{var t=(qr(),$t(Ur));e.createCipher=e.Cipher=t.createCipher,e.createCipheriv=e.Cipheriv=t.createCipheriv,e.createDecipher=e.Decipher=t.createDecipher,e.createDecipheriv=e.Decipheriv=t.createDecipheriv,e.listCiphers=e.getCiphers=t.getCiphers}),Ox=at(e=>{var t=(qr(),$t(Ur));e.DiffieHellmanGroup=t.DiffieHellmanGroup,e.createDiffieHellmanGroup=t.createDiffieHellmanGroup,e.getDiffieHellman=t.getDiffieHellman,e.createDiffieHellman=t.createDiffieHellman,e.DiffieHellman=t.DiffieHellman}),Tx=at(e=>{var t=(qr(),$t(Ur));e.createSign=t.createSign,e.Sign=t.Sign,e.createVerify=t.createVerify,e.Verify=t.Verify}),Px=at((e,t)=>{t.exports={name:"elliptic",version:"6.6.1",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}}),Bi=at((e,t)=>{(function(r,a){function n(u,g){if(!u)throw Error(g||"Assertion failed")}i(n,"_");function s(u,g){u.super_=g;var l=i(function(){},"H");l.prototype=g.prototype,u.prototype=new l,u.prototype.constructor=u}i(s,"O");function o(u,g,l){if(o.isBN(u))return u;this.negative=0,this.words=null,this.length=0,this.red=null,u!==null&&((g==="le"||g==="be")&&(l=g,g=10),this._init(u||0,g||10,l||"be"))}i(o,"j"),typeof r=="object"?r.exports=o:a.BN=o,o.BN=o,o.wordSize=26;var h;try{typeof window<"u"&&typeof window.Buffer<"u"?h=window.Buffer:h=(Mr(),$t(wr)).Buffer}catch{}o.isBN=function(u){return u instanceof o?!0:u!==null&&typeof u=="object"&&u.constructor.wordSize===o.wordSize&&Array.isArray(u.words)},o.max=function(u,g){return u.cmp(g)>0?u:g},o.min=function(u,g){return u.cmp(g)<0?u:g},o.prototype._init=function(u,g,l){if(typeof u=="number")return this._initNumber(u,g,l);if(typeof u=="object")return this._initArray(u,g,l);g==="hex"&&(g=16),n(g===(g|0)&&g>=2&&g<=36),u=u.toString().replace(/\s+/g,"");var m=0;u[0]==="-"&&(m++,this.negative=1),m<u.length&&(g===16?this._parseHex(u,m,l):(this._parseBase(u,g,m),l==="le"&&this._initArray(this.toArray(),g,l)))},o.prototype._initNumber=function(u,g,l){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[u&67108863],this.length=1):u<4503599627370496?(this.words=[u&67108863,u/67108864&67108863],this.length=2):(n(u<9007199254740992),this.words=[u&67108863,u/67108864&67108863,1],this.length=3),l==="le"&&this._initArray(this.toArray(),g,l)},o.prototype._initArray=function(u,g,l){if(n(typeof u.length=="number"),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var w,M,A=0;if(l==="be")for(m=u.length-1,w=0;m>=0;m-=3)M=u[m]|u[m-1]<<8|u[m-2]<<16,this.words[w]|=M<<A&67108863,this.words[w+1]=M>>>26-A&67108863,A+=24,A>=26&&(A-=26,w++);else if(l==="le")for(m=0,w=0;m<u.length;m+=3)M=u[m]|u[m+1]<<8|u[m+2]<<16,this.words[w]|=M<<A&67108863,this.words[w+1]=M>>>26-A&67108863,A+=24,A>=26&&(A-=26,w++);return this.strip()};function p(u,g){var l=u.charCodeAt(g);return l>=65&&l<=70?l-55:l>=97&&l<=102?l-87:l-48&15}i(p,"J");function v(u,g,l){var m=p(u,l);return l-1>=g&&(m|=p(u,l-1)<<4),m}i(v,"w"),o.prototype._parseHex=function(u,g,l){this.length=Math.ceil((u.length-g)/6),this.words=Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var w=0,M=0,A;if(l==="be")for(m=u.length-1;m>=g;m-=2)A=v(u,g,m)<<w,this.words[M]|=A&67108863,w>=18?(w-=18,M+=1,this.words[M]|=A>>>26):w+=8;else{var S=u.length-g;for(m=S%2===0?g+1:g;m<u.length;m+=2)A=v(u,g,m)<<w,this.words[M]|=A&67108863,w>=18?(w-=18,M+=1,this.words[M]|=A>>>26):w+=8}this.strip()};function c(u,g,l,m){for(var w=0,M=Math.min(u.length,l),A=g;A<M;A++){var S=u.charCodeAt(A)-48;w*=m,S>=49?w+=S-49+10:S>=17?w+=S-17+10:w+=S}return w}i(c,"G"),o.prototype._parseBase=function(u,g,l){this.words=[0],this.length=1;for(var m=0,w=1;w<=67108863;w*=g)m++;m--,w=w/g|0;for(var M=u.length-l,A=M%m,S=Math.min(M,M-A)+l,f=0,_=l;_<S;_+=m)f=c(u,_,_+m,g),this.imuln(w),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(A!==0){var E=1;for(f=c(u,_,u.length,g),_=0;_<A;_++)E*=g;this.imuln(E),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this.strip()},o.prototype.copy=function(u){u.words=Array(this.length);for(var g=0;g<this.length;g++)u.words[g]=this.words[g];u.length=this.length,u.negative=this.negative,u.red=this.red},o.prototype.clone=function(){var u=new o(null);return this.copy(u),u},o.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(u,g){u=u||10,g=g|0||1;var l;if(u===16||u==="hex"){l="";for(var m=0,w=0,M=0;M<this.length;M++){var A=this.words[M],S=((A<<m|w)&16777215).toString(16);w=A>>>24-m&16777215,m+=2,m>=26&&(m-=26,M--),w!==0||M!==this.length-1?l=d[6-S.length]+S+l:l=S+l}for(w!==0&&(l=w.toString(16)+l);l.length%g!==0;)l="0"+l;return this.negative!==0&&(l="-"+l),l}if(u===(u|0)&&u>=2&&u<=36){var f=y[u],_=b[u];l="";var E=this.clone();for(E.negative=0;!E.isZero();){var I=E.modn(_).toString(u);E=E.idivn(_),E.isZero()?l=I+l:l=d[f-I.length]+I+l}for(this.isZero()&&(l="0"+l);l.length%g!==0;)l="0"+l;return this.negative!==0&&(l="-"+l),l}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var u=this.words[0];return this.length===2?u+=this.words[1]*67108864:this.length===3&&this.words[2]===1?u+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-u:u},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(u,g){return n(typeof h<"u"),this.toArrayLike(h,u,g)},o.prototype.toArray=function(u,g){return this.toArrayLike(Array,u,g)},o.prototype.toArrayLike=function(u,g,l){var m=this.byteLength(),w=l||Math.max(1,m);n(m<=w,"byte array longer than desired length"),n(w>0,"Requested array length <= 0"),this.strip();var M=g==="le",A=new u(w),S,f,_=this.clone();if(M){for(f=0;!_.isZero();f++)S=_.andln(255),_.iushrn(8),A[f]=S;for(;f<w;f++)A[f]=0}else{for(f=0;f<w-m;f++)A[f]=0;for(f=0;!_.isZero();f++)S=_.andln(255),_.iushrn(8),A[w-f-1]=S}return A},Math.clz32?o.prototype._countBits=function(u){return 32-Math.clz32(u)}:o.prototype._countBits=function(u){var g=u,l=0;return g>=4096&&(l+=13,g>>>=13),g>=64&&(l+=7,g>>>=7),g>=8&&(l+=4,g>>>=4),g>=2&&(l+=2,g>>>=2),l+g},o.prototype._zeroBits=function(u){if(u===0)return 26;var g=u,l=0;return(g&8191)===0&&(l+=13,g>>>=13),(g&127)===0&&(l+=7,g>>>=7),(g&15)===0&&(l+=4,g>>>=4),(g&3)===0&&(l+=2,g>>>=2),(g&1)===0&&l++,l},o.prototype.bitLength=function(){var u=this.words[this.length-1],g=this._countBits(u);return(this.length-1)*26+g};function x(u){for(var g=Array(u.bitLength()),l=0;l<g.length;l++){var m=l/26|0,w=l%26;g[l]=(u.words[m]&1<<w)>>>w}return g}i(x,"C"),o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,g=0;g<this.length;g++){var l=this._zeroBits(this.words[g]);if(u+=l,l!==26)break}return u},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(u){return this.negative!==0?this.abs().inotn(u).iaddn(1):this.clone()},o.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var g=0;g<u.length;g++)this.words[g]=this.words[g]|u.words[g];return this.strip()},o.prototype.ior=function(u){return n((this.negative|u.negative)===0),this.iuor(u)},o.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},o.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},o.prototype.iuand=function(u){var g;this.length>u.length?g=u:g=this;for(var l=0;l<g.length;l++)this.words[l]=this.words[l]&u.words[l];return this.length=g.length,this.strip()},o.prototype.iand=function(u){return n((this.negative|u.negative)===0),this.iuand(u)},o.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},o.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},o.prototype.iuxor=function(u){var g,l;this.length>u.length?(g=this,l=u):(g=u,l=this);for(var m=0;m<l.length;m++)this.words[m]=g.words[m]^l.words[m];if(this!==g)for(;m<g.length;m++)this.words[m]=g.words[m];return this.length=g.length,this.strip()},o.prototype.ixor=function(u){return n((this.negative|u.negative)===0),this.iuxor(u)},o.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},o.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},o.prototype.inotn=function(u){n(typeof u=="number"&&u>=0);var g=Math.ceil(u/26)|0,l=u%26;this._expand(g),l>0&&g--;for(var m=0;m<g;m++)this.words[m]=~this.words[m]&67108863;return l>0&&(this.words[m]=~this.words[m]&67108863>>26-l),this.strip()},o.prototype.notn=function(u){return this.clone().inotn(u)},o.prototype.setn=function(u,g){n(typeof u=="number"&&u>=0);var l=u/26|0,m=u%26;return this._expand(l+1),g?this.words[l]=this.words[l]|1<<m:this.words[l]=this.words[l]&~(1<<m),this.strip()},o.prototype.iadd=function(u){var g;if(this.negative!==0&&u.negative===0)return this.negative=0,g=this.isub(u),this.negative^=1,this._normSign();if(this.negative===0&&u.negative!==0)return u.negative=0,g=this.isub(u),u.negative=1,g._normSign();var l,m;this.length>u.length?(l=this,m=u):(l=u,m=this);for(var w=0,M=0;M<m.length;M++)g=(l.words[M]|0)+(m.words[M]|0)+w,this.words[M]=g&67108863,w=g>>>26;for(;w!==0&&M<l.length;M++)g=(l.words[M]|0)+w,this.words[M]=g&67108863,w=g>>>26;if(this.length=l.length,w!==0)this.words[this.length]=w,this.length++;else if(l!==this)for(;M<l.length;M++)this.words[M]=l.words[M];return this},o.prototype.add=function(u){var g;return u.negative!==0&&this.negative===0?(u.negative=0,g=this.sub(u),u.negative^=1,g):u.negative===0&&this.negative!==0?(this.negative=0,g=u.sub(this),this.negative=1,g):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},o.prototype.isub=function(u){if(u.negative!==0){u.negative=0;var g=this.iadd(u);return u.negative=1,g._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var l=this.cmp(u);if(l===0)return this.negative=0,this.length=1,this.words[0]=0,this;var m,w;l>0?(m=this,w=u):(m=u,w=this);for(var M=0,A=0;A<w.length;A++)g=(m.words[A]|0)-(w.words[A]|0)+M,M=g>>26,this.words[A]=g&67108863;for(;M!==0&&A<m.length;A++)g=(m.words[A]|0)+M,M=g>>26,this.words[A]=g&67108863;if(M===0&&A<m.length&&m!==this)for(;A<m.length;A++)this.words[A]=m.words[A];return this.length=Math.max(this.length,A),m!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(u){return this.clone().isub(u)};function k(u,g,l){l.negative=g.negative^u.negative;var m=u.length+g.length|0;l.length=m,m=m-1|0;var w=u.words[0]|0,M=g.words[0]|0,A=w*M,S=A&67108863,f=A/67108864|0;l.words[0]=S;for(var _=1;_<m;_++){for(var E=f>>>26,I=f&67108863,D=Math.min(_,g.length-1),L=Math.max(0,_-u.length+1);L<=D;L++){var U=_-L|0;w=u.words[U]|0,M=g.words[L]|0,A=w*M+I,E+=A/67108864|0,I=A&67108863}l.words[_]=I|0,f=E|0}return f!==0?l.words[_]=f|0:l.length--,l.strip()}i(k,"E");var N=i(function(u,g,l){var m=u.words,w=g.words,M=l.words,A=0,S,f,_,E=m[0]|0,I=E&8191,D=E>>>13,L=m[1]|0,U=L&8191,B=L>>>13,G=m[2]|0,H=G&8191,K=G>>>13,_e=m[3]|0,ae=_e&8191,se=_e>>>13,ye=m[4]|0,q=ye&8191,re=ye>>>13,X=m[5]|0,W=X&8191,le=X>>>13,ke=m[6]|0,pe=ke&8191,fe=ke>>>13,Q=m[7]|0,Y=Q&8191,te=Q>>>13,he=m[8]|0,oe=he&8191,ue=he>>>13,ze=m[9]|0,we=ze&8191,Be=ze>>>13,We=w[0]|0,ve=We&8191,Ue=We>>>13,ce=w[1]|0,be=ce&8191,Te=ce>>>13,Re=w[2]|0,Ae=Re&8191,$e=Re>>>13,Ye=w[3]|0,Ne=Ye&8191,Ee=Ye>>>13,Pe=w[4]|0,Se=Pe&8191,Ze=Pe>>>13,Ke=w[5]|0,ie=Ke&8191,me=Ke>>>13,Ce=w[6]|0,xe=Ce&8191,Oe=Ce>>>13,He=w[7]|0,ne=He&8191,je=He>>>13,Ge=w[8]|0,ge=Ge&8191,Je=Ge>>>13,tt=w[9]|0,De=tt&8191,Qe=tt>>>13;l.negative=u.negative^g.negative,l.length=19,S=Math.imul(I,ve),f=Math.imul(I,Ue),f=f+Math.imul(D,ve)|0,_=Math.imul(D,Ue);var Ie=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,S=Math.imul(U,ve),f=Math.imul(U,Ue),f=f+Math.imul(B,ve)|0,_=Math.imul(B,Ue),S=S+Math.imul(I,be)|0,f=f+Math.imul(I,Te)|0,f=f+Math.imul(D,be)|0,_=_+Math.imul(D,Te)|0;var Fe=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,S=Math.imul(H,ve),f=Math.imul(H,Ue),f=f+Math.imul(K,ve)|0,_=Math.imul(K,Ue),S=S+Math.imul(U,be)|0,f=f+Math.imul(U,Te)|0,f=f+Math.imul(B,be)|0,_=_+Math.imul(B,Te)|0,S=S+Math.imul(I,Ae)|0,f=f+Math.imul(I,$e)|0,f=f+Math.imul(D,Ae)|0,_=_+Math.imul(D,$e)|0;var lt=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(lt>>>26)|0,lt&=67108863,S=Math.imul(ae,ve),f=Math.imul(ae,Ue),f=f+Math.imul(se,ve)|0,_=Math.imul(se,Ue),S=S+Math.imul(H,be)|0,f=f+Math.imul(H,Te)|0,f=f+Math.imul(K,be)|0,_=_+Math.imul(K,Te)|0,S=S+Math.imul(U,Ae)|0,f=f+Math.imul(U,$e)|0,f=f+Math.imul(B,Ae)|0,_=_+Math.imul(B,$e)|0,S=S+Math.imul(I,Ne)|0,f=f+Math.imul(I,Ee)|0,f=f+Math.imul(D,Ne)|0,_=_+Math.imul(D,Ee)|0;var yt=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(yt>>>26)|0,yt&=67108863,S=Math.imul(q,ve),f=Math.imul(q,Ue),f=f+Math.imul(re,ve)|0,_=Math.imul(re,Ue),S=S+Math.imul(ae,be)|0,f=f+Math.imul(ae,Te)|0,f=f+Math.imul(se,be)|0,_=_+Math.imul(se,Te)|0,S=S+Math.imul(H,Ae)|0,f=f+Math.imul(H,$e)|0,f=f+Math.imul(K,Ae)|0,_=_+Math.imul(K,$e)|0,S=S+Math.imul(U,Ne)|0,f=f+Math.imul(U,Ee)|0,f=f+Math.imul(B,Ne)|0,_=_+Math.imul(B,Ee)|0,S=S+Math.imul(I,Se)|0,f=f+Math.imul(I,Ze)|0,f=f+Math.imul(D,Se)|0,_=_+Math.imul(D,Ze)|0;var ht=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(ht>>>26)|0,ht&=67108863,S=Math.imul(W,ve),f=Math.imul(W,Ue),f=f+Math.imul(le,ve)|0,_=Math.imul(le,Ue),S=S+Math.imul(q,be)|0,f=f+Math.imul(q,Te)|0,f=f+Math.imul(re,be)|0,_=_+Math.imul(re,Te)|0,S=S+Math.imul(ae,Ae)|0,f=f+Math.imul(ae,$e)|0,f=f+Math.imul(se,Ae)|0,_=_+Math.imul(se,$e)|0,S=S+Math.imul(H,Ne)|0,f=f+Math.imul(H,Ee)|0,f=f+Math.imul(K,Ne)|0,_=_+Math.imul(K,Ee)|0,S=S+Math.imul(U,Se)|0,f=f+Math.imul(U,Ze)|0,f=f+Math.imul(B,Se)|0,_=_+Math.imul(B,Ze)|0,S=S+Math.imul(I,ie)|0,f=f+Math.imul(I,me)|0,f=f+Math.imul(D,ie)|0,_=_+Math.imul(D,me)|0;var Mt=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,S=Math.imul(pe,ve),f=Math.imul(pe,Ue),f=f+Math.imul(fe,ve)|0,_=Math.imul(fe,Ue),S=S+Math.imul(W,be)|0,f=f+Math.imul(W,Te)|0,f=f+Math.imul(le,be)|0,_=_+Math.imul(le,Te)|0,S=S+Math.imul(q,Ae)|0,f=f+Math.imul(q,$e)|0,f=f+Math.imul(re,Ae)|0,_=_+Math.imul(re,$e)|0,S=S+Math.imul(ae,Ne)|0,f=f+Math.imul(ae,Ee)|0,f=f+Math.imul(se,Ne)|0,_=_+Math.imul(se,Ee)|0,S=S+Math.imul(H,Se)|0,f=f+Math.imul(H,Ze)|0,f=f+Math.imul(K,Se)|0,_=_+Math.imul(K,Ze)|0,S=S+Math.imul(U,ie)|0,f=f+Math.imul(U,me)|0,f=f+Math.imul(B,ie)|0,_=_+Math.imul(B,me)|0,S=S+Math.imul(I,xe)|0,f=f+Math.imul(I,Oe)|0,f=f+Math.imul(D,xe)|0,_=_+Math.imul(D,Oe)|0;var Bt=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,S=Math.imul(Y,ve),f=Math.imul(Y,Ue),f=f+Math.imul(te,ve)|0,_=Math.imul(te,Ue),S=S+Math.imul(pe,be)|0,f=f+Math.imul(pe,Te)|0,f=f+Math.imul(fe,be)|0,_=_+Math.imul(fe,Te)|0,S=S+Math.imul(W,Ae)|0,f=f+Math.imul(W,$e)|0,f=f+Math.imul(le,Ae)|0,_=_+Math.imul(le,$e)|0,S=S+Math.imul(q,Ne)|0,f=f+Math.imul(q,Ee)|0,f=f+Math.imul(re,Ne)|0,_=_+Math.imul(re,Ee)|0,S=S+Math.imul(ae,Se)|0,f=f+Math.imul(ae,Ze)|0,f=f+Math.imul(se,Se)|0,_=_+Math.imul(se,Ze)|0,S=S+Math.imul(H,ie)|0,f=f+Math.imul(H,me)|0,f=f+Math.imul(K,ie)|0,_=_+Math.imul(K,me)|0,S=S+Math.imul(U,xe)|0,f=f+Math.imul(U,Oe)|0,f=f+Math.imul(B,xe)|0,_=_+Math.imul(B,Oe)|0,S=S+Math.imul(I,ne)|0,f=f+Math.imul(I,je)|0,f=f+Math.imul(D,ne)|0,_=_+Math.imul(D,je)|0;var Et=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(Et>>>26)|0,Et&=67108863,S=Math.imul(oe,ve),f=Math.imul(oe,Ue),f=f+Math.imul(ue,ve)|0,_=Math.imul(ue,Ue),S=S+Math.imul(Y,be)|0,f=f+Math.imul(Y,Te)|0,f=f+Math.imul(te,be)|0,_=_+Math.imul(te,Te)|0,S=S+Math.imul(pe,Ae)|0,f=f+Math.imul(pe,$e)|0,f=f+Math.imul(fe,Ae)|0,_=_+Math.imul(fe,$e)|0,S=S+Math.imul(W,Ne)|0,f=f+Math.imul(W,Ee)|0,f=f+Math.imul(le,Ne)|0,_=_+Math.imul(le,Ee)|0,S=S+Math.imul(q,Se)|0,f=f+Math.imul(q,Ze)|0,f=f+Math.imul(re,Se)|0,_=_+Math.imul(re,Ze)|0,S=S+Math.imul(ae,ie)|0,f=f+Math.imul(ae,me)|0,f=f+Math.imul(se,ie)|0,_=_+Math.imul(se,me)|0,S=S+Math.imul(H,xe)|0,f=f+Math.imul(H,Oe)|0,f=f+Math.imul(K,xe)|0,_=_+Math.imul(K,Oe)|0,S=S+Math.imul(U,ne)|0,f=f+Math.imul(U,je)|0,f=f+Math.imul(B,ne)|0,_=_+Math.imul(B,je)|0,S=S+Math.imul(I,ge)|0,f=f+Math.imul(I,Je)|0,f=f+Math.imul(D,ge)|0,_=_+Math.imul(D,Je)|0;var _t=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(_t>>>26)|0,_t&=67108863,S=Math.imul(we,ve),f=Math.imul(we,Ue),f=f+Math.imul(Be,ve)|0,_=Math.imul(Be,Ue),S=S+Math.imul(oe,be)|0,f=f+Math.imul(oe,Te)|0,f=f+Math.imul(ue,be)|0,_=_+Math.imul(ue,Te)|0,S=S+Math.imul(Y,Ae)|0,f=f+Math.imul(Y,$e)|0,f=f+Math.imul(te,Ae)|0,_=_+Math.imul(te,$e)|0,S=S+Math.imul(pe,Ne)|0,f=f+Math.imul(pe,Ee)|0,f=f+Math.imul(fe,Ne)|0,_=_+Math.imul(fe,Ee)|0,S=S+Math.imul(W,Se)|0,f=f+Math.imul(W,Ze)|0,f=f+Math.imul(le,Se)|0,_=_+Math.imul(le,Ze)|0,S=S+Math.imul(q,ie)|0,f=f+Math.imul(q,me)|0,f=f+Math.imul(re,ie)|0,_=_+Math.imul(re,me)|0,S=S+Math.imul(ae,xe)|0,f=f+Math.imul(ae,Oe)|0,f=f+Math.imul(se,xe)|0,_=_+Math.imul(se,Oe)|0,S=S+Math.imul(H,ne)|0,f=f+Math.imul(H,je)|0,f=f+Math.imul(K,ne)|0,_=_+Math.imul(K,je)|0,S=S+Math.imul(U,ge)|0,f=f+Math.imul(U,Je)|0,f=f+Math.imul(B,ge)|0,_=_+Math.imul(B,Je)|0,S=S+Math.imul(I,De)|0,f=f+Math.imul(I,Qe)|0,f=f+Math.imul(D,De)|0,_=_+Math.imul(D,Qe)|0;var Ft=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,S=Math.imul(we,be),f=Math.imul(we,Te),f=f+Math.imul(Be,be)|0,_=Math.imul(Be,Te),S=S+Math.imul(oe,Ae)|0,f=f+Math.imul(oe,$e)|0,f=f+Math.imul(ue,Ae)|0,_=_+Math.imul(ue,$e)|0,S=S+Math.imul(Y,Ne)|0,f=f+Math.imul(Y,Ee)|0,f=f+Math.imul(te,Ne)|0,_=_+Math.imul(te,Ee)|0,S=S+Math.imul(pe,Se)|0,f=f+Math.imul(pe,Ze)|0,f=f+Math.imul(fe,Se)|0,_=_+Math.imul(fe,Ze)|0,S=S+Math.imul(W,ie)|0,f=f+Math.imul(W,me)|0,f=f+Math.imul(le,ie)|0,_=_+Math.imul(le,me)|0,S=S+Math.imul(q,xe)|0,f=f+Math.imul(q,Oe)|0,f=f+Math.imul(re,xe)|0,_=_+Math.imul(re,Oe)|0,S=S+Math.imul(ae,ne)|0,f=f+Math.imul(ae,je)|0,f=f+Math.imul(se,ne)|0,_=_+Math.imul(se,je)|0,S=S+Math.imul(H,ge)|0,f=f+Math.imul(H,Je)|0,f=f+Math.imul(K,ge)|0,_=_+Math.imul(K,Je)|0,S=S+Math.imul(U,De)|0,f=f+Math.imul(U,Qe)|0,f=f+Math.imul(B,De)|0,_=_+Math.imul(B,Qe)|0;var Vt=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,S=Math.imul(we,Ae),f=Math.imul(we,$e),f=f+Math.imul(Be,Ae)|0,_=Math.imul(Be,$e),S=S+Math.imul(oe,Ne)|0,f=f+Math.imul(oe,Ee)|0,f=f+Math.imul(ue,Ne)|0,_=_+Math.imul(ue,Ee)|0,S=S+Math.imul(Y,Se)|0,f=f+Math.imul(Y,Ze)|0,f=f+Math.imul(te,Se)|0,_=_+Math.imul(te,Ze)|0,S=S+Math.imul(pe,ie)|0,f=f+Math.imul(pe,me)|0,f=f+Math.imul(fe,ie)|0,_=_+Math.imul(fe,me)|0,S=S+Math.imul(W,xe)|0,f=f+Math.imul(W,Oe)|0,f=f+Math.imul(le,xe)|0,_=_+Math.imul(le,Oe)|0,S=S+Math.imul(q,ne)|0,f=f+Math.imul(q,je)|0,f=f+Math.imul(re,ne)|0,_=_+Math.imul(re,je)|0,S=S+Math.imul(ae,ge)|0,f=f+Math.imul(ae,Je)|0,f=f+Math.imul(se,ge)|0,_=_+Math.imul(se,Je)|0,S=S+Math.imul(H,De)|0,f=f+Math.imul(H,Qe)|0,f=f+Math.imul(K,De)|0,_=_+Math.imul(K,Qe)|0;var Tt=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,S=Math.imul(we,Ne),f=Math.imul(we,Ee),f=f+Math.imul(Be,Ne)|0,_=Math.imul(Be,Ee),S=S+Math.imul(oe,Se)|0,f=f+Math.imul(oe,Ze)|0,f=f+Math.imul(ue,Se)|0,_=_+Math.imul(ue,Ze)|0,S=S+Math.imul(Y,ie)|0,f=f+Math.imul(Y,me)|0,f=f+Math.imul(te,ie)|0,_=_+Math.imul(te,me)|0,S=S+Math.imul(pe,xe)|0,f=f+Math.imul(pe,Oe)|0,f=f+Math.imul(fe,xe)|0,_=_+Math.imul(fe,Oe)|0,S=S+Math.imul(W,ne)|0,f=f+Math.imul(W,je)|0,f=f+Math.imul(le,ne)|0,_=_+Math.imul(le,je)|0,S=S+Math.imul(q,ge)|0,f=f+Math.imul(q,Je)|0,f=f+Math.imul(re,ge)|0,_=_+Math.imul(re,Je)|0,S=S+Math.imul(ae,De)|0,f=f+Math.imul(ae,Qe)|0,f=f+Math.imul(se,De)|0,_=_+Math.imul(se,Qe)|0;var zt=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(zt>>>26)|0,zt&=67108863,S=Math.imul(we,Se),f=Math.imul(we,Ze),f=f+Math.imul(Be,Se)|0,_=Math.imul(Be,Ze),S=S+Math.imul(oe,ie)|0,f=f+Math.imul(oe,me)|0,f=f+Math.imul(ue,ie)|0,_=_+Math.imul(ue,me)|0,S=S+Math.imul(Y,xe)|0,f=f+Math.imul(Y,Oe)|0,f=f+Math.imul(te,xe)|0,_=_+Math.imul(te,Oe)|0,S=S+Math.imul(pe,ne)|0,f=f+Math.imul(pe,je)|0,f=f+Math.imul(fe,ne)|0,_=_+Math.imul(fe,je)|0,S=S+Math.imul(W,ge)|0,f=f+Math.imul(W,Je)|0,f=f+Math.imul(le,ge)|0,_=_+Math.imul(le,Je)|0,S=S+Math.imul(q,De)|0,f=f+Math.imul(q,Qe)|0,f=f+Math.imul(re,De)|0,_=_+Math.imul(re,Qe)|0;var Nt=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,S=Math.imul(we,ie),f=Math.imul(we,me),f=f+Math.imul(Be,ie)|0,_=Math.imul(Be,me),S=S+Math.imul(oe,xe)|0,f=f+Math.imul(oe,Oe)|0,f=f+Math.imul(ue,xe)|0,_=_+Math.imul(ue,Oe)|0,S=S+Math.imul(Y,ne)|0,f=f+Math.imul(Y,je)|0,f=f+Math.imul(te,ne)|0,_=_+Math.imul(te,je)|0,S=S+Math.imul(pe,ge)|0,f=f+Math.imul(pe,Je)|0,f=f+Math.imul(fe,ge)|0,_=_+Math.imul(fe,Je)|0,S=S+Math.imul(W,De)|0,f=f+Math.imul(W,Qe)|0,f=f+Math.imul(le,De)|0,_=_+Math.imul(le,Qe)|0;var Pt=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,S=Math.imul(we,xe),f=Math.imul(we,Oe),f=f+Math.imul(Be,xe)|0,_=Math.imul(Be,Oe),S=S+Math.imul(oe,ne)|0,f=f+Math.imul(oe,je)|0,f=f+Math.imul(ue,ne)|0,_=_+Math.imul(ue,je)|0,S=S+Math.imul(Y,ge)|0,f=f+Math.imul(Y,Je)|0,f=f+Math.imul(te,ge)|0,_=_+Math.imul(te,Je)|0,S=S+Math.imul(pe,De)|0,f=f+Math.imul(pe,Qe)|0,f=f+Math.imul(fe,De)|0,_=_+Math.imul(fe,Qe)|0;var Ut=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,S=Math.imul(we,ne),f=Math.imul(we,je),f=f+Math.imul(Be,ne)|0,_=Math.imul(Be,je),S=S+Math.imul(oe,ge)|0,f=f+Math.imul(oe,Je)|0,f=f+Math.imul(ue,ge)|0,_=_+Math.imul(ue,Je)|0,S=S+Math.imul(Y,De)|0,f=f+Math.imul(Y,Qe)|0,f=f+Math.imul(te,De)|0,_=_+Math.imul(te,Qe)|0;var Zt=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,S=Math.imul(we,ge),f=Math.imul(we,Je),f=f+Math.imul(Be,ge)|0,_=Math.imul(Be,Je),S=S+Math.imul(oe,De)|0,f=f+Math.imul(oe,Qe)|0,f=f+Math.imul(ue,De)|0,_=_+Math.imul(ue,Qe)|0;var Ht=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,S=Math.imul(we,De),f=Math.imul(we,Qe),f=f+Math.imul(Be,De)|0,_=Math.imul(Be,Qe);var Jt=(A+S|0)+((f&8191)<<13)|0;return A=(_+(f>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,M[0]=Ie,M[1]=Fe,M[2]=lt,M[3]=yt,M[4]=ht,M[5]=Mt,M[6]=Bt,M[7]=Et,M[8]=_t,M[9]=Ft,M[10]=Vt,M[11]=Tt,M[12]=zt,M[13]=Nt,M[14]=Pt,M[15]=Ut,M[16]=Zt,M[17]=Ht,M[18]=Jt,A!==0&&(M[19]=A,l.length++),l},"R");Math.imul||(N=k);function C(u,g,l){l.negative=g.negative^u.negative,l.length=u.length+g.length;for(var m=0,w=0,M=0;M<l.length-1;M++){var A=w;w=0;for(var S=m&67108863,f=Math.min(M,g.length-1),_=Math.max(0,M-u.length+1);_<=f;_++){var E=M-_,I=u.words[E]|0,D=g.words[_]|0,L=I*D,U=L&67108863;A=A+(L/67108864|0)|0,U=U+S|0,S=U&67108863,A=A+(U>>>26)|0,w+=A>>>26,A&=67108863}l.words[M]=S,m=A,A=w}return m!==0?l.words[M]=m:l.length--,l.strip()}i(C,"I");function R(u,g,l){var m=new O;return m.mulp(u,g,l)}i(R,"D"),o.prototype.mulTo=function(u,g){var l,m=this.length+u.length;return this.length===10&&u.length===10?l=N(this,u,g):m<63?l=k(this,u,g):m<1024?l=C(this,u,g):l=R(this,u,g),l};function O(u,g){this.x=u,this.y=g}i(O,"b"),O.prototype.makeRBT=function(u){for(var g=Array(u),l=o.prototype._countBits(u)-1,m=0;m<u;m++)g[m]=this.revBin(m,l,u);return g},O.prototype.revBin=function(u,g,l){if(u===0||u===l-1)return u;for(var m=0,w=0;w<g;w++)m|=(u&1)<<g-w-1,u>>=1;return m},O.prototype.permute=function(u,g,l,m,w,M){for(var A=0;A<M;A++)m[A]=g[u[A]],w[A]=l[u[A]]},O.prototype.transform=function(u,g,l,m,w,M){this.permute(M,u,g,l,m,w);for(var A=1;A<w;A<<=1)for(var S=A<<1,f=Math.cos(2*Math.PI/S),_=Math.sin(2*Math.PI/S),E=0;E<w;E+=S)for(var I=f,D=_,L=0;L<A;L++){var U=l[E+L],B=m[E+L],G=l[E+L+A],H=m[E+L+A],K=I*G-D*H;H=I*H+D*G,G=K,l[E+L]=U+G,m[E+L]=B+H,l[E+L+A]=U-G,m[E+L+A]=B-H,L!==S&&(K=f*I-_*D,D=f*D+_*I,I=K)}},O.prototype.guessLen13b=function(u,g){var l=Math.max(g,u)|1,m=l&1,w=0;for(l=l/2|0;l;l=l>>>1)w++;return 1<<w+1+m},O.prototype.conjugate=function(u,g,l){if(!(l<=1))for(var m=0;m<l/2;m++){var w=u[m];u[m]=u[l-m-1],u[l-m-1]=w,w=g[m],g[m]=-g[l-m-1],g[l-m-1]=-w}},O.prototype.normalize13b=function(u,g){for(var l=0,m=0;m<g/2;m++){var w=Math.round(u[2*m+1]/g)*8192+Math.round(u[2*m]/g)+l;u[m]=w&67108863,w<67108864?l=0:l=w/67108864|0}return u},O.prototype.convert13b=function(u,g,l,m){for(var w=0,M=0;M<g;M++)w=w+(u[M]|0),l[2*M]=w&8191,w=w>>>13,l[2*M+1]=w&8191,w=w>>>13;for(M=2*g;M<m;++M)l[M]=0;n(w===0),n((w&-8192)===0)},O.prototype.stub=function(u){for(var g=Array(u),l=0;l<u;l++)g[l]=0;return g},O.prototype.mulp=function(u,g,l){var m=2*this.guessLen13b(u.length,g.length),w=this.makeRBT(m),M=this.stub(m),A=Array(m),S=Array(m),f=Array(m),_=Array(m),E=Array(m),I=Array(m),D=l.words;D.length=m,this.convert13b(u.words,u.length,A,m),this.convert13b(g.words,g.length,_,m),this.transform(A,M,S,f,m,w),this.transform(_,M,E,I,m,w);for(var L=0;L<m;L++){var U=S[L]*E[L]-f[L]*I[L];f[L]=S[L]*I[L]+f[L]*E[L],S[L]=U}return this.conjugate(S,f,m),this.transform(S,f,D,M,m,w),this.conjugate(D,M,m),this.normalize13b(D,m),l.negative=u.negative^g.negative,l.length=u.length+g.length,l.strip()},o.prototype.mul=function(u){var g=new o(null);return g.words=Array(this.length+u.length),this.mulTo(u,g)},o.prototype.mulf=function(u){var g=new o(null);return g.words=Array(this.length+u.length),R(this,u,g)},o.prototype.imul=function(u){return this.clone().mulTo(u,this)},o.prototype.imuln=function(u){n(typeof u=="number"),n(u<67108864);for(var g=0,l=0;l<this.length;l++){var m=(this.words[l]|0)*u,w=(m&67108863)+(g&67108863);g>>=26,g+=m/67108864|0,g+=w>>>26,this.words[l]=w&67108863}return g!==0&&(this.words[l]=g,this.length++),this.length=u===0?1:this.length,this},o.prototype.muln=function(u){return this.clone().imuln(u)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(u){var g=x(u);if(g.length===0)return new o(1);for(var l=this,m=0;m<g.length&&g[m]===0;m++,l=l.sqr());if(++m<g.length)for(var w=l.sqr();m<g.length;m++,w=w.sqr())g[m]!==0&&(l=l.mul(w));return l},o.prototype.iushln=function(u){n(typeof u=="number"&&u>=0);var g=u%26,l=(u-g)/26,m=67108863>>>26-g<<26-g,w;if(g!==0){var M=0;for(w=0;w<this.length;w++){var A=this.words[w]&m,S=(this.words[w]|0)-A<<g;this.words[w]=S|M,M=A>>>26-g}M&&(this.words[w]=M,this.length++)}if(l!==0){for(w=this.length-1;w>=0;w--)this.words[w+l]=this.words[w];for(w=0;w<l;w++)this.words[w]=0;this.length+=l}return this.strip()},o.prototype.ishln=function(u){return n(this.negative===0),this.iushln(u)},o.prototype.iushrn=function(u,g,l){n(typeof u=="number"&&u>=0);var m;g?m=(g-g%26)/26:m=0;var w=u%26,M=Math.min((u-w)/26,this.length),A=67108863^67108863>>>w<<w,S=l;if(m-=M,m=Math.max(0,m),S){for(var f=0;f<M;f++)S.words[f]=this.words[f];S.length=M}if(M!==0)if(this.length>M)for(this.length-=M,f=0;f<this.length;f++)this.words[f]=this.words[f+M];else this.words[0]=0,this.length=1;var _=0;for(f=this.length-1;f>=0&&(_!==0||f>=m);f--){var E=this.words[f]|0;this.words[f]=_<<26-w|E>>>w,_=E&A}return S&&_!==0&&(S.words[S.length++]=_),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(u,g,l){return n(this.negative===0),this.iushrn(u,g,l)},o.prototype.shln=function(u){return this.clone().ishln(u)},o.prototype.ushln=function(u){return this.clone().iushln(u)},o.prototype.shrn=function(u){return this.clone().ishrn(u)},o.prototype.ushrn=function(u){return this.clone().iushrn(u)},o.prototype.testn=function(u){n(typeof u=="number"&&u>=0);var g=u%26,l=(u-g)/26,m=1<<g;if(this.length<=l)return!1;var w=this.words[l];return!!(w&m)},o.prototype.imaskn=function(u){n(typeof u=="number"&&u>=0);var g=u%26,l=(u-g)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=l)return this;if(g!==0&&l++,this.length=Math.min(l,this.length),g!==0){var m=67108863^67108863>>>g<<g;this.words[this.length-1]&=m}return this.strip()},o.prototype.maskn=function(u){return this.clone().imaskn(u)},o.prototype.iaddn=function(u){return n(typeof u=="number"),n(u<67108864),u<0?this.isubn(-u):this.negative!==0?this.length===1&&(this.words[0]|0)<u?(this.words[0]=u-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},o.prototype._iaddn=function(u){this.words[0]+=u;for(var g=0;g<this.length&&this.words[g]>=67108864;g++)this.words[g]-=67108864,g===this.length-1?this.words[g+1]=1:this.words[g+1]++;return this.length=Math.max(this.length,g+1),this},o.prototype.isubn=function(u){if(n(typeof u=="number"),n(u<67108864),u<0)return this.iaddn(-u);if(this.negative!==0)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var g=0;g<this.length&&this.words[g]<0;g++)this.words[g]+=67108864,this.words[g+1]-=1;return this.strip()},o.prototype.addn=function(u){return this.clone().iaddn(u)},o.prototype.subn=function(u){return this.clone().isubn(u)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(u,g,l){var m=u.length+l,w;this._expand(m);var M,A=0;for(w=0;w<u.length;w++){M=(this.words[w+l]|0)+A;var S=(u.words[w]|0)*g;M-=S&67108863,A=(M>>26)-(S/67108864|0),this.words[w+l]=M&67108863}for(;w<this.length-l;w++)M=(this.words[w+l]|0)+A,A=M>>26,this.words[w+l]=M&67108863;if(A===0)return this.strip();for(n(A===-1),A=0,w=0;w<this.length;w++)M=-(this.words[w]|0)+A,A=M>>26,this.words[w]=M&67108863;return this.negative=1,this.strip()},o.prototype._wordDiv=function(u,g){var l=this.length-u.length,m=this.clone(),w=u,M=w.words[w.length-1]|0,A=this._countBits(M);l=26-A,l!==0&&(w=w.ushln(l),m.iushln(l),M=w.words[w.length-1]|0);var S=m.length-w.length,f;if(g!=="mod"){f=new o(null),f.length=S+1,f.words=Array(f.length);for(var _=0;_<f.length;_++)f.words[_]=0}var E=m.clone()._ishlnsubmul(w,1,S);E.negative===0&&(m=E,f&&(f.words[S]=1));for(var I=S-1;I>=0;I--){var D=(m.words[w.length+I]|0)*67108864+(m.words[w.length+I-1]|0);for(D=Math.min(D/M|0,67108863),m._ishlnsubmul(w,D,I);m.negative!==0;)D--,m.negative=0,m._ishlnsubmul(w,1,I),!m.isZero()&&(m.negative^=1);f&&(f.words[I]=D)}return f&&f.strip(),m.strip(),g!=="div"&&l!==0&&m.iushrn(l),{div:f||null,mod:m}},o.prototype.divmod=function(u,g,l){if(n(!u.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var m,w,M;return this.negative!==0&&u.negative===0?(M=this.neg().divmod(u,g),g!=="mod"&&(m=M.div.neg()),g!=="div"&&(w=M.mod.neg(),l&&w.negative!==0&&w.iadd(u)),{div:m,mod:w}):this.negative===0&&u.negative!==0?(M=this.divmod(u.neg(),g),g!=="mod"&&(m=M.div.neg()),{div:m,mod:M.mod}):(this.negative&u.negative)!==0?(M=this.neg().divmod(u.neg(),g),g!=="div"&&(w=M.mod.neg(),l&&w.negative!==0&&w.isub(u)),{div:M.div,mod:w}):u.length>this.length||this.cmp(u)<0?{div:new o(0),mod:this}:u.length===1?g==="div"?{div:this.divn(u.words[0]),mod:null}:g==="mod"?{div:null,mod:new o(this.modn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new o(this.modn(u.words[0]))}:this._wordDiv(u,g)},o.prototype.div=function(u){return this.divmod(u,"div",!1).div},o.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},o.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},o.prototype.divRound=function(u){var g=this.divmod(u);if(g.mod.isZero())return g.div;var l=g.div.negative!==0?g.mod.isub(u):g.mod,m=u.ushrn(1),w=u.andln(1),M=l.cmp(m);return M<0||w===1&&M===0?g.div:g.div.negative!==0?g.div.isubn(1):g.div.iaddn(1)},o.prototype.modn=function(u){n(u<=67108863);for(var g=67108864%u,l=0,m=this.length-1;m>=0;m--)l=(g*l+(this.words[m]|0))%u;return l},o.prototype.idivn=function(u){n(u<=67108863);for(var g=0,l=this.length-1;l>=0;l--){var m=(this.words[l]|0)+g*67108864;this.words[l]=m/u|0,g=m%u}return this.strip()},o.prototype.divn=function(u){return this.clone().idivn(u)},o.prototype.egcd=function(u){n(u.negative===0),n(!u.isZero());var g=this,l=u.clone();g.negative!==0?g=g.umod(u):g=g.clone();for(var m=new o(1),w=new o(0),M=new o(0),A=new o(1),S=0;g.isEven()&&l.isEven();)g.iushrn(1),l.iushrn(1),++S;for(var f=l.clone(),_=g.clone();!g.isZero();){for(var E=0,I=1;(g.words[0]&I)===0&&E<26;++E,I<<=1);if(E>0)for(g.iushrn(E);E-- >0;)(m.isOdd()||w.isOdd())&&(m.iadd(f),w.isub(_)),m.iushrn(1),w.iushrn(1);for(var D=0,L=1;(l.words[0]&L)===0&&D<26;++D,L<<=1);if(D>0)for(l.iushrn(D);D-- >0;)(M.isOdd()||A.isOdd())&&(M.iadd(f),A.isub(_)),M.iushrn(1),A.iushrn(1);g.cmp(l)>=0?(g.isub(l),m.isub(M),w.isub(A)):(l.isub(g),M.isub(m),A.isub(w))}return{a:M,b:A,gcd:l.iushln(S)}},o.prototype._invmp=function(u){n(u.negative===0),n(!u.isZero());var g=this,l=u.clone();g.negative!==0?g=g.umod(u):g=g.clone();for(var m=new o(1),w=new o(0),M=l.clone();g.cmpn(1)>0&&l.cmpn(1)>0;){for(var A=0,S=1;(g.words[0]&S)===0&&A<26;++A,S<<=1);if(A>0)for(g.iushrn(A);A-- >0;)m.isOdd()&&m.iadd(M),m.iushrn(1);for(var f=0,_=1;(l.words[0]&_)===0&&f<26;++f,_<<=1);if(f>0)for(l.iushrn(f);f-- >0;)w.isOdd()&&w.iadd(M),w.iushrn(1);g.cmp(l)>=0?(g.isub(l),m.isub(w)):(l.isub(g),w.isub(m))}var E;return g.cmpn(1)===0?E=m:E=w,E.cmpn(0)<0&&E.iadd(u),E},o.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var g=this.clone(),l=u.clone();g.negative=0,l.negative=0;for(var m=0;g.isEven()&&l.isEven();m++)g.iushrn(1),l.iushrn(1);do{for(;g.isEven();)g.iushrn(1);for(;l.isEven();)l.iushrn(1);var w=g.cmp(l);if(w<0){var M=g;g=l,l=M}else if(w===0||l.cmpn(1)===0)break;g.isub(l)}while(!0);return l.iushln(m)},o.prototype.invm=function(u){return this.egcd(u).a.umod(u)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(u){return this.words[0]&u},o.prototype.bincn=function(u){n(typeof u=="number");var g=u%26,l=(u-g)/26,m=1<<g;if(this.length<=l)return this._expand(l+1),this.words[l]|=m,this;for(var w=m,M=l;w!==0&&M<this.length;M++){var A=this.words[M]|0;A+=w,w=A>>>26,A&=67108863,this.words[M]=A}return w!==0&&(this.words[M]=w,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(u){var g=u<0;if(this.negative!==0&&!g)return-1;if(this.negative===0&&g)return 1;this.strip();var l;if(this.length>1)l=1;else{g&&(u=-u),n(u<=67108863,"Number is too big");var m=this.words[0]|0;l=m===u?0:m<u?-1:1}return this.negative!==0?-l|0:l},o.prototype.cmp=function(u){if(this.negative!==0&&u.negative===0)return-1;if(this.negative===0&&u.negative!==0)return 1;var g=this.ucmp(u);return this.negative!==0?-g|0:g},o.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var g=0,l=this.length-1;l>=0;l--){var m=this.words[l]|0,w=u.words[l]|0;if(m!==w){m<w?g=-1:m>w&&(g=1);break}}return g},o.prototype.gtn=function(u){return this.cmpn(u)===1},o.prototype.gt=function(u){return this.cmp(u)===1},o.prototype.gten=function(u){return this.cmpn(u)>=0},o.prototype.gte=function(u){return this.cmp(u)>=0},o.prototype.ltn=function(u){return this.cmpn(u)===-1},o.prototype.lt=function(u){return this.cmp(u)===-1},o.prototype.lten=function(u){return this.cmpn(u)<=0},o.prototype.lte=function(u){return this.cmp(u)<=0},o.prototype.eqn=function(u){return this.cmpn(u)===0},o.prototype.eq=function(u){return this.cmp(u)===0},o.red=function(u){return new $(u)},o.prototype.toRed=function(u){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),u.convertTo(this)._forceRed(u)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(u){return this.red=u,this},o.prototype.forceRed=function(u){return n(!this.red,"Already a number in reduction context"),this._forceRed(u)},o.prototype.redAdd=function(u){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},o.prototype.redIAdd=function(u){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},o.prototype.redSub=function(u){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},o.prototype.redISub=function(u){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},o.prototype.redShl=function(u){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},o.prototype.redMul=function(u){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},o.prototype.redIMul=function(u){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(u){return n(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var T={k256:null,p224:null,p192:null,p25519:null};function P(u,g){this.name=u,this.p=new o(g,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}i(P,"y"),P.prototype._tmp=function(){var u=new o(null);return u.words=Array(Math.ceil(this.n/13)),u},P.prototype.ireduce=function(u){var g=u,l;do this.split(g,this.tmp),g=this.imulK(g),g=g.iadd(this.tmp),l=g.bitLength();while(l>this.n);var m=l<this.n?-1:g.ucmp(this.p);return m===0?(g.words[0]=0,g.length=1):m>0?g.isub(this.p):g.strip!==void 0?g.strip():g._strip(),g},P.prototype.split=function(u,g){u.iushrn(this.n,0,g)},P.prototype.imulK=function(u){return u.imul(this.k)};function z(){P.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(z,"c"),s(z,P),z.prototype.split=function(u,g){for(var l=4194303,m=Math.min(u.length,9),w=0;w<m;w++)g.words[w]=u.words[w];if(g.length=m,u.length<=9){u.words[0]=0,u.length=1;return}var M=u.words[9];for(g.words[g.length++]=M&l,w=10;w<u.length;w++){var A=u.words[w]|0;u.words[w-10]=(A&l)<<4|M>>>22,M=A}M>>>=22,u.words[w-10]=M,M===0&&u.length>10?u.length-=10:u.length-=9},z.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var g=0,l=0;l<u.length;l++){var m=u.words[l]|0;g+=m*977,u.words[l]=g&67108863,g=m*64+(g/67108864|0)}return u.words[u.length-1]===0&&(u.length--,u.words[u.length-1]===0&&u.length--),u};function V(){P.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(V,"m"),s(V,P);function Z(){P.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(Z,"q$"),s(Z,P);function ee(){P.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(ee,"e"),s(ee,P),ee.prototype.imulK=function(u){for(var g=0,l=0;l<u.length;l++){var m=(u.words[l]|0)*19+g,w=m&67108863;m>>>=26,u.words[l]=w,g=m}return g!==0&&(u.words[u.length++]=g),u},o._prime=function(u){if(T[u])return T[u];var g;if(u==="k256")g=new z;else if(u==="p224")g=new V;else if(u==="p192")g=new Z;else if(u==="p25519")g=new ee;else throw Error("Unknown prime "+u);return T[u]=g,g};function $(u){if(typeof u=="string"){var g=o._prime(u);this.m=g.p,this.prime=g}else n(u.gtn(1),"modulus must be greater than 1"),this.m=u,this.prime=null}i($,"l"),$.prototype._verify1=function(u){n(u.negative===0,"red works only with positives"),n(u.red,"red works only with red numbers")},$.prototype._verify2=function(u,g){n((u.negative|g.negative)===0,"red works only with positives"),n(u.red&&u.red===g.red,"red works only with red numbers")},$.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):u.umod(this.m)._forceRed(this)},$.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},$.prototype.add=function(u,g){this._verify2(u,g);var l=u.add(g);return l.cmp(this.m)>=0&&l.isub(this.m),l._forceRed(this)},$.prototype.iadd=function(u,g){this._verify2(u,g);var l=u.iadd(g);return l.cmp(this.m)>=0&&l.isub(this.m),l},$.prototype.sub=function(u,g){this._verify2(u,g);var l=u.sub(g);return l.cmpn(0)<0&&l.iadd(this.m),l._forceRed(this)},$.prototype.isub=function(u,g){this._verify2(u,g);var l=u.isub(g);return l.cmpn(0)<0&&l.iadd(this.m),l},$.prototype.shl=function(u,g){return this._verify1(u),this.imod(u.ushln(g))},$.prototype.imul=function(u,g){return this._verify2(u,g),this.imod(u.imul(g))},$.prototype.mul=function(u,g){return this._verify2(u,g),this.imod(u.mul(g))},$.prototype.isqr=function(u){return this.imul(u,u.clone())},$.prototype.sqr=function(u){return this.mul(u,u)},$.prototype.sqrt=function(u){if(u.isZero())return u.clone();var g=this.m.andln(3);if(n(g%2===1),g===3){var l=this.m.add(new o(1)).iushrn(2);return this.pow(u,l)}for(var m=this.m.subn(1),w=0;!m.isZero()&&m.andln(1)===0;)w++,m.iushrn(1);n(!m.isZero());var M=new o(1).toRed(this),A=M.redNeg(),S=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new o(2*f*f).toRed(this);this.pow(f,S).cmp(A)!==0;)f.redIAdd(A);for(var _=this.pow(f,m),E=this.pow(u,m.addn(1).iushrn(1)),I=this.pow(u,m),D=w;I.cmp(M)!==0;){for(var L=I,U=0;L.cmp(M)!==0;U++)L=L.redSqr();n(U<D);var B=this.pow(_,new o(1).iushln(D-U-1));E=E.redMul(B),_=B.redSqr(),I=I.redMul(_),D=U}return E},$.prototype.invm=function(u){var g=u._invmp(this.m);return g.negative!==0?(g.negative=0,this.imod(g).redNeg()):this.imod(g)},$.prototype.pow=function(u,g){if(g.isZero())return new o(1).toRed(this);if(g.cmpn(1)===0)return u.clone();var l=4,m=Array(1<<l);m[0]=new o(1).toRed(this),m[1]=u;for(var w=2;w<m.length;w++)m[w]=this.mul(m[w-1],u);var M=m[0],A=0,S=0,f=g.bitLength()%26;for(f===0&&(f=26),w=g.length-1;w>=0;w--){for(var _=g.words[w],E=f-1;E>=0;E--){var I=_>>E&1;if(M!==m[0]&&(M=this.sqr(M)),I===0&&A===0){S=0;continue}A<<=1,A|=I,S++,!(S!==l&&(w!==0||E!==0))&&(M=this.mul(M,m[A]),S=0,A=0)}f=26}return M},$.prototype.convertTo=function(u){var g=u.umod(this.m);return g===u?g.clone():g},$.prototype.convertFrom=function(u){var g=u.clone();return g.red=null,g},o.mont=function(u){return new F(u)};function F(u){$.call(this,u),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(F,"r"),s(F,$),F.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},F.prototype.convertFrom=function(u){var g=this.imod(u.mul(this.rinv));return g.red=null,g},F.prototype.imul=function(u,g){if(u.isZero()||g.isZero())return u.words[0]=0,u.length=1,u;var l=u.imul(g),m=l.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=l.isub(m).iushrn(this.shift),M=w;return w.cmp(this.m)>=0?M=w.isub(this.m):w.cmpn(0)<0&&(M=w.iadd(this.m)),M._forceRed(this)},F.prototype.mul=function(u,g){if(u.isZero()||g.isZero())return new o(0)._forceRed(this);var l=u.mul(g),m=l.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=l.isub(m).iushrn(this.shift),M=w;return w.cmp(this.m)>=0?M=w.isub(this.m):w.cmpn(0)<0&&(M=w.iadd(this.m)),M._forceRed(this)},F.prototype.invm=function(u){var g=this.imod(u._invmp(this.m).mul(this.r2));return g._forceRed(this)}})(typeof t>"u"||t,e)}),nn=at((e,t)=>{t.exports=r;function r(a,n){if(!a)throw Error(n||"Assertion failed")}i(r,"K"),r.equal=function(a,n,s){if(a!=n)throw Error(s||"Assertion failed: "+a+" != "+n)}}),ap=at(e=>{var t=e;function r(s,o){if(Array.isArray(s))return s.slice();if(!s)return[];var h=[];if(typeof s!="string"){for(var p=0;p<s.length;p++)h[p]=s[p]|0;return h}if(o==="hex"){s=s.replace(/[^a-z0-9]+/ig,""),s.length%2!==0&&(s="0"+s);for(var p=0;p<s.length;p+=2)h.push(parseInt(s[p]+s[p+1],16))}else for(var p=0;p<s.length;p++){var v=s.charCodeAt(p),c=v>>8,d=v&255;c?h.push(c,d):h.push(d)}return h}i(r,"K"),t.toArray=r;function a(s){return s.length===1?"0"+s:s}i(a,"P"),t.zero2=a;function n(s){for(var o="",h=0;h<s.length;h++)o+=a(s[h].toString(16));return o}i(n,"_"),t.toHex=n,t.encode=function(s,o){return o==="hex"?n(s):s}}),Zr=at(e=>{var t=e,r=Bi(),a=nn(),n=ap();t.assert=a,t.toArray=n.toArray,t.zero2=n.zero2,t.toHex=n.toHex,t.encode=n.encode;function s(c,d,y){var b=Array(Math.max(c.bitLength(),y)+1),x;for(x=0;x<b.length;x+=1)b[x]=0;var k=1<<d+1,N=c.clone();for(x=0;x<b.length;x++){var C,R=N.andln(k-1);N.isOdd()?(R>(k>>1)-1?C=(k>>1)-R:C=R,N.isubn(C)):C=0,b[x]=C,N.iushrn(1)}return b}i(s,"O"),t.getNAF=s;function o(c,d){var y=[[],[]];c=c.clone(),d=d.clone();for(var b=0,x=0,k;c.cmpn(-b)>0||d.cmpn(-x)>0;){var N=c.andln(3)+b&3,C=d.andln(3)+x&3;N===3&&(N=-1),C===3&&(C=-1);var R;(N&1)===0?R=0:(k=c.andln(7)+b&7,(k===3||k===5)&&C===2?R=-N:R=N),y[0].push(R);var O;(C&1)===0?O=0:(k=d.andln(7)+x&7,(k===3||k===5)&&N===2?O=-C:O=C),y[1].push(O),2*b===R+1&&(b=1-b),2*x===O+1&&(x=1-x),c.iushrn(1),d.iushrn(1)}return y}i(o,"j"),t.getJSF=o;function h(c,d,y){var b="_"+d;c.prototype[d]=function(){return this[b]!==void 0?this[b]:this[b]=y.call(this)}}i(h,"z"),t.cachedProperty=h;function p(c){return typeof c=="string"?t.toArray(c,"hex"):c}i(p,"J"),t.parseBytes=p;function v(c){return new r(c,"hex","le")}i(v,"w"),t.intFromLE=v}),sp=at((e,t)=>{var r;t.exports=function(s){return r||(r=new a(null)),r.generate(s)};function a(s){this.rand=s}if(i(a,"P"),t.exports.Rand=a,a.prototype.generate=function(s){return this._rand(s)},a.prototype._rand=function(s){if(this.rand.getBytes)return this.rand.getBytes(s);for(var o=new Uint8Array(s),h=0;h<o.length;h++)o[h]=this.rand.getByte();return o},typeof self=="object")self.crypto&&self.crypto.getRandomValues?a.prototype._rand=function(s){var o=new Uint8Array(s);return self.crypto.getRandomValues(o),o}:self.msCrypto&&self.msCrypto.getRandomValues?a.prototype._rand=function(s){var o=new Uint8Array(s);return self.msCrypto.getRandomValues(o),o}:typeof window=="object"&&(a.prototype._rand=function(){throw Error("Not implemented yet")});else try{if(n=(qr(),$t(Ur)),typeof n.randomBytes!="function")throw Error("Not supported");a.prototype._rand=function(s){return n.randomBytes(s)}}catch{}var n}),Ps=at((e,t)=>{var r=Bi(),a=Zr(),n=a.getNAF,s=a.getJSF,o=a.assert;function h(v,c){this.type=v,this.p=new r(c.p,16),this.red=c.prime?r.red(c.prime):r.mont(this.p),this.zero=new r(0).toRed(this.red),this.one=new r(1).toRed(this.red),this.two=new r(2).toRed(this.red),this.n=c.n&&new r(c.n,16),this.g=c.g&&this.pointFromJSON(c.g,c.gRed),this._wnafT1=[,,,,],this._wnafT2=[,,,,],this._wnafT3=[,,,,],this._wnafT4=[,,,,],this._bitLength=this.n?this.n.bitLength():0;var d=this.n&&this.p.div(this.n);!d||d.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}i(h,"z"),t.exports=h,h.prototype.point=function(){throw Error("Not implemented")},h.prototype.validate=function(){throw Error("Not implemented")},h.prototype._fixedNafMul=function(v,c){o(v.precomputed);var d=v._getDoubles(),y=n(c,1,this._bitLength),b=(1<<d.step+1)-(d.step%2===0?2:1);b/=3;var x=[],k,N;for(k=0;k<y.length;k+=d.step){N=0;for(var C=k+d.step-1;C>=k;C--)N=(N<<1)+y[C];x.push(N)}for(var R=this.jpoint(null,null,null),O=this.jpoint(null,null,null),T=b;T>0;T--){for(k=0;k<x.length;k++)N=x[k],N===T?O=O.mixedAdd(d.points[k]):N===-T&&(O=O.mixedAdd(d.points[k].neg()));R=R.add(O)}return R.toP()},h.prototype._wnafMul=function(v,c){var d=4,y=v._getNAFPoints(d);d=y.wnd;for(var b=y.points,x=n(c,d,this._bitLength),k=this.jpoint(null,null,null),N=x.length-1;N>=0;N--){for(var C=0;N>=0&&x[N]===0;N--)C++;if(N>=0&&C++,k=k.dblp(C),N<0)break;var R=x[N];o(R!==0),v.type==="affine"?R>0?k=k.mixedAdd(b[R-1>>1]):k=k.mixedAdd(b[-R-1>>1].neg()):R>0?k=k.add(b[R-1>>1]):k=k.add(b[-R-1>>1].neg())}return v.type==="affine"?k.toP():k},h.prototype._wnafMulAdd=function(v,c,d,y,b){var x=this._wnafT1,k=this._wnafT2,N=this._wnafT3,C=0,R,O,T;for(R=0;R<y;R++){T=c[R];var P=T._getNAFPoints(v);x[R]=P.wnd,k[R]=P.points}for(R=y-1;R>=1;R-=2){var z=R-1,V=R;if(x[z]!==1||x[V]!==1){N[z]=n(d[z],x[z],this._bitLength),N[V]=n(d[V],x[V],this._bitLength),C=Math.max(N[z].length,C),C=Math.max(N[V].length,C);continue}var Z=[c[z],null,null,c[V]];c[z].y.cmp(c[V].y)===0?(Z[1]=c[z].add(c[V]),Z[2]=c[z].toJ().mixedAdd(c[V].neg())):c[z].y.cmp(c[V].y.redNeg())===0?(Z[1]=c[z].toJ().mixedAdd(c[V]),Z[2]=c[z].add(c[V].neg())):(Z[1]=c[z].toJ().mixedAdd(c[V]),Z[2]=c[z].toJ().mixedAdd(c[V].neg()));var ee=[-3,-1,-5,-7,0,7,5,1,3],$=s(d[z],d[V]);for(C=Math.max($[0].length,C),N[z]=Array(C),N[V]=Array(C),O=0;O<C;O++){var F=$[0][O]|0,u=$[1][O]|0;N[z][O]=ee[(F+1)*3+(u+1)],N[V][O]=0,k[z]=Z}}var g=this.jpoint(null,null,null),l=this._wnafT4;for(R=C;R>=0;R--){for(var m=0;R>=0;){var w=!0;for(O=0;O<y;O++)l[O]=N[O][R]|0,l[O]!==0&&(w=!1);if(!w)break;m++,R--}if(R>=0&&m++,g=g.dblp(m),R<0)break;for(O=0;O<y;O++){var M=l[O];M!==0&&(M>0?T=k[O][M-1>>1]:M<0&&(T=k[O][-M-1>>1].neg()),T.type==="affine"?g=g.mixedAdd(T):g=g.add(T))}}for(R=0;R<y;R++)k[R]=null;return b?g:g.toP()};function p(v,c){this.curve=v,this.type=c,this.precomputed=null}i(p,"J"),h.BasePoint=p,p.prototype.eq=function(){throw Error("Not implemented")},p.prototype.validate=function(){return this.curve.validate(this)},h.prototype.decodePoint=function(v,c){v=a.toArray(v,c);var d=this.p.byteLength();if((v[0]===4||v[0]===6||v[0]===7)&&v.length-1===2*d){v[0]===6?o(v[v.length-1]%2===0):v[0]===7&&o(v[v.length-1]%2===1);var y=this.point(v.slice(1,1+d),v.slice(1+d,1+2*d));return y}else if((v[0]===2||v[0]===3)&&v.length-1===d)return this.pointFromX(v.slice(1,1+d),v[0]===3);throw Error("Unknown point format")},p.prototype.encodeCompressed=function(v){return this.encode(v,!0)},p.prototype._encode=function(v){var c=this.curve.p.byteLength(),d=this.getX().toArray("be",c);return v?[this.getY().isEven()?2:3].concat(d):[4].concat(d,this.getY().toArray("be",c))},p.prototype.encode=function(v,c){return a.encode(this._encode(c),v)},p.prototype.precompute=function(v){if(this.precomputed)return this;var c={doubles:null,naf:null,beta:null};return c.naf=this._getNAFPoints(8),c.doubles=this._getDoubles(4,v),c.beta=this._getBeta(),this.precomputed=c,this},p.prototype._hasDoubles=function(v){if(!this.precomputed)return!1;var c=this.precomputed.doubles;return c?c.points.length>=Math.ceil((v.bitLength()+1)/c.step):!1},p.prototype._getDoubles=function(v,c){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var d=[this],y=this,b=0;b<c;b+=v){for(var x=0;x<v;x++)y=y.dbl();d.push(y)}return{step:v,points:d}},p.prototype._getNAFPoints=function(v){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var c=[this],d=(1<<v)-1,y=d===1?null:this.dbl(),b=1;b<d;b++)c[b]=c[b-1].add(y);return{wnd:v,points:c}},p.prototype._getBeta=function(){return null},p.prototype.dblp=function(v){for(var c=this,d=0;d<v;d++)c=c.dbl();return c}}),Dx=at((e,t)=>{typeof Object.create=="function"?t.exports=function(r,a){a&&(r.super_=a,r.prototype=Object.create(a.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,a){if(a){r.super_=a;var n=i(function(){},"O");n.prototype=a.prototype,r.prototype=new n,r.prototype.constructor=r}}}),zr=at((e,t)=>{try{if(r=(iz(),$t(D9)),typeof r.inherits!="function")throw"";t.exports=r.inherits}catch{t.exports=Dx()}var r}),Lx=at((e,t)=>{var r=Zr(),a=Bi(),n=zr(),s=Ps(),o=r.assert;function h(c){s.call(this,"short",c),this.a=new a(c.a,16).toRed(this.red),this.b=new a(c.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(c),this._endoWnafT1=[,,,,],this._endoWnafT2=[,,,,]}i(h,"z"),n(h,s),t.exports=h,h.prototype._getEndomorphism=function(c){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var d,y;if(c.beta)d=new a(c.beta,16).toRed(this.red);else{var b=this._getEndoRoots(this.p);d=b[0].cmp(b[1])<0?b[0]:b[1],d=d.toRed(this.red)}if(c.lambda)y=new a(c.lambda,16);else{var x=this._getEndoRoots(this.n);this.g.mul(x[0]).x.cmp(this.g.x.redMul(d))===0?y=x[0]:(y=x[1],o(this.g.mul(y).x.cmp(this.g.x.redMul(d))===0))}var k;return c.basis?k=c.basis.map(function(N){return{a:new a(N.a,16),b:new a(N.b,16)}}):k=this._getEndoBasis(y),{beta:d,lambda:y,basis:k}}},h.prototype._getEndoRoots=function(c){var d=c===this.p?this.red:a.mont(c),y=new a(2).toRed(d).redInvm(),b=y.redNeg(),x=new a(3).toRed(d).redNeg().redSqrt().redMul(y),k=b.redAdd(x).fromRed(),N=b.redSub(x).fromRed();return[k,N]},h.prototype._getEndoBasis=function(c){for(var d=this.n.ushrn(Math.floor(this.n.bitLength()/2)),y=c,b=this.n.clone(),x=new a(1),k=new a(0),N=new a(0),C=new a(1),R,O,T,P,z,V,Z,ee=0,$,F;y.cmpn(0)!==0;){var u=b.div(y);$=b.sub(u.mul(y)),F=N.sub(u.mul(x));var g=C.sub(u.mul(k));if(!T&&$.cmp(d)<0)R=Z.neg(),O=x,T=$.neg(),P=F;else if(T&&++ee===2)break;Z=$,b=y,y=$,N=x,x=F,C=k,k=g}z=$.neg(),V=F;var l=T.sqr().add(P.sqr()),m=z.sqr().add(V.sqr());return m.cmp(l)>=0&&(z=R,V=O),T.negative&&(T=T.neg(),P=P.neg()),z.negative&&(z=z.neg(),V=V.neg()),[{a:T,b:P},{a:z,b:V}]},h.prototype._endoSplit=function(c){var d=this.endo.basis,y=d[0],b=d[1],x=b.b.mul(c).divRound(this.n),k=y.b.neg().mul(c).divRound(this.n),N=x.mul(y.a),C=k.mul(b.a),R=x.mul(y.b),O=k.mul(b.b),T=c.sub(N).sub(C),P=R.add(O).neg();return{k1:T,k2:P}},h.prototype.pointFromX=function(c,d){c=new a(c,16),!c.red&&(c=c.toRed(this.red));var y=c.redSqr().redMul(c).redIAdd(c.redMul(this.a)).redIAdd(this.b),b=y.redSqrt();if(b.redSqr().redSub(y).cmp(this.zero)!==0)throw Error("invalid point");var x=b.fromRed().isOdd();return(d&&!x||!d&&x)&&(b=b.redNeg()),this.point(c,b)},h.prototype.validate=function(c){if(c.inf)return!0;var{x:d,y}=c,b=this.a.redMul(d),x=d.redSqr().redMul(d).redIAdd(b).redIAdd(this.b);return y.redSqr().redISub(x).cmpn(0)===0},h.prototype._endoWnafMulAdd=function(c,d,y){for(var b=this._endoWnafT1,x=this._endoWnafT2,k=0;k<c.length;k++){var N=this._endoSplit(d[k]),C=c[k],R=C._getBeta();N.k1.negative&&(N.k1.ineg(),C=C.neg(!0)),N.k2.negative&&(N.k2.ineg(),R=R.neg(!0)),b[k*2]=C,b[k*2+1]=R,x[k*2]=N.k1,x[k*2+1]=N.k2}for(var O=this._wnafMulAdd(1,b,x,k*2,y),T=0;T<k*2;T++)b[T]=null,x[T]=null;return O};function p(c,d,y,b){s.BasePoint.call(this,c,"affine"),d===null&&y===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new a(d,16),this.y=new a(y,16),b&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}i(p,"J"),n(p,s.BasePoint),h.prototype.point=function(c,d,y){return new p(this,c,d,y)},h.prototype.pointFromJSON=function(c,d){return p.fromJSON(this,c,d)},p.prototype._getBeta=function(){if(this.curve.endo){var c=this.precomputed;if(c&&c.beta)return c.beta;var d=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(c){var y=this.curve,b=i(function(x){return y.point(x.x.redMul(y.endo.beta),x.y)},"C");c.beta=d,d.precomputed={beta:null,naf:c.naf&&{wnd:c.naf.wnd,points:c.naf.points.map(b)},doubles:c.doubles&&{step:c.doubles.step,points:c.doubles.points.map(b)}}}return d}},p.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},p.fromJSON=function(c,d,y){typeof d=="string"&&(d=JSON.parse(d));var b=c.point(d[0],d[1],y);if(!d[2])return b;function x(N){return c.point(N[0],N[1],y)}i(x,"E");var k=d[2];return b.precomputed={beta:null,doubles:k.doubles&&{step:k.doubles.step,points:[b].concat(k.doubles.points.map(x))},naf:k.naf&&{wnd:k.naf.wnd,points:[b].concat(k.naf.points.map(x))}},b},p.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},p.prototype.isInfinity=function(){return this.inf},p.prototype.add=function(c){if(this.inf)return c;if(c.inf)return this;if(this.eq(c))return this.dbl();if(this.neg().eq(c))return this.curve.point(null,null);if(this.x.cmp(c.x)===0)return this.curve.point(null,null);var d=this.y.redSub(c.y);d.cmpn(0)!==0&&(d=d.redMul(this.x.redSub(c.x).redInvm()));var y=d.redSqr().redISub(this.x).redISub(c.x),b=d.redMul(this.x.redSub(y)).redISub(this.y);return this.curve.point(y,b)},p.prototype.dbl=function(){if(this.inf)return this;var c=this.y.redAdd(this.y);if(c.cmpn(0)===0)return this.curve.point(null,null);var d=this.curve.a,y=this.x.redSqr(),b=c.redInvm(),x=y.redAdd(y).redIAdd(y).redIAdd(d).redMul(b),k=x.redSqr().redISub(this.x.redAdd(this.x)),N=x.redMul(this.x.redSub(k)).redISub(this.y);return this.curve.point(k,N)},p.prototype.getX=function(){return this.x.fromRed()},p.prototype.getY=function(){return this.y.fromRed()},p.prototype.mul=function(c){return c=new a(c,16),this.isInfinity()?this:this._hasDoubles(c)?this.curve._fixedNafMul(this,c):this.curve.endo?this.curve._endoWnafMulAdd([this],[c]):this.curve._wnafMul(this,c)},p.prototype.mulAdd=function(c,d,y){var b=[this,d],x=[c,y];return this.curve.endo?this.curve._endoWnafMulAdd(b,x):this.curve._wnafMulAdd(1,b,x,2)},p.prototype.jmulAdd=function(c,d,y){var b=[this,d],x=[c,y];return this.curve.endo?this.curve._endoWnafMulAdd(b,x,!0):this.curve._wnafMulAdd(1,b,x,2,!0)},p.prototype.eq=function(c){return this===c||this.inf===c.inf&&(this.inf||this.x.cmp(c.x)===0&&this.y.cmp(c.y)===0)},p.prototype.neg=function(c){if(this.inf)return this;var d=this.curve.point(this.x,this.y.redNeg());if(c&&this.precomputed){var y=this.precomputed,b=i(function(x){return x.neg()},"C");d.precomputed={naf:y.naf&&{wnd:y.naf.wnd,points:y.naf.points.map(b)},doubles:y.doubles&&{step:y.doubles.step,points:y.doubles.points.map(b)}}}return d},p.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var c=this.curve.jpoint(this.x,this.y,this.curve.one);return c};function v(c,d,y,b){s.BasePoint.call(this,c,"jacobian"),d===null&&y===null&&b===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new a(0)):(this.x=new a(d,16),this.y=new a(y,16),this.z=new a(b,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}i(v,"w"),n(v,s.BasePoint),h.prototype.jpoint=function(c,d,y){return new v(this,c,d,y)},v.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var c=this.z.redInvm(),d=c.redSqr(),y=this.x.redMul(d),b=this.y.redMul(d).redMul(c);return this.curve.point(y,b)},v.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},v.prototype.add=function(c){if(this.isInfinity())return c;if(c.isInfinity())return this;var d=c.z.redSqr(),y=this.z.redSqr(),b=this.x.redMul(d),x=c.x.redMul(y),k=this.y.redMul(d.redMul(c.z)),N=c.y.redMul(y.redMul(this.z)),C=b.redSub(x),R=k.redSub(N);if(C.cmpn(0)===0)return R.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var O=C.redSqr(),T=O.redMul(C),P=b.redMul(O),z=R.redSqr().redIAdd(T).redISub(P).redISub(P),V=R.redMul(P.redISub(z)).redISub(k.redMul(T)),Z=this.z.redMul(c.z).redMul(C);return this.curve.jpoint(z,V,Z)},v.prototype.mixedAdd=function(c){if(this.isInfinity())return c.toJ();if(c.isInfinity())return this;var d=this.z.redSqr(),y=this.x,b=c.x.redMul(d),x=this.y,k=c.y.redMul(d).redMul(this.z),N=y.redSub(b),C=x.redSub(k);if(N.cmpn(0)===0)return C.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var R=N.redSqr(),O=R.redMul(N),T=y.redMul(R),P=C.redSqr().redIAdd(O).redISub(T).redISub(T),z=C.redMul(T.redISub(P)).redISub(x.redMul(O)),V=this.z.redMul(N);return this.curve.jpoint(P,z,V)},v.prototype.dblp=function(c){if(c===0)return this;if(this.isInfinity())return this;if(!c)return this.dbl();var d;if(this.curve.zeroA||this.curve.threeA){var y=this;for(d=0;d<c;d++)y=y.dbl();return y}var b=this.curve.a,x=this.curve.tinv,k=this.x,N=this.y,C=this.z,R=C.redSqr().redSqr(),O=N.redAdd(N);for(d=0;d<c;d++){var T=k.redSqr(),P=O.redSqr(),z=P.redSqr(),V=T.redAdd(T).redIAdd(T).redIAdd(b.redMul(R)),Z=k.redMul(P),ee=V.redSqr().redISub(Z.redAdd(Z)),$=Z.redISub(ee),F=V.redMul($);F=F.redIAdd(F).redISub(z);var u=O.redMul(C);d+1<c&&(R=R.redMul(z)),k=ee,C=u,O=F}return this.curve.jpoint(k,O.redMul(x),C)},v.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},v.prototype._zeroDbl=function(){var c,d,y;if(this.zOne){var b=this.x.redSqr(),x=this.y.redSqr(),k=x.redSqr(),N=this.x.redAdd(x).redSqr().redISub(b).redISub(k);N=N.redIAdd(N);var C=b.redAdd(b).redIAdd(b),R=C.redSqr().redISub(N).redISub(N),O=k.redIAdd(k);O=O.redIAdd(O),O=O.redIAdd(O),c=R,d=C.redMul(N.redISub(R)).redISub(O),y=this.y.redAdd(this.y)}else{var T=this.x.redSqr(),P=this.y.redSqr(),z=P.redSqr(),V=this.x.redAdd(P).redSqr().redISub(T).redISub(z);V=V.redIAdd(V);var Z=T.redAdd(T).redIAdd(T),ee=Z.redSqr(),$=z.redIAdd(z);$=$.redIAdd($),$=$.redIAdd($),c=ee.redISub(V).redISub(V),d=Z.redMul(V.redISub(c)).redISub($),y=this.y.redMul(this.z),y=y.redIAdd(y)}return this.curve.jpoint(c,d,y)},v.prototype._threeDbl=function(){var c,d,y;if(this.zOne){var b=this.x.redSqr(),x=this.y.redSqr(),k=x.redSqr(),N=this.x.redAdd(x).redSqr().redISub(b).redISub(k);N=N.redIAdd(N);var C=b.redAdd(b).redIAdd(b).redIAdd(this.curve.a),R=C.redSqr().redISub(N).redISub(N);c=R;var O=k.redIAdd(k);O=O.redIAdd(O),O=O.redIAdd(O),d=C.redMul(N.redISub(R)).redISub(O),y=this.y.redAdd(this.y)}else{var T=this.z.redSqr(),P=this.y.redSqr(),z=this.x.redMul(P),V=this.x.redSub(T).redMul(this.x.redAdd(T));V=V.redAdd(V).redIAdd(V);var Z=z.redIAdd(z);Z=Z.redIAdd(Z);var ee=Z.redAdd(Z);c=V.redSqr().redISub(ee),y=this.y.redAdd(this.z).redSqr().redISub(P).redISub(T);var $=P.redSqr();$=$.redIAdd($),$=$.redIAdd($),$=$.redIAdd($),d=V.redMul(Z.redISub(c)).redISub($)}return this.curve.jpoint(c,d,y)},v.prototype._dbl=function(){var c=this.curve.a,d=this.x,y=this.y,b=this.z,x=b.redSqr().redSqr(),k=d.redSqr(),N=y.redSqr(),C=k.redAdd(k).redIAdd(k).redIAdd(c.redMul(x)),R=d.redAdd(d);R=R.redIAdd(R);var O=R.redMul(N),T=C.redSqr().redISub(O.redAdd(O)),P=O.redISub(T),z=N.redSqr();z=z.redIAdd(z),z=z.redIAdd(z),z=z.redIAdd(z);var V=C.redMul(P).redISub(z),Z=y.redAdd(y).redMul(b);return this.curve.jpoint(T,V,Z)},v.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var c=this.x.redSqr(),d=this.y.redSqr(),y=this.z.redSqr(),b=d.redSqr(),x=c.redAdd(c).redIAdd(c),k=x.redSqr(),N=this.x.redAdd(d).redSqr().redISub(c).redISub(b);N=N.redIAdd(N),N=N.redAdd(N).redIAdd(N),N=N.redISub(k);var C=N.redSqr(),R=b.redIAdd(b);R=R.redIAdd(R),R=R.redIAdd(R),R=R.redIAdd(R);var O=x.redIAdd(N).redSqr().redISub(k).redISub(C).redISub(R),T=d.redMul(O);T=T.redIAdd(T),T=T.redIAdd(T);var P=this.x.redMul(C).redISub(T);P=P.redIAdd(P),P=P.redIAdd(P);var z=this.y.redMul(O.redMul(R.redISub(O)).redISub(N.redMul(C)));z=z.redIAdd(z),z=z.redIAdd(z),z=z.redIAdd(z);var V=this.z.redAdd(N).redSqr().redISub(y).redISub(C);return this.curve.jpoint(P,z,V)},v.prototype.mul=function(c,d){return c=new a(c,d),this.curve._wnafMul(this,c)},v.prototype.eq=function(c){if(c.type==="affine")return this.eq(c.toJ());if(this===c)return!0;var d=this.z.redSqr(),y=c.z.redSqr();if(this.x.redMul(y).redISub(c.x.redMul(d)).cmpn(0)!==0)return!1;var b=d.redMul(this.z),x=y.redMul(c.z);return this.y.redMul(x).redISub(c.y.redMul(b)).cmpn(0)===0},v.prototype.eqXToP=function(c){var d=this.z.redSqr(),y=c.toRed(this.curve.red).redMul(d);if(this.x.cmp(y)===0)return!0;for(var b=c.clone(),x=this.curve.redN.redMul(d);;){if(b.iadd(this.curve.n),b.cmp(this.curve.p)>=0)return!1;if(y.redIAdd(x),this.x.cmp(y)===0)return!0}},v.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},v.prototype.isInfinity=function(){return this.z.cmpn(0)===0}}),Bx=at((e,t)=>{var r=Bi(),a=zr(),n=Ps(),s=Zr();function o(p){n.call(this,"mont",p),this.a=new r(p.a,16).toRed(this.red),this.b=new r(p.b,16).toRed(this.red),this.i4=new r(4).toRed(this.red).redInvm(),this.two=new r(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}i(o,"j"),a(o,n),t.exports=o,o.prototype.validate=function(p){var v=p.normalize().x,c=v.redSqr(),d=c.redMul(v).redAdd(c.redMul(this.a)).redAdd(v),y=d.redSqrt();return y.redSqr().cmp(d)===0};function h(p,v,c){n.BasePoint.call(this,p,"projective"),v===null&&c===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new r(v,16),this.z=new r(c,16),!this.x.red&&(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}i(h,"z"),a(h,n.BasePoint),o.prototype.decodePoint=function(p,v){return this.point(s.toArray(p,v),1)},o.prototype.point=function(p,v){return new h(this,p,v)},o.prototype.pointFromJSON=function(p){return h.fromJSON(this,p)},h.prototype.precompute=function(){},h.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},h.fromJSON=function(p,v){return new h(p,v[0],v[1]||p.one)},h.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},h.prototype.isInfinity=function(){return this.z.cmpn(0)===0},h.prototype.dbl=function(){var p=this.x.redAdd(this.z),v=p.redSqr(),c=this.x.redSub(this.z),d=c.redSqr(),y=v.redSub(d),b=v.redMul(d),x=y.redMul(d.redAdd(this.curve.a24.redMul(y)));return this.curve.point(b,x)},h.prototype.add=function(){throw Error("Not supported on Montgomery curve")},h.prototype.diffAdd=function(p,v){var c=this.x.redAdd(this.z),d=this.x.redSub(this.z),y=p.x.redAdd(p.z),b=p.x.redSub(p.z),x=b.redMul(c),k=y.redMul(d),N=v.z.redMul(x.redAdd(k).redSqr()),C=v.x.redMul(x.redISub(k).redSqr());return this.curve.point(N,C)},h.prototype.mul=function(p){for(var v=p.clone(),c=this,d=this.curve.point(null,null),y=this,b=[];v.cmpn(0)!==0;v.iushrn(1))b.push(v.andln(1));for(var x=b.length-1;x>=0;x--)b[x]===0?(c=c.diffAdd(d,y),d=d.dbl()):(d=c.diffAdd(d,y),c=c.dbl());return d},h.prototype.mulAdd=function(){throw Error("Not supported on Montgomery curve")},h.prototype.jumlAdd=function(){throw Error("Not supported on Montgomery curve")},h.prototype.eq=function(p){return this.getX().cmp(p.getX())===0},h.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},h.prototype.getX=function(){return this.normalize(),this.x.fromRed()}}),zx=at((e,t)=>{var r=Zr(),a=Bi(),n=zr(),s=Ps(),o=r.assert;function h(v){this.twisted=(v.a|0)!==1,this.mOneA=this.twisted&&(v.a|0)===-1,this.extended=this.mOneA,s.call(this,"edwards",v),this.a=new a(v.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new a(v.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new a(v.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),o(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(v.c|0)===1}i(h,"z"),n(h,s),t.exports=h,h.prototype._mulA=function(v){return this.mOneA?v.redNeg():this.a.redMul(v)},h.prototype._mulC=function(v){return this.oneC?v:this.c.redMul(v)},h.prototype.jpoint=function(v,c,d,y){return this.point(v,c,d,y)},h.prototype.pointFromX=function(v,c){v=new a(v,16),!v.red&&(v=v.toRed(this.red));var d=v.redSqr(),y=this.c2.redSub(this.a.redMul(d)),b=this.one.redSub(this.c2.redMul(this.d).redMul(d)),x=y.redMul(b.redInvm()),k=x.redSqrt();if(k.redSqr().redSub(x).cmp(this.zero)!==0)throw Error("invalid point");var N=k.fromRed().isOdd();return(c&&!N||!c&&N)&&(k=k.redNeg()),this.point(v,k)},h.prototype.pointFromY=function(v,c){v=new a(v,16),!v.red&&(v=v.toRed(this.red));var d=v.redSqr(),y=d.redSub(this.c2),b=d.redMul(this.d).redMul(this.c2).redSub(this.a),x=y.redMul(b.redInvm());if(x.cmp(this.zero)===0){if(c)throw Error("invalid point");return this.point(this.zero,v)}var k=x.redSqrt();if(k.redSqr().redSub(x).cmp(this.zero)!==0)throw Error("invalid point");return k.fromRed().isOdd()!==c&&(k=k.redNeg()),this.point(k,v)},h.prototype.validate=function(v){if(v.isInfinity())return!0;v.normalize();var c=v.x.redSqr(),d=v.y.redSqr(),y=c.redMul(this.a).redAdd(d),b=this.c2.redMul(this.one.redAdd(this.d.redMul(c).redMul(d)));return y.cmp(b)===0};function p(v,c,d,y,b){s.BasePoint.call(this,v,"projective"),c===null&&d===null&&y===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new a(c,16),this.y=new a(d,16),this.z=y?new a(y,16):this.curve.one,this.t=b&&new a(b,16),!this.x.red&&(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),!this.zOne&&(this.t=this.t.redMul(this.z.redInvm()))))}i(p,"J"),n(p,s.BasePoint),h.prototype.pointFromJSON=function(v){return p.fromJSON(this,v)},h.prototype.point=function(v,c,d,y){return new p(this,v,c,d,y)},p.fromJSON=function(v,c){return new p(v,c[0],c[1],c[2])},p.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},p.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},p.prototype._extDbl=function(){var v=this.x.redSqr(),c=this.y.redSqr(),d=this.z.redSqr();d=d.redIAdd(d);var y=this.curve._mulA(v),b=this.x.redAdd(this.y).redSqr().redISub(v).redISub(c),x=y.redAdd(c),k=x.redSub(d),N=y.redSub(c),C=b.redMul(k),R=x.redMul(N),O=b.redMul(N),T=k.redMul(x);return this.curve.point(C,R,T,O)},p.prototype._projDbl=function(){var v=this.x.redAdd(this.y).redSqr(),c=this.x.redSqr(),d=this.y.redSqr(),y,b,x,k,N,C;if(this.curve.twisted){k=this.curve._mulA(c);var R=k.redAdd(d);this.zOne?(y=v.redSub(c).redSub(d).redMul(R.redSub(this.curve.two)),b=R.redMul(k.redSub(d)),x=R.redSqr().redSub(R).redSub(R)):(N=this.z.redSqr(),C=R.redSub(N).redISub(N),y=v.redSub(c).redISub(d).redMul(C),b=R.redMul(k.redSub(d)),x=R.redMul(C))}else k=c.redAdd(d),N=this.curve._mulC(this.z).redSqr(),C=k.redSub(N).redSub(N),y=this.curve._mulC(v.redISub(k)).redMul(C),b=this.curve._mulC(k).redMul(c.redISub(d)),x=k.redMul(C);return this.curve.point(y,b,x)},p.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},p.prototype._extAdd=function(v){var c=this.y.redSub(this.x).redMul(v.y.redSub(v.x)),d=this.y.redAdd(this.x).redMul(v.y.redAdd(v.x)),y=this.t.redMul(this.curve.dd).redMul(v.t),b=this.z.redMul(v.z.redAdd(v.z)),x=d.redSub(c),k=b.redSub(y),N=b.redAdd(y),C=d.redAdd(c),R=x.redMul(k),O=N.redMul(C),T=x.redMul(C),P=k.redMul(N);return this.curve.point(R,O,P,T)},p.prototype._projAdd=function(v){var c=this.z.redMul(v.z),d=c.redSqr(),y=this.x.redMul(v.x),b=this.y.redMul(v.y),x=this.curve.d.redMul(y).redMul(b),k=d.redSub(x),N=d.redAdd(x),C=this.x.redAdd(this.y).redMul(v.x.redAdd(v.y)).redISub(y).redISub(b),R=c.redMul(k).redMul(C),O,T;return this.curve.twisted?(O=c.redMul(N).redMul(b.redSub(this.curve._mulA(y))),T=k.redMul(N)):(O=c.redMul(N).redMul(b.redSub(y)),T=this.curve._mulC(k).redMul(N)),this.curve.point(R,O,T)},p.prototype.add=function(v){return this.isInfinity()?v:v.isInfinity()?this:this.curve.extended?this._extAdd(v):this._projAdd(v)},p.prototype.mul=function(v){return this._hasDoubles(v)?this.curve._fixedNafMul(this,v):this.curve._wnafMul(this,v)},p.prototype.mulAdd=function(v,c,d){return this.curve._wnafMulAdd(1,[this,c],[v,d],2,!1)},p.prototype.jmulAdd=function(v,c,d){return this.curve._wnafMulAdd(1,[this,c],[v,d],2,!0)},p.prototype.normalize=function(){if(this.zOne)return this;var v=this.z.redInvm();return this.x=this.x.redMul(v),this.y=this.y.redMul(v),this.t&&(this.t=this.t.redMul(v)),this.z=this.curve.one,this.zOne=!0,this},p.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},p.prototype.getX=function(){return this.normalize(),this.x.fromRed()},p.prototype.getY=function(){return this.normalize(),this.y.fromRed()},p.prototype.eq=function(v){return this===v||this.getX().cmp(v.getX())===0&&this.getY().cmp(v.getY())===0},p.prototype.eqXToP=function(v){var c=v.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(c)===0)return!0;for(var d=v.clone(),y=this.curve.redN.redMul(this.z);;){if(d.iadd(this.curve.n),d.cmp(this.curve.p)>=0)return!1;if(c.redIAdd(y),this.x.cmp(c)===0)return!0}},p.prototype.toP=p.prototype.normalize,p.prototype.mixedAdd=p.prototype.add}),op=at(e=>{var t=e;t.base=Ps(),t.short=Lx(),t.mont=Bx(),t.edwards=zx()}),mi=at(e=>{var t=nn(),r=zr();e.inherits=r;function a(g,l){return(g.charCodeAt(l)&64512)!==55296||l<0||l+1>=g.length?!1:(g.charCodeAt(l+1)&64512)===56320}i(a,"P");function n(g,l){if(Array.isArray(g))return g.slice();if(!g)return[];var m=[];if(typeof g=="string")if(l){if(l==="hex")for(g=g.replace(/[^a-z0-9]+/ig,""),g.length%2!==0&&(g="0"+g),M=0;M<g.length;M+=2)m.push(parseInt(g[M]+g[M+1],16))}else for(var w=0,M=0;M<g.length;M++){var A=g.charCodeAt(M);A<128?m[w++]=A:A<2048?(m[w++]=A>>6|192,m[w++]=A&63|128):a(g,M)?(A=65536+((A&1023)<<10)+(g.charCodeAt(++M)&1023),m[w++]=A>>18|240,m[w++]=A>>12&63|128,m[w++]=A>>6&63|128,m[w++]=A&63|128):(m[w++]=A>>12|224,m[w++]=A>>6&63|128,m[w++]=A&63|128)}else for(M=0;M<g.length;M++)m[M]=g[M]|0;return m}i(n,"_"),e.toArray=n;function s(g){for(var l="",m=0;m<g.length;m++)l+=p(g[m].toString(16));return l}i(s,"O"),e.toHex=s;function o(g){var l=g>>>24|g>>>8&65280|g<<8&16711680|(g&255)<<24;return l>>>0}i(o,"j"),e.htonl=o;function h(g,l){for(var m="",w=0;w<g.length;w++){var M=g[w];l==="little"&&(M=o(M)),m+=v(M.toString(16))}return m}i(h,"z"),e.toHex32=h;function p(g){return g.length===1?"0"+g:g}i(p,"J"),e.zero2=p;function v(g){return g.length===7?"0"+g:g.length===6?"00"+g:g.length===5?"000"+g:g.length===4?"0000"+g:g.length===3?"00000"+g:g.length===2?"000000"+g:g.length===1?"0000000"+g:g}i(v,"w"),e.zero8=v;function c(g,l,m,w){var M=m-l;t(M%4===0);for(var A=Array(M/4),S=0,f=l;S<A.length;S++,f+=4){var _;w==="big"?_=g[f]<<24|g[f+1]<<16|g[f+2]<<8|g[f+3]:_=g[f+3]<<24|g[f+2]<<16|g[f+1]<<8|g[f],A[S]=_>>>0}return A}i(c,"G"),e.join32=c;function d(g,l){for(var m=Array(g.length*4),w=0,M=0;w<g.length;w++,M+=4){var A=g[w];l==="big"?(m[M]=A>>>24,m[M+1]=A>>>16&255,m[M+2]=A>>>8&255,m[M+3]=A&255):(m[M+3]=A>>>24,m[M+2]=A>>>16&255,m[M+1]=A>>>8&255,m[M]=A&255)}return m}i(d,"f"),e.split32=d;function y(g,l){return g>>>l|g<<32-l}i(y,"A"),e.rotr32=y;function b(g,l){return g<<l|g>>>32-l}i(b,"V"),e.rotl32=b;function x(g,l){return g+l>>>0}i(x,"C"),e.sum32=x;function k(g,l,m){return g+l+m>>>0}i(k,"E"),e.sum32_3=k;function N(g,l,m,w){return g+l+m+w>>>0}i(N,"R"),e.sum32_4=N;function C(g,l,m,w,M){return g+l+m+w+M>>>0}i(C,"I"),e.sum32_5=C;function R(g,l,m,w){var M=g[l],A=g[l+1],S=w+A>>>0,f=(S<w?1:0)+m+M;g[l]=f>>>0,g[l+1]=S}i(R,"D"),e.sum64=R;function O(g,l,m,w){var M=l+w>>>0,A=(M<l?1:0)+g+m;return A>>>0}i(O,"b"),e.sum64_hi=O;function T(g,l,m,w){var M=l+w;return M>>>0}i(T,"u"),e.sum64_lo=T;function P(g,l,m,w,M,A,S,f){var _=0,E=l;E=E+w>>>0,_+=E<l?1:0,E=E+A>>>0,_+=E<A?1:0,E=E+f>>>0,_+=E<f?1:0;var I=g+m+M+S+_;return I>>>0}i(P,"y"),e.sum64_4_hi=P;function z(g,l,m,w,M,A,S,f){var _=l+w+A+f;return _>>>0}i(z,"c"),e.sum64_4_lo=z;function V(g,l,m,w,M,A,S,f,_,E){var I=0,D=l;D=D+w>>>0,I+=D<l?1:0,D=D+A>>>0,I+=D<A?1:0,D=D+f>>>0,I+=D<f?1:0,D=D+E>>>0,I+=D<E?1:0;var L=g+m+M+S+_+I;return L>>>0}i(V,"m"),e.sum64_5_hi=V;function Z(g,l,m,w,M,A,S,f,_,E){var I=l+w+A+f+E;return I>>>0}i(Z,"q$"),e.sum64_5_lo=Z;function ee(g,l,m){var w=l<<32-m|g>>>m;return w>>>0}i(ee,"e"),e.rotr64_hi=ee;function $(g,l,m){var w=g<<32-m|l>>>m;return w>>>0}i($,"l"),e.rotr64_lo=$;function F(g,l,m){return g>>>m}i(F,"r"),e.shr64_hi=F;function u(g,l,m){var w=g<<32-m|l>>>m;return w>>>0}i(u,"M"),e.shr64_lo=u}),$a=at(e=>{var t=mi(),r=nn();function a(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}i(a,"P"),e.BlockHash=a,a.prototype.update=function(n,s){if(n=t.toArray(n,s),this.pending?this.pending=this.pending.concat(n):this.pending=n,this.pendingTotal+=n.length,this.pending.length>=this._delta8){n=this.pending;var o=n.length%this._delta8;this.pending=n.slice(n.length-o,n.length),this.pending.length===0&&(this.pending=null),n=t.join32(n,0,n.length-o,this.endian);for(var h=0;h<n.length;h+=this._delta32)this._update(n,h,h+this._delta32)}return this},a.prototype.digest=function(n){return this.update(this._pad()),r(this.pending===null),this._digest(n)},a.prototype._pad=function(){var n=this.pendingTotal,s=this._delta8,o=s-(n+this.padLength)%s,h=Array(o+this.padLength);h[0]=128;for(var p=1;p<o;p++)h[p]=0;if(n<<=3,this.endian==="big"){for(var v=8;v<this.padLength;v++)h[p++]=0;h[p++]=0,h[p++]=0,h[p++]=0,h[p++]=0,h[p++]=n>>>24&255,h[p++]=n>>>16&255,h[p++]=n>>>8&255,h[p++]=n&255}else for(h[p++]=n&255,h[p++]=n>>>8&255,h[p++]=n>>>16&255,h[p++]=n>>>24&255,h[p++]=0,h[p++]=0,h[p++]=0,h[p++]=0,v=8;v<this.padLength;v++)h[p++]=0;return h}}),lp=at(e=>{var t=mi(),r=t.rotr32;function a(d,y,b,x){if(d===0)return n(y,b,x);if(d===1||d===3)return o(y,b,x);if(d===2)return s(y,b,x)}i(a,"P"),e.ft_1=a;function n(d,y,b){return d&y^~d&b}i(n,"_"),e.ch32=n;function s(d,y,b){return d&y^d&b^y&b}i(s,"O"),e.maj32=s;function o(d,y,b){return d^y^b}i(o,"j"),e.p32=o;function h(d){return r(d,2)^r(d,13)^r(d,22)}i(h,"z"),e.s0_256=h;function p(d){return r(d,6)^r(d,11)^r(d,25)}i(p,"J"),e.s1_256=p;function v(d){return r(d,7)^r(d,18)^d>>>3}i(v,"w"),e.g0_256=v;function c(d){return r(d,17)^r(d,19)^d>>>10}i(c,"G"),e.g1_256=c}),Ux=at((e,t)=>{var r=mi(),a=$a(),n=lp(),s=r.rotl32,o=r.sum32,h=r.sum32_5,p=n.ft_1,v=a.BlockHash,c=[1518500249,1859775393,2400959708,3395469782];function d(){if(!(this instanceof d))return new d;v.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=Array(80)}i(d,"f"),r.inherits(d,v),t.exports=d,d.blockSize=512,d.outSize=160,d.hmacStrength=80,d.padLength=64,d.prototype._update=function(y,b){for(var x=this.W,k=0;k<16;k++)x[k]=y[b+k];for(;k<x.length;k++)x[k]=s(x[k-3]^x[k-8]^x[k-14]^x[k-16],1);var N=this.h[0],C=this.h[1],R=this.h[2],O=this.h[3],T=this.h[4];for(k=0;k<x.length;k++){var P=~~(k/20),z=h(s(N,5),p(P,C,R,O),T,x[k],c[P]);T=O,O=R,R=s(C,30),C=N,N=z}this.h[0]=o(this.h[0],N),this.h[1]=o(this.h[1],C),this.h[2]=o(this.h[2],R),this.h[3]=o(this.h[3],O),this.h[4]=o(this.h[4],T)},d.prototype._digest=function(y){return y==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")}}),up=at((e,t)=>{var r=mi(),a=$a(),n=lp(),s=nn(),o=r.sum32,h=r.sum32_4,p=r.sum32_5,v=n.ch32,c=n.maj32,d=n.s0_256,y=n.s1_256,b=n.g0_256,x=n.g1_256,k=a.BlockHash,N=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function C(){if(!(this instanceof C))return new C;k.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=N,this.W=Array(64)}i(C,"I"),r.inherits(C,k),t.exports=C,C.blockSize=512,C.outSize=256,C.hmacStrength=192,C.padLength=64,C.prototype._update=function(R,O){for(var T=this.W,P=0;P<16;P++)T[P]=R[O+P];for(;P<T.length;P++)T[P]=h(x(T[P-2]),T[P-7],b(T[P-15]),T[P-16]);var z=this.h[0],V=this.h[1],Z=this.h[2],ee=this.h[3],$=this.h[4],F=this.h[5],u=this.h[6],g=this.h[7];for(s(this.k.length===T.length),P=0;P<T.length;P++){var l=p(g,y($),v($,F,u),this.k[P],T[P]),m=o(d(z),c(z,V,Z));g=u,u=F,F=$,$=o(ee,l),ee=Z,Z=V,V=z,z=o(l,m)}this.h[0]=o(this.h[0],z),this.h[1]=o(this.h[1],V),this.h[2]=o(this.h[2],Z),this.h[3]=o(this.h[3],ee),this.h[4]=o(this.h[4],$),this.h[5]=o(this.h[5],F),this.h[6]=o(this.h[6],u),this.h[7]=o(this.h[7],g)},C.prototype._digest=function(R){return R==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")}}),Fx=at((e,t)=>{var r=mi(),a=up();function n(){if(!(this instanceof n))return new n;a.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}i(n,"_"),r.inherits(n,a),t.exports=n,n.blockSize=512,n.outSize=224,n.hmacStrength=192,n.padLength=64,n.prototype._digest=function(s){return s==="hex"?r.toHex32(this.h.slice(0,7),"big"):r.split32(this.h.slice(0,7),"big")}}),fp=at((e,t)=>{var r=mi(),a=$a(),n=nn(),s=r.rotr64_hi,o=r.rotr64_lo,h=r.shr64_hi,p=r.shr64_lo,v=r.sum64,c=r.sum64_hi,d=r.sum64_lo,y=r.sum64_4_hi,b=r.sum64_4_lo,x=r.sum64_5_hi,k=r.sum64_5_lo,N=a.BlockHash,C=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function R(){if(!(this instanceof R))return new R;N.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=C,this.W=Array(160)}i(R,"D"),r.inherits(R,N),t.exports=R,R.blockSize=1024,R.outSize=512,R.hmacStrength=192,R.padLength=128,R.prototype._prepareBlock=function(m,w){for(var M=this.W,A=0;A<32;A++)M[A]=m[w+A];for(;A<M.length;A+=2){var S=g(M[A-4],M[A-3]),f=l(M[A-4],M[A-3]),_=M[A-14],E=M[A-13],I=F(M[A-30],M[A-29]),D=u(M[A-30],M[A-29]),L=M[A-32],U=M[A-31];M[A]=y(S,f,_,E,I,D,L,U),M[A+1]=b(S,f,_,E,I,D,L,U)}},R.prototype._update=function(m,w){this._prepareBlock(m,w);var M=this.W,A=this.h[0],S=this.h[1],f=this.h[2],_=this.h[3],E=this.h[4],I=this.h[5],D=this.h[6],L=this.h[7],U=this.h[8],B=this.h[9],G=this.h[10],H=this.h[11],K=this.h[12],_e=this.h[13],ae=this.h[14],se=this.h[15];n(this.k.length===M.length);for(var ye=0;ye<M.length;ye+=2){var q=ae,re=se,X=ee(U,B),W=$(U,B),le=O(U,B,G,H,K),ke=T(U,B,G,H,K,_e),pe=this.k[ye],fe=this.k[ye+1],Q=M[ye],Y=M[ye+1],te=x(q,re,X,W,le,ke,pe,fe,Q,Y),he=k(q,re,X,W,le,ke,pe,fe,Q,Y);q=V(A,S),re=Z(A,S),X=P(A,S,f,_,E),W=z(A,S,f,_,E,I);var oe=c(q,re,X,W),ue=d(q,re,X,W);ae=K,se=_e,K=G,_e=H,G=U,H=B,U=c(D,L,te,he),B=d(L,L,te,he),D=E,L=I,E=f,I=_,f=A,_=S,A=c(te,he,oe,ue),S=d(te,he,oe,ue)}v(this.h,0,A,S),v(this.h,2,f,_),v(this.h,4,E,I),v(this.h,6,D,L),v(this.h,8,U,B),v(this.h,10,G,H),v(this.h,12,K,_e),v(this.h,14,ae,se)},R.prototype._digest=function(m){return m==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")};function O(m,w,M,A,S){var f=m&M^~m&S;return f<0&&(f+=4294967296),f}i(O,"b");function T(m,w,M,A,S,f){var _=w&A^~w&f;return _<0&&(_+=4294967296),_}i(T,"u");function P(m,w,M,A,S){var f=m&M^m&S^M&S;return f<0&&(f+=4294967296),f}i(P,"y");function z(m,w,M,A,S,f){var _=w&A^w&f^A&f;return _<0&&(_+=4294967296),_}i(z,"c");function V(m,w){var M=s(m,w,28),A=s(w,m,2),S=s(w,m,7),f=M^A^S;return f<0&&(f+=4294967296),f}i(V,"m");function Z(m,w){var M=o(m,w,28),A=o(w,m,2),S=o(w,m,7),f=M^A^S;return f<0&&(f+=4294967296),f}i(Z,"q$");function ee(m,w){var M=s(m,w,14),A=s(m,w,18),S=s(w,m,9),f=M^A^S;return f<0&&(f+=4294967296),f}i(ee,"e");function $(m,w){var M=o(m,w,14),A=o(m,w,18),S=o(w,m,9),f=M^A^S;return f<0&&(f+=4294967296),f}i($,"l");function F(m,w){var M=s(m,w,1),A=s(m,w,8),S=h(m,w,7),f=M^A^S;return f<0&&(f+=4294967296),f}i(F,"r");function u(m,w){var M=o(m,w,1),A=o(m,w,8),S=p(m,w,7),f=M^A^S;return f<0&&(f+=4294967296),f}i(u,"M");function g(m,w){var M=s(m,w,19),A=s(w,m,29),S=h(m,w,6),f=M^A^S;return f<0&&(f+=4294967296),f}i(g,"Y");function l(m,w){var M=o(m,w,19),A=o(w,m,29),S=p(m,w,6),f=M^A^S;return f<0&&(f+=4294967296),f}i(l,"H")}),$x=at((e,t)=>{var r=mi(),a=fp();function n(){if(!(this instanceof n))return new n;a.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}i(n,"_"),r.inherits(n,a),t.exports=n,n.blockSize=1024,n.outSize=384,n.hmacStrength=192,n.padLength=128,n.prototype._digest=function(s){return s==="hex"?r.toHex32(this.h.slice(0,12),"big"):r.split32(this.h.slice(0,12),"big")}}),Gx=at(e=>{e.sha1=Ux(),e.sha224=Fx(),e.sha256=up(),e.sha384=$x(),e.sha512=fp()}),Vx=at(e=>{var t=mi(),r=$a(),a=t.rotl32,n=t.sum32,s=t.sum32_3,o=t.sum32_4,h=r.BlockHash;function p(){if(!(this instanceof p))return new p;h.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}i(p,"J"),t.inherits(p,h),e.ripemd160=p,p.blockSize=512,p.outSize=160,p.hmacStrength=192,p.padLength=64,p.prototype._update=function(N,C){for(var R=this.h[0],O=this.h[1],T=this.h[2],P=this.h[3],z=this.h[4],V=R,Z=O,ee=T,$=P,F=z,u=0;u<80;u++){var g=n(a(o(R,v(u,O,T,P),N[y[u]+C],c(u)),x[u]),z);R=z,z=P,P=a(T,10),T=O,O=g,g=n(a(o(V,v(79-u,Z,ee,$),N[b[u]+C],d(u)),k[u]),F),V=F,F=$,$=a(ee,10),ee=Z,Z=g}g=s(this.h[1],T,$),this.h[1]=s(this.h[2],P,F),this.h[2]=s(this.h[3],z,V),this.h[3]=s(this.h[4],R,Z),this.h[4]=s(this.h[0],O,ee),this.h[0]=g},p.prototype._digest=function(N){return N==="hex"?t.toHex32(this.h,"little"):t.split32(this.h,"little")};function v(N,C,R,O){return N<=15?C^R^O:N<=31?C&R|~C&O:N<=47?(C|~R)^O:N<=63?C&O|R&~O:C^(R|~O)}i(v,"w");function c(N){return N<=15?0:N<=31?1518500249:N<=47?1859775393:N<=63?2400959708:2840853838}i(c,"G");function d(N){return N<=15?1352829926:N<=31?1548603684:N<=47?1836072691:N<=63?2053994217:0}i(d,"f");var y=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],b=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],x=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],k=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]}),Zx=at((e,t)=>{var r=mi(),a=nn();function n(s,o,h){if(!(this instanceof n))return new n(s,o,h);this.Hash=s,this.blockSize=s.blockSize/8,this.outSize=s.outSize/8,this.inner=null,this.outer=null,this._init(r.toArray(o,h))}i(n,"_"),t.exports=n,n.prototype._init=function(s){s.length>this.blockSize&&(s=new this.Hash().update(s).digest()),a(s.length<=this.blockSize);for(var o=s.length;o<this.blockSize;o++)s.push(0);for(o=0;o<s.length;o++)s[o]^=54;for(this.inner=new this.Hash().update(s),o=0;o<s.length;o++)s[o]^=106;this.outer=new this.Hash().update(s)},n.prototype.update=function(s,o){return this.inner.update(s,o),this},n.prototype.digest=function(s){return this.outer.update(this.inner.digest()),this.outer.digest(s)}}),Kl=at(e=>{var t=e;t.utils=mi(),t.common=$a(),t.sha=Gx(),t.ripemd=Vx(),t.hmac=Zx(),t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160}),Hx=at((e,t)=>{t.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}}),Xl=at(e=>{var t=e,r=Kl(),a=op(),n=Zr(),s=n.assert;function o(v){v.type==="short"?this.curve=new a.short(v):v.type==="edwards"?this.curve=new a.edwards(v):this.curve=new a.mont(v),this.g=this.curve.g,this.n=this.curve.n,this.hash=v.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}i(o,"j"),t.PresetCurve=o;function h(v,c){Object.defineProperty(t,v,{configurable:!0,enumerable:!0,get:i(function(){var d=new o(c);return Object.defineProperty(t,v,{configurable:!0,enumerable:!0,value:d}),d},"get")})}i(h,"z"),h("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),h("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),h("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),h("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),h("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),h("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),h("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var p;try{p=Hx()}catch{p=void 0}h("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",p]})}),Jx=at((e,t)=>{var r=Kl(),a=ap(),n=nn();function s(o){if(!(this instanceof s))return new s(o);this.hash=o.hash,this.predResist=!!o.predResist,this.outLen=this.hash.outSize,this.minEntropy=o.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var h=a.toArray(o.entropy,o.entropyEnc||"hex"),p=a.toArray(o.nonce,o.nonceEnc||"hex"),v=a.toArray(o.pers,o.persEnc||"hex");n(h.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(h,p,v)}i(s,"O"),t.exports=s,s.prototype._init=function(o,h,p){var v=o.concat(h).concat(p);this.K=Array(this.outLen/8),this.V=Array(this.outLen/8);for(var c=0;c<this.V.length;c++)this.K[c]=0,this.V[c]=1;this._update(v),this._reseed=1,this.reseedInterval=281474976710656},s.prototype._hmac=function(){return new r.hmac(this.hash,this.K)},s.prototype._update=function(o){var h=this._hmac().update(this.V).update([0]);o&&(h=h.update(o)),this.K=h.digest(),this.V=this._hmac().update(this.V).digest(),o&&(this.K=this._hmac().update(this.V).update([1]).update(o).digest(),this.V=this._hmac().update(this.V).digest())},s.prototype.reseed=function(o,h,p,v){typeof h!="string"&&(v=p,p=h,h=null),o=a.toArray(o,h),p=a.toArray(p,v),n(o.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(o.concat(p||[])),this._reseed=1},s.prototype.generate=function(o,h,p,v){if(this._reseed>this.reseedInterval)throw Error("Reseed is required");typeof h!="string"&&(v=p,p=h,h=null),p&&(p=a.toArray(p,v||"hex"),this._update(p));for(var c=[];c.length<o;)this.V=this._hmac().update(this.V).digest(),c=c.concat(this.V);var d=c.slice(0,o);return this._update(p),this._reseed++,a.encode(d,h)}}),qx=at((e,t)=>{var r=Bi(),a=Zr(),n=a.assert;function s(o,h){this.ec=o,this.priv=null,this.pub=null,h.priv&&this._importPrivate(h.priv,h.privEnc),h.pub&&this._importPublic(h.pub,h.pubEnc)}i(s,"O"),t.exports=s,s.fromPublic=function(o,h,p){return h instanceof s?h:new s(o,{pub:h,pubEnc:p})},s.fromPrivate=function(o,h,p){return h instanceof s?h:new s(o,{priv:h,privEnc:p})},s.prototype.validate=function(){var o=this.getPublic();return o.isInfinity()?{result:!1,reason:"Invalid public key"}:o.validate()?o.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},s.prototype.getPublic=function(o,h){return typeof o=="string"&&(h=o,o=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),h?this.pub.encode(h,o):this.pub},s.prototype.getPrivate=function(o){return o==="hex"?this.priv.toString(16,2):this.priv},s.prototype._importPrivate=function(o,h){this.priv=new r(o,h||16),this.priv=this.priv.umod(this.ec.curve.n)},s.prototype._importPublic=function(o,h){if(o.x||o.y){this.ec.curve.type==="mont"?n(o.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&n(o.x&&o.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(o.x,o.y);return}this.pub=this.ec.curve.decodePoint(o,h)},s.prototype.derive=function(o){return o.validate()||n(o.validate(),"public point not validated"),o.mul(this.priv).getX()},s.prototype.sign=function(o,h,p){return this.ec.sign(o,this,h,p)},s.prototype.verify=function(o,h,p){return this.ec.verify(o,h,this,void 0,p)},s.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}}),Kx=at((e,t)=>{var r=Bi(),a=Zr(),n=a.assert;function s(c,d){if(c instanceof s)return c;this._importDER(c,d)||(n(c.r&&c.s,"Signature without r or s"),this.r=new r(c.r,16),this.s=new r(c.s,16),c.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=c.recoveryParam)}i(s,"O"),t.exports=s;function o(){this.place=0}i(o,"j");function h(c,d){var y=c[d.place++];if(!(y&128))return y;var b=y&15;if(b===0||b>4||c[d.place]===0)return!1;for(var x=0,k=0,N=d.place;k<b;k++,N++)x<<=8,x|=c[N],x>>>=0;return x<=127?!1:(d.place=N,x)}i(h,"z");function p(c){for(var d=0,y=c.length-1;!c[d]&&!(c[d+1]&128)&&d<y;)d++;return d===0?c:c.slice(d)}i(p,"J"),s.prototype._importDER=function(c,d){c=a.toArray(c,d);var y=new o;if(c[y.place++]!==48)return!1;var b=h(c,y);if(b===!1||b+y.place!==c.length||c[y.place++]!==2)return!1;var x=h(c,y);if(x===!1||(c[y.place]&128)!==0)return!1;var k=c.slice(y.place,x+y.place);if(y.place+=x,c[y.place++]!==2)return!1;var N=h(c,y);if(N===!1||c.length!==N+y.place||(c[y.place]&128)!==0)return!1;var C=c.slice(y.place,N+y.place);if(k[0]===0)if(k[1]&128)k=k.slice(1);else return!1;if(C[0]===0)if(C[1]&128)C=C.slice(1);else return!1;return this.r=new r(k),this.s=new r(C),this.recoveryParam=null,!0};function v(c,d){if(d<128){c.push(d);return}var y=1+(Math.log(d)/Math.LN2>>>3);for(c.push(y|128);--y;)c.push(d>>>(y<<3)&255);c.push(d)}i(v,"w"),s.prototype.toDER=function(c){var d=this.r.toArray(),y=this.s.toArray();for(d[0]&128&&(d=[0].concat(d)),y[0]&128&&(y=[0].concat(y)),d=p(d),y=p(y);!y[0]&&!(y[1]&128);)y=y.slice(1);var b=[2];v(b,d.length),b=b.concat(d),b.push(2),v(b,y.length);var x=b.concat(y),k=[48];return v(k,x.length),k=k.concat(x),a.encode(k,c)}}),Xx=at((e,t)=>{var r=Bi(),a=Jx(),n=Zr(),s=Xl(),o=sp(),h=n.assert,p=qx(),v=Kx();function c(d){if(!(this instanceof c))return new c(d);typeof d=="string"&&(h(Object.prototype.hasOwnProperty.call(s,d),"Unknown curve "+d),d=s[d]),d instanceof s.PresetCurve&&(d={curve:d}),this.curve=d.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=d.curve.g,this.g.precompute(d.curve.n.bitLength()+1),this.hash=d.hash||d.curve.hash}i(c,"G"),t.exports=c,c.prototype.keyPair=function(d){return new p(this,d)},c.prototype.keyFromPrivate=function(d,y){return p.fromPrivate(this,d,y)},c.prototype.keyFromPublic=function(d,y){return p.fromPublic(this,d,y)},c.prototype.genKeyPair=function(d){d||(d={});for(var y=new a({hash:this.hash,pers:d.pers,persEnc:d.persEnc||"utf8",entropy:d.entropy||o(this.hash.hmacStrength),entropyEnc:d.entropy&&d.entropyEnc||"utf8",nonce:this.n.toArray()}),b=this.n.byteLength(),x=this.n.sub(new r(2));;){var k=new r(y.generate(b));if(!(k.cmp(x)>0))return k.iaddn(1),this.keyFromPrivate(k)}},c.prototype._truncateToN=function(d,y,b){var x;if(r.isBN(d)||typeof d=="number")d=new r(d,16),x=d.byteLength();else if(typeof d=="object")x=d.length,d=new r(d,16);else{var k=d.toString();x=k.length+1>>>1,d=new r(k,16)}typeof b!="number"&&(b=x*8);var N=b-this.n.bitLength();return N>0&&(d=d.ushrn(N)),!y&&d.cmp(this.n)>=0?d.sub(this.n):d},c.prototype.sign=function(d,y,b,x){if(typeof b=="object"&&(x=b,b=null),x||(x={}),typeof d!="string"&&typeof d!="number"&&!r.isBN(d)){h(typeof d=="object"&&d&&typeof d.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),h(d.length>>>0===d.length);for(var k=0;k<d.length;k++)h((d[k]&255)===d[k])}y=this.keyFromPrivate(y,b),d=this._truncateToN(d,!1,x.msgBitLength),h(!d.isNeg(),"Can not sign a negative message");var N=this.n.byteLength(),C=y.getPrivate().toArray("be",N),R=d.toArray("be",N);h(new r(R).eq(d),"Can not sign message");for(var O=new a({hash:this.hash,entropy:C,nonce:R,pers:x.pers,persEnc:x.persEnc||"utf8"}),T=this.n.sub(new r(1)),P=0;;P++){var z=x.k?x.k(P):new r(O.generate(this.n.byteLength()));if(z=this._truncateToN(z,!0),!(z.cmpn(1)<=0||z.cmp(T)>=0)){var V=this.g.mul(z);if(!V.isInfinity()){var Z=V.getX(),ee=Z.umod(this.n);if(ee.cmpn(0)!==0){var $=z.invm(this.n).mul(ee.mul(y.getPrivate()).iadd(d));if($=$.umod(this.n),$.cmpn(0)!==0){var F=(V.getY().isOdd()?1:0)|(Z.cmp(ee)!==0?2:0);return x.canonical&&$.cmp(this.nh)>0&&($=this.n.sub($),F^=1),new v({r:ee,s:$,recoveryParam:F})}}}}}},c.prototype.verify=function(d,y,b,x,k){k||(k={}),d=this._truncateToN(d,!1,k.msgBitLength),b=this.keyFromPublic(b,x),y=new v(y,"hex");var{r:N,s:C}=y;if(N.cmpn(1)<0||N.cmp(this.n)>=0||C.cmpn(1)<0||C.cmp(this.n)>=0)return!1;var R=C.invm(this.n),O=R.mul(d).umod(this.n),T=R.mul(N).umod(this.n),P;return this.curve._maxwellTrick?(P=this.g.jmulAdd(O,b.getPublic(),T),P.isInfinity()?!1:P.eqXToP(N)):(P=this.g.mulAdd(O,b.getPublic(),T),P.isInfinity()?!1:P.getX().umod(this.n).cmp(N)===0)},c.prototype.recoverPubKey=function(d,y,b,x){h((3&b)===b,"The recovery param is more than two bits"),y=new v(y,x);var k=this.n,N=new r(d),C=y.r,R=y.s,O=b&1,T=b>>1;if(C.cmp(this.curve.p.umod(this.curve.n))>=0&&T)throw Error("Unable to find sencond key candinate");T?C=this.curve.pointFromX(C.add(this.curve.n),O):C=this.curve.pointFromX(C,O);var P=y.r.invm(k),z=k.sub(N).mul(P).umod(k),V=R.mul(P).umod(k);return this.g.mulAdd(z,C,V)},c.prototype.getKeyRecoveryParam=function(d,y,b,x){if(y=new v(y,x),y.recoveryParam!==null)return y.recoveryParam;for(var k=0;k<4;k++){var N;try{N=this.recoverPubKey(d,y,k)}catch{continue}if(N.eq(b))return k}throw Error("Unable to find valid recovery factor")}}),Wx=at((e,t)=>{var r=Zr(),a=r.assert,n=r.parseBytes,s=r.cachedProperty;function o(h,p){this.eddsa=h,this._secret=n(p.secret),h.isPoint(p.pub)?this._pub=p.pub:this._pubBytes=n(p.pub)}i(o,"j"),o.fromPublic=function(h,p){return p instanceof o?p:new o(h,{pub:p})},o.fromSecret=function(h,p){return p instanceof o?p:new o(h,{secret:p})},o.prototype.secret=function(){return this._secret},s(o,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),s(o,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),s(o,"privBytes",function(){var h=this.eddsa,p=this.hash(),v=h.encodingLength-1,c=p.slice(0,h.encodingLength);return c[0]&=248,c[v]&=127,c[v]|=64,c}),s(o,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),s(o,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),s(o,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),o.prototype.sign=function(h){return a(this._secret,"KeyPair can only verify"),this.eddsa.sign(h,this)},o.prototype.verify=function(h,p){return this.eddsa.verify(h,p,this)},o.prototype.getSecret=function(h){return a(this._secret,"KeyPair is public only"),r.encode(this.secret(),h)},o.prototype.getPublic=function(h){return r.encode(this.pubBytes(),h)},t.exports=o}),Qx=at((e,t)=>{var r=Bi(),a=Zr(),n=a.assert,s=a.cachedProperty,o=a.parseBytes;function h(p,v){this.eddsa=p,typeof v!="object"&&(v=o(v)),Array.isArray(v)&&(n(v.length===p.encodingLength*2,"Signature has invalid size"),v={R:v.slice(0,p.encodingLength),S:v.slice(p.encodingLength)}),n(v.R&&v.S,"Signature without R or S"),p.isPoint(v.R)&&(this._R=v.R),v.S instanceof r&&(this._S=v.S),this._Rencoded=Array.isArray(v.R)?v.R:v.Rencoded,this._Sencoded=Array.isArray(v.S)?v.S:v.Sencoded}i(h,"z"),s(h,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),s(h,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),s(h,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),s(h,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),h.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},h.prototype.toHex=function(){return a.encode(this.toBytes(),"hex").toUpperCase()},t.exports=h}),Yx=at((e,t)=>{var r=Kl(),a=Xl(),n=Zr(),s=n.assert,o=n.parseBytes,h=Wx(),p=Qx();function v(c){if(s(c==="ed25519","only tested with ed25519 so far"),!(this instanceof v))return new v(c);c=a[c].curve,this.curve=c,this.g=c.g,this.g.precompute(c.n.bitLength()+1),this.pointClass=c.point().constructor,this.encodingLength=Math.ceil(c.n.bitLength()/8),this.hash=r.sha512}i(v,"w"),t.exports=v,v.prototype.sign=function(c,d){c=o(c);var y=this.keyFromSecret(d),b=this.hashInt(y.messagePrefix(),c),x=this.g.mul(b),k=this.encodePoint(x),N=this.hashInt(k,y.pubBytes(),c).mul(y.priv()),C=b.add(N).umod(this.curve.n);return this.makeSignature({R:x,S:C,Rencoded:k})},v.prototype.verify=function(c,d,y){if(c=o(c),d=this.makeSignature(d),d.S().gte(d.eddsa.curve.n)||d.S().isNeg())return!1;var b=this.keyFromPublic(y),x=this.hashInt(d.Rencoded(),b.pubBytes(),c),k=this.g.mul(d.S()),N=d.R().add(b.pub().mul(x));return N.eq(k)},v.prototype.hashInt=function(){for(var c=this.hash(),d=0;d<arguments.length;d++)c.update(arguments[d]);return n.intFromLE(c.digest()).umod(this.curve.n)},v.prototype.keyFromPublic=function(c){return h.fromPublic(this,c)},v.prototype.keyFromSecret=function(c){return h.fromSecret(this,c)},v.prototype.makeSignature=function(c){return c instanceof p?c:new p(this,c)},v.prototype.encodePoint=function(c){var d=c.getY().toArray("le",this.encodingLength);return d[this.encodingLength-1]|=c.getX().isOdd()?128:0,d},v.prototype.decodePoint=function(c){c=n.parseBytes(c);var d=c.length-1,y=c.slice(0,d).concat(c[d]&-129),b=(c[d]&128)!==0,x=n.intFromLE(y);return this.curve.pointFromY(x,b)},v.prototype.encodeInt=function(c){return c.toArray("le",this.encodingLength)},v.prototype.decodeInt=function(c){return n.intFromLE(c)},v.prototype.isPoint=function(c){return c instanceof this.pointClass}}),e4=at(e=>{var t=e;t.version=Px().version,t.utils=Zr(),t.rand=sp(),t.curve=op(),t.curves=Xl(),t.ec=Xx(),t.eddsa=Yx()}),t4=at((e,t)=>{(function(r,a){function n(u,g){if(!u)throw Error(g||"Assertion failed")}i(n,"_");function s(u,g){u.super_=g;var l=i(function(){},"H");l.prototype=g.prototype,u.prototype=new l,u.prototype.constructor=u}i(s,"O");function o(u,g,l){if(o.isBN(u))return u;this.negative=0,this.words=null,this.length=0,this.red=null,u!==null&&((g==="le"||g==="be")&&(l=g,g=10),this._init(u||0,g||10,l||"be"))}i(o,"j"),typeof r=="object"?r.exports=o:a.BN=o,o.BN=o,o.wordSize=26;var h;try{typeof window<"u"&&typeof window.Buffer<"u"?h=window.Buffer:h=(Mr(),$t(wr)).Buffer}catch{}o.isBN=function(u){return u instanceof o?!0:u!==null&&typeof u=="object"&&u.constructor.wordSize===o.wordSize&&Array.isArray(u.words)},o.max=function(u,g){return u.cmp(g)>0?u:g},o.min=function(u,g){return u.cmp(g)<0?u:g},o.prototype._init=function(u,g,l){if(typeof u=="number")return this._initNumber(u,g,l);if(typeof u=="object")return this._initArray(u,g,l);g==="hex"&&(g=16),n(g===(g|0)&&g>=2&&g<=36),u=u.toString().replace(/\s+/g,"");var m=0;u[0]==="-"&&(m++,this.negative=1),m<u.length&&(g===16?this._parseHex(u,m,l):(this._parseBase(u,g,m),l==="le"&&this._initArray(this.toArray(),g,l)))},o.prototype._initNumber=function(u,g,l){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[u&67108863],this.length=1):u<4503599627370496?(this.words=[u&67108863,u/67108864&67108863],this.length=2):(n(u<9007199254740992),this.words=[u&67108863,u/67108864&67108863,1],this.length=3),l==="le"&&this._initArray(this.toArray(),g,l)},o.prototype._initArray=function(u,g,l){if(n(typeof u.length=="number"),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var w,M,A=0;if(l==="be")for(m=u.length-1,w=0;m>=0;m-=3)M=u[m]|u[m-1]<<8|u[m-2]<<16,this.words[w]|=M<<A&67108863,this.words[w+1]=M>>>26-A&67108863,A+=24,A>=26&&(A-=26,w++);else if(l==="le")for(m=0,w=0;m<u.length;m+=3)M=u[m]|u[m+1]<<8|u[m+2]<<16,this.words[w]|=M<<A&67108863,this.words[w+1]=M>>>26-A&67108863,A+=24,A>=26&&(A-=26,w++);return this.strip()};function p(u,g){var l=u.charCodeAt(g);return l>=65&&l<=70?l-55:l>=97&&l<=102?l-87:l-48&15}i(p,"J");function v(u,g,l){var m=p(u,l);return l-1>=g&&(m|=p(u,l-1)<<4),m}i(v,"w"),o.prototype._parseHex=function(u,g,l){this.length=Math.ceil((u.length-g)/6),this.words=Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var w=0,M=0,A;if(l==="be")for(m=u.length-1;m>=g;m-=2)A=v(u,g,m)<<w,this.words[M]|=A&67108863,w>=18?(w-=18,M+=1,this.words[M]|=A>>>26):w+=8;else{var S=u.length-g;for(m=S%2===0?g+1:g;m<u.length;m+=2)A=v(u,g,m)<<w,this.words[M]|=A&67108863,w>=18?(w-=18,M+=1,this.words[M]|=A>>>26):w+=8}this.strip()};function c(u,g,l,m){for(var w=0,M=Math.min(u.length,l),A=g;A<M;A++){var S=u.charCodeAt(A)-48;w*=m,S>=49?w+=S-49+10:S>=17?w+=S-17+10:w+=S}return w}i(c,"G"),o.prototype._parseBase=function(u,g,l){this.words=[0],this.length=1;for(var m=0,w=1;w<=67108863;w*=g)m++;m--,w=w/g|0;for(var M=u.length-l,A=M%m,S=Math.min(M,M-A)+l,f=0,_=l;_<S;_+=m)f=c(u,_,_+m,g),this.imuln(w),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(A!==0){var E=1;for(f=c(u,_,u.length,g),_=0;_<A;_++)E*=g;this.imuln(E),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this.strip()},o.prototype.copy=function(u){u.words=Array(this.length);for(var g=0;g<this.length;g++)u.words[g]=this.words[g];u.length=this.length,u.negative=this.negative,u.red=this.red},o.prototype.clone=function(){var u=new o(null);return this.copy(u),u},o.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(u,g){u=u||10,g=g|0||1;var l;if(u===16||u==="hex"){l="";for(var m=0,w=0,M=0;M<this.length;M++){var A=this.words[M],S=((A<<m|w)&16777215).toString(16);w=A>>>24-m&16777215,m+=2,m>=26&&(m-=26,M--),w!==0||M!==this.length-1?l=d[6-S.length]+S+l:l=S+l}for(w!==0&&(l=w.toString(16)+l);l.length%g!==0;)l="0"+l;return this.negative!==0&&(l="-"+l),l}if(u===(u|0)&&u>=2&&u<=36){var f=y[u],_=b[u];l="";var E=this.clone();for(E.negative=0;!E.isZero();){var I=E.modn(_).toString(u);E=E.idivn(_),E.isZero()?l=I+l:l=d[f-I.length]+I+l}for(this.isZero()&&(l="0"+l);l.length%g!==0;)l="0"+l;return this.negative!==0&&(l="-"+l),l}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var u=this.words[0];return this.length===2?u+=this.words[1]*67108864:this.length===3&&this.words[2]===1?u+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-u:u},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(u,g){return n(typeof h<"u"),this.toArrayLike(h,u,g)},o.prototype.toArray=function(u,g){return this.toArrayLike(Array,u,g)},o.prototype.toArrayLike=function(u,g,l){var m=this.byteLength(),w=l||Math.max(1,m);n(m<=w,"byte array longer than desired length"),n(w>0,"Requested array length <= 0"),this.strip();var M=g==="le",A=new u(w),S,f,_=this.clone();if(M){for(f=0;!_.isZero();f++)S=_.andln(255),_.iushrn(8),A[f]=S;for(;f<w;f++)A[f]=0}else{for(f=0;f<w-m;f++)A[f]=0;for(f=0;!_.isZero();f++)S=_.andln(255),_.iushrn(8),A[w-f-1]=S}return A},Math.clz32?o.prototype._countBits=function(u){return 32-Math.clz32(u)}:o.prototype._countBits=function(u){var g=u,l=0;return g>=4096&&(l+=13,g>>>=13),g>=64&&(l+=7,g>>>=7),g>=8&&(l+=4,g>>>=4),g>=2&&(l+=2,g>>>=2),l+g},o.prototype._zeroBits=function(u){if(u===0)return 26;var g=u,l=0;return(g&8191)===0&&(l+=13,g>>>=13),(g&127)===0&&(l+=7,g>>>=7),(g&15)===0&&(l+=4,g>>>=4),(g&3)===0&&(l+=2,g>>>=2),(g&1)===0&&l++,l},o.prototype.bitLength=function(){var u=this.words[this.length-1],g=this._countBits(u);return(this.length-1)*26+g};function x(u){for(var g=Array(u.bitLength()),l=0;l<g.length;l++){var m=l/26|0,w=l%26;g[l]=(u.words[m]&1<<w)>>>w}return g}i(x,"C"),o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,g=0;g<this.length;g++){var l=this._zeroBits(this.words[g]);if(u+=l,l!==26)break}return u},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(u){return this.negative!==0?this.abs().inotn(u).iaddn(1):this.clone()},o.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var g=0;g<u.length;g++)this.words[g]=this.words[g]|u.words[g];return this.strip()},o.prototype.ior=function(u){return n((this.negative|u.negative)===0),this.iuor(u)},o.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},o.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},o.prototype.iuand=function(u){var g;this.length>u.length?g=u:g=this;for(var l=0;l<g.length;l++)this.words[l]=this.words[l]&u.words[l];return this.length=g.length,this.strip()},o.prototype.iand=function(u){return n((this.negative|u.negative)===0),this.iuand(u)},o.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},o.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},o.prototype.iuxor=function(u){var g,l;this.length>u.length?(g=this,l=u):(g=u,l=this);for(var m=0;m<l.length;m++)this.words[m]=g.words[m]^l.words[m];if(this!==g)for(;m<g.length;m++)this.words[m]=g.words[m];return this.length=g.length,this.strip()},o.prototype.ixor=function(u){return n((this.negative|u.negative)===0),this.iuxor(u)},o.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},o.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},o.prototype.inotn=function(u){n(typeof u=="number"&&u>=0);var g=Math.ceil(u/26)|0,l=u%26;this._expand(g),l>0&&g--;for(var m=0;m<g;m++)this.words[m]=~this.words[m]&67108863;return l>0&&(this.words[m]=~this.words[m]&67108863>>26-l),this.strip()},o.prototype.notn=function(u){return this.clone().inotn(u)},o.prototype.setn=function(u,g){n(typeof u=="number"&&u>=0);var l=u/26|0,m=u%26;return this._expand(l+1),g?this.words[l]=this.words[l]|1<<m:this.words[l]=this.words[l]&~(1<<m),this.strip()},o.prototype.iadd=function(u){var g;if(this.negative!==0&&u.negative===0)return this.negative=0,g=this.isub(u),this.negative^=1,this._normSign();if(this.negative===0&&u.negative!==0)return u.negative=0,g=this.isub(u),u.negative=1,g._normSign();var l,m;this.length>u.length?(l=this,m=u):(l=u,m=this);for(var w=0,M=0;M<m.length;M++)g=(l.words[M]|0)+(m.words[M]|0)+w,this.words[M]=g&67108863,w=g>>>26;for(;w!==0&&M<l.length;M++)g=(l.words[M]|0)+w,this.words[M]=g&67108863,w=g>>>26;if(this.length=l.length,w!==0)this.words[this.length]=w,this.length++;else if(l!==this)for(;M<l.length;M++)this.words[M]=l.words[M];return this},o.prototype.add=function(u){var g;return u.negative!==0&&this.negative===0?(u.negative=0,g=this.sub(u),u.negative^=1,g):u.negative===0&&this.negative!==0?(this.negative=0,g=u.sub(this),this.negative=1,g):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},o.prototype.isub=function(u){if(u.negative!==0){u.negative=0;var g=this.iadd(u);return u.negative=1,g._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var l=this.cmp(u);if(l===0)return this.negative=0,this.length=1,this.words[0]=0,this;var m,w;l>0?(m=this,w=u):(m=u,w=this);for(var M=0,A=0;A<w.length;A++)g=(m.words[A]|0)-(w.words[A]|0)+M,M=g>>26,this.words[A]=g&67108863;for(;M!==0&&A<m.length;A++)g=(m.words[A]|0)+M,M=g>>26,this.words[A]=g&67108863;if(M===0&&A<m.length&&m!==this)for(;A<m.length;A++)this.words[A]=m.words[A];return this.length=Math.max(this.length,A),m!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(u){return this.clone().isub(u)};function k(u,g,l){l.negative=g.negative^u.negative;var m=u.length+g.length|0;l.length=m,m=m-1|0;var w=u.words[0]|0,M=g.words[0]|0,A=w*M,S=A&67108863,f=A/67108864|0;l.words[0]=S;for(var _=1;_<m;_++){for(var E=f>>>26,I=f&67108863,D=Math.min(_,g.length-1),L=Math.max(0,_-u.length+1);L<=D;L++){var U=_-L|0;w=u.words[U]|0,M=g.words[L]|0,A=w*M+I,E+=A/67108864|0,I=A&67108863}l.words[_]=I|0,f=E|0}return f!==0?l.words[_]=f|0:l.length--,l.strip()}i(k,"E");var N=i(function(u,g,l){var m=u.words,w=g.words,M=l.words,A=0,S,f,_,E=m[0]|0,I=E&8191,D=E>>>13,L=m[1]|0,U=L&8191,B=L>>>13,G=m[2]|0,H=G&8191,K=G>>>13,_e=m[3]|0,ae=_e&8191,se=_e>>>13,ye=m[4]|0,q=ye&8191,re=ye>>>13,X=m[5]|0,W=X&8191,le=X>>>13,ke=m[6]|0,pe=ke&8191,fe=ke>>>13,Q=m[7]|0,Y=Q&8191,te=Q>>>13,he=m[8]|0,oe=he&8191,ue=he>>>13,ze=m[9]|0,we=ze&8191,Be=ze>>>13,We=w[0]|0,ve=We&8191,Ue=We>>>13,ce=w[1]|0,be=ce&8191,Te=ce>>>13,Re=w[2]|0,Ae=Re&8191,$e=Re>>>13,Ye=w[3]|0,Ne=Ye&8191,Ee=Ye>>>13,Pe=w[4]|0,Se=Pe&8191,Ze=Pe>>>13,Ke=w[5]|0,ie=Ke&8191,me=Ke>>>13,Ce=w[6]|0,xe=Ce&8191,Oe=Ce>>>13,He=w[7]|0,ne=He&8191,je=He>>>13,Ge=w[8]|0,ge=Ge&8191,Je=Ge>>>13,tt=w[9]|0,De=tt&8191,Qe=tt>>>13;l.negative=u.negative^g.negative,l.length=19,S=Math.imul(I,ve),f=Math.imul(I,Ue),f=f+Math.imul(D,ve)|0,_=Math.imul(D,Ue);var Ie=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,S=Math.imul(U,ve),f=Math.imul(U,Ue),f=f+Math.imul(B,ve)|0,_=Math.imul(B,Ue),S=S+Math.imul(I,be)|0,f=f+Math.imul(I,Te)|0,f=f+Math.imul(D,be)|0,_=_+Math.imul(D,Te)|0;var Fe=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,S=Math.imul(H,ve),f=Math.imul(H,Ue),f=f+Math.imul(K,ve)|0,_=Math.imul(K,Ue),S=S+Math.imul(U,be)|0,f=f+Math.imul(U,Te)|0,f=f+Math.imul(B,be)|0,_=_+Math.imul(B,Te)|0,S=S+Math.imul(I,Ae)|0,f=f+Math.imul(I,$e)|0,f=f+Math.imul(D,Ae)|0,_=_+Math.imul(D,$e)|0;var lt=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(lt>>>26)|0,lt&=67108863,S=Math.imul(ae,ve),f=Math.imul(ae,Ue),f=f+Math.imul(se,ve)|0,_=Math.imul(se,Ue),S=S+Math.imul(H,be)|0,f=f+Math.imul(H,Te)|0,f=f+Math.imul(K,be)|0,_=_+Math.imul(K,Te)|0,S=S+Math.imul(U,Ae)|0,f=f+Math.imul(U,$e)|0,f=f+Math.imul(B,Ae)|0,_=_+Math.imul(B,$e)|0,S=S+Math.imul(I,Ne)|0,f=f+Math.imul(I,Ee)|0,f=f+Math.imul(D,Ne)|0,_=_+Math.imul(D,Ee)|0;var yt=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(yt>>>26)|0,yt&=67108863,S=Math.imul(q,ve),f=Math.imul(q,Ue),f=f+Math.imul(re,ve)|0,_=Math.imul(re,Ue),S=S+Math.imul(ae,be)|0,f=f+Math.imul(ae,Te)|0,f=f+Math.imul(se,be)|0,_=_+Math.imul(se,Te)|0,S=S+Math.imul(H,Ae)|0,f=f+Math.imul(H,$e)|0,f=f+Math.imul(K,Ae)|0,_=_+Math.imul(K,$e)|0,S=S+Math.imul(U,Ne)|0,f=f+Math.imul(U,Ee)|0,f=f+Math.imul(B,Ne)|0,_=_+Math.imul(B,Ee)|0,S=S+Math.imul(I,Se)|0,f=f+Math.imul(I,Ze)|0,f=f+Math.imul(D,Se)|0,_=_+Math.imul(D,Ze)|0;var ht=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(ht>>>26)|0,ht&=67108863,S=Math.imul(W,ve),f=Math.imul(W,Ue),f=f+Math.imul(le,ve)|0,_=Math.imul(le,Ue),S=S+Math.imul(q,be)|0,f=f+Math.imul(q,Te)|0,f=f+Math.imul(re,be)|0,_=_+Math.imul(re,Te)|0,S=S+Math.imul(ae,Ae)|0,f=f+Math.imul(ae,$e)|0,f=f+Math.imul(se,Ae)|0,_=_+Math.imul(se,$e)|0,S=S+Math.imul(H,Ne)|0,f=f+Math.imul(H,Ee)|0,f=f+Math.imul(K,Ne)|0,_=_+Math.imul(K,Ee)|0,S=S+Math.imul(U,Se)|0,f=f+Math.imul(U,Ze)|0,f=f+Math.imul(B,Se)|0,_=_+Math.imul(B,Ze)|0,S=S+Math.imul(I,ie)|0,f=f+Math.imul(I,me)|0,f=f+Math.imul(D,ie)|0,_=_+Math.imul(D,me)|0;var Mt=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,S=Math.imul(pe,ve),f=Math.imul(pe,Ue),f=f+Math.imul(fe,ve)|0,_=Math.imul(fe,Ue),S=S+Math.imul(W,be)|0,f=f+Math.imul(W,Te)|0,f=f+Math.imul(le,be)|0,_=_+Math.imul(le,Te)|0,S=S+Math.imul(q,Ae)|0,f=f+Math.imul(q,$e)|0,f=f+Math.imul(re,Ae)|0,_=_+Math.imul(re,$e)|0,S=S+Math.imul(ae,Ne)|0,f=f+Math.imul(ae,Ee)|0,f=f+Math.imul(se,Ne)|0,_=_+Math.imul(se,Ee)|0,S=S+Math.imul(H,Se)|0,f=f+Math.imul(H,Ze)|0,f=f+Math.imul(K,Se)|0,_=_+Math.imul(K,Ze)|0,S=S+Math.imul(U,ie)|0,f=f+Math.imul(U,me)|0,f=f+Math.imul(B,ie)|0,_=_+Math.imul(B,me)|0,S=S+Math.imul(I,xe)|0,f=f+Math.imul(I,Oe)|0,f=f+Math.imul(D,xe)|0,_=_+Math.imul(D,Oe)|0;var Bt=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,S=Math.imul(Y,ve),f=Math.imul(Y,Ue),f=f+Math.imul(te,ve)|0,_=Math.imul(te,Ue),S=S+Math.imul(pe,be)|0,f=f+Math.imul(pe,Te)|0,f=f+Math.imul(fe,be)|0,_=_+Math.imul(fe,Te)|0,S=S+Math.imul(W,Ae)|0,f=f+Math.imul(W,$e)|0,f=f+Math.imul(le,Ae)|0,_=_+Math.imul(le,$e)|0,S=S+Math.imul(q,Ne)|0,f=f+Math.imul(q,Ee)|0,f=f+Math.imul(re,Ne)|0,_=_+Math.imul(re,Ee)|0,S=S+Math.imul(ae,Se)|0,f=f+Math.imul(ae,Ze)|0,f=f+Math.imul(se,Se)|0,_=_+Math.imul(se,Ze)|0,S=S+Math.imul(H,ie)|0,f=f+Math.imul(H,me)|0,f=f+Math.imul(K,ie)|0,_=_+Math.imul(K,me)|0,S=S+Math.imul(U,xe)|0,f=f+Math.imul(U,Oe)|0,f=f+Math.imul(B,xe)|0,_=_+Math.imul(B,Oe)|0,S=S+Math.imul(I,ne)|0,f=f+Math.imul(I,je)|0,f=f+Math.imul(D,ne)|0,_=_+Math.imul(D,je)|0;var Et=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(Et>>>26)|0,Et&=67108863,S=Math.imul(oe,ve),f=Math.imul(oe,Ue),f=f+Math.imul(ue,ve)|0,_=Math.imul(ue,Ue),S=S+Math.imul(Y,be)|0,f=f+Math.imul(Y,Te)|0,f=f+Math.imul(te,be)|0,_=_+Math.imul(te,Te)|0,S=S+Math.imul(pe,Ae)|0,f=f+Math.imul(pe,$e)|0,f=f+Math.imul(fe,Ae)|0,_=_+Math.imul(fe,$e)|0,S=S+Math.imul(W,Ne)|0,f=f+Math.imul(W,Ee)|0,f=f+Math.imul(le,Ne)|0,_=_+Math.imul(le,Ee)|0,S=S+Math.imul(q,Se)|0,f=f+Math.imul(q,Ze)|0,f=f+Math.imul(re,Se)|0,_=_+Math.imul(re,Ze)|0,S=S+Math.imul(ae,ie)|0,f=f+Math.imul(ae,me)|0,f=f+Math.imul(se,ie)|0,_=_+Math.imul(se,me)|0,S=S+Math.imul(H,xe)|0,f=f+Math.imul(H,Oe)|0,f=f+Math.imul(K,xe)|0,_=_+Math.imul(K,Oe)|0,S=S+Math.imul(U,ne)|0,f=f+Math.imul(U,je)|0,f=f+Math.imul(B,ne)|0,_=_+Math.imul(B,je)|0,S=S+Math.imul(I,ge)|0,f=f+Math.imul(I,Je)|0,f=f+Math.imul(D,ge)|0,_=_+Math.imul(D,Je)|0;var _t=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(_t>>>26)|0,_t&=67108863,S=Math.imul(we,ve),f=Math.imul(we,Ue),f=f+Math.imul(Be,ve)|0,_=Math.imul(Be,Ue),S=S+Math.imul(oe,be)|0,f=f+Math.imul(oe,Te)|0,f=f+Math.imul(ue,be)|0,_=_+Math.imul(ue,Te)|0,S=S+Math.imul(Y,Ae)|0,f=f+Math.imul(Y,$e)|0,f=f+Math.imul(te,Ae)|0,_=_+Math.imul(te,$e)|0,S=S+Math.imul(pe,Ne)|0,f=f+Math.imul(pe,Ee)|0,f=f+Math.imul(fe,Ne)|0,_=_+Math.imul(fe,Ee)|0,S=S+Math.imul(W,Se)|0,f=f+Math.imul(W,Ze)|0,f=f+Math.imul(le,Se)|0,_=_+Math.imul(le,Ze)|0,S=S+Math.imul(q,ie)|0,f=f+Math.imul(q,me)|0,f=f+Math.imul(re,ie)|0,_=_+Math.imul(re,me)|0,S=S+Math.imul(ae,xe)|0,f=f+Math.imul(ae,Oe)|0,f=f+Math.imul(se,xe)|0,_=_+Math.imul(se,Oe)|0,S=S+Math.imul(H,ne)|0,f=f+Math.imul(H,je)|0,f=f+Math.imul(K,ne)|0,_=_+Math.imul(K,je)|0,S=S+Math.imul(U,ge)|0,f=f+Math.imul(U,Je)|0,f=f+Math.imul(B,ge)|0,_=_+Math.imul(B,Je)|0,S=S+Math.imul(I,De)|0,f=f+Math.imul(I,Qe)|0,f=f+Math.imul(D,De)|0,_=_+Math.imul(D,Qe)|0;var Ft=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,S=Math.imul(we,be),f=Math.imul(we,Te),f=f+Math.imul(Be,be)|0,_=Math.imul(Be,Te),S=S+Math.imul(oe,Ae)|0,f=f+Math.imul(oe,$e)|0,f=f+Math.imul(ue,Ae)|0,_=_+Math.imul(ue,$e)|0,S=S+Math.imul(Y,Ne)|0,f=f+Math.imul(Y,Ee)|0,f=f+Math.imul(te,Ne)|0,_=_+Math.imul(te,Ee)|0,S=S+Math.imul(pe,Se)|0,f=f+Math.imul(pe,Ze)|0,f=f+Math.imul(fe,Se)|0,_=_+Math.imul(fe,Ze)|0,S=S+Math.imul(W,ie)|0,f=f+Math.imul(W,me)|0,f=f+Math.imul(le,ie)|0,_=_+Math.imul(le,me)|0,S=S+Math.imul(q,xe)|0,f=f+Math.imul(q,Oe)|0,f=f+Math.imul(re,xe)|0,_=_+Math.imul(re,Oe)|0,S=S+Math.imul(ae,ne)|0,f=f+Math.imul(ae,je)|0,f=f+Math.imul(se,ne)|0,_=_+Math.imul(se,je)|0,S=S+Math.imul(H,ge)|0,f=f+Math.imul(H,Je)|0,f=f+Math.imul(K,ge)|0,_=_+Math.imul(K,Je)|0,S=S+Math.imul(U,De)|0,f=f+Math.imul(U,Qe)|0,f=f+Math.imul(B,De)|0,_=_+Math.imul(B,Qe)|0;var Vt=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,S=Math.imul(we,Ae),f=Math.imul(we,$e),f=f+Math.imul(Be,Ae)|0,_=Math.imul(Be,$e),S=S+Math.imul(oe,Ne)|0,f=f+Math.imul(oe,Ee)|0,f=f+Math.imul(ue,Ne)|0,_=_+Math.imul(ue,Ee)|0,S=S+Math.imul(Y,Se)|0,f=f+Math.imul(Y,Ze)|0,f=f+Math.imul(te,Se)|0,_=_+Math.imul(te,Ze)|0,S=S+Math.imul(pe,ie)|0,f=f+Math.imul(pe,me)|0,f=f+Math.imul(fe,ie)|0,_=_+Math.imul(fe,me)|0,S=S+Math.imul(W,xe)|0,f=f+Math.imul(W,Oe)|0,f=f+Math.imul(le,xe)|0,_=_+Math.imul(le,Oe)|0,S=S+Math.imul(q,ne)|0,f=f+Math.imul(q,je)|0,f=f+Math.imul(re,ne)|0,_=_+Math.imul(re,je)|0,S=S+Math.imul(ae,ge)|0,f=f+Math.imul(ae,Je)|0,f=f+Math.imul(se,ge)|0,_=_+Math.imul(se,Je)|0,S=S+Math.imul(H,De)|0,f=f+Math.imul(H,Qe)|0,f=f+Math.imul(K,De)|0,_=_+Math.imul(K,Qe)|0;var Tt=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,S=Math.imul(we,Ne),f=Math.imul(we,Ee),f=f+Math.imul(Be,Ne)|0,_=Math.imul(Be,Ee),S=S+Math.imul(oe,Se)|0,f=f+Math.imul(oe,Ze)|0,f=f+Math.imul(ue,Se)|0,_=_+Math.imul(ue,Ze)|0,S=S+Math.imul(Y,ie)|0,f=f+Math.imul(Y,me)|0,f=f+Math.imul(te,ie)|0,_=_+Math.imul(te,me)|0,S=S+Math.imul(pe,xe)|0,f=f+Math.imul(pe,Oe)|0,f=f+Math.imul(fe,xe)|0,_=_+Math.imul(fe,Oe)|0,S=S+Math.imul(W,ne)|0,f=f+Math.imul(W,je)|0,f=f+Math.imul(le,ne)|0,_=_+Math.imul(le,je)|0,S=S+Math.imul(q,ge)|0,f=f+Math.imul(q,Je)|0,f=f+Math.imul(re,ge)|0,_=_+Math.imul(re,Je)|0,S=S+Math.imul(ae,De)|0,f=f+Math.imul(ae,Qe)|0,f=f+Math.imul(se,De)|0,_=_+Math.imul(se,Qe)|0;var zt=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(zt>>>26)|0,zt&=67108863,S=Math.imul(we,Se),f=Math.imul(we,Ze),f=f+Math.imul(Be,Se)|0,_=Math.imul(Be,Ze),S=S+Math.imul(oe,ie)|0,f=f+Math.imul(oe,me)|0,f=f+Math.imul(ue,ie)|0,_=_+Math.imul(ue,me)|0,S=S+Math.imul(Y,xe)|0,f=f+Math.imul(Y,Oe)|0,f=f+Math.imul(te,xe)|0,_=_+Math.imul(te,Oe)|0,S=S+Math.imul(pe,ne)|0,f=f+Math.imul(pe,je)|0,f=f+Math.imul(fe,ne)|0,_=_+Math.imul(fe,je)|0,S=S+Math.imul(W,ge)|0,f=f+Math.imul(W,Je)|0,f=f+Math.imul(le,ge)|0,_=_+Math.imul(le,Je)|0,S=S+Math.imul(q,De)|0,f=f+Math.imul(q,Qe)|0,f=f+Math.imul(re,De)|0,_=_+Math.imul(re,Qe)|0;var Nt=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,S=Math.imul(we,ie),f=Math.imul(we,me),f=f+Math.imul(Be,ie)|0,_=Math.imul(Be,me),S=S+Math.imul(oe,xe)|0,f=f+Math.imul(oe,Oe)|0,f=f+Math.imul(ue,xe)|0,_=_+Math.imul(ue,Oe)|0,S=S+Math.imul(Y,ne)|0,f=f+Math.imul(Y,je)|0,f=f+Math.imul(te,ne)|0,_=_+Math.imul(te,je)|0,S=S+Math.imul(pe,ge)|0,f=f+Math.imul(pe,Je)|0,f=f+Math.imul(fe,ge)|0,_=_+Math.imul(fe,Je)|0,S=S+Math.imul(W,De)|0,f=f+Math.imul(W,Qe)|0,f=f+Math.imul(le,De)|0,_=_+Math.imul(le,Qe)|0;var Pt=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,S=Math.imul(we,xe),f=Math.imul(we,Oe),f=f+Math.imul(Be,xe)|0,_=Math.imul(Be,Oe),S=S+Math.imul(oe,ne)|0,f=f+Math.imul(oe,je)|0,f=f+Math.imul(ue,ne)|0,_=_+Math.imul(ue,je)|0,S=S+Math.imul(Y,ge)|0,f=f+Math.imul(Y,Je)|0,f=f+Math.imul(te,ge)|0,_=_+Math.imul(te,Je)|0,S=S+Math.imul(pe,De)|0,f=f+Math.imul(pe,Qe)|0,f=f+Math.imul(fe,De)|0,_=_+Math.imul(fe,Qe)|0;var Ut=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,S=Math.imul(we,ne),f=Math.imul(we,je),f=f+Math.imul(Be,ne)|0,_=Math.imul(Be,je),S=S+Math.imul(oe,ge)|0,f=f+Math.imul(oe,Je)|0,f=f+Math.imul(ue,ge)|0,_=_+Math.imul(ue,Je)|0,S=S+Math.imul(Y,De)|0,f=f+Math.imul(Y,Qe)|0,f=f+Math.imul(te,De)|0,_=_+Math.imul(te,Qe)|0;var Zt=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,S=Math.imul(we,ge),f=Math.imul(we,Je),f=f+Math.imul(Be,ge)|0,_=Math.imul(Be,Je),S=S+Math.imul(oe,De)|0,f=f+Math.imul(oe,Qe)|0,f=f+Math.imul(ue,De)|0,_=_+Math.imul(ue,Qe)|0;var Ht=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,S=Math.imul(we,De),f=Math.imul(we,Qe),f=f+Math.imul(Be,De)|0,_=Math.imul(Be,Qe);var Jt=(A+S|0)+((f&8191)<<13)|0;return A=(_+(f>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,M[0]=Ie,M[1]=Fe,M[2]=lt,M[3]=yt,M[4]=ht,M[5]=Mt,M[6]=Bt,M[7]=Et,M[8]=_t,M[9]=Ft,M[10]=Vt,M[11]=Tt,M[12]=zt,M[13]=Nt,M[14]=Pt,M[15]=Ut,M[16]=Zt,M[17]=Ht,M[18]=Jt,A!==0&&(M[19]=A,l.length++),l},"R");Math.imul||(N=k);function C(u,g,l){l.negative=g.negative^u.negative,l.length=u.length+g.length;for(var m=0,w=0,M=0;M<l.length-1;M++){var A=w;w=0;for(var S=m&67108863,f=Math.min(M,g.length-1),_=Math.max(0,M-u.length+1);_<=f;_++){var E=M-_,I=u.words[E]|0,D=g.words[_]|0,L=I*D,U=L&67108863;A=A+(L/67108864|0)|0,U=U+S|0,S=U&67108863,A=A+(U>>>26)|0,w+=A>>>26,A&=67108863}l.words[M]=S,m=A,A=w}return m!==0?l.words[M]=m:l.length--,l.strip()}i(C,"I");function R(u,g,l){var m=new O;return m.mulp(u,g,l)}i(R,"D"),o.prototype.mulTo=function(u,g){var l,m=this.length+u.length;return this.length===10&&u.length===10?l=N(this,u,g):m<63?l=k(this,u,g):m<1024?l=C(this,u,g):l=R(this,u,g),l};function O(u,g){this.x=u,this.y=g}i(O,"b"),O.prototype.makeRBT=function(u){for(var g=Array(u),l=o.prototype._countBits(u)-1,m=0;m<u;m++)g[m]=this.revBin(m,l,u);return g},O.prototype.revBin=function(u,g,l){if(u===0||u===l-1)return u;for(var m=0,w=0;w<g;w++)m|=(u&1)<<g-w-1,u>>=1;return m},O.prototype.permute=function(u,g,l,m,w,M){for(var A=0;A<M;A++)m[A]=g[u[A]],w[A]=l[u[A]]},O.prototype.transform=function(u,g,l,m,w,M){this.permute(M,u,g,l,m,w);for(var A=1;A<w;A<<=1)for(var S=A<<1,f=Math.cos(2*Math.PI/S),_=Math.sin(2*Math.PI/S),E=0;E<w;E+=S)for(var I=f,D=_,L=0;L<A;L++){var U=l[E+L],B=m[E+L],G=l[E+L+A],H=m[E+L+A],K=I*G-D*H;H=I*H+D*G,G=K,l[E+L]=U+G,m[E+L]=B+H,l[E+L+A]=U-G,m[E+L+A]=B-H,L!==S&&(K=f*I-_*D,D=f*D+_*I,I=K)}},O.prototype.guessLen13b=function(u,g){var l=Math.max(g,u)|1,m=l&1,w=0;for(l=l/2|0;l;l=l>>>1)w++;return 1<<w+1+m},O.prototype.conjugate=function(u,g,l){if(!(l<=1))for(var m=0;m<l/2;m++){var w=u[m];u[m]=u[l-m-1],u[l-m-1]=w,w=g[m],g[m]=-g[l-m-1],g[l-m-1]=-w}},O.prototype.normalize13b=function(u,g){for(var l=0,m=0;m<g/2;m++){var w=Math.round(u[2*m+1]/g)*8192+Math.round(u[2*m]/g)+l;u[m]=w&67108863,w<67108864?l=0:l=w/67108864|0}return u},O.prototype.convert13b=function(u,g,l,m){for(var w=0,M=0;M<g;M++)w=w+(u[M]|0),l[2*M]=w&8191,w=w>>>13,l[2*M+1]=w&8191,w=w>>>13;for(M=2*g;M<m;++M)l[M]=0;n(w===0),n((w&-8192)===0)},O.prototype.stub=function(u){for(var g=Array(u),l=0;l<u;l++)g[l]=0;return g},O.prototype.mulp=function(u,g,l){var m=2*this.guessLen13b(u.length,g.length),w=this.makeRBT(m),M=this.stub(m),A=Array(m),S=Array(m),f=Array(m),_=Array(m),E=Array(m),I=Array(m),D=l.words;D.length=m,this.convert13b(u.words,u.length,A,m),this.convert13b(g.words,g.length,_,m),this.transform(A,M,S,f,m,w),this.transform(_,M,E,I,m,w);for(var L=0;L<m;L++){var U=S[L]*E[L]-f[L]*I[L];f[L]=S[L]*I[L]+f[L]*E[L],S[L]=U}return this.conjugate(S,f,m),this.transform(S,f,D,M,m,w),this.conjugate(D,M,m),this.normalize13b(D,m),l.negative=u.negative^g.negative,l.length=u.length+g.length,l.strip()},o.prototype.mul=function(u){var g=new o(null);return g.words=Array(this.length+u.length),this.mulTo(u,g)},o.prototype.mulf=function(u){var g=new o(null);return g.words=Array(this.length+u.length),R(this,u,g)},o.prototype.imul=function(u){return this.clone().mulTo(u,this)},o.prototype.imuln=function(u){n(typeof u=="number"),n(u<67108864);for(var g=0,l=0;l<this.length;l++){var m=(this.words[l]|0)*u,w=(m&67108863)+(g&67108863);g>>=26,g+=m/67108864|0,g+=w>>>26,this.words[l]=w&67108863}return g!==0&&(this.words[l]=g,this.length++),this.length=u===0?1:this.length,this},o.prototype.muln=function(u){return this.clone().imuln(u)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(u){var g=x(u);if(g.length===0)return new o(1);for(var l=this,m=0;m<g.length&&g[m]===0;m++,l=l.sqr());if(++m<g.length)for(var w=l.sqr();m<g.length;m++,w=w.sqr())g[m]!==0&&(l=l.mul(w));return l},o.prototype.iushln=function(u){n(typeof u=="number"&&u>=0);var g=u%26,l=(u-g)/26,m=67108863>>>26-g<<26-g,w;if(g!==0){var M=0;for(w=0;w<this.length;w++){var A=this.words[w]&m,S=(this.words[w]|0)-A<<g;this.words[w]=S|M,M=A>>>26-g}M&&(this.words[w]=M,this.length++)}if(l!==0){for(w=this.length-1;w>=0;w--)this.words[w+l]=this.words[w];for(w=0;w<l;w++)this.words[w]=0;this.length+=l}return this.strip()},o.prototype.ishln=function(u){return n(this.negative===0),this.iushln(u)},o.prototype.iushrn=function(u,g,l){n(typeof u=="number"&&u>=0);var m;g?m=(g-g%26)/26:m=0;var w=u%26,M=Math.min((u-w)/26,this.length),A=67108863^67108863>>>w<<w,S=l;if(m-=M,m=Math.max(0,m),S){for(var f=0;f<M;f++)S.words[f]=this.words[f];S.length=M}if(M!==0)if(this.length>M)for(this.length-=M,f=0;f<this.length;f++)this.words[f]=this.words[f+M];else this.words[0]=0,this.length=1;var _=0;for(f=this.length-1;f>=0&&(_!==0||f>=m);f--){var E=this.words[f]|0;this.words[f]=_<<26-w|E>>>w,_=E&A}return S&&_!==0&&(S.words[S.length++]=_),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(u,g,l){return n(this.negative===0),this.iushrn(u,g,l)},o.prototype.shln=function(u){return this.clone().ishln(u)},o.prototype.ushln=function(u){return this.clone().iushln(u)},o.prototype.shrn=function(u){return this.clone().ishrn(u)},o.prototype.ushrn=function(u){return this.clone().iushrn(u)},o.prototype.testn=function(u){n(typeof u=="number"&&u>=0);var g=u%26,l=(u-g)/26,m=1<<g;if(this.length<=l)return!1;var w=this.words[l];return!!(w&m)},o.prototype.imaskn=function(u){n(typeof u=="number"&&u>=0);var g=u%26,l=(u-g)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=l)return this;if(g!==0&&l++,this.length=Math.min(l,this.length),g!==0){var m=67108863^67108863>>>g<<g;this.words[this.length-1]&=m}return this.strip()},o.prototype.maskn=function(u){return this.clone().imaskn(u)},o.prototype.iaddn=function(u){return n(typeof u=="number"),n(u<67108864),u<0?this.isubn(-u):this.negative!==0?this.length===1&&(this.words[0]|0)<u?(this.words[0]=u-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},o.prototype._iaddn=function(u){this.words[0]+=u;for(var g=0;g<this.length&&this.words[g]>=67108864;g++)this.words[g]-=67108864,g===this.length-1?this.words[g+1]=1:this.words[g+1]++;return this.length=Math.max(this.length,g+1),this},o.prototype.isubn=function(u){if(n(typeof u=="number"),n(u<67108864),u<0)return this.iaddn(-u);if(this.negative!==0)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var g=0;g<this.length&&this.words[g]<0;g++)this.words[g]+=67108864,this.words[g+1]-=1;return this.strip()},o.prototype.addn=function(u){return this.clone().iaddn(u)},o.prototype.subn=function(u){return this.clone().isubn(u)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(u,g,l){var m=u.length+l,w;this._expand(m);var M,A=0;for(w=0;w<u.length;w++){M=(this.words[w+l]|0)+A;var S=(u.words[w]|0)*g;M-=S&67108863,A=(M>>26)-(S/67108864|0),this.words[w+l]=M&67108863}for(;w<this.length-l;w++)M=(this.words[w+l]|0)+A,A=M>>26,this.words[w+l]=M&67108863;if(A===0)return this.strip();for(n(A===-1),A=0,w=0;w<this.length;w++)M=-(this.words[w]|0)+A,A=M>>26,this.words[w]=M&67108863;return this.negative=1,this.strip()},o.prototype._wordDiv=function(u,g){var l=this.length-u.length,m=this.clone(),w=u,M=w.words[w.length-1]|0,A=this._countBits(M);l=26-A,l!==0&&(w=w.ushln(l),m.iushln(l),M=w.words[w.length-1]|0);var S=m.length-w.length,f;if(g!=="mod"){f=new o(null),f.length=S+1,f.words=Array(f.length);for(var _=0;_<f.length;_++)f.words[_]=0}var E=m.clone()._ishlnsubmul(w,1,S);E.negative===0&&(m=E,f&&(f.words[S]=1));for(var I=S-1;I>=0;I--){var D=(m.words[w.length+I]|0)*67108864+(m.words[w.length+I-1]|0);for(D=Math.min(D/M|0,67108863),m._ishlnsubmul(w,D,I);m.negative!==0;)D--,m.negative=0,m._ishlnsubmul(w,1,I),!m.isZero()&&(m.negative^=1);f&&(f.words[I]=D)}return f&&f.strip(),m.strip(),g!=="div"&&l!==0&&m.iushrn(l),{div:f||null,mod:m}},o.prototype.divmod=function(u,g,l){if(n(!u.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var m,w,M;return this.negative!==0&&u.negative===0?(M=this.neg().divmod(u,g),g!=="mod"&&(m=M.div.neg()),g!=="div"&&(w=M.mod.neg(),l&&w.negative!==0&&w.iadd(u)),{div:m,mod:w}):this.negative===0&&u.negative!==0?(M=this.divmod(u.neg(),g),g!=="mod"&&(m=M.div.neg()),{div:m,mod:M.mod}):(this.negative&u.negative)!==0?(M=this.neg().divmod(u.neg(),g),g!=="div"&&(w=M.mod.neg(),l&&w.negative!==0&&w.isub(u)),{div:M.div,mod:w}):u.length>this.length||this.cmp(u)<0?{div:new o(0),mod:this}:u.length===1?g==="div"?{div:this.divn(u.words[0]),mod:null}:g==="mod"?{div:null,mod:new o(this.modn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new o(this.modn(u.words[0]))}:this._wordDiv(u,g)},o.prototype.div=function(u){return this.divmod(u,"div",!1).div},o.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},o.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},o.prototype.divRound=function(u){var g=this.divmod(u);if(g.mod.isZero())return g.div;var l=g.div.negative!==0?g.mod.isub(u):g.mod,m=u.ushrn(1),w=u.andln(1),M=l.cmp(m);return M<0||w===1&&M===0?g.div:g.div.negative!==0?g.div.isubn(1):g.div.iaddn(1)},o.prototype.modn=function(u){n(u<=67108863);for(var g=67108864%u,l=0,m=this.length-1;m>=0;m--)l=(g*l+(this.words[m]|0))%u;return l},o.prototype.idivn=function(u){n(u<=67108863);for(var g=0,l=this.length-1;l>=0;l--){var m=(this.words[l]|0)+g*67108864;this.words[l]=m/u|0,g=m%u}return this.strip()},o.prototype.divn=function(u){return this.clone().idivn(u)},o.prototype.egcd=function(u){n(u.negative===0),n(!u.isZero());var g=this,l=u.clone();g.negative!==0?g=g.umod(u):g=g.clone();for(var m=new o(1),w=new o(0),M=new o(0),A=new o(1),S=0;g.isEven()&&l.isEven();)g.iushrn(1),l.iushrn(1),++S;for(var f=l.clone(),_=g.clone();!g.isZero();){for(var E=0,I=1;(g.words[0]&I)===0&&E<26;++E,I<<=1);if(E>0)for(g.iushrn(E);E-- >0;)(m.isOdd()||w.isOdd())&&(m.iadd(f),w.isub(_)),m.iushrn(1),w.iushrn(1);for(var D=0,L=1;(l.words[0]&L)===0&&D<26;++D,L<<=1);if(D>0)for(l.iushrn(D);D-- >0;)(M.isOdd()||A.isOdd())&&(M.iadd(f),A.isub(_)),M.iushrn(1),A.iushrn(1);g.cmp(l)>=0?(g.isub(l),m.isub(M),w.isub(A)):(l.isub(g),M.isub(m),A.isub(w))}return{a:M,b:A,gcd:l.iushln(S)}},o.prototype._invmp=function(u){n(u.negative===0),n(!u.isZero());var g=this,l=u.clone();g.negative!==0?g=g.umod(u):g=g.clone();for(var m=new o(1),w=new o(0),M=l.clone();g.cmpn(1)>0&&l.cmpn(1)>0;){for(var A=0,S=1;(g.words[0]&S)===0&&A<26;++A,S<<=1);if(A>0)for(g.iushrn(A);A-- >0;)m.isOdd()&&m.iadd(M),m.iushrn(1);for(var f=0,_=1;(l.words[0]&_)===0&&f<26;++f,_<<=1);if(f>0)for(l.iushrn(f);f-- >0;)w.isOdd()&&w.iadd(M),w.iushrn(1);g.cmp(l)>=0?(g.isub(l),m.isub(w)):(l.isub(g),w.isub(m))}var E;return g.cmpn(1)===0?E=m:E=w,E.cmpn(0)<0&&E.iadd(u),E},o.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var g=this.clone(),l=u.clone();g.negative=0,l.negative=0;for(var m=0;g.isEven()&&l.isEven();m++)g.iushrn(1),l.iushrn(1);do{for(;g.isEven();)g.iushrn(1);for(;l.isEven();)l.iushrn(1);var w=g.cmp(l);if(w<0){var M=g;g=l,l=M}else if(w===0||l.cmpn(1)===0)break;g.isub(l)}while(!0);return l.iushln(m)},o.prototype.invm=function(u){return this.egcd(u).a.umod(u)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(u){return this.words[0]&u},o.prototype.bincn=function(u){n(typeof u=="number");var g=u%26,l=(u-g)/26,m=1<<g;if(this.length<=l)return this._expand(l+1),this.words[l]|=m,this;for(var w=m,M=l;w!==0&&M<this.length;M++){var A=this.words[M]|0;A+=w,w=A>>>26,A&=67108863,this.words[M]=A}return w!==0&&(this.words[M]=w,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(u){var g=u<0;if(this.negative!==0&&!g)return-1;if(this.negative===0&&g)return 1;this.strip();var l;if(this.length>1)l=1;else{g&&(u=-u),n(u<=67108863,"Number is too big");var m=this.words[0]|0;l=m===u?0:m<u?-1:1}return this.negative!==0?-l|0:l},o.prototype.cmp=function(u){if(this.negative!==0&&u.negative===0)return-1;if(this.negative===0&&u.negative!==0)return 1;var g=this.ucmp(u);return this.negative!==0?-g|0:g},o.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var g=0,l=this.length-1;l>=0;l--){var m=this.words[l]|0,w=u.words[l]|0;if(m!==w){m<w?g=-1:m>w&&(g=1);break}}return g},o.prototype.gtn=function(u){return this.cmpn(u)===1},o.prototype.gt=function(u){return this.cmp(u)===1},o.prototype.gten=function(u){return this.cmpn(u)>=0},o.prototype.gte=function(u){return this.cmp(u)>=0},o.prototype.ltn=function(u){return this.cmpn(u)===-1},o.prototype.lt=function(u){return this.cmp(u)===-1},o.prototype.lten=function(u){return this.cmpn(u)<=0},o.prototype.lte=function(u){return this.cmp(u)<=0},o.prototype.eqn=function(u){return this.cmpn(u)===0},o.prototype.eq=function(u){return this.cmp(u)===0},o.red=function(u){return new $(u)},o.prototype.toRed=function(u){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),u.convertTo(this)._forceRed(u)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(u){return this.red=u,this},o.prototype.forceRed=function(u){return n(!this.red,"Already a number in reduction context"),this._forceRed(u)},o.prototype.redAdd=function(u){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},o.prototype.redIAdd=function(u){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},o.prototype.redSub=function(u){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},o.prototype.redISub=function(u){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},o.prototype.redShl=function(u){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},o.prototype.redMul=function(u){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},o.prototype.redIMul=function(u){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(u){return n(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var T={k256:null,p224:null,p192:null,p25519:null};function P(u,g){this.name=u,this.p=new o(g,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}i(P,"y"),P.prototype._tmp=function(){var u=new o(null);return u.words=Array(Math.ceil(this.n/13)),u},P.prototype.ireduce=function(u){var g=u,l;do this.split(g,this.tmp),g=this.imulK(g),g=g.iadd(this.tmp),l=g.bitLength();while(l>this.n);var m=l<this.n?-1:g.ucmp(this.p);return m===0?(g.words[0]=0,g.length=1):m>0?g.isub(this.p):g.strip!==void 0?g.strip():g._strip(),g},P.prototype.split=function(u,g){u.iushrn(this.n,0,g)},P.prototype.imulK=function(u){return u.imul(this.k)};function z(){P.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(z,"c"),s(z,P),z.prototype.split=function(u,g){for(var l=4194303,m=Math.min(u.length,9),w=0;w<m;w++)g.words[w]=u.words[w];if(g.length=m,u.length<=9){u.words[0]=0,u.length=1;return}var M=u.words[9];for(g.words[g.length++]=M&l,w=10;w<u.length;w++){var A=u.words[w]|0;u.words[w-10]=(A&l)<<4|M>>>22,M=A}M>>>=22,u.words[w-10]=M,M===0&&u.length>10?u.length-=10:u.length-=9},z.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var g=0,l=0;l<u.length;l++){var m=u.words[l]|0;g+=m*977,u.words[l]=g&67108863,g=m*64+(g/67108864|0)}return u.words[u.length-1]===0&&(u.length--,u.words[u.length-1]===0&&u.length--),u};function V(){P.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(V,"m"),s(V,P);function Z(){P.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(Z,"q$"),s(Z,P);function ee(){P.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(ee,"e"),s(ee,P),ee.prototype.imulK=function(u){for(var g=0,l=0;l<u.length;l++){var m=(u.words[l]|0)*19+g,w=m&67108863;m>>>=26,u.words[l]=w,g=m}return g!==0&&(u.words[u.length++]=g),u},o._prime=function(u){if(T[u])return T[u];var g;if(u==="k256")g=new z;else if(u==="p224")g=new V;else if(u==="p192")g=new Z;else if(u==="p25519")g=new ee;else throw Error("Unknown prime "+u);return T[u]=g,g};function $(u){if(typeof u=="string"){var g=o._prime(u);this.m=g.p,this.prime=g}else n(u.gtn(1),"modulus must be greater than 1"),this.m=u,this.prime=null}i($,"l"),$.prototype._verify1=function(u){n(u.negative===0,"red works only with positives"),n(u.red,"red works only with red numbers")},$.prototype._verify2=function(u,g){n((u.negative|g.negative)===0,"red works only with positives"),n(u.red&&u.red===g.red,"red works only with red numbers")},$.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):u.umod(this.m)._forceRed(this)},$.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},$.prototype.add=function(u,g){this._verify2(u,g);var l=u.add(g);return l.cmp(this.m)>=0&&l.isub(this.m),l._forceRed(this)},$.prototype.iadd=function(u,g){this._verify2(u,g);var l=u.iadd(g);return l.cmp(this.m)>=0&&l.isub(this.m),l},$.prototype.sub=function(u,g){this._verify2(u,g);var l=u.sub(g);return l.cmpn(0)<0&&l.iadd(this.m),l._forceRed(this)},$.prototype.isub=function(u,g){this._verify2(u,g);var l=u.isub(g);return l.cmpn(0)<0&&l.iadd(this.m),l},$.prototype.shl=function(u,g){return this._verify1(u),this.imod(u.ushln(g))},$.prototype.imul=function(u,g){return this._verify2(u,g),this.imod(u.imul(g))},$.prototype.mul=function(u,g){return this._verify2(u,g),this.imod(u.mul(g))},$.prototype.isqr=function(u){return this.imul(u,u.clone())},$.prototype.sqr=function(u){return this.mul(u,u)},$.prototype.sqrt=function(u){if(u.isZero())return u.clone();var g=this.m.andln(3);if(n(g%2===1),g===3){var l=this.m.add(new o(1)).iushrn(2);return this.pow(u,l)}for(var m=this.m.subn(1),w=0;!m.isZero()&&m.andln(1)===0;)w++,m.iushrn(1);n(!m.isZero());var M=new o(1).toRed(this),A=M.redNeg(),S=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new o(2*f*f).toRed(this);this.pow(f,S).cmp(A)!==0;)f.redIAdd(A);for(var _=this.pow(f,m),E=this.pow(u,m.addn(1).iushrn(1)),I=this.pow(u,m),D=w;I.cmp(M)!==0;){for(var L=I,U=0;L.cmp(M)!==0;U++)L=L.redSqr();n(U<D);var B=this.pow(_,new o(1).iushln(D-U-1));E=E.redMul(B),_=B.redSqr(),I=I.redMul(_),D=U}return E},$.prototype.invm=function(u){var g=u._invmp(this.m);return g.negative!==0?(g.negative=0,this.imod(g).redNeg()):this.imod(g)},$.prototype.pow=function(u,g){if(g.isZero())return new o(1).toRed(this);if(g.cmpn(1)===0)return u.clone();var l=4,m=Array(1<<l);m[0]=new o(1).toRed(this),m[1]=u;for(var w=2;w<m.length;w++)m[w]=this.mul(m[w-1],u);var M=m[0],A=0,S=0,f=g.bitLength()%26;for(f===0&&(f=26),w=g.length-1;w>=0;w--){for(var _=g.words[w],E=f-1;E>=0;E--){var I=_>>E&1;if(M!==m[0]&&(M=this.sqr(M)),I===0&&A===0){S=0;continue}A<<=1,A|=I,S++,!(S!==l&&(w!==0||E!==0))&&(M=this.mul(M,m[A]),S=0,A=0)}f=26}return M},$.prototype.convertTo=function(u){var g=u.umod(this.m);return g===u?g.clone():g},$.prototype.convertFrom=function(u){var g=u.clone();return g.red=null,g},o.mont=function(u){return new F(u)};function F(u){$.call(this,u),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(F,"r"),s(F,$),F.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},F.prototype.convertFrom=function(u){var g=this.imod(u.mul(this.rinv));return g.red=null,g},F.prototype.imul=function(u,g){if(u.isZero()||g.isZero())return u.words[0]=0,u.length=1,u;var l=u.imul(g),m=l.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=l.isub(m).iushrn(this.shift),M=w;return w.cmp(this.m)>=0?M=w.isub(this.m):w.cmpn(0)<0&&(M=w.iadd(this.m)),M._forceRed(this)},F.prototype.mul=function(u,g){if(u.isZero()||g.isZero())return new o(0)._forceRed(this);var l=u.mul(g),m=l.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=l.isub(m).iushrn(this.shift),M=w;return w.cmp(this.m)>=0?M=w.isub(this.m):w.cmpn(0)<0&&(M=w.iadd(this.m)),M._forceRed(this)},F.prototype.invm=function(u){var g=this.imod(u._invmp(this.m).mul(this.r2));return g._forceRed(this)}})(typeof t>"u"||t,e)}),r4=at((e,t)=>{var r=e4(),a=t4();t.exports=function(h){return new s(h)};var n={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};n.p224=n.secp224r1,n.p256=n.secp256r1=n.prime256v1,n.p192=n.secp192r1=n.prime192v1,n.p384=n.secp384r1,n.p521=n.secp521r1;function s(h){this.curveType=n[h],!this.curveType&&(this.curveType={name:h}),this.curve=new r.ec(this.curveType.name),this.keys=void 0}i(s,"O"),s.prototype.generateKeys=function(h,p){return this.keys=this.curve.genKeyPair(),this.getPublicKey(h,p)},s.prototype.computeSecret=function(h,p,v){p=p||"utf8",!Buffer.isBuffer(h)&&(h=new Buffer(h,p));var c=this.curve.keyFromPublic(h).getPublic(),d=c.mul(this.keys.getPrivate()).getX();return o(d,v,this.curveType.byteLength)},s.prototype.getPublicKey=function(h,p){var v=this.keys.getPublic(p==="compressed",!0);return p==="hybrid"&&(v[v.length-1]%2?v[0]=7:v[0]=6),o(v,h)},s.prototype.getPrivateKey=function(h){return o(this.keys.getPrivate(),h)},s.prototype.setPublicKey=function(h,p){return p=p||"utf8",!Buffer.isBuffer(h)&&(h=new Buffer(h,p)),this.keys._importPublic(h),this},s.prototype.setPrivateKey=function(h,p){p=p||"utf8",!Buffer.isBuffer(h)&&(h=new Buffer(h,p));var v=new a(h);return v=v.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(v),this};function o(h,p,v){Array.isArray(h)||(h=h.toArray());var c=new Buffer(h);if(v&&c.length<v){var d=new Buffer(v-c.length);d.fill(0),c=Buffer.concat([d,c])}return p?c.toString(p):c}i(o,"j")}),i4=at((e,t)=>{var r=(qr(),$t(Ur)).createECDH;t.exports=r||r4()}),n4=at((e,t)=>{(function(r,a){function n(u,g){if(!u)throw Error(g||"Assertion failed")}i(n,"_");function s(u,g){u.super_=g;var l=i(function(){},"H");l.prototype=g.prototype,u.prototype=new l,u.prototype.constructor=u}i(s,"O");function o(u,g,l){if(o.isBN(u))return u;this.negative=0,this.words=null,this.length=0,this.red=null,u!==null&&((g==="le"||g==="be")&&(l=g,g=10),this._init(u||0,g||10,l||"be"))}i(o,"j"),typeof r=="object"?r.exports=o:a.BN=o,o.BN=o,o.wordSize=26;var h;try{typeof window<"u"&&typeof window.Buffer<"u"?h=window.Buffer:h=(Mr(),$t(wr)).Buffer}catch{}o.isBN=function(u){return u instanceof o?!0:u!==null&&typeof u=="object"&&u.constructor.wordSize===o.wordSize&&Array.isArray(u.words)},o.max=function(u,g){return u.cmp(g)>0?u:g},o.min=function(u,g){return u.cmp(g)<0?u:g},o.prototype._init=function(u,g,l){if(typeof u=="number")return this._initNumber(u,g,l);if(typeof u=="object")return this._initArray(u,g,l);g==="hex"&&(g=16),n(g===(g|0)&&g>=2&&g<=36),u=u.toString().replace(/\s+/g,"");var m=0;u[0]==="-"&&(m++,this.negative=1),m<u.length&&(g===16?this._parseHex(u,m,l):(this._parseBase(u,g,m),l==="le"&&this._initArray(this.toArray(),g,l)))},o.prototype._initNumber=function(u,g,l){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[u&67108863],this.length=1):u<4503599627370496?(this.words=[u&67108863,u/67108864&67108863],this.length=2):(n(u<9007199254740992),this.words=[u&67108863,u/67108864&67108863,1],this.length=3),l==="le"&&this._initArray(this.toArray(),g,l)},o.prototype._initArray=function(u,g,l){if(n(typeof u.length=="number"),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var w,M,A=0;if(l==="be")for(m=u.length-1,w=0;m>=0;m-=3)M=u[m]|u[m-1]<<8|u[m-2]<<16,this.words[w]|=M<<A&67108863,this.words[w+1]=M>>>26-A&67108863,A+=24,A>=26&&(A-=26,w++);else if(l==="le")for(m=0,w=0;m<u.length;m+=3)M=u[m]|u[m+1]<<8|u[m+2]<<16,this.words[w]|=M<<A&67108863,this.words[w+1]=M>>>26-A&67108863,A+=24,A>=26&&(A-=26,w++);return this.strip()};function p(u,g){var l=u.charCodeAt(g);return l>=65&&l<=70?l-55:l>=97&&l<=102?l-87:l-48&15}i(p,"J");function v(u,g,l){var m=p(u,l);return l-1>=g&&(m|=p(u,l-1)<<4),m}i(v,"w"),o.prototype._parseHex=function(u,g,l){this.length=Math.ceil((u.length-g)/6),this.words=Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var w=0,M=0,A;if(l==="be")for(m=u.length-1;m>=g;m-=2)A=v(u,g,m)<<w,this.words[M]|=A&67108863,w>=18?(w-=18,M+=1,this.words[M]|=A>>>26):w+=8;else{var S=u.length-g;for(m=S%2===0?g+1:g;m<u.length;m+=2)A=v(u,g,m)<<w,this.words[M]|=A&67108863,w>=18?(w-=18,M+=1,this.words[M]|=A>>>26):w+=8}this.strip()};function c(u,g,l,m){for(var w=0,M=Math.min(u.length,l),A=g;A<M;A++){var S=u.charCodeAt(A)-48;w*=m,S>=49?w+=S-49+10:S>=17?w+=S-17+10:w+=S}return w}i(c,"G"),o.prototype._parseBase=function(u,g,l){this.words=[0],this.length=1;for(var m=0,w=1;w<=67108863;w*=g)m++;m--,w=w/g|0;for(var M=u.length-l,A=M%m,S=Math.min(M,M-A)+l,f=0,_=l;_<S;_+=m)f=c(u,_,_+m,g),this.imuln(w),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(A!==0){var E=1;for(f=c(u,_,u.length,g),_=0;_<A;_++)E*=g;this.imuln(E),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this.strip()},o.prototype.copy=function(u){u.words=Array(this.length);for(var g=0;g<this.length;g++)u.words[g]=this.words[g];u.length=this.length,u.negative=this.negative,u.red=this.red},o.prototype.clone=function(){var u=new o(null);return this.copy(u),u},o.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(u,g){u=u||10,g=g|0||1;var l;if(u===16||u==="hex"){l="";for(var m=0,w=0,M=0;M<this.length;M++){var A=this.words[M],S=((A<<m|w)&16777215).toString(16);w=A>>>24-m&16777215,m+=2,m>=26&&(m-=26,M--),w!==0||M!==this.length-1?l=d[6-S.length]+S+l:l=S+l}for(w!==0&&(l=w.toString(16)+l);l.length%g!==0;)l="0"+l;return this.negative!==0&&(l="-"+l),l}if(u===(u|0)&&u>=2&&u<=36){var f=y[u],_=b[u];l="";var E=this.clone();for(E.negative=0;!E.isZero();){var I=E.modn(_).toString(u);E=E.idivn(_),E.isZero()?l=I+l:l=d[f-I.length]+I+l}for(this.isZero()&&(l="0"+l);l.length%g!==0;)l="0"+l;return this.negative!==0&&(l="-"+l),l}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var u=this.words[0];return this.length===2?u+=this.words[1]*67108864:this.length===3&&this.words[2]===1?u+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-u:u},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(u,g){return n(typeof h<"u"),this.toArrayLike(h,u,g)},o.prototype.toArray=function(u,g){return this.toArrayLike(Array,u,g)},o.prototype.toArrayLike=function(u,g,l){var m=this.byteLength(),w=l||Math.max(1,m);n(m<=w,"byte array longer than desired length"),n(w>0,"Requested array length <= 0"),this.strip();var M=g==="le",A=new u(w),S,f,_=this.clone();if(M){for(f=0;!_.isZero();f++)S=_.andln(255),_.iushrn(8),A[f]=S;for(;f<w;f++)A[f]=0}else{for(f=0;f<w-m;f++)A[f]=0;for(f=0;!_.isZero();f++)S=_.andln(255),_.iushrn(8),A[w-f-1]=S}return A},Math.clz32?o.prototype._countBits=function(u){return 32-Math.clz32(u)}:o.prototype._countBits=function(u){var g=u,l=0;return g>=4096&&(l+=13,g>>>=13),g>=64&&(l+=7,g>>>=7),g>=8&&(l+=4,g>>>=4),g>=2&&(l+=2,g>>>=2),l+g},o.prototype._zeroBits=function(u){if(u===0)return 26;var g=u,l=0;return(g&8191)===0&&(l+=13,g>>>=13),(g&127)===0&&(l+=7,g>>>=7),(g&15)===0&&(l+=4,g>>>=4),(g&3)===0&&(l+=2,g>>>=2),(g&1)===0&&l++,l},o.prototype.bitLength=function(){var u=this.words[this.length-1],g=this._countBits(u);return(this.length-1)*26+g};function x(u){for(var g=Array(u.bitLength()),l=0;l<g.length;l++){var m=l/26|0,w=l%26;g[l]=(u.words[m]&1<<w)>>>w}return g}i(x,"C"),o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,g=0;g<this.length;g++){var l=this._zeroBits(this.words[g]);if(u+=l,l!==26)break}return u},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(u){return this.negative!==0?this.abs().inotn(u).iaddn(1):this.clone()},o.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var g=0;g<u.length;g++)this.words[g]=this.words[g]|u.words[g];return this.strip()},o.prototype.ior=function(u){return n((this.negative|u.negative)===0),this.iuor(u)},o.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},o.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},o.prototype.iuand=function(u){var g;this.length>u.length?g=u:g=this;for(var l=0;l<g.length;l++)this.words[l]=this.words[l]&u.words[l];return this.length=g.length,this.strip()},o.prototype.iand=function(u){return n((this.negative|u.negative)===0),this.iuand(u)},o.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},o.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},o.prototype.iuxor=function(u){var g,l;this.length>u.length?(g=this,l=u):(g=u,l=this);for(var m=0;m<l.length;m++)this.words[m]=g.words[m]^l.words[m];if(this!==g)for(;m<g.length;m++)this.words[m]=g.words[m];return this.length=g.length,this.strip()},o.prototype.ixor=function(u){return n((this.negative|u.negative)===0),this.iuxor(u)},o.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},o.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},o.prototype.inotn=function(u){n(typeof u=="number"&&u>=0);var g=Math.ceil(u/26)|0,l=u%26;this._expand(g),l>0&&g--;for(var m=0;m<g;m++)this.words[m]=~this.words[m]&67108863;return l>0&&(this.words[m]=~this.words[m]&67108863>>26-l),this.strip()},o.prototype.notn=function(u){return this.clone().inotn(u)},o.prototype.setn=function(u,g){n(typeof u=="number"&&u>=0);var l=u/26|0,m=u%26;return this._expand(l+1),g?this.words[l]=this.words[l]|1<<m:this.words[l]=this.words[l]&~(1<<m),this.strip()},o.prototype.iadd=function(u){var g;if(this.negative!==0&&u.negative===0)return this.negative=0,g=this.isub(u),this.negative^=1,this._normSign();if(this.negative===0&&u.negative!==0)return u.negative=0,g=this.isub(u),u.negative=1,g._normSign();var l,m;this.length>u.length?(l=this,m=u):(l=u,m=this);for(var w=0,M=0;M<m.length;M++)g=(l.words[M]|0)+(m.words[M]|0)+w,this.words[M]=g&67108863,w=g>>>26;for(;w!==0&&M<l.length;M++)g=(l.words[M]|0)+w,this.words[M]=g&67108863,w=g>>>26;if(this.length=l.length,w!==0)this.words[this.length]=w,this.length++;else if(l!==this)for(;M<l.length;M++)this.words[M]=l.words[M];return this},o.prototype.add=function(u){var g;return u.negative!==0&&this.negative===0?(u.negative=0,g=this.sub(u),u.negative^=1,g):u.negative===0&&this.negative!==0?(this.negative=0,g=u.sub(this),this.negative=1,g):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},o.prototype.isub=function(u){if(u.negative!==0){u.negative=0;var g=this.iadd(u);return u.negative=1,g._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var l=this.cmp(u);if(l===0)return this.negative=0,this.length=1,this.words[0]=0,this;var m,w;l>0?(m=this,w=u):(m=u,w=this);for(var M=0,A=0;A<w.length;A++)g=(m.words[A]|0)-(w.words[A]|0)+M,M=g>>26,this.words[A]=g&67108863;for(;M!==0&&A<m.length;A++)g=(m.words[A]|0)+M,M=g>>26,this.words[A]=g&67108863;if(M===0&&A<m.length&&m!==this)for(;A<m.length;A++)this.words[A]=m.words[A];return this.length=Math.max(this.length,A),m!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(u){return this.clone().isub(u)};function k(u,g,l){l.negative=g.negative^u.negative;var m=u.length+g.length|0;l.length=m,m=m-1|0;var w=u.words[0]|0,M=g.words[0]|0,A=w*M,S=A&67108863,f=A/67108864|0;l.words[0]=S;for(var _=1;_<m;_++){for(var E=f>>>26,I=f&67108863,D=Math.min(_,g.length-1),L=Math.max(0,_-u.length+1);L<=D;L++){var U=_-L|0;w=u.words[U]|0,M=g.words[L]|0,A=w*M+I,E+=A/67108864|0,I=A&67108863}l.words[_]=I|0,f=E|0}return f!==0?l.words[_]=f|0:l.length--,l.strip()}i(k,"E");var N=i(function(u,g,l){var m=u.words,w=g.words,M=l.words,A=0,S,f,_,E=m[0]|0,I=E&8191,D=E>>>13,L=m[1]|0,U=L&8191,B=L>>>13,G=m[2]|0,H=G&8191,K=G>>>13,_e=m[3]|0,ae=_e&8191,se=_e>>>13,ye=m[4]|0,q=ye&8191,re=ye>>>13,X=m[5]|0,W=X&8191,le=X>>>13,ke=m[6]|0,pe=ke&8191,fe=ke>>>13,Q=m[7]|0,Y=Q&8191,te=Q>>>13,he=m[8]|0,oe=he&8191,ue=he>>>13,ze=m[9]|0,we=ze&8191,Be=ze>>>13,We=w[0]|0,ve=We&8191,Ue=We>>>13,ce=w[1]|0,be=ce&8191,Te=ce>>>13,Re=w[2]|0,Ae=Re&8191,$e=Re>>>13,Ye=w[3]|0,Ne=Ye&8191,Ee=Ye>>>13,Pe=w[4]|0,Se=Pe&8191,Ze=Pe>>>13,Ke=w[5]|0,ie=Ke&8191,me=Ke>>>13,Ce=w[6]|0,xe=Ce&8191,Oe=Ce>>>13,He=w[7]|0,ne=He&8191,je=He>>>13,Ge=w[8]|0,ge=Ge&8191,Je=Ge>>>13,tt=w[9]|0,De=tt&8191,Qe=tt>>>13;l.negative=u.negative^g.negative,l.length=19,S=Math.imul(I,ve),f=Math.imul(I,Ue),f=f+Math.imul(D,ve)|0,_=Math.imul(D,Ue);var Ie=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,S=Math.imul(U,ve),f=Math.imul(U,Ue),f=f+Math.imul(B,ve)|0,_=Math.imul(B,Ue),S=S+Math.imul(I,be)|0,f=f+Math.imul(I,Te)|0,f=f+Math.imul(D,be)|0,_=_+Math.imul(D,Te)|0;var Fe=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,S=Math.imul(H,ve),f=Math.imul(H,Ue),f=f+Math.imul(K,ve)|0,_=Math.imul(K,Ue),S=S+Math.imul(U,be)|0,f=f+Math.imul(U,Te)|0,f=f+Math.imul(B,be)|0,_=_+Math.imul(B,Te)|0,S=S+Math.imul(I,Ae)|0,f=f+Math.imul(I,$e)|0,f=f+Math.imul(D,Ae)|0,_=_+Math.imul(D,$e)|0;var lt=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(lt>>>26)|0,lt&=67108863,S=Math.imul(ae,ve),f=Math.imul(ae,Ue),f=f+Math.imul(se,ve)|0,_=Math.imul(se,Ue),S=S+Math.imul(H,be)|0,f=f+Math.imul(H,Te)|0,f=f+Math.imul(K,be)|0,_=_+Math.imul(K,Te)|0,S=S+Math.imul(U,Ae)|0,f=f+Math.imul(U,$e)|0,f=f+Math.imul(B,Ae)|0,_=_+Math.imul(B,$e)|0,S=S+Math.imul(I,Ne)|0,f=f+Math.imul(I,Ee)|0,f=f+Math.imul(D,Ne)|0,_=_+Math.imul(D,Ee)|0;var yt=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(yt>>>26)|0,yt&=67108863,S=Math.imul(q,ve),f=Math.imul(q,Ue),f=f+Math.imul(re,ve)|0,_=Math.imul(re,Ue),S=S+Math.imul(ae,be)|0,f=f+Math.imul(ae,Te)|0,f=f+Math.imul(se,be)|0,_=_+Math.imul(se,Te)|0,S=S+Math.imul(H,Ae)|0,f=f+Math.imul(H,$e)|0,f=f+Math.imul(K,Ae)|0,_=_+Math.imul(K,$e)|0,S=S+Math.imul(U,Ne)|0,f=f+Math.imul(U,Ee)|0,f=f+Math.imul(B,Ne)|0,_=_+Math.imul(B,Ee)|0,S=S+Math.imul(I,Se)|0,f=f+Math.imul(I,Ze)|0,f=f+Math.imul(D,Se)|0,_=_+Math.imul(D,Ze)|0;var ht=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(ht>>>26)|0,ht&=67108863,S=Math.imul(W,ve),f=Math.imul(W,Ue),f=f+Math.imul(le,ve)|0,_=Math.imul(le,Ue),S=S+Math.imul(q,be)|0,f=f+Math.imul(q,Te)|0,f=f+Math.imul(re,be)|0,_=_+Math.imul(re,Te)|0,S=S+Math.imul(ae,Ae)|0,f=f+Math.imul(ae,$e)|0,f=f+Math.imul(se,Ae)|0,_=_+Math.imul(se,$e)|0,S=S+Math.imul(H,Ne)|0,f=f+Math.imul(H,Ee)|0,f=f+Math.imul(K,Ne)|0,_=_+Math.imul(K,Ee)|0,S=S+Math.imul(U,Se)|0,f=f+Math.imul(U,Ze)|0,f=f+Math.imul(B,Se)|0,_=_+Math.imul(B,Ze)|0,S=S+Math.imul(I,ie)|0,f=f+Math.imul(I,me)|0,f=f+Math.imul(D,ie)|0,_=_+Math.imul(D,me)|0;var Mt=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,S=Math.imul(pe,ve),f=Math.imul(pe,Ue),f=f+Math.imul(fe,ve)|0,_=Math.imul(fe,Ue),S=S+Math.imul(W,be)|0,f=f+Math.imul(W,Te)|0,f=f+Math.imul(le,be)|0,_=_+Math.imul(le,Te)|0,S=S+Math.imul(q,Ae)|0,f=f+Math.imul(q,$e)|0,f=f+Math.imul(re,Ae)|0,_=_+Math.imul(re,$e)|0,S=S+Math.imul(ae,Ne)|0,f=f+Math.imul(ae,Ee)|0,f=f+Math.imul(se,Ne)|0,_=_+Math.imul(se,Ee)|0,S=S+Math.imul(H,Se)|0,f=f+Math.imul(H,Ze)|0,f=f+Math.imul(K,Se)|0,_=_+Math.imul(K,Ze)|0,S=S+Math.imul(U,ie)|0,f=f+Math.imul(U,me)|0,f=f+Math.imul(B,ie)|0,_=_+Math.imul(B,me)|0,S=S+Math.imul(I,xe)|0,f=f+Math.imul(I,Oe)|0,f=f+Math.imul(D,xe)|0,_=_+Math.imul(D,Oe)|0;var Bt=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,S=Math.imul(Y,ve),f=Math.imul(Y,Ue),f=f+Math.imul(te,ve)|0,_=Math.imul(te,Ue),S=S+Math.imul(pe,be)|0,f=f+Math.imul(pe,Te)|0,f=f+Math.imul(fe,be)|0,_=_+Math.imul(fe,Te)|0,S=S+Math.imul(W,Ae)|0,f=f+Math.imul(W,$e)|0,f=f+Math.imul(le,Ae)|0,_=_+Math.imul(le,$e)|0,S=S+Math.imul(q,Ne)|0,f=f+Math.imul(q,Ee)|0,f=f+Math.imul(re,Ne)|0,_=_+Math.imul(re,Ee)|0,S=S+Math.imul(ae,Se)|0,f=f+Math.imul(ae,Ze)|0,f=f+Math.imul(se,Se)|0,_=_+Math.imul(se,Ze)|0,S=S+Math.imul(H,ie)|0,f=f+Math.imul(H,me)|0,f=f+Math.imul(K,ie)|0,_=_+Math.imul(K,me)|0,S=S+Math.imul(U,xe)|0,f=f+Math.imul(U,Oe)|0,f=f+Math.imul(B,xe)|0,_=_+Math.imul(B,Oe)|0,S=S+Math.imul(I,ne)|0,f=f+Math.imul(I,je)|0,f=f+Math.imul(D,ne)|0,_=_+Math.imul(D,je)|0;var Et=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(Et>>>26)|0,Et&=67108863,S=Math.imul(oe,ve),f=Math.imul(oe,Ue),f=f+Math.imul(ue,ve)|0,_=Math.imul(ue,Ue),S=S+Math.imul(Y,be)|0,f=f+Math.imul(Y,Te)|0,f=f+Math.imul(te,be)|0,_=_+Math.imul(te,Te)|0,S=S+Math.imul(pe,Ae)|0,f=f+Math.imul(pe,$e)|0,f=f+Math.imul(fe,Ae)|0,_=_+Math.imul(fe,$e)|0,S=S+Math.imul(W,Ne)|0,f=f+Math.imul(W,Ee)|0,f=f+Math.imul(le,Ne)|0,_=_+Math.imul(le,Ee)|0,S=S+Math.imul(q,Se)|0,f=f+Math.imul(q,Ze)|0,f=f+Math.imul(re,Se)|0,_=_+Math.imul(re,Ze)|0,S=S+Math.imul(ae,ie)|0,f=f+Math.imul(ae,me)|0,f=f+Math.imul(se,ie)|0,_=_+Math.imul(se,me)|0,S=S+Math.imul(H,xe)|0,f=f+Math.imul(H,Oe)|0,f=f+Math.imul(K,xe)|0,_=_+Math.imul(K,Oe)|0,S=S+Math.imul(U,ne)|0,f=f+Math.imul(U,je)|0,f=f+Math.imul(B,ne)|0,_=_+Math.imul(B,je)|0,S=S+Math.imul(I,ge)|0,f=f+Math.imul(I,Je)|0,f=f+Math.imul(D,ge)|0,_=_+Math.imul(D,Je)|0;var _t=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(_t>>>26)|0,_t&=67108863,S=Math.imul(we,ve),f=Math.imul(we,Ue),f=f+Math.imul(Be,ve)|0,_=Math.imul(Be,Ue),S=S+Math.imul(oe,be)|0,f=f+Math.imul(oe,Te)|0,f=f+Math.imul(ue,be)|0,_=_+Math.imul(ue,Te)|0,S=S+Math.imul(Y,Ae)|0,f=f+Math.imul(Y,$e)|0,f=f+Math.imul(te,Ae)|0,_=_+Math.imul(te,$e)|0,S=S+Math.imul(pe,Ne)|0,f=f+Math.imul(pe,Ee)|0,f=f+Math.imul(fe,Ne)|0,_=_+Math.imul(fe,Ee)|0,S=S+Math.imul(W,Se)|0,f=f+Math.imul(W,Ze)|0,f=f+Math.imul(le,Se)|0,_=_+Math.imul(le,Ze)|0,S=S+Math.imul(q,ie)|0,f=f+Math.imul(q,me)|0,f=f+Math.imul(re,ie)|0,_=_+Math.imul(re,me)|0,S=S+Math.imul(ae,xe)|0,f=f+Math.imul(ae,Oe)|0,f=f+Math.imul(se,xe)|0,_=_+Math.imul(se,Oe)|0,S=S+Math.imul(H,ne)|0,f=f+Math.imul(H,je)|0,f=f+Math.imul(K,ne)|0,_=_+Math.imul(K,je)|0,S=S+Math.imul(U,ge)|0,f=f+Math.imul(U,Je)|0,f=f+Math.imul(B,ge)|0,_=_+Math.imul(B,Je)|0,S=S+Math.imul(I,De)|0,f=f+Math.imul(I,Qe)|0,f=f+Math.imul(D,De)|0,_=_+Math.imul(D,Qe)|0;var Ft=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,S=Math.imul(we,be),f=Math.imul(we,Te),f=f+Math.imul(Be,be)|0,_=Math.imul(Be,Te),S=S+Math.imul(oe,Ae)|0,f=f+Math.imul(oe,$e)|0,f=f+Math.imul(ue,Ae)|0,_=_+Math.imul(ue,$e)|0,S=S+Math.imul(Y,Ne)|0,f=f+Math.imul(Y,Ee)|0,f=f+Math.imul(te,Ne)|0,_=_+Math.imul(te,Ee)|0,S=S+Math.imul(pe,Se)|0,f=f+Math.imul(pe,Ze)|0,f=f+Math.imul(fe,Se)|0,_=_+Math.imul(fe,Ze)|0,S=S+Math.imul(W,ie)|0,f=f+Math.imul(W,me)|0,f=f+Math.imul(le,ie)|0,_=_+Math.imul(le,me)|0,S=S+Math.imul(q,xe)|0,f=f+Math.imul(q,Oe)|0,f=f+Math.imul(re,xe)|0,_=_+Math.imul(re,Oe)|0,S=S+Math.imul(ae,ne)|0,f=f+Math.imul(ae,je)|0,f=f+Math.imul(se,ne)|0,_=_+Math.imul(se,je)|0,S=S+Math.imul(H,ge)|0,f=f+Math.imul(H,Je)|0,f=f+Math.imul(K,ge)|0,_=_+Math.imul(K,Je)|0,S=S+Math.imul(U,De)|0,f=f+Math.imul(U,Qe)|0,f=f+Math.imul(B,De)|0,_=_+Math.imul(B,Qe)|0;var Vt=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,S=Math.imul(we,Ae),f=Math.imul(we,$e),f=f+Math.imul(Be,Ae)|0,_=Math.imul(Be,$e),S=S+Math.imul(oe,Ne)|0,f=f+Math.imul(oe,Ee)|0,f=f+Math.imul(ue,Ne)|0,_=_+Math.imul(ue,Ee)|0,S=S+Math.imul(Y,Se)|0,f=f+Math.imul(Y,Ze)|0,f=f+Math.imul(te,Se)|0,_=_+Math.imul(te,Ze)|0,S=S+Math.imul(pe,ie)|0,f=f+Math.imul(pe,me)|0,f=f+Math.imul(fe,ie)|0,_=_+Math.imul(fe,me)|0,S=S+Math.imul(W,xe)|0,f=f+Math.imul(W,Oe)|0,f=f+Math.imul(le,xe)|0,_=_+Math.imul(le,Oe)|0,S=S+Math.imul(q,ne)|0,f=f+Math.imul(q,je)|0,f=f+Math.imul(re,ne)|0,_=_+Math.imul(re,je)|0,S=S+Math.imul(ae,ge)|0,f=f+Math.imul(ae,Je)|0,f=f+Math.imul(se,ge)|0,_=_+Math.imul(se,Je)|0,S=S+Math.imul(H,De)|0,f=f+Math.imul(H,Qe)|0,f=f+Math.imul(K,De)|0,_=_+Math.imul(K,Qe)|0;var Tt=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,S=Math.imul(we,Ne),f=Math.imul(we,Ee),f=f+Math.imul(Be,Ne)|0,_=Math.imul(Be,Ee),S=S+Math.imul(oe,Se)|0,f=f+Math.imul(oe,Ze)|0,f=f+Math.imul(ue,Se)|0,_=_+Math.imul(ue,Ze)|0,S=S+Math.imul(Y,ie)|0,f=f+Math.imul(Y,me)|0,f=f+Math.imul(te,ie)|0,_=_+Math.imul(te,me)|0,S=S+Math.imul(pe,xe)|0,f=f+Math.imul(pe,Oe)|0,f=f+Math.imul(fe,xe)|0,_=_+Math.imul(fe,Oe)|0,S=S+Math.imul(W,ne)|0,f=f+Math.imul(W,je)|0,f=f+Math.imul(le,ne)|0,_=_+Math.imul(le,je)|0,S=S+Math.imul(q,ge)|0,f=f+Math.imul(q,Je)|0,f=f+Math.imul(re,ge)|0,_=_+Math.imul(re,Je)|0,S=S+Math.imul(ae,De)|0,f=f+Math.imul(ae,Qe)|0,f=f+Math.imul(se,De)|0,_=_+Math.imul(se,Qe)|0;var zt=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(zt>>>26)|0,zt&=67108863,S=Math.imul(we,Se),f=Math.imul(we,Ze),f=f+Math.imul(Be,Se)|0,_=Math.imul(Be,Ze),S=S+Math.imul(oe,ie)|0,f=f+Math.imul(oe,me)|0,f=f+Math.imul(ue,ie)|0,_=_+Math.imul(ue,me)|0,S=S+Math.imul(Y,xe)|0,f=f+Math.imul(Y,Oe)|0,f=f+Math.imul(te,xe)|0,_=_+Math.imul(te,Oe)|0,S=S+Math.imul(pe,ne)|0,f=f+Math.imul(pe,je)|0,f=f+Math.imul(fe,ne)|0,_=_+Math.imul(fe,je)|0,S=S+Math.imul(W,ge)|0,f=f+Math.imul(W,Je)|0,f=f+Math.imul(le,ge)|0,_=_+Math.imul(le,Je)|0,S=S+Math.imul(q,De)|0,f=f+Math.imul(q,Qe)|0,f=f+Math.imul(re,De)|0,_=_+Math.imul(re,Qe)|0;var Nt=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,S=Math.imul(we,ie),f=Math.imul(we,me),f=f+Math.imul(Be,ie)|0,_=Math.imul(Be,me),S=S+Math.imul(oe,xe)|0,f=f+Math.imul(oe,Oe)|0,f=f+Math.imul(ue,xe)|0,_=_+Math.imul(ue,Oe)|0,S=S+Math.imul(Y,ne)|0,f=f+Math.imul(Y,je)|0,f=f+Math.imul(te,ne)|0,_=_+Math.imul(te,je)|0,S=S+Math.imul(pe,ge)|0,f=f+Math.imul(pe,Je)|0,f=f+Math.imul(fe,ge)|0,_=_+Math.imul(fe,Je)|0,S=S+Math.imul(W,De)|0,f=f+Math.imul(W,Qe)|0,f=f+Math.imul(le,De)|0,_=_+Math.imul(le,Qe)|0;var Pt=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,S=Math.imul(we,xe),f=Math.imul(we,Oe),f=f+Math.imul(Be,xe)|0,_=Math.imul(Be,Oe),S=S+Math.imul(oe,ne)|0,f=f+Math.imul(oe,je)|0,f=f+Math.imul(ue,ne)|0,_=_+Math.imul(ue,je)|0,S=S+Math.imul(Y,ge)|0,f=f+Math.imul(Y,Je)|0,f=f+Math.imul(te,ge)|0,_=_+Math.imul(te,Je)|0,S=S+Math.imul(pe,De)|0,f=f+Math.imul(pe,Qe)|0,f=f+Math.imul(fe,De)|0,_=_+Math.imul(fe,Qe)|0;var Ut=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,S=Math.imul(we,ne),f=Math.imul(we,je),f=f+Math.imul(Be,ne)|0,_=Math.imul(Be,je),S=S+Math.imul(oe,ge)|0,f=f+Math.imul(oe,Je)|0,f=f+Math.imul(ue,ge)|0,_=_+Math.imul(ue,Je)|0,S=S+Math.imul(Y,De)|0,f=f+Math.imul(Y,Qe)|0,f=f+Math.imul(te,De)|0,_=_+Math.imul(te,Qe)|0;var Zt=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,S=Math.imul(we,ge),f=Math.imul(we,Je),f=f+Math.imul(Be,ge)|0,_=Math.imul(Be,Je),S=S+Math.imul(oe,De)|0,f=f+Math.imul(oe,Qe)|0,f=f+Math.imul(ue,De)|0,_=_+Math.imul(ue,Qe)|0;var Ht=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,S=Math.imul(we,De),f=Math.imul(we,Qe),f=f+Math.imul(Be,De)|0,_=Math.imul(Be,Qe);var Jt=(A+S|0)+((f&8191)<<13)|0;return A=(_+(f>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,M[0]=Ie,M[1]=Fe,M[2]=lt,M[3]=yt,M[4]=ht,M[5]=Mt,M[6]=Bt,M[7]=Et,M[8]=_t,M[9]=Ft,M[10]=Vt,M[11]=Tt,M[12]=zt,M[13]=Nt,M[14]=Pt,M[15]=Ut,M[16]=Zt,M[17]=Ht,M[18]=Jt,A!==0&&(M[19]=A,l.length++),l},"R");Math.imul||(N=k);function C(u,g,l){l.negative=g.negative^u.negative,l.length=u.length+g.length;for(var m=0,w=0,M=0;M<l.length-1;M++){var A=w;w=0;for(var S=m&67108863,f=Math.min(M,g.length-1),_=Math.max(0,M-u.length+1);_<=f;_++){var E=M-_,I=u.words[E]|0,D=g.words[_]|0,L=I*D,U=L&67108863;A=A+(L/67108864|0)|0,U=U+S|0,S=U&67108863,A=A+(U>>>26)|0,w+=A>>>26,A&=67108863}l.words[M]=S,m=A,A=w}return m!==0?l.words[M]=m:l.length--,l.strip()}i(C,"I");function R(u,g,l){var m=new O;return m.mulp(u,g,l)}i(R,"D"),o.prototype.mulTo=function(u,g){var l,m=this.length+u.length;return this.length===10&&u.length===10?l=N(this,u,g):m<63?l=k(this,u,g):m<1024?l=C(this,u,g):l=R(this,u,g),l};function O(u,g){this.x=u,this.y=g}i(O,"b"),O.prototype.makeRBT=function(u){for(var g=Array(u),l=o.prototype._countBits(u)-1,m=0;m<u;m++)g[m]=this.revBin(m,l,u);return g},O.prototype.revBin=function(u,g,l){if(u===0||u===l-1)return u;for(var m=0,w=0;w<g;w++)m|=(u&1)<<g-w-1,u>>=1;return m},O.prototype.permute=function(u,g,l,m,w,M){for(var A=0;A<M;A++)m[A]=g[u[A]],w[A]=l[u[A]]},O.prototype.transform=function(u,g,l,m,w,M){this.permute(M,u,g,l,m,w);for(var A=1;A<w;A<<=1)for(var S=A<<1,f=Math.cos(2*Math.PI/S),_=Math.sin(2*Math.PI/S),E=0;E<w;E+=S)for(var I=f,D=_,L=0;L<A;L++){var U=l[E+L],B=m[E+L],G=l[E+L+A],H=m[E+L+A],K=I*G-D*H;H=I*H+D*G,G=K,l[E+L]=U+G,m[E+L]=B+H,l[E+L+A]=U-G,m[E+L+A]=B-H,L!==S&&(K=f*I-_*D,D=f*D+_*I,I=K)}},O.prototype.guessLen13b=function(u,g){var l=Math.max(g,u)|1,m=l&1,w=0;for(l=l/2|0;l;l=l>>>1)w++;return 1<<w+1+m},O.prototype.conjugate=function(u,g,l){if(!(l<=1))for(var m=0;m<l/2;m++){var w=u[m];u[m]=u[l-m-1],u[l-m-1]=w,w=g[m],g[m]=-g[l-m-1],g[l-m-1]=-w}},O.prototype.normalize13b=function(u,g){for(var l=0,m=0;m<g/2;m++){var w=Math.round(u[2*m+1]/g)*8192+Math.round(u[2*m]/g)+l;u[m]=w&67108863,w<67108864?l=0:l=w/67108864|0}return u},O.prototype.convert13b=function(u,g,l,m){for(var w=0,M=0;M<g;M++)w=w+(u[M]|0),l[2*M]=w&8191,w=w>>>13,l[2*M+1]=w&8191,w=w>>>13;for(M=2*g;M<m;++M)l[M]=0;n(w===0),n((w&-8192)===0)},O.prototype.stub=function(u){for(var g=Array(u),l=0;l<u;l++)g[l]=0;return g},O.prototype.mulp=function(u,g,l){var m=2*this.guessLen13b(u.length,g.length),w=this.makeRBT(m),M=this.stub(m),A=Array(m),S=Array(m),f=Array(m),_=Array(m),E=Array(m),I=Array(m),D=l.words;D.length=m,this.convert13b(u.words,u.length,A,m),this.convert13b(g.words,g.length,_,m),this.transform(A,M,S,f,m,w),this.transform(_,M,E,I,m,w);for(var L=0;L<m;L++){var U=S[L]*E[L]-f[L]*I[L];f[L]=S[L]*I[L]+f[L]*E[L],S[L]=U}return this.conjugate(S,f,m),this.transform(S,f,D,M,m,w),this.conjugate(D,M,m),this.normalize13b(D,m),l.negative=u.negative^g.negative,l.length=u.length+g.length,l.strip()},o.prototype.mul=function(u){var g=new o(null);return g.words=Array(this.length+u.length),this.mulTo(u,g)},o.prototype.mulf=function(u){var g=new o(null);return g.words=Array(this.length+u.length),R(this,u,g)},o.prototype.imul=function(u){return this.clone().mulTo(u,this)},o.prototype.imuln=function(u){n(typeof u=="number"),n(u<67108864);for(var g=0,l=0;l<this.length;l++){var m=(this.words[l]|0)*u,w=(m&67108863)+(g&67108863);g>>=26,g+=m/67108864|0,g+=w>>>26,this.words[l]=w&67108863}return g!==0&&(this.words[l]=g,this.length++),this.length=u===0?1:this.length,this},o.prototype.muln=function(u){return this.clone().imuln(u)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(u){var g=x(u);if(g.length===0)return new o(1);for(var l=this,m=0;m<g.length&&g[m]===0;m++,l=l.sqr());if(++m<g.length)for(var w=l.sqr();m<g.length;m++,w=w.sqr())g[m]!==0&&(l=l.mul(w));return l},o.prototype.iushln=function(u){n(typeof u=="number"&&u>=0);var g=u%26,l=(u-g)/26,m=67108863>>>26-g<<26-g,w;if(g!==0){var M=0;for(w=0;w<this.length;w++){var A=this.words[w]&m,S=(this.words[w]|0)-A<<g;this.words[w]=S|M,M=A>>>26-g}M&&(this.words[w]=M,this.length++)}if(l!==0){for(w=this.length-1;w>=0;w--)this.words[w+l]=this.words[w];for(w=0;w<l;w++)this.words[w]=0;this.length+=l}return this.strip()},o.prototype.ishln=function(u){return n(this.negative===0),this.iushln(u)},o.prototype.iushrn=function(u,g,l){n(typeof u=="number"&&u>=0);var m;g?m=(g-g%26)/26:m=0;var w=u%26,M=Math.min((u-w)/26,this.length),A=67108863^67108863>>>w<<w,S=l;if(m-=M,m=Math.max(0,m),S){for(var f=0;f<M;f++)S.words[f]=this.words[f];S.length=M}if(M!==0)if(this.length>M)for(this.length-=M,f=0;f<this.length;f++)this.words[f]=this.words[f+M];else this.words[0]=0,this.length=1;var _=0;for(f=this.length-1;f>=0&&(_!==0||f>=m);f--){var E=this.words[f]|0;this.words[f]=_<<26-w|E>>>w,_=E&A}return S&&_!==0&&(S.words[S.length++]=_),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(u,g,l){return n(this.negative===0),this.iushrn(u,g,l)},o.prototype.shln=function(u){return this.clone().ishln(u)},o.prototype.ushln=function(u){return this.clone().iushln(u)},o.prototype.shrn=function(u){return this.clone().ishrn(u)},o.prototype.ushrn=function(u){return this.clone().iushrn(u)},o.prototype.testn=function(u){n(typeof u=="number"&&u>=0);var g=u%26,l=(u-g)/26,m=1<<g;if(this.length<=l)return!1;var w=this.words[l];return!!(w&m)},o.prototype.imaskn=function(u){n(typeof u=="number"&&u>=0);var g=u%26,l=(u-g)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=l)return this;if(g!==0&&l++,this.length=Math.min(l,this.length),g!==0){var m=67108863^67108863>>>g<<g;this.words[this.length-1]&=m}return this.strip()},o.prototype.maskn=function(u){return this.clone().imaskn(u)},o.prototype.iaddn=function(u){return n(typeof u=="number"),n(u<67108864),u<0?this.isubn(-u):this.negative!==0?this.length===1&&(this.words[0]|0)<u?(this.words[0]=u-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},o.prototype._iaddn=function(u){this.words[0]+=u;for(var g=0;g<this.length&&this.words[g]>=67108864;g++)this.words[g]-=67108864,g===this.length-1?this.words[g+1]=1:this.words[g+1]++;return this.length=Math.max(this.length,g+1),this},o.prototype.isubn=function(u){if(n(typeof u=="number"),n(u<67108864),u<0)return this.iaddn(-u);if(this.negative!==0)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var g=0;g<this.length&&this.words[g]<0;g++)this.words[g]+=67108864,this.words[g+1]-=1;return this.strip()},o.prototype.addn=function(u){return this.clone().iaddn(u)},o.prototype.subn=function(u){return this.clone().isubn(u)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(u,g,l){var m=u.length+l,w;this._expand(m);var M,A=0;for(w=0;w<u.length;w++){M=(this.words[w+l]|0)+A;var S=(u.words[w]|0)*g;M-=S&67108863,A=(M>>26)-(S/67108864|0),this.words[w+l]=M&67108863}for(;w<this.length-l;w++)M=(this.words[w+l]|0)+A,A=M>>26,this.words[w+l]=M&67108863;if(A===0)return this.strip();for(n(A===-1),A=0,w=0;w<this.length;w++)M=-(this.words[w]|0)+A,A=M>>26,this.words[w]=M&67108863;return this.negative=1,this.strip()},o.prototype._wordDiv=function(u,g){var l=this.length-u.length,m=this.clone(),w=u,M=w.words[w.length-1]|0,A=this._countBits(M);l=26-A,l!==0&&(w=w.ushln(l),m.iushln(l),M=w.words[w.length-1]|0);var S=m.length-w.length,f;if(g!=="mod"){f=new o(null),f.length=S+1,f.words=Array(f.length);for(var _=0;_<f.length;_++)f.words[_]=0}var E=m.clone()._ishlnsubmul(w,1,S);E.negative===0&&(m=E,f&&(f.words[S]=1));for(var I=S-1;I>=0;I--){var D=(m.words[w.length+I]|0)*67108864+(m.words[w.length+I-1]|0);for(D=Math.min(D/M|0,67108863),m._ishlnsubmul(w,D,I);m.negative!==0;)D--,m.negative=0,m._ishlnsubmul(w,1,I),!m.isZero()&&(m.negative^=1);f&&(f.words[I]=D)}return f&&f.strip(),m.strip(),g!=="div"&&l!==0&&m.iushrn(l),{div:f||null,mod:m}},o.prototype.divmod=function(u,g,l){if(n(!u.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var m,w,M;return this.negative!==0&&u.negative===0?(M=this.neg().divmod(u,g),g!=="mod"&&(m=M.div.neg()),g!=="div"&&(w=M.mod.neg(),l&&w.negative!==0&&w.iadd(u)),{div:m,mod:w}):this.negative===0&&u.negative!==0?(M=this.divmod(u.neg(),g),g!=="mod"&&(m=M.div.neg()),{div:m,mod:M.mod}):(this.negative&u.negative)!==0?(M=this.neg().divmod(u.neg(),g),g!=="div"&&(w=M.mod.neg(),l&&w.negative!==0&&w.isub(u)),{div:M.div,mod:w}):u.length>this.length||this.cmp(u)<0?{div:new o(0),mod:this}:u.length===1?g==="div"?{div:this.divn(u.words[0]),mod:null}:g==="mod"?{div:null,mod:new o(this.modn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new o(this.modn(u.words[0]))}:this._wordDiv(u,g)},o.prototype.div=function(u){return this.divmod(u,"div",!1).div},o.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},o.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},o.prototype.divRound=function(u){var g=this.divmod(u);if(g.mod.isZero())return g.div;var l=g.div.negative!==0?g.mod.isub(u):g.mod,m=u.ushrn(1),w=u.andln(1),M=l.cmp(m);return M<0||w===1&&M===0?g.div:g.div.negative!==0?g.div.isubn(1):g.div.iaddn(1)},o.prototype.modn=function(u){n(u<=67108863);for(var g=67108864%u,l=0,m=this.length-1;m>=0;m--)l=(g*l+(this.words[m]|0))%u;return l},o.prototype.idivn=function(u){n(u<=67108863);for(var g=0,l=this.length-1;l>=0;l--){var m=(this.words[l]|0)+g*67108864;this.words[l]=m/u|0,g=m%u}return this.strip()},o.prototype.divn=function(u){return this.clone().idivn(u)},o.prototype.egcd=function(u){n(u.negative===0),n(!u.isZero());var g=this,l=u.clone();g.negative!==0?g=g.umod(u):g=g.clone();for(var m=new o(1),w=new o(0),M=new o(0),A=new o(1),S=0;g.isEven()&&l.isEven();)g.iushrn(1),l.iushrn(1),++S;for(var f=l.clone(),_=g.clone();!g.isZero();){for(var E=0,I=1;(g.words[0]&I)===0&&E<26;++E,I<<=1);if(E>0)for(g.iushrn(E);E-- >0;)(m.isOdd()||w.isOdd())&&(m.iadd(f),w.isub(_)),m.iushrn(1),w.iushrn(1);for(var D=0,L=1;(l.words[0]&L)===0&&D<26;++D,L<<=1);if(D>0)for(l.iushrn(D);D-- >0;)(M.isOdd()||A.isOdd())&&(M.iadd(f),A.isub(_)),M.iushrn(1),A.iushrn(1);g.cmp(l)>=0?(g.isub(l),m.isub(M),w.isub(A)):(l.isub(g),M.isub(m),A.isub(w))}return{a:M,b:A,gcd:l.iushln(S)}},o.prototype._invmp=function(u){n(u.negative===0),n(!u.isZero());var g=this,l=u.clone();g.negative!==0?g=g.umod(u):g=g.clone();for(var m=new o(1),w=new o(0),M=l.clone();g.cmpn(1)>0&&l.cmpn(1)>0;){for(var A=0,S=1;(g.words[0]&S)===0&&A<26;++A,S<<=1);if(A>0)for(g.iushrn(A);A-- >0;)m.isOdd()&&m.iadd(M),m.iushrn(1);for(var f=0,_=1;(l.words[0]&_)===0&&f<26;++f,_<<=1);if(f>0)for(l.iushrn(f);f-- >0;)w.isOdd()&&w.iadd(M),w.iushrn(1);g.cmp(l)>=0?(g.isub(l),m.isub(w)):(l.isub(g),w.isub(m))}var E;return g.cmpn(1)===0?E=m:E=w,E.cmpn(0)<0&&E.iadd(u),E},o.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var g=this.clone(),l=u.clone();g.negative=0,l.negative=0;for(var m=0;g.isEven()&&l.isEven();m++)g.iushrn(1),l.iushrn(1);do{for(;g.isEven();)g.iushrn(1);for(;l.isEven();)l.iushrn(1);var w=g.cmp(l);if(w<0){var M=g;g=l,l=M}else if(w===0||l.cmpn(1)===0)break;g.isub(l)}while(!0);return l.iushln(m)},o.prototype.invm=function(u){return this.egcd(u).a.umod(u)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(u){return this.words[0]&u},o.prototype.bincn=function(u){n(typeof u=="number");var g=u%26,l=(u-g)/26,m=1<<g;if(this.length<=l)return this._expand(l+1),this.words[l]|=m,this;for(var w=m,M=l;w!==0&&M<this.length;M++){var A=this.words[M]|0;A+=w,w=A>>>26,A&=67108863,this.words[M]=A}return w!==0&&(this.words[M]=w,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(u){var g=u<0;if(this.negative!==0&&!g)return-1;if(this.negative===0&&g)return 1;this.strip();var l;if(this.length>1)l=1;else{g&&(u=-u),n(u<=67108863,"Number is too big");var m=this.words[0]|0;l=m===u?0:m<u?-1:1}return this.negative!==0?-l|0:l},o.prototype.cmp=function(u){if(this.negative!==0&&u.negative===0)return-1;if(this.negative===0&&u.negative!==0)return 1;var g=this.ucmp(u);return this.negative!==0?-g|0:g},o.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var g=0,l=this.length-1;l>=0;l--){var m=this.words[l]|0,w=u.words[l]|0;if(m!==w){m<w?g=-1:m>w&&(g=1);break}}return g},o.prototype.gtn=function(u){return this.cmpn(u)===1},o.prototype.gt=function(u){return this.cmp(u)===1},o.prototype.gten=function(u){return this.cmpn(u)>=0},o.prototype.gte=function(u){return this.cmp(u)>=0},o.prototype.ltn=function(u){return this.cmpn(u)===-1},o.prototype.lt=function(u){return this.cmp(u)===-1},o.prototype.lten=function(u){return this.cmpn(u)<=0},o.prototype.lte=function(u){return this.cmp(u)<=0},o.prototype.eqn=function(u){return this.cmpn(u)===0},o.prototype.eq=function(u){return this.cmp(u)===0},o.red=function(u){return new $(u)},o.prototype.toRed=function(u){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),u.convertTo(this)._forceRed(u)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(u){return this.red=u,this},o.prototype.forceRed=function(u){return n(!this.red,"Already a number in reduction context"),this._forceRed(u)},o.prototype.redAdd=function(u){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},o.prototype.redIAdd=function(u){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},o.prototype.redSub=function(u){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},o.prototype.redISub=function(u){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},o.prototype.redShl=function(u){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},o.prototype.redMul=function(u){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},o.prototype.redIMul=function(u){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(u){return n(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var T={k256:null,p224:null,p192:null,p25519:null};function P(u,g){this.name=u,this.p=new o(g,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}i(P,"y"),P.prototype._tmp=function(){var u=new o(null);return u.words=Array(Math.ceil(this.n/13)),u},P.prototype.ireduce=function(u){var g=u,l;do this.split(g,this.tmp),g=this.imulK(g),g=g.iadd(this.tmp),l=g.bitLength();while(l>this.n);var m=l<this.n?-1:g.ucmp(this.p);return m===0?(g.words[0]=0,g.length=1):m>0?g.isub(this.p):g.strip!==void 0?g.strip():g._strip(),g},P.prototype.split=function(u,g){u.iushrn(this.n,0,g)},P.prototype.imulK=function(u){return u.imul(this.k)};function z(){P.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(z,"c"),s(z,P),z.prototype.split=function(u,g){for(var l=4194303,m=Math.min(u.length,9),w=0;w<m;w++)g.words[w]=u.words[w];if(g.length=m,u.length<=9){u.words[0]=0,u.length=1;return}var M=u.words[9];for(g.words[g.length++]=M&l,w=10;w<u.length;w++){var A=u.words[w]|0;u.words[w-10]=(A&l)<<4|M>>>22,M=A}M>>>=22,u.words[w-10]=M,M===0&&u.length>10?u.length-=10:u.length-=9},z.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var g=0,l=0;l<u.length;l++){var m=u.words[l]|0;g+=m*977,u.words[l]=g&67108863,g=m*64+(g/67108864|0)}return u.words[u.length-1]===0&&(u.length--,u.words[u.length-1]===0&&u.length--),u};function V(){P.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(V,"m"),s(V,P);function Z(){P.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(Z,"q$"),s(Z,P);function ee(){P.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(ee,"e"),s(ee,P),ee.prototype.imulK=function(u){for(var g=0,l=0;l<u.length;l++){var m=(u.words[l]|0)*19+g,w=m&67108863;m>>>=26,u.words[l]=w,g=m}return g!==0&&(u.words[u.length++]=g),u},o._prime=function(u){if(T[u])return T[u];var g;if(u==="k256")g=new z;else if(u==="p224")g=new V;else if(u==="p192")g=new Z;else if(u==="p25519")g=new ee;else throw Error("Unknown prime "+u);return T[u]=g,g};function $(u){if(typeof u=="string"){var g=o._prime(u);this.m=g.p,this.prime=g}else n(u.gtn(1),"modulus must be greater than 1"),this.m=u,this.prime=null}i($,"l"),$.prototype._verify1=function(u){n(u.negative===0,"red works only with positives"),n(u.red,"red works only with red numbers")},$.prototype._verify2=function(u,g){n((u.negative|g.negative)===0,"red works only with positives"),n(u.red&&u.red===g.red,"red works only with red numbers")},$.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):u.umod(this.m)._forceRed(this)},$.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},$.prototype.add=function(u,g){this._verify2(u,g);var l=u.add(g);return l.cmp(this.m)>=0&&l.isub(this.m),l._forceRed(this)},$.prototype.iadd=function(u,g){this._verify2(u,g);var l=u.iadd(g);return l.cmp(this.m)>=0&&l.isub(this.m),l},$.prototype.sub=function(u,g){this._verify2(u,g);var l=u.sub(g);return l.cmpn(0)<0&&l.iadd(this.m),l._forceRed(this)},$.prototype.isub=function(u,g){this._verify2(u,g);var l=u.isub(g);return l.cmpn(0)<0&&l.iadd(this.m),l},$.prototype.shl=function(u,g){return this._verify1(u),this.imod(u.ushln(g))},$.prototype.imul=function(u,g){return this._verify2(u,g),this.imod(u.imul(g))},$.prototype.mul=function(u,g){return this._verify2(u,g),this.imod(u.mul(g))},$.prototype.isqr=function(u){return this.imul(u,u.clone())},$.prototype.sqr=function(u){return this.mul(u,u)},$.prototype.sqrt=function(u){if(u.isZero())return u.clone();var g=this.m.andln(3);if(n(g%2===1),g===3){var l=this.m.add(new o(1)).iushrn(2);return this.pow(u,l)}for(var m=this.m.subn(1),w=0;!m.isZero()&&m.andln(1)===0;)w++,m.iushrn(1);n(!m.isZero());var M=new o(1).toRed(this),A=M.redNeg(),S=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new o(2*f*f).toRed(this);this.pow(f,S).cmp(A)!==0;)f.redIAdd(A);for(var _=this.pow(f,m),E=this.pow(u,m.addn(1).iushrn(1)),I=this.pow(u,m),D=w;I.cmp(M)!==0;){for(var L=I,U=0;L.cmp(M)!==0;U++)L=L.redSqr();n(U<D);var B=this.pow(_,new o(1).iushln(D-U-1));E=E.redMul(B),_=B.redSqr(),I=I.redMul(_),D=U}return E},$.prototype.invm=function(u){var g=u._invmp(this.m);return g.negative!==0?(g.negative=0,this.imod(g).redNeg()):this.imod(g)},$.prototype.pow=function(u,g){if(g.isZero())return new o(1).toRed(this);if(g.cmpn(1)===0)return u.clone();var l=4,m=Array(1<<l);m[0]=new o(1).toRed(this),m[1]=u;for(var w=2;w<m.length;w++)m[w]=this.mul(m[w-1],u);var M=m[0],A=0,S=0,f=g.bitLength()%26;for(f===0&&(f=26),w=g.length-1;w>=0;w--){for(var _=g.words[w],E=f-1;E>=0;E--){var I=_>>E&1;if(M!==m[0]&&(M=this.sqr(M)),I===0&&A===0){S=0;continue}A<<=1,A|=I,S++,!(S!==l&&(w!==0||E!==0))&&(M=this.mul(M,m[A]),S=0,A=0)}f=26}return M},$.prototype.convertTo=function(u){var g=u.umod(this.m);return g===u?g.clone():g},$.prototype.convertFrom=function(u){var g=u.clone();return g.red=null,g},o.mont=function(u){return new F(u)};function F(u){$.call(this,u),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(F,"r"),s(F,$),F.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},F.prototype.convertFrom=function(u){var g=this.imod(u.mul(this.rinv));return g.red=null,g},F.prototype.imul=function(u,g){if(u.isZero()||g.isZero())return u.words[0]=0,u.length=1,u;var l=u.imul(g),m=l.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=l.isub(m).iushrn(this.shift),M=w;return w.cmp(this.m)>=0?M=w.isub(this.m):w.cmpn(0)<0&&(M=w.iadd(this.m)),M._forceRed(this)},F.prototype.mul=function(u,g){if(u.isZero()||g.isZero())return new o(0)._forceRed(this);var l=u.mul(g),m=l.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=l.isub(m).iushrn(this.shift),M=w;return w.cmp(this.m)>=0?M=w.isub(this.m):w.cmpn(0)<0&&(M=w.iadd(this.m)),M._forceRed(this)},F.prototype.invm=function(u){var g=this.imod(u._invmp(this.m).mul(this.r2));return g._forceRed(this)}})(typeof t>"u"||t,e)}),a4=at(e=>{var t=Va(),r=zr(),a=e;a.define=function(s,o){return new n(s,o)};function n(s,o){this.name=s,this.body=o,this.decoders={},this.encoders={}}i(n,"_"),n.prototype._createNamed=function(s){var o;try{o=(()=>{throw new Error("Cannot require module vm")})().runInThisContext("(function "+this.name+`(entity) {
  this._initNamed(entity);
})`)}catch{o=i(function(p){this._initNamed(p)},"z")}return r(o,s),o.prototype._initNamed=function(h){s.call(this,h)},new o(this)},n.prototype._getDecoder=function(s){return s=s||"der",!this.decoders.hasOwnProperty(s)&&(this.decoders[s]=this._createNamed(t.decoders[s])),this.decoders[s]},n.prototype.decode=function(s,o,h){return this._getDecoder(o).decode(s,h)},n.prototype._getEncoder=function(s){return s=s||"der",!this.encoders.hasOwnProperty(s)&&(this.encoders[s]=this._createNamed(t.encoders[s])),this.encoders[s]},n.prototype.encode=function(s,o,h){return this._getEncoder(o).encode(s,h)}}),s4=at(e=>{var t=zr();function r(n){this._reporterState={obj:null,path:[],options:n||{},errors:[]}}i(r,"K"),e.Reporter=r,r.prototype.isError=function(n){return n instanceof a},r.prototype.save=function(){var n=this._reporterState;return{obj:n.obj,pathLen:n.path.length}},r.prototype.restore=function(n){var s=this._reporterState;s.obj=n.obj,s.path=s.path.slice(0,n.pathLen)},r.prototype.enterKey=function(n){return this._reporterState.path.push(n)},r.prototype.exitKey=function(n){var s=this._reporterState;s.path=s.path.slice(0,n-1)},r.prototype.leaveKey=function(n,s,o){var h=this._reporterState;this.exitKey(n),h.obj!==null&&(h.obj[s]=o)},r.prototype.path=function(){return this._reporterState.path.join("/")},r.prototype.enterObject=function(){var n=this._reporterState,s=n.obj;return n.obj={},s},r.prototype.leaveObject=function(n){var s=this._reporterState,o=s.obj;return s.obj=n,o},r.prototype.error=function(n){var s,o=this._reporterState,h=n instanceof a;if(h?s=n:s=new a(o.path.map(function(p){return"["+JSON.stringify(p)+"]"}).join(""),n.message||n,n.stack),!o.options.partial)throw s;return h||o.errors.push(s),s},r.prototype.wrapResult=function(n){var s=this._reporterState;return s.options.partial?{result:this.isError(n)?null:n,errors:s.errors}:n};function a(n,s){this.path=n,this.rethrow(s)}i(a,"P"),t(a,Error),a.prototype.rethrow=function(n){if(this.message=n+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,a),!this.stack)try{throw Error(this.message)}catch(s){this.stack=s.stack}return this}}),cp=at(e=>{var t=zr(),r=Ga().Reporter,a=(Mr(),$t(wr)).Buffer;function n(o,h){if(r.call(this,h),!a.isBuffer(o)){this.error("Input not Buffer");return}this.base=o,this.offset=0,this.length=o.length}i(n,"_"),t(n,r),e.DecoderBuffer=n,n.prototype.save=function(){return{offset:this.offset,reporter:r.prototype.save.call(this)}},n.prototype.restore=function(o){var h=new n(this.base);return h.offset=o.offset,h.length=this.offset,this.offset=o.offset,r.prototype.restore.call(this,o.reporter),h},n.prototype.isEmpty=function(){return this.offset===this.length},n.prototype.readUInt8=function(o){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(o||"DecoderBuffer overrun")},n.prototype.skip=function(o,h){if(!(this.offset+o<=this.length))return this.error(h||"DecoderBuffer overrun");var p=new n(this.base);return p._reporterState=this._reporterState,p.offset=this.offset,p.length=this.offset+o,this.offset+=o,p},n.prototype.raw=function(o){return this.base.slice(o?o.offset:this.offset,this.length)};function s(o,h){if(Array.isArray(o))this.length=0,this.value=o.map(function(p){return p instanceof s||(p=new s(p,h)),this.length+=p.length,p},this);else if(typeof o=="number"){if(!(0<=o&&o<=255))return h.error("non-byte EncoderBuffer value");this.value=o,this.length=1}else if(typeof o=="string")this.value=o,this.length=a.byteLength(o);else if(a.isBuffer(o))this.value=o,this.length=o.length;else return h.error("Unsupported type: "+typeof o)}i(s,"O"),e.EncoderBuffer=s,s.prototype.join=function(o,h){return o||(o=new a(this.length)),h||(h=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(p){p.join(o,h),h+=p.length}):(typeof this.value=="number"?o[h]=this.value:typeof this.value=="string"?o.write(this.value,h):a.isBuffer(this.value)&&this.value.copy(o,h),h+=this.length)),o}}),o4=at((e,t)=>{var r=Ga().Reporter,a=Ga().EncoderBuffer,n=Ga().DecoderBuffer,s=nn(),o=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],h=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(o),p=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function v(d,y){var b={};this._baseState=b,b.enc=d,b.parent=y||null,b.children=null,b.tag=null,b.args=null,b.reverseArgs=null,b.choice=null,b.optional=!1,b.any=!1,b.obj=!1,b.use=null,b.useDecoder=null,b.key=null,b.default=null,b.explicit=null,b.implicit=null,b.contains=null,!b.parent&&(b.children=[],this._wrap())}i(v,"w"),t.exports=v;var c=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];v.prototype.clone=function(){var d=this._baseState,y={};c.forEach(function(x){y[x]=d[x]});var b=new this.constructor(y.parent);return b._baseState=y,b},v.prototype._wrap=function(){var d=this._baseState;h.forEach(function(y){this[y]=function(){var b=new this.constructor(this);return d.children.push(b),b[y].apply(b,arguments)}},this)},v.prototype._init=function(d){var y=this._baseState;s(y.parent===null),d.call(this),y.children=y.children.filter(function(b){return b._baseState.parent===this},this),s.equal(y.children.length,1,"Root node can have only one child")},v.prototype._useArgs=function(d){var y=this._baseState,b=d.filter(function(x){return x instanceof this.constructor},this);d=d.filter(function(x){return!(x instanceof this.constructor)},this),b.length!==0&&(s(y.children===null),y.children=b,b.forEach(function(x){x._baseState.parent=this},this)),d.length!==0&&(s(y.args===null),y.args=d,y.reverseArgs=d.map(function(x){if(typeof x!="object"||x.constructor!==Object)return x;var k={};return Object.keys(x).forEach(function(N){N==(N|0)&&(N|=0);var C=x[N];k[C]=N}),k}))},p.forEach(function(d){v.prototype[d]=function(){var y=this._baseState;throw Error(d+" not implemented for encoding: "+y.enc)}}),o.forEach(function(d){v.prototype[d]=function(){var y=this._baseState,b=Array.prototype.slice.call(arguments);return s(y.tag===null),y.tag=d,this._useArgs(b),this}}),v.prototype.use=function(d){s(d);var y=this._baseState;return s(y.use===null),y.use=d,this},v.prototype.optional=function(){var d=this._baseState;return d.optional=!0,this},v.prototype.def=function(d){var y=this._baseState;return s(y.default===null),y.default=d,y.optional=!0,this},v.prototype.explicit=function(d){var y=this._baseState;return s(y.explicit===null&&y.implicit===null),y.explicit=d,this},v.prototype.implicit=function(d){var y=this._baseState;return s(y.explicit===null&&y.implicit===null),y.implicit=d,this},v.prototype.obj=function(){var d=this._baseState,y=Array.prototype.slice.call(arguments);return d.obj=!0,y.length!==0&&this._useArgs(y),this},v.prototype.key=function(d){var y=this._baseState;return s(y.key===null),y.key=d,this},v.prototype.any=function(){var d=this._baseState;return d.any=!0,this},v.prototype.choice=function(d){var y=this._baseState;return s(y.choice===null),y.choice=d,this._useArgs(Object.keys(d).map(function(b){return d[b]})),this},v.prototype.contains=function(d){var y=this._baseState;return s(y.use===null),y.contains=d,this},v.prototype._decode=function(d,y){var b=this._baseState;if(b.parent===null)return d.wrapResult(b.children[0]._decode(d,y));var x=b.default,k=!0,N=null;if(b.key!==null&&(N=d.enterKey(b.key)),b.optional){var C=null;if(b.explicit!==null?C=b.explicit:b.implicit!==null?C=b.implicit:b.tag!==null&&(C=b.tag),C===null&&!b.any){var R=d.save();try{b.choice===null?this._decodeGeneric(b.tag,d,y):this._decodeChoice(d,y),k=!0}catch{k=!1}d.restore(R)}else if(k=this._peekTag(d,C,b.any),d.isError(k))return k}var O;if(b.obj&&k&&(O=d.enterObject()),k){if(b.explicit!==null){var T=this._decodeTag(d,b.explicit);if(d.isError(T))return T;d=T}var P=d.offset;if(b.use===null&&b.choice===null){if(b.any)var R=d.save();var z=this._decodeTag(d,b.implicit!==null?b.implicit:b.tag,b.any);if(d.isError(z))return z;b.any?x=d.raw(R):d=z}if(y&&y.track&&b.tag!==null&&y.track(d.path(),P,d.length,"tagged"),y&&y.track&&b.tag!==null&&y.track(d.path(),d.offset,d.length,"content"),b.any?x=x:b.choice===null?x=this._decodeGeneric(b.tag,d,y):x=this._decodeChoice(d,y),d.isError(x))return x;if(!b.any&&b.choice===null&&b.children!==null&&b.children.forEach(function(Z){Z._decode(d,y)}),b.contains&&(b.tag==="octstr"||b.tag==="bitstr")){var V=new n(x);x=this._getUse(b.contains,d._reporterState.obj)._decode(V,y)}}return b.obj&&k&&(x=d.leaveObject(O)),b.key!==null&&(x!==null||k===!0)?d.leaveKey(N,b.key,x):N!==null&&d.exitKey(N),x},v.prototype._decodeGeneric=function(d,y,b){var x=this._baseState;return d==="seq"||d==="set"?null:d==="seqof"||d==="setof"?this._decodeList(y,d,x.args[0],b):/str$/.test(d)?this._decodeStr(y,d,b):d==="objid"&&x.args?this._decodeObjid(y,x.args[0],x.args[1],b):d==="objid"?this._decodeObjid(y,null,null,b):d==="gentime"||d==="utctime"?this._decodeTime(y,d,b):d==="null_"?this._decodeNull(y,b):d==="bool"?this._decodeBool(y,b):d==="objDesc"?this._decodeStr(y,d,b):d==="int"||d==="enum"?this._decodeInt(y,x.args&&x.args[0],b):x.use!==null?this._getUse(x.use,y._reporterState.obj)._decode(y,b):y.error("unknown tag: "+d)},v.prototype._getUse=function(d,y){var b=this._baseState;return b.useDecoder=this._use(d,y),s(b.useDecoder._baseState.parent===null),b.useDecoder=b.useDecoder._baseState.children[0],b.implicit!==b.useDecoder._baseState.implicit&&(b.useDecoder=b.useDecoder.clone(),b.useDecoder._baseState.implicit=b.implicit),b.useDecoder},v.prototype._decodeChoice=function(d,y){var b=this._baseState,x=null,k=!1;return Object.keys(b.choice).some(function(N){var C=d.save(),R=b.choice[N];try{var O=R._decode(d,y);if(d.isError(O))return!1;x={type:N,value:O},k=!0}catch{return d.restore(C),!1}return!0},this),k?x:d.error("Choice not matched")},v.prototype._createEncoderBuffer=function(d){return new a(d,this.reporter)},v.prototype._encode=function(d,y,b){var x=this._baseState;if(!(x.default!==null&&x.default===d)){var k=this._encodeValue(d,y,b);if(k!==void 0&&!this._skipDefault(k,y,b))return k}},v.prototype._encodeValue=function(d,y,b){var x=this._baseState;if(x.parent===null)return x.children[0]._encode(d,y||new r);var R=null;if(this.reporter=y,x.optional&&d===void 0)if(x.default!==null)d=x.default;else return;var k=null,N=!1;if(x.any)R=this._createEncoderBuffer(d);else if(x.choice)R=this._encodeChoice(d,y);else if(x.contains)k=this._getUse(x.contains,b)._encode(d,y),N=!0;else if(x.children)k=x.children.map(function(P){if(P._baseState.tag==="null_")return P._encode(null,y,d);if(P._baseState.key===null)return y.error("Child should have a key");var z=y.enterKey(P._baseState.key);if(typeof d!="object")return y.error("Child expected, but input is not object");var V=P._encode(d[P._baseState.key],y,d);return y.leaveKey(z),V},this).filter(function(P){return P}),k=this._createEncoderBuffer(k);else if(x.tag==="seqof"||x.tag==="setof"){if(!(x.args&&x.args.length===1))return y.error("Too many args for : "+x.tag);if(!Array.isArray(d))return y.error("seqof/setof, but data is not Array");var C=this.clone();C._baseState.implicit=null,k=this._createEncoderBuffer(d.map(function(P){var z=this._baseState;return this._getUse(z.args[0],d)._encode(P,y)},C))}else x.use!==null?R=this._getUse(x.use,b)._encode(d,y):(k=this._encodePrimitive(x.tag,d),N=!0);var R;if(!x.any&&x.choice===null){var O=x.implicit!==null?x.implicit:x.tag,T=x.implicit===null?"universal":"context";O===null?x.use===null&&y.error("Tag could be omitted only for .use()"):x.use===null&&(R=this._encodeComposite(O,N,T,k))}return x.explicit!==null&&(R=this._encodeComposite(x.explicit,!1,"context",R)),R},v.prototype._encodeChoice=function(d,y){var b=this._baseState,x=b.choice[d.type];return x||s(!1,d.type+" not found in "+JSON.stringify(Object.keys(b.choice))),x._encode(d.value,y)},v.prototype._encodePrimitive=function(d,y){var b=this._baseState;if(/str$/.test(d))return this._encodeStr(y,d);if(d==="objid"&&b.args)return this._encodeObjid(y,b.reverseArgs[0],b.args[1]);if(d==="objid")return this._encodeObjid(y,null,null);if(d==="gentime"||d==="utctime")return this._encodeTime(y,d);if(d==="null_")return this._encodeNull();if(d==="int"||d==="enum")return this._encodeInt(y,b.args&&b.reverseArgs[0]);if(d==="bool")return this._encodeBool(y);if(d==="objDesc")return this._encodeStr(y,d);throw Error("Unsupported tag: "+d)},v.prototype._isNumstr=function(d){return/^[0-9 ]*$/.test(d)},v.prototype._isPrintstr=function(d){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(d)}}),Ga=at(e=>{var t=e;t.Reporter=s4().Reporter,t.DecoderBuffer=cp().DecoderBuffer,t.EncoderBuffer=cp().EncoderBuffer,t.Node=o4()}),l4=at(e=>{var t=dp();e.tagClass={0:"universal",1:"application",2:"context",3:"private"},e.tagClassByName=t._reverse(e.tagClass),e.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},e.tagByName=t._reverse(e.tag)}),dp=at(e=>{var t=e;t._reverse=function(r){var a={};return Object.keys(r).forEach(function(n){(n|0)==n&&(n=n|0);var s=r[n];a[s]=n}),a},t.der=l4()}),hp=at((e,t)=>{var r=zr(),a=Va(),n=a.base,s=a.bignum,o=a.constants.der;function h(d){this.enc="der",this.name=d.name,this.entity=d,this.tree=new p,this.tree._init(d.body)}i(h,"z"),t.exports=h,h.prototype.decode=function(d,y){return d instanceof n.DecoderBuffer||(d=new n.DecoderBuffer(d,y)),this.tree._decode(d,y)};function p(d){n.Node.call(this,"der",d)}i(p,"J"),r(p,n.Node),p.prototype._peekTag=function(d,y,b){if(d.isEmpty())return!1;var x=d.save(),k=v(d,'Failed to peek tag: "'+y+'"');return d.isError(k)?k:(d.restore(x),k.tag===y||k.tagStr===y||k.tagStr+"of"===y||b)},p.prototype._decodeTag=function(d,y,b){var x=v(d,'Failed to decode tag of "'+y+'"');if(d.isError(x))return x;var k=c(d,x.primitive,'Failed to get length of "'+y+'"');if(d.isError(k))return k;if(!b&&x.tag!==y&&x.tagStr!==y&&x.tagStr+"of"!==y)return d.error('Failed to match tag: "'+y+'"');if(x.primitive||k!==null)return d.skip(k,'Failed to match body of: "'+y+'"');var N=d.save(),C=this._skipUntilEnd(d,'Failed to skip indefinite length body: "'+this.tag+'"');return d.isError(C)?C:(k=d.offset-N.offset,d.restore(N),d.skip(k,'Failed to match body of: "'+y+'"'))},p.prototype._skipUntilEnd=function(d,y){for(;;){var b=v(d,y);if(d.isError(b))return b;var x=c(d,b.primitive,y);if(d.isError(x))return x;var k;if(b.primitive||x!==null?k=d.skip(x):k=this._skipUntilEnd(d,y),d.isError(k))return k;if(b.tagStr==="end")break}},p.prototype._decodeList=function(d,y,b,x){for(var k=[];!d.isEmpty();){var N=this._peekTag(d,"end");if(d.isError(N))return N;var C=b.decode(d,"der",x);if(d.isError(C)&&N)break;k.push(C)}return k},p.prototype._decodeStr=function(d,y){if(y==="bitstr"){var b=d.readUInt8();return d.isError(b)?b:{unused:b,data:d.raw()}}else if(y==="bmpstr"){var x=d.raw();if(x.length%2===1)return d.error("Decoding of string type: bmpstr length mismatch");for(var k="",N=0;N<x.length/2;N++)k+=String.fromCharCode(x.readUInt16BE(N*2));return k}else if(y==="numstr"){var C=d.raw().toString("ascii");return this._isNumstr(C)?C:d.error("Decoding of string type: numstr unsupported characters")}else{if(y==="octstr")return d.raw();if(y==="objDesc")return d.raw();if(y==="printstr"){var R=d.raw().toString("ascii");return this._isPrintstr(R)?R:d.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(y)?d.raw().toString():d.error("Decoding of string type: "+y+" unsupported")}},p.prototype._decodeObjid=function(d,y,b){for(var x,k=[],N=0;!d.isEmpty();){var C=d.readUInt8();N<<=7,N|=C&127,(C&128)===0&&(k.push(N),N=0)}C&128&&k.push(N);var R=k[0]/40|0,O=k[0]%40;if(b?x=k:x=[R,O].concat(k.slice(1)),y){var T=y[x.join(" ")];T===void 0&&(T=y[x.join(".")]),T!==void 0&&(x=T)}return x},p.prototype._decodeTime=function(d,y){var b=d.raw().toString();if(y==="gentime")var x=b.slice(0,4)|0,k=b.slice(4,6)|0,N=b.slice(6,8)|0,C=b.slice(8,10)|0,R=b.slice(10,12)|0,O=b.slice(12,14)|0;else if(y==="utctime"){var x=b.slice(0,2)|0,k=b.slice(2,4)|0,N=b.slice(4,6)|0,C=b.slice(6,8)|0,R=b.slice(8,10)|0,O=b.slice(10,12)|0;x<70?x=2e3+x:x=1900+x}else return d.error("Decoding "+y+" time is not supported yet");return Date.UTC(x,k-1,N,C,R,O,0)},p.prototype._decodeNull=function(d){return null},p.prototype._decodeBool=function(d){var y=d.readUInt8();return d.isError(y)?y:y!==0},p.prototype._decodeInt=function(d,y){var b=d.raw(),x=new s(b);return y&&(x=y[x.toString(10)]||x),x},p.prototype._use=function(d,y){return typeof d=="function"&&(d=d(y)),d._getDecoder("der").tree};function v(d,y){var b=d.readUInt8(y);if(d.isError(b))return b;var x=o.tagClass[b>>6],k=(b&32)===0;if((b&31)===31){var N=b;for(b=0;(N&128)===128;){if(N=d.readUInt8(y),d.isError(N))return N;b<<=7,b|=N&127}}else b&=31;var C=o.tag[b];return{cls:x,primitive:k,tag:b,tagStr:C}}i(v,"w");function c(d,y,b){var x=d.readUInt8(b);if(d.isError(x))return x;if(!y&&x===128)return null;if((x&128)===0)return x;var k=x&127;if(k>4)return d.error("length octect is too long");x=0;for(var N=0;N<k;N++){x<<=8;var C=d.readUInt8(b);if(d.isError(C))return C;x|=C}return x}i(c,"G")}),u4=at((e,t)=>{var r=zr(),a=(Mr(),$t(wr)).Buffer,n=hp();function s(o){n.call(this,o),this.enc="pem"}i(s,"O"),r(s,n),t.exports=s,s.prototype.decode=function(o,h){for(var p=o.toString().split(/[\r\n]+/g),v=h.label.toUpperCase(),c=/^-----(BEGIN|END) ([^-]+)-----$/,d=-1,y=-1,b=0;b<p.length;b++){var x=p[b].match(c);if(x!==null&&x[2]===v)if(d===-1){if(x[1]!=="BEGIN")break;d=b}else{if(x[1]!=="END")break;y=b;break}}if(d===-1||y===-1)throw Error("PEM section not found for: "+v);var k=p.slice(d+1,y).join("");k.replace(/[^a-z0-9\+\/=]+/gi,"");var N=new a(k,"base64");return n.prototype.decode.call(this,N,h)}}),f4=at(e=>{var t=e;t.der=hp(),t.pem=u4()}),pp=at((e,t)=>{var r=zr(),a=(Mr(),$t(wr)).Buffer,n=Va(),s=n.base,o=n.constants.der;function h(d){this.enc="der",this.name=d.name,this.entity=d,this.tree=new p,this.tree._init(d.body)}i(h,"z"),t.exports=h,h.prototype.encode=function(d,y){return this.tree._encode(d,y).join()};function p(d){s.Node.call(this,"der",d)}i(p,"J"),r(p,s.Node),p.prototype._encodeComposite=function(d,y,b,x){var k=c(d,y,b,this.reporter);if(x.length<128){var R=new a(2);return R[0]=k,R[1]=x.length,this._createEncoderBuffer([R,x])}for(var N=1,C=x.length;C>=256;C>>=8)N++;var R=new a(2+N);R[0]=k,R[1]=128|N;for(var C=1+N,O=x.length;O>0;C--,O>>=8)R[C]=O&255;return this._createEncoderBuffer([R,x])},p.prototype._encodeStr=function(d,y){if(y==="bitstr")return this._createEncoderBuffer([d.unused|0,d.data]);if(y==="bmpstr"){for(var b=new a(d.length*2),x=0;x<d.length;x++)b.writeUInt16BE(d.charCodeAt(x),x*2);return this._createEncoderBuffer(b)}else return y==="numstr"?this._isNumstr(d)?this._createEncoderBuffer(d):this.reporter.error("Encoding of string type: numstr supports only digits and space"):y==="printstr"?this._isPrintstr(d)?this._createEncoderBuffer(d):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(y)?this._createEncoderBuffer(d):y==="objDesc"?this._createEncoderBuffer(d):this.reporter.error("Encoding of string type: "+y+" unsupported")},p.prototype._encodeObjid=function(d,y,b){if(typeof d=="string"){if(!y)return this.reporter.error("string objid given, but no values map found");if(!y.hasOwnProperty(d))return this.reporter.error("objid not found in values map");d=y[d].split(/[\s\.]+/g);for(var x=0;x<d.length;x++)d[x]|=0}else if(Array.isArray(d)){d=d.slice();for(var x=0;x<d.length;x++)d[x]|=0}if(!Array.isArray(d))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(d));if(!b){if(d[1]>=40)return this.reporter.error("Second objid identifier OOB");d.splice(0,2,d[0]*40+d[1])}for(var k=0,x=0;x<d.length;x++){var N=d[x];for(k++;N>=128;N>>=7)k++}for(var C=new a(k),R=C.length-1,x=d.length-1;x>=0;x--){var N=d[x];for(C[R--]=N&127;(N>>=7)>0;)C[R--]=128|N&127}return this._createEncoderBuffer(C)};function v(d){return d<10?"0"+d:d}i(v,"w"),p.prototype._encodeTime=function(d,y){var b,x=new Date(d);return y==="gentime"?b=[v(x.getFullYear()),v(x.getUTCMonth()+1),v(x.getUTCDate()),v(x.getUTCHours()),v(x.getUTCMinutes()),v(x.getUTCSeconds()),"Z"].join(""):y==="utctime"?b=[v(x.getFullYear()%100),v(x.getUTCMonth()+1),v(x.getUTCDate()),v(x.getUTCHours()),v(x.getUTCMinutes()),v(x.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+y+" time is not supported yet"),this._encodeStr(b,"octstr")},p.prototype._encodeNull=function(){return this._createEncoderBuffer("")},p.prototype._encodeInt=function(d,y){if(typeof d=="string"){if(!y)return this.reporter.error("String int or enum given, but no values map");if(!y.hasOwnProperty(d))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(d));d=y[d]}if(typeof d!="number"&&!a.isBuffer(d)){var b=d.toArray();!d.sign&&b[0]&128&&b.unshift(0),d=new a(b)}if(a.isBuffer(d)){var x=d.length;d.length===0&&x++;var N=new a(x);return d.copy(N),d.length===0&&(N[0]=0),this._createEncoderBuffer(N)}if(d<128)return this._createEncoderBuffer(d);if(d<256)return this._createEncoderBuffer([0,d]);for(var x=1,k=d;k>=256;k>>=8)x++;for(var N=Array(x),k=N.length-1;k>=0;k--)N[k]=d&255,d>>=8;return N[0]&128&&N.unshift(0),this._createEncoderBuffer(new a(N))},p.prototype._encodeBool=function(d){return this._createEncoderBuffer(d?255:0)},p.prototype._use=function(d,y){return typeof d=="function"&&(d=d(y)),d._getEncoder("der").tree},p.prototype._skipDefault=function(d,y,b){var x=this._baseState,k;if(x.default===null)return!1;var N=d.join();if(x.defaultBuffer===void 0&&(x.defaultBuffer=this._encodeValue(x.default,y,b).join()),N.length!==x.defaultBuffer.length)return!1;for(k=0;k<N.length;k++)if(N[k]!==x.defaultBuffer[k])return!1;return!0};function c(d,y,b,x){var k;if(d==="seqof"?d="seq":d==="setof"&&(d="set"),o.tagByName.hasOwnProperty(d))k=o.tagByName[d];else if(typeof d=="number"&&(d|0)===d)k=d;else return x.error("Unknown tag: "+d);return k>=31?x.error("Multi-octet tag encoding unsupported"):(y||(k|=32),k|=o.tagClassByName[b||"universal"]<<6,k)}i(c,"G")}),c4=at((e,t)=>{var r=zr(),a=pp();function n(s){a.call(this,s),this.enc="pem"}i(n,"_"),r(n,a),t.exports=n,n.prototype.encode=function(s,o){for(var h=a.prototype.encode.call(this,s),p=h.toString("base64"),v=["-----BEGIN "+o.label+"-----"],c=0;c<p.length;c+=64)v.push(p.slice(c,c+64));return v.push("-----END "+o.label+"-----"),v.join(`
`)}}),d4=at(e=>{var t=e;t.der=pp(),t.pem=c4()}),Va=at(e=>{var t=e;t.bignum=n4(),t.define=a4().define,t.base=Ga(),t.constants=dp(),t.decoders=f4(),t.encoders=d4()}),h4=at((e,t)=>{var r=Va(),a=r.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),n=r.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),s=r.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),o=r.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())}),h=r.define("RelativeDistinguishedName",function(){this.setof(n)}),p=r.define("RDNSequence",function(){this.seqof(h)}),v=r.define("Name",function(){this.choice({rdnSequence:this.use(p)})}),c=r.define("Validity",function(){this.seq().obj(this.key("notBefore").use(a),this.key("notAfter").use(a))}),d=r.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),y=r.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(s),this.key("issuer").use(v),this.key("validity").use(c),this.key("subject").use(v),this.key("subjectPublicKeyInfo").use(o),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(d).optional())}),b=r.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(y),this.key("signatureAlgorithm").use(s),this.key("signatureValue").bitstr())});t.exports=b}),p4=at(e=>{var t=Va();e.certificate=h4();var r=t.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});e.RSAPrivateKey=r;var a=t.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});e.RSAPublicKey=a;var n=t.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),s=t.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(n),this.key("subjectPublicKey").bitstr())});e.PublicKey=s;var o=t.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(n),this.key("subjectPrivateKey").octstr())});e.PrivateKey=o;var h=t.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});e.EncryptedPrivateKey=h;var p=t.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});e.DSAPrivateKey=p,e.DSAparam=t.define("DSAparam",function(){this.int()});var v=t.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),c=t.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(v),this.key("publicKey").optional().explicit(1).bitstr())});e.ECPrivateKey=c,e.signature=t.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})}),m4=at((e,t)=>{t.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}}),g4=at((e,t)=>{var r=Rr().Buffer,a=rS().Transform,n=zr();function s(v){a.call(this),this._block=r.allocUnsafe(v),this._blockSize=v,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}i(s,"O"),n(s,a),s.prototype._transform=function(v,c,d){var y=null;try{this.update(v,c)}catch(b){y=b}d(y)},s.prototype._flush=function(v){var c=null;try{this.push(this.digest())}catch(d){c=d}v(c)};var o=typeof Uint8Array<"u",h=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&ArrayBuffer.isView&&(r.prototype instanceof Uint8Array||r.TYPED_ARRAY_SUPPORT);function p(v,c){if(v instanceof r)return v;if(typeof v=="string")return r.from(v,c);if(h&&ArrayBuffer.isView(v)){if(v.byteLength===0)return r.alloc(0);var d=r.from(v.buffer,v.byteOffset,v.byteLength);if(d.byteLength===v.byteLength)return d}if(o&&v instanceof Uint8Array||r.isBuffer(v)&&v.constructor&&typeof v.constructor.isBuffer=="function"&&v.constructor.isBuffer(v))return r.from(v);throw TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.')}i(p,"J"),s.prototype.update=function(v,c){if(this._finalized)throw Error("Digest already called");v=p(v,c);for(var d=this._block,y=0;this._blockOffset+v.length-y>=this._blockSize;){for(var b=this._blockOffset;b<this._blockSize;)d[b++]=v[y++];this._update(),this._blockOffset=0}for(;y<v.length;)d[this._blockOffset++]=v[y++];for(var x=0,k=v.length*8;k>0;++x)this._length[x]+=k,k=this._length[x]/4294967296|0,k>0&&(this._length[x]-=4294967296*k);return this},s.prototype._update=function(){throw Error("_update is not implemented")},s.prototype.digest=function(v){if(this._finalized)throw Error("Digest already called");this._finalized=!0;var c=this._digest();v!==void 0&&(c=c.toString(v)),this._block.fill(0),this._blockOffset=0;for(var d=0;d<4;++d)this._length[d]=0;return c},s.prototype._digest=function(){throw Error("_digest is not implemented")},t.exports=s}),v4=at((e,t)=>{var r=zr(),a=g4(),n=Rr().Buffer,s=Array(16);function o(){a.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}i(o,"j"),r(o,a),o.prototype._update=function(){for(var y=s,b=0;b<16;++b)y[b]=this._block.readInt32LE(b*4);var x=this._a,k=this._b,N=this._c,C=this._d;x=p(x,k,N,C,y[0],3614090360,7),C=p(C,x,k,N,y[1],3905402710,12),N=p(N,C,x,k,y[2],606105819,17),k=p(k,N,C,x,y[3],3250441966,22),x=p(x,k,N,C,y[4],4118548399,7),C=p(C,x,k,N,y[5],1200080426,12),N=p(N,C,x,k,y[6],2821735955,17),k=p(k,N,C,x,y[7],4249261313,22),x=p(x,k,N,C,y[8],1770035416,7),C=p(C,x,k,N,y[9],2336552879,12),N=p(N,C,x,k,y[10],4294925233,17),k=p(k,N,C,x,y[11],2304563134,22),x=p(x,k,N,C,y[12],1804603682,7),C=p(C,x,k,N,y[13],4254626195,12),N=p(N,C,x,k,y[14],2792965006,17),k=p(k,N,C,x,y[15],1236535329,22),x=v(x,k,N,C,y[1],4129170786,5),C=v(C,x,k,N,y[6],3225465664,9),N=v(N,C,x,k,y[11],643717713,14),k=v(k,N,C,x,y[0],3921069994,20),x=v(x,k,N,C,y[5],3593408605,5),C=v(C,x,k,N,y[10],38016083,9),N=v(N,C,x,k,y[15],3634488961,14),k=v(k,N,C,x,y[4],3889429448,20),x=v(x,k,N,C,y[9],568446438,5),C=v(C,x,k,N,y[14],3275163606,9),N=v(N,C,x,k,y[3],4107603335,14),k=v(k,N,C,x,y[8],1163531501,20),x=v(x,k,N,C,y[13],2850285829,5),C=v(C,x,k,N,y[2],4243563512,9),N=v(N,C,x,k,y[7],1735328473,14),k=v(k,N,C,x,y[12],2368359562,20),x=c(x,k,N,C,y[5],4294588738,4),C=c(C,x,k,N,y[8],2272392833,11),N=c(N,C,x,k,y[11],1839030562,16),k=c(k,N,C,x,y[14],4259657740,23),x=c(x,k,N,C,y[1],2763975236,4),C=c(C,x,k,N,y[4],1272893353,11),N=c(N,C,x,k,y[7],4139469664,16),k=c(k,N,C,x,y[10],3200236656,23),x=c(x,k,N,C,y[13],681279174,4),C=c(C,x,k,N,y[0],3936430074,11),N=c(N,C,x,k,y[3],3572445317,16),k=c(k,N,C,x,y[6],76029189,23),x=c(x,k,N,C,y[9],3654602809,4),C=c(C,x,k,N,y[12],3873151461,11),N=c(N,C,x,k,y[15],530742520,16),k=c(k,N,C,x,y[2],3299628645,23),x=d(x,k,N,C,y[0],4096336452,6),C=d(C,x,k,N,y[7],1126891415,10),N=d(N,C,x,k,y[14],2878612391,15),k=d(k,N,C,x,y[5],4237533241,21),x=d(x,k,N,C,y[12],1700485571,6),C=d(C,x,k,N,y[3],2399980690,10),N=d(N,C,x,k,y[10],4293915773,15),k=d(k,N,C,x,y[1],2240044497,21),x=d(x,k,N,C,y[8],1873313359,6),C=d(C,x,k,N,y[15],4264355552,10),N=d(N,C,x,k,y[6],2734768916,15),k=d(k,N,C,x,y[13],1309151649,21),x=d(x,k,N,C,y[4],4149444226,6),C=d(C,x,k,N,y[11],3174756917,10),N=d(N,C,x,k,y[2],718787259,15),k=d(k,N,C,x,y[9],3951481745,21),this._a=this._a+x|0,this._b=this._b+k|0,this._c=this._c+N|0,this._d=this._d+C|0},o.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var y=n.allocUnsafe(16);return y.writeInt32LE(this._a,0),y.writeInt32LE(this._b,4),y.writeInt32LE(this._c,8),y.writeInt32LE(this._d,12),y};function h(y,b){return y<<b|y>>>32-b}i(h,"z");function p(y,b,x,k,N,C,R){return h(y+(b&x|~b&k)+N+C|0,R)+b|0}i(p,"J");function v(y,b,x,k,N,C,R){return h(y+(b&k|x&~k)+N+C|0,R)+b|0}i(v,"w");function c(y,b,x,k,N,C,R){return h(y+(b^x^k)+N+C|0,R)+b|0}i(c,"G");function d(y,b,x,k,N,C,R){return h(y+(x^(b|~k))+N+C|0,R)+b|0}i(d,"f"),t.exports=o}),b4=at((e,t)=>{var r=Rr().Buffer,a=v4();function n(s,o,h,p){if(r.isBuffer(s)||(s=r.from(s,"binary")),o&&(r.isBuffer(o)||(o=r.from(o,"binary")),o.length!==8))throw RangeError("salt should be Buffer with 8 byte length");for(var v=h/8,c=r.alloc(v),d=r.alloc(p||0),y=r.alloc(0);v>0||p>0;){var b=new a;b.update(y),b.update(s),o&&b.update(o),y=b.digest();var x=0;if(v>0){var k=c.length-v;x=Math.min(v,y.length),y.copy(c,k,0,x),v-=x}if(x<y.length&&p>0){var N=d.length-p,C=Math.min(p,y.length-x);y.copy(d,N,x,x+C),p-=C}}return y.fill(0),{key:c,iv:d}}i(n,"_"),t.exports=n}),mp=at(e=>{var t=(qr(),$t(Ur));e.createCipher=e.Cipher=t.createCipher,e.createCipheriv=e.Cipheriv=t.createCipheriv,e.createDecipher=e.Decipher=t.createDecipher,e.createDecipheriv=e.Decipheriv=t.createDecipheriv,e.listCiphers=e.getCiphers=t.getCiphers}),y4=at((e,t)=>{var r=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,a=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,n=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,s=b4(),o=mp(),h=Rr().Buffer;t.exports=function(p,v){var c=p.toString(),d=c.match(r),y;if(d){var x="aes"+d[1],k=h.from(d[2],"hex"),N=h.from(d[3].replace(/[\r\n]/g,""),"base64"),C=s(v,k.slice(0,8),parseInt(d[1],10)).key,R=[],O=o.createDecipheriv(x,C,k);R.push(O.update(N)),R.push(O.final()),y=h.concat(R)}else{var b=c.match(n);y=h.from(b[2].replace(/[\r\n]/g,""),"base64")}var T=c.match(a)[1];return{tag:T,data:y}}}),gp=at((e,t)=>{var r=p4(),a=m4(),n=y4(),s=mp(),o=np(),h=Rr().Buffer;function p(c,d){var y=c.algorithm.decrypt.kde.kdeparams.salt,b=parseInt(c.algorithm.decrypt.kde.kdeparams.iters.toString(),10),x=a[c.algorithm.decrypt.cipher.algo.join(".")],k=c.algorithm.decrypt.cipher.iv,N=c.subjectPrivateKey,C=parseInt(x.split("-")[1],10)/8,R=o.pbkdf2Sync(d,y,b,C,"sha1"),O=s.createDecipheriv(x,R,k),T=[];return T.push(O.update(N)),T.push(O.final()),h.concat(T)}i(p,"J");function v(c){var d;typeof c=="object"&&!h.isBuffer(c)&&(d=c.passphrase,c=c.key),typeof c=="string"&&(c=h.from(c));var y=n(c,d),b=y.tag,x=y.data,k,N;switch(b){case"CERTIFICATE":N=r.certificate.decode(x,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(N||(N=r.PublicKey.decode(x,"der")),k=N.algorithm.algorithm.join("."),k){case"1.2.840.113549.1.1.1":return r.RSAPublicKey.decode(N.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return N.subjectPrivateKey=N.subjectPublicKey,{type:"ec",data:N};case"1.2.840.10040.4.1":return N.algorithm.params.pub_key=r.DSAparam.decode(N.subjectPublicKey.data,"der"),{type:"dsa",data:N.algorithm.params};default:throw Error("unknown key id "+k)}case"ENCRYPTED PRIVATE KEY":x=r.EncryptedPrivateKey.decode(x,"der"),x=p(x,d);case"PRIVATE KEY":switch(N=r.PrivateKey.decode(x,"der"),k=N.algorithm.algorithm.join("."),k){case"1.2.840.113549.1.1.1":return r.RSAPrivateKey.decode(N.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:N.algorithm.curve,privateKey:r.ECPrivateKey.decode(N.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return N.algorithm.params.priv_key=r.DSAparam.decode(N.subjectPrivateKey,"der"),{type:"dsa",params:N.algorithm.params};default:throw Error("unknown key id "+k)}case"RSA PUBLIC KEY":return r.RSAPublicKey.decode(x,"der");case"RSA PRIVATE KEY":return r.RSAPrivateKey.decode(x,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:r.DSAPrivateKey.decode(x,"der")};case"EC PRIVATE KEY":return x=r.ECPrivateKey.decode(x,"der"),{curve:x.parameters.value,privateKey:x.privateKey};default:throw Error("unknown key type "+b)}}i(v,"w"),v.signature=r.signature,t.exports=v}),vp=at((e,t)=>{var r=Ts(),a=Rr().Buffer;t.exports=function(s,o){for(var h=a.alloc(0),p=0,v;h.length<o;)v=n(p++),h=a.concat([h,r("sha1").update(s).update(v).digest()]);return h.slice(0,o)};function n(s){var o=a.allocUnsafe(4);return o.writeUInt32BE(s,0),o}i(n,"_")}),bp=at((e,t)=>{t.exports=function(r,a){for(var n=r.length,s=-1;++s<n;)r[s]^=a[s];return r}}),Wl=at((e,t)=>{(function(r,a){function n(u,g){if(!u)throw Error(g||"Assertion failed")}i(n,"_");function s(u,g){u.super_=g;var l=i(function(){},"H");l.prototype=g.prototype,u.prototype=new l,u.prototype.constructor=u}i(s,"O");function o(u,g,l){if(o.isBN(u))return u;this.negative=0,this.words=null,this.length=0,this.red=null,u!==null&&((g==="le"||g==="be")&&(l=g,g=10),this._init(u||0,g||10,l||"be"))}i(o,"j"),typeof r=="object"?r.exports=o:a.BN=o,o.BN=o,o.wordSize=26;var h;try{typeof window<"u"&&typeof window.Buffer<"u"?h=window.Buffer:h=(Mr(),$t(wr)).Buffer}catch{}o.isBN=function(u){return u instanceof o?!0:u!==null&&typeof u=="object"&&u.constructor.wordSize===o.wordSize&&Array.isArray(u.words)},o.max=function(u,g){return u.cmp(g)>0?u:g},o.min=function(u,g){return u.cmp(g)<0?u:g},o.prototype._init=function(u,g,l){if(typeof u=="number")return this._initNumber(u,g,l);if(typeof u=="object")return this._initArray(u,g,l);g==="hex"&&(g=16),n(g===(g|0)&&g>=2&&g<=36),u=u.toString().replace(/\s+/g,"");var m=0;u[0]==="-"&&(m++,this.negative=1),m<u.length&&(g===16?this._parseHex(u,m,l):(this._parseBase(u,g,m),l==="le"&&this._initArray(this.toArray(),g,l)))},o.prototype._initNumber=function(u,g,l){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[u&67108863],this.length=1):u<4503599627370496?(this.words=[u&67108863,u/67108864&67108863],this.length=2):(n(u<9007199254740992),this.words=[u&67108863,u/67108864&67108863,1],this.length=3),l==="le"&&this._initArray(this.toArray(),g,l)},o.prototype._initArray=function(u,g,l){if(n(typeof u.length=="number"),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var w,M,A=0;if(l==="be")for(m=u.length-1,w=0;m>=0;m-=3)M=u[m]|u[m-1]<<8|u[m-2]<<16,this.words[w]|=M<<A&67108863,this.words[w+1]=M>>>26-A&67108863,A+=24,A>=26&&(A-=26,w++);else if(l==="le")for(m=0,w=0;m<u.length;m+=3)M=u[m]|u[m+1]<<8|u[m+2]<<16,this.words[w]|=M<<A&67108863,this.words[w+1]=M>>>26-A&67108863,A+=24,A>=26&&(A-=26,w++);return this.strip()};function p(u,g){var l=u.charCodeAt(g);return l>=65&&l<=70?l-55:l>=97&&l<=102?l-87:l-48&15}i(p,"J");function v(u,g,l){var m=p(u,l);return l-1>=g&&(m|=p(u,l-1)<<4),m}i(v,"w"),o.prototype._parseHex=function(u,g,l){this.length=Math.ceil((u.length-g)/6),this.words=Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var w=0,M=0,A;if(l==="be")for(m=u.length-1;m>=g;m-=2)A=v(u,g,m)<<w,this.words[M]|=A&67108863,w>=18?(w-=18,M+=1,this.words[M]|=A>>>26):w+=8;else{var S=u.length-g;for(m=S%2===0?g+1:g;m<u.length;m+=2)A=v(u,g,m)<<w,this.words[M]|=A&67108863,w>=18?(w-=18,M+=1,this.words[M]|=A>>>26):w+=8}this.strip()};function c(u,g,l,m){for(var w=0,M=Math.min(u.length,l),A=g;A<M;A++){var S=u.charCodeAt(A)-48;w*=m,S>=49?w+=S-49+10:S>=17?w+=S-17+10:w+=S}return w}i(c,"G"),o.prototype._parseBase=function(u,g,l){this.words=[0],this.length=1;for(var m=0,w=1;w<=67108863;w*=g)m++;m--,w=w/g|0;for(var M=u.length-l,A=M%m,S=Math.min(M,M-A)+l,f=0,_=l;_<S;_+=m)f=c(u,_,_+m,g),this.imuln(w),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(A!==0){var E=1;for(f=c(u,_,u.length,g),_=0;_<A;_++)E*=g;this.imuln(E),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this.strip()},o.prototype.copy=function(u){u.words=Array(this.length);for(var g=0;g<this.length;g++)u.words[g]=this.words[g];u.length=this.length,u.negative=this.negative,u.red=this.red},o.prototype.clone=function(){var u=new o(null);return this.copy(u),u},o.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(u,g){u=u||10,g=g|0||1;var l;if(u===16||u==="hex"){l="";for(var m=0,w=0,M=0;M<this.length;M++){var A=this.words[M],S=((A<<m|w)&16777215).toString(16);w=A>>>24-m&16777215,m+=2,m>=26&&(m-=26,M--),w!==0||M!==this.length-1?l=d[6-S.length]+S+l:l=S+l}for(w!==0&&(l=w.toString(16)+l);l.length%g!==0;)l="0"+l;return this.negative!==0&&(l="-"+l),l}if(u===(u|0)&&u>=2&&u<=36){var f=y[u],_=b[u];l="";var E=this.clone();for(E.negative=0;!E.isZero();){var I=E.modn(_).toString(u);E=E.idivn(_),E.isZero()?l=I+l:l=d[f-I.length]+I+l}for(this.isZero()&&(l="0"+l);l.length%g!==0;)l="0"+l;return this.negative!==0&&(l="-"+l),l}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var u=this.words[0];return this.length===2?u+=this.words[1]*67108864:this.length===3&&this.words[2]===1?u+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-u:u},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(u,g){return n(typeof h<"u"),this.toArrayLike(h,u,g)},o.prototype.toArray=function(u,g){return this.toArrayLike(Array,u,g)},o.prototype.toArrayLike=function(u,g,l){var m=this.byteLength(),w=l||Math.max(1,m);n(m<=w,"byte array longer than desired length"),n(w>0,"Requested array length <= 0"),this.strip();var M=g==="le",A=new u(w),S,f,_=this.clone();if(M){for(f=0;!_.isZero();f++)S=_.andln(255),_.iushrn(8),A[f]=S;for(;f<w;f++)A[f]=0}else{for(f=0;f<w-m;f++)A[f]=0;for(f=0;!_.isZero();f++)S=_.andln(255),_.iushrn(8),A[w-f-1]=S}return A},Math.clz32?o.prototype._countBits=function(u){return 32-Math.clz32(u)}:o.prototype._countBits=function(u){var g=u,l=0;return g>=4096&&(l+=13,g>>>=13),g>=64&&(l+=7,g>>>=7),g>=8&&(l+=4,g>>>=4),g>=2&&(l+=2,g>>>=2),l+g},o.prototype._zeroBits=function(u){if(u===0)return 26;var g=u,l=0;return(g&8191)===0&&(l+=13,g>>>=13),(g&127)===0&&(l+=7,g>>>=7),(g&15)===0&&(l+=4,g>>>=4),(g&3)===0&&(l+=2,g>>>=2),(g&1)===0&&l++,l},o.prototype.bitLength=function(){var u=this.words[this.length-1],g=this._countBits(u);return(this.length-1)*26+g};function x(u){for(var g=Array(u.bitLength()),l=0;l<g.length;l++){var m=l/26|0,w=l%26;g[l]=(u.words[m]&1<<w)>>>w}return g}i(x,"C"),o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,g=0;g<this.length;g++){var l=this._zeroBits(this.words[g]);if(u+=l,l!==26)break}return u},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(u){return this.negative!==0?this.abs().inotn(u).iaddn(1):this.clone()},o.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var g=0;g<u.length;g++)this.words[g]=this.words[g]|u.words[g];return this.strip()},o.prototype.ior=function(u){return n((this.negative|u.negative)===0),this.iuor(u)},o.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},o.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},o.prototype.iuand=function(u){var g;this.length>u.length?g=u:g=this;for(var l=0;l<g.length;l++)this.words[l]=this.words[l]&u.words[l];return this.length=g.length,this.strip()},o.prototype.iand=function(u){return n((this.negative|u.negative)===0),this.iuand(u)},o.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},o.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},o.prototype.iuxor=function(u){var g,l;this.length>u.length?(g=this,l=u):(g=u,l=this);for(var m=0;m<l.length;m++)this.words[m]=g.words[m]^l.words[m];if(this!==g)for(;m<g.length;m++)this.words[m]=g.words[m];return this.length=g.length,this.strip()},o.prototype.ixor=function(u){return n((this.negative|u.negative)===0),this.iuxor(u)},o.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},o.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},o.prototype.inotn=function(u){n(typeof u=="number"&&u>=0);var g=Math.ceil(u/26)|0,l=u%26;this._expand(g),l>0&&g--;for(var m=0;m<g;m++)this.words[m]=~this.words[m]&67108863;return l>0&&(this.words[m]=~this.words[m]&67108863>>26-l),this.strip()},o.prototype.notn=function(u){return this.clone().inotn(u)},o.prototype.setn=function(u,g){n(typeof u=="number"&&u>=0);var l=u/26|0,m=u%26;return this._expand(l+1),g?this.words[l]=this.words[l]|1<<m:this.words[l]=this.words[l]&~(1<<m),this.strip()},o.prototype.iadd=function(u){var g;if(this.negative!==0&&u.negative===0)return this.negative=0,g=this.isub(u),this.negative^=1,this._normSign();if(this.negative===0&&u.negative!==0)return u.negative=0,g=this.isub(u),u.negative=1,g._normSign();var l,m;this.length>u.length?(l=this,m=u):(l=u,m=this);for(var w=0,M=0;M<m.length;M++)g=(l.words[M]|0)+(m.words[M]|0)+w,this.words[M]=g&67108863,w=g>>>26;for(;w!==0&&M<l.length;M++)g=(l.words[M]|0)+w,this.words[M]=g&67108863,w=g>>>26;if(this.length=l.length,w!==0)this.words[this.length]=w,this.length++;else if(l!==this)for(;M<l.length;M++)this.words[M]=l.words[M];return this},o.prototype.add=function(u){var g;return u.negative!==0&&this.negative===0?(u.negative=0,g=this.sub(u),u.negative^=1,g):u.negative===0&&this.negative!==0?(this.negative=0,g=u.sub(this),this.negative=1,g):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},o.prototype.isub=function(u){if(u.negative!==0){u.negative=0;var g=this.iadd(u);return u.negative=1,g._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var l=this.cmp(u);if(l===0)return this.negative=0,this.length=1,this.words[0]=0,this;var m,w;l>0?(m=this,w=u):(m=u,w=this);for(var M=0,A=0;A<w.length;A++)g=(m.words[A]|0)-(w.words[A]|0)+M,M=g>>26,this.words[A]=g&67108863;for(;M!==0&&A<m.length;A++)g=(m.words[A]|0)+M,M=g>>26,this.words[A]=g&67108863;if(M===0&&A<m.length&&m!==this)for(;A<m.length;A++)this.words[A]=m.words[A];return this.length=Math.max(this.length,A),m!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(u){return this.clone().isub(u)};function k(u,g,l){l.negative=g.negative^u.negative;var m=u.length+g.length|0;l.length=m,m=m-1|0;var w=u.words[0]|0,M=g.words[0]|0,A=w*M,S=A&67108863,f=A/67108864|0;l.words[0]=S;for(var _=1;_<m;_++){for(var E=f>>>26,I=f&67108863,D=Math.min(_,g.length-1),L=Math.max(0,_-u.length+1);L<=D;L++){var U=_-L|0;w=u.words[U]|0,M=g.words[L]|0,A=w*M+I,E+=A/67108864|0,I=A&67108863}l.words[_]=I|0,f=E|0}return f!==0?l.words[_]=f|0:l.length--,l.strip()}i(k,"E");var N=i(function(u,g,l){var m=u.words,w=g.words,M=l.words,A=0,S,f,_,E=m[0]|0,I=E&8191,D=E>>>13,L=m[1]|0,U=L&8191,B=L>>>13,G=m[2]|0,H=G&8191,K=G>>>13,_e=m[3]|0,ae=_e&8191,se=_e>>>13,ye=m[4]|0,q=ye&8191,re=ye>>>13,X=m[5]|0,W=X&8191,le=X>>>13,ke=m[6]|0,pe=ke&8191,fe=ke>>>13,Q=m[7]|0,Y=Q&8191,te=Q>>>13,he=m[8]|0,oe=he&8191,ue=he>>>13,ze=m[9]|0,we=ze&8191,Be=ze>>>13,We=w[0]|0,ve=We&8191,Ue=We>>>13,ce=w[1]|0,be=ce&8191,Te=ce>>>13,Re=w[2]|0,Ae=Re&8191,$e=Re>>>13,Ye=w[3]|0,Ne=Ye&8191,Ee=Ye>>>13,Pe=w[4]|0,Se=Pe&8191,Ze=Pe>>>13,Ke=w[5]|0,ie=Ke&8191,me=Ke>>>13,Ce=w[6]|0,xe=Ce&8191,Oe=Ce>>>13,He=w[7]|0,ne=He&8191,je=He>>>13,Ge=w[8]|0,ge=Ge&8191,Je=Ge>>>13,tt=w[9]|0,De=tt&8191,Qe=tt>>>13;l.negative=u.negative^g.negative,l.length=19,S=Math.imul(I,ve),f=Math.imul(I,Ue),f=f+Math.imul(D,ve)|0,_=Math.imul(D,Ue);var Ie=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,S=Math.imul(U,ve),f=Math.imul(U,Ue),f=f+Math.imul(B,ve)|0,_=Math.imul(B,Ue),S=S+Math.imul(I,be)|0,f=f+Math.imul(I,Te)|0,f=f+Math.imul(D,be)|0,_=_+Math.imul(D,Te)|0;var Fe=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,S=Math.imul(H,ve),f=Math.imul(H,Ue),f=f+Math.imul(K,ve)|0,_=Math.imul(K,Ue),S=S+Math.imul(U,be)|0,f=f+Math.imul(U,Te)|0,f=f+Math.imul(B,be)|0,_=_+Math.imul(B,Te)|0,S=S+Math.imul(I,Ae)|0,f=f+Math.imul(I,$e)|0,f=f+Math.imul(D,Ae)|0,_=_+Math.imul(D,$e)|0;var lt=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(lt>>>26)|0,lt&=67108863,S=Math.imul(ae,ve),f=Math.imul(ae,Ue),f=f+Math.imul(se,ve)|0,_=Math.imul(se,Ue),S=S+Math.imul(H,be)|0,f=f+Math.imul(H,Te)|0,f=f+Math.imul(K,be)|0,_=_+Math.imul(K,Te)|0,S=S+Math.imul(U,Ae)|0,f=f+Math.imul(U,$e)|0,f=f+Math.imul(B,Ae)|0,_=_+Math.imul(B,$e)|0,S=S+Math.imul(I,Ne)|0,f=f+Math.imul(I,Ee)|0,f=f+Math.imul(D,Ne)|0,_=_+Math.imul(D,Ee)|0;var yt=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(yt>>>26)|0,yt&=67108863,S=Math.imul(q,ve),f=Math.imul(q,Ue),f=f+Math.imul(re,ve)|0,_=Math.imul(re,Ue),S=S+Math.imul(ae,be)|0,f=f+Math.imul(ae,Te)|0,f=f+Math.imul(se,be)|0,_=_+Math.imul(se,Te)|0,S=S+Math.imul(H,Ae)|0,f=f+Math.imul(H,$e)|0,f=f+Math.imul(K,Ae)|0,_=_+Math.imul(K,$e)|0,S=S+Math.imul(U,Ne)|0,f=f+Math.imul(U,Ee)|0,f=f+Math.imul(B,Ne)|0,_=_+Math.imul(B,Ee)|0,S=S+Math.imul(I,Se)|0,f=f+Math.imul(I,Ze)|0,f=f+Math.imul(D,Se)|0,_=_+Math.imul(D,Ze)|0;var ht=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(ht>>>26)|0,ht&=67108863,S=Math.imul(W,ve),f=Math.imul(W,Ue),f=f+Math.imul(le,ve)|0,_=Math.imul(le,Ue),S=S+Math.imul(q,be)|0,f=f+Math.imul(q,Te)|0,f=f+Math.imul(re,be)|0,_=_+Math.imul(re,Te)|0,S=S+Math.imul(ae,Ae)|0,f=f+Math.imul(ae,$e)|0,f=f+Math.imul(se,Ae)|0,_=_+Math.imul(se,$e)|0,S=S+Math.imul(H,Ne)|0,f=f+Math.imul(H,Ee)|0,f=f+Math.imul(K,Ne)|0,_=_+Math.imul(K,Ee)|0,S=S+Math.imul(U,Se)|0,f=f+Math.imul(U,Ze)|0,f=f+Math.imul(B,Se)|0,_=_+Math.imul(B,Ze)|0,S=S+Math.imul(I,ie)|0,f=f+Math.imul(I,me)|0,f=f+Math.imul(D,ie)|0,_=_+Math.imul(D,me)|0;var Mt=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,S=Math.imul(pe,ve),f=Math.imul(pe,Ue),f=f+Math.imul(fe,ve)|0,_=Math.imul(fe,Ue),S=S+Math.imul(W,be)|0,f=f+Math.imul(W,Te)|0,f=f+Math.imul(le,be)|0,_=_+Math.imul(le,Te)|0,S=S+Math.imul(q,Ae)|0,f=f+Math.imul(q,$e)|0,f=f+Math.imul(re,Ae)|0,_=_+Math.imul(re,$e)|0,S=S+Math.imul(ae,Ne)|0,f=f+Math.imul(ae,Ee)|0,f=f+Math.imul(se,Ne)|0,_=_+Math.imul(se,Ee)|0,S=S+Math.imul(H,Se)|0,f=f+Math.imul(H,Ze)|0,f=f+Math.imul(K,Se)|0,_=_+Math.imul(K,Ze)|0,S=S+Math.imul(U,ie)|0,f=f+Math.imul(U,me)|0,f=f+Math.imul(B,ie)|0,_=_+Math.imul(B,me)|0,S=S+Math.imul(I,xe)|0,f=f+Math.imul(I,Oe)|0,f=f+Math.imul(D,xe)|0,_=_+Math.imul(D,Oe)|0;var Bt=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,S=Math.imul(Y,ve),f=Math.imul(Y,Ue),f=f+Math.imul(te,ve)|0,_=Math.imul(te,Ue),S=S+Math.imul(pe,be)|0,f=f+Math.imul(pe,Te)|0,f=f+Math.imul(fe,be)|0,_=_+Math.imul(fe,Te)|0,S=S+Math.imul(W,Ae)|0,f=f+Math.imul(W,$e)|0,f=f+Math.imul(le,Ae)|0,_=_+Math.imul(le,$e)|0,S=S+Math.imul(q,Ne)|0,f=f+Math.imul(q,Ee)|0,f=f+Math.imul(re,Ne)|0,_=_+Math.imul(re,Ee)|0,S=S+Math.imul(ae,Se)|0,f=f+Math.imul(ae,Ze)|0,f=f+Math.imul(se,Se)|0,_=_+Math.imul(se,Ze)|0,S=S+Math.imul(H,ie)|0,f=f+Math.imul(H,me)|0,f=f+Math.imul(K,ie)|0,_=_+Math.imul(K,me)|0,S=S+Math.imul(U,xe)|0,f=f+Math.imul(U,Oe)|0,f=f+Math.imul(B,xe)|0,_=_+Math.imul(B,Oe)|0,S=S+Math.imul(I,ne)|0,f=f+Math.imul(I,je)|0,f=f+Math.imul(D,ne)|0,_=_+Math.imul(D,je)|0;var Et=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(Et>>>26)|0,Et&=67108863,S=Math.imul(oe,ve),f=Math.imul(oe,Ue),f=f+Math.imul(ue,ve)|0,_=Math.imul(ue,Ue),S=S+Math.imul(Y,be)|0,f=f+Math.imul(Y,Te)|0,f=f+Math.imul(te,be)|0,_=_+Math.imul(te,Te)|0,S=S+Math.imul(pe,Ae)|0,f=f+Math.imul(pe,$e)|0,f=f+Math.imul(fe,Ae)|0,_=_+Math.imul(fe,$e)|0,S=S+Math.imul(W,Ne)|0,f=f+Math.imul(W,Ee)|0,f=f+Math.imul(le,Ne)|0,_=_+Math.imul(le,Ee)|0,S=S+Math.imul(q,Se)|0,f=f+Math.imul(q,Ze)|0,f=f+Math.imul(re,Se)|0,_=_+Math.imul(re,Ze)|0,S=S+Math.imul(ae,ie)|0,f=f+Math.imul(ae,me)|0,f=f+Math.imul(se,ie)|0,_=_+Math.imul(se,me)|0,S=S+Math.imul(H,xe)|0,f=f+Math.imul(H,Oe)|0,f=f+Math.imul(K,xe)|0,_=_+Math.imul(K,Oe)|0,S=S+Math.imul(U,ne)|0,f=f+Math.imul(U,je)|0,f=f+Math.imul(B,ne)|0,_=_+Math.imul(B,je)|0,S=S+Math.imul(I,ge)|0,f=f+Math.imul(I,Je)|0,f=f+Math.imul(D,ge)|0,_=_+Math.imul(D,Je)|0;var _t=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(_t>>>26)|0,_t&=67108863,S=Math.imul(we,ve),f=Math.imul(we,Ue),f=f+Math.imul(Be,ve)|0,_=Math.imul(Be,Ue),S=S+Math.imul(oe,be)|0,f=f+Math.imul(oe,Te)|0,f=f+Math.imul(ue,be)|0,_=_+Math.imul(ue,Te)|0,S=S+Math.imul(Y,Ae)|0,f=f+Math.imul(Y,$e)|0,f=f+Math.imul(te,Ae)|0,_=_+Math.imul(te,$e)|0,S=S+Math.imul(pe,Ne)|0,f=f+Math.imul(pe,Ee)|0,f=f+Math.imul(fe,Ne)|0,_=_+Math.imul(fe,Ee)|0,S=S+Math.imul(W,Se)|0,f=f+Math.imul(W,Ze)|0,f=f+Math.imul(le,Se)|0,_=_+Math.imul(le,Ze)|0,S=S+Math.imul(q,ie)|0,f=f+Math.imul(q,me)|0,f=f+Math.imul(re,ie)|0,_=_+Math.imul(re,me)|0,S=S+Math.imul(ae,xe)|0,f=f+Math.imul(ae,Oe)|0,f=f+Math.imul(se,xe)|0,_=_+Math.imul(se,Oe)|0,S=S+Math.imul(H,ne)|0,f=f+Math.imul(H,je)|0,f=f+Math.imul(K,ne)|0,_=_+Math.imul(K,je)|0,S=S+Math.imul(U,ge)|0,f=f+Math.imul(U,Je)|0,f=f+Math.imul(B,ge)|0,_=_+Math.imul(B,Je)|0,S=S+Math.imul(I,De)|0,f=f+Math.imul(I,Qe)|0,f=f+Math.imul(D,De)|0,_=_+Math.imul(D,Qe)|0;var Ft=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,S=Math.imul(we,be),f=Math.imul(we,Te),f=f+Math.imul(Be,be)|0,_=Math.imul(Be,Te),S=S+Math.imul(oe,Ae)|0,f=f+Math.imul(oe,$e)|0,f=f+Math.imul(ue,Ae)|0,_=_+Math.imul(ue,$e)|0,S=S+Math.imul(Y,Ne)|0,f=f+Math.imul(Y,Ee)|0,f=f+Math.imul(te,Ne)|0,_=_+Math.imul(te,Ee)|0,S=S+Math.imul(pe,Se)|0,f=f+Math.imul(pe,Ze)|0,f=f+Math.imul(fe,Se)|0,_=_+Math.imul(fe,Ze)|0,S=S+Math.imul(W,ie)|0,f=f+Math.imul(W,me)|0,f=f+Math.imul(le,ie)|0,_=_+Math.imul(le,me)|0,S=S+Math.imul(q,xe)|0,f=f+Math.imul(q,Oe)|0,f=f+Math.imul(re,xe)|0,_=_+Math.imul(re,Oe)|0,S=S+Math.imul(ae,ne)|0,f=f+Math.imul(ae,je)|0,f=f+Math.imul(se,ne)|0,_=_+Math.imul(se,je)|0,S=S+Math.imul(H,ge)|0,f=f+Math.imul(H,Je)|0,f=f+Math.imul(K,ge)|0,_=_+Math.imul(K,Je)|0,S=S+Math.imul(U,De)|0,f=f+Math.imul(U,Qe)|0,f=f+Math.imul(B,De)|0,_=_+Math.imul(B,Qe)|0;var Vt=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,S=Math.imul(we,Ae),f=Math.imul(we,$e),f=f+Math.imul(Be,Ae)|0,_=Math.imul(Be,$e),S=S+Math.imul(oe,Ne)|0,f=f+Math.imul(oe,Ee)|0,f=f+Math.imul(ue,Ne)|0,_=_+Math.imul(ue,Ee)|0,S=S+Math.imul(Y,Se)|0,f=f+Math.imul(Y,Ze)|0,f=f+Math.imul(te,Se)|0,_=_+Math.imul(te,Ze)|0,S=S+Math.imul(pe,ie)|0,f=f+Math.imul(pe,me)|0,f=f+Math.imul(fe,ie)|0,_=_+Math.imul(fe,me)|0,S=S+Math.imul(W,xe)|0,f=f+Math.imul(W,Oe)|0,f=f+Math.imul(le,xe)|0,_=_+Math.imul(le,Oe)|0,S=S+Math.imul(q,ne)|0,f=f+Math.imul(q,je)|0,f=f+Math.imul(re,ne)|0,_=_+Math.imul(re,je)|0,S=S+Math.imul(ae,ge)|0,f=f+Math.imul(ae,Je)|0,f=f+Math.imul(se,ge)|0,_=_+Math.imul(se,Je)|0,S=S+Math.imul(H,De)|0,f=f+Math.imul(H,Qe)|0,f=f+Math.imul(K,De)|0,_=_+Math.imul(K,Qe)|0;var Tt=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,S=Math.imul(we,Ne),f=Math.imul(we,Ee),f=f+Math.imul(Be,Ne)|0,_=Math.imul(Be,Ee),S=S+Math.imul(oe,Se)|0,f=f+Math.imul(oe,Ze)|0,f=f+Math.imul(ue,Se)|0,_=_+Math.imul(ue,Ze)|0,S=S+Math.imul(Y,ie)|0,f=f+Math.imul(Y,me)|0,f=f+Math.imul(te,ie)|0,_=_+Math.imul(te,me)|0,S=S+Math.imul(pe,xe)|0,f=f+Math.imul(pe,Oe)|0,f=f+Math.imul(fe,xe)|0,_=_+Math.imul(fe,Oe)|0,S=S+Math.imul(W,ne)|0,f=f+Math.imul(W,je)|0,f=f+Math.imul(le,ne)|0,_=_+Math.imul(le,je)|0,S=S+Math.imul(q,ge)|0,f=f+Math.imul(q,Je)|0,f=f+Math.imul(re,ge)|0,_=_+Math.imul(re,Je)|0,S=S+Math.imul(ae,De)|0,f=f+Math.imul(ae,Qe)|0,f=f+Math.imul(se,De)|0,_=_+Math.imul(se,Qe)|0;var zt=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(zt>>>26)|0,zt&=67108863,S=Math.imul(we,Se),f=Math.imul(we,Ze),f=f+Math.imul(Be,Se)|0,_=Math.imul(Be,Ze),S=S+Math.imul(oe,ie)|0,f=f+Math.imul(oe,me)|0,f=f+Math.imul(ue,ie)|0,_=_+Math.imul(ue,me)|0,S=S+Math.imul(Y,xe)|0,f=f+Math.imul(Y,Oe)|0,f=f+Math.imul(te,xe)|0,_=_+Math.imul(te,Oe)|0,S=S+Math.imul(pe,ne)|0,f=f+Math.imul(pe,je)|0,f=f+Math.imul(fe,ne)|0,_=_+Math.imul(fe,je)|0,S=S+Math.imul(W,ge)|0,f=f+Math.imul(W,Je)|0,f=f+Math.imul(le,ge)|0,_=_+Math.imul(le,Je)|0,S=S+Math.imul(q,De)|0,f=f+Math.imul(q,Qe)|0,f=f+Math.imul(re,De)|0,_=_+Math.imul(re,Qe)|0;var Nt=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,S=Math.imul(we,ie),f=Math.imul(we,me),f=f+Math.imul(Be,ie)|0,_=Math.imul(Be,me),S=S+Math.imul(oe,xe)|0,f=f+Math.imul(oe,Oe)|0,f=f+Math.imul(ue,xe)|0,_=_+Math.imul(ue,Oe)|0,S=S+Math.imul(Y,ne)|0,f=f+Math.imul(Y,je)|0,f=f+Math.imul(te,ne)|0,_=_+Math.imul(te,je)|0,S=S+Math.imul(pe,ge)|0,f=f+Math.imul(pe,Je)|0,f=f+Math.imul(fe,ge)|0,_=_+Math.imul(fe,Je)|0,S=S+Math.imul(W,De)|0,f=f+Math.imul(W,Qe)|0,f=f+Math.imul(le,De)|0,_=_+Math.imul(le,Qe)|0;var Pt=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,S=Math.imul(we,xe),f=Math.imul(we,Oe),f=f+Math.imul(Be,xe)|0,_=Math.imul(Be,Oe),S=S+Math.imul(oe,ne)|0,f=f+Math.imul(oe,je)|0,f=f+Math.imul(ue,ne)|0,_=_+Math.imul(ue,je)|0,S=S+Math.imul(Y,ge)|0,f=f+Math.imul(Y,Je)|0,f=f+Math.imul(te,ge)|0,_=_+Math.imul(te,Je)|0,S=S+Math.imul(pe,De)|0,f=f+Math.imul(pe,Qe)|0,f=f+Math.imul(fe,De)|0,_=_+Math.imul(fe,Qe)|0;var Ut=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,S=Math.imul(we,ne),f=Math.imul(we,je),f=f+Math.imul(Be,ne)|0,_=Math.imul(Be,je),S=S+Math.imul(oe,ge)|0,f=f+Math.imul(oe,Je)|0,f=f+Math.imul(ue,ge)|0,_=_+Math.imul(ue,Je)|0,S=S+Math.imul(Y,De)|0,f=f+Math.imul(Y,Qe)|0,f=f+Math.imul(te,De)|0,_=_+Math.imul(te,Qe)|0;var Zt=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,S=Math.imul(we,ge),f=Math.imul(we,Je),f=f+Math.imul(Be,ge)|0,_=Math.imul(Be,Je),S=S+Math.imul(oe,De)|0,f=f+Math.imul(oe,Qe)|0,f=f+Math.imul(ue,De)|0,_=_+Math.imul(ue,Qe)|0;var Ht=(A+S|0)+((f&8191)<<13)|0;A=(_+(f>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,S=Math.imul(we,De),f=Math.imul(we,Qe),f=f+Math.imul(Be,De)|0,_=Math.imul(Be,Qe);var Jt=(A+S|0)+((f&8191)<<13)|0;return A=(_+(f>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,M[0]=Ie,M[1]=Fe,M[2]=lt,M[3]=yt,M[4]=ht,M[5]=Mt,M[6]=Bt,M[7]=Et,M[8]=_t,M[9]=Ft,M[10]=Vt,M[11]=Tt,M[12]=zt,M[13]=Nt,M[14]=Pt,M[15]=Ut,M[16]=Zt,M[17]=Ht,M[18]=Jt,A!==0&&(M[19]=A,l.length++),l},"R");Math.imul||(N=k);function C(u,g,l){l.negative=g.negative^u.negative,l.length=u.length+g.length;for(var m=0,w=0,M=0;M<l.length-1;M++){var A=w;w=0;for(var S=m&67108863,f=Math.min(M,g.length-1),_=Math.max(0,M-u.length+1);_<=f;_++){var E=M-_,I=u.words[E]|0,D=g.words[_]|0,L=I*D,U=L&67108863;A=A+(L/67108864|0)|0,U=U+S|0,S=U&67108863,A=A+(U>>>26)|0,w+=A>>>26,A&=67108863}l.words[M]=S,m=A,A=w}return m!==0?l.words[M]=m:l.length--,l.strip()}i(C,"I");function R(u,g,l){var m=new O;return m.mulp(u,g,l)}i(R,"D"),o.prototype.mulTo=function(u,g){var l,m=this.length+u.length;return this.length===10&&u.length===10?l=N(this,u,g):m<63?l=k(this,u,g):m<1024?l=C(this,u,g):l=R(this,u,g),l};function O(u,g){this.x=u,this.y=g}i(O,"b"),O.prototype.makeRBT=function(u){for(var g=Array(u),l=o.prototype._countBits(u)-1,m=0;m<u;m++)g[m]=this.revBin(m,l,u);return g},O.prototype.revBin=function(u,g,l){if(u===0||u===l-1)return u;for(var m=0,w=0;w<g;w++)m|=(u&1)<<g-w-1,u>>=1;return m},O.prototype.permute=function(u,g,l,m,w,M){for(var A=0;A<M;A++)m[A]=g[u[A]],w[A]=l[u[A]]},O.prototype.transform=function(u,g,l,m,w,M){this.permute(M,u,g,l,m,w);for(var A=1;A<w;A<<=1)for(var S=A<<1,f=Math.cos(2*Math.PI/S),_=Math.sin(2*Math.PI/S),E=0;E<w;E+=S)for(var I=f,D=_,L=0;L<A;L++){var U=l[E+L],B=m[E+L],G=l[E+L+A],H=m[E+L+A],K=I*G-D*H;H=I*H+D*G,G=K,l[E+L]=U+G,m[E+L]=B+H,l[E+L+A]=U-G,m[E+L+A]=B-H,L!==S&&(K=f*I-_*D,D=f*D+_*I,I=K)}},O.prototype.guessLen13b=function(u,g){var l=Math.max(g,u)|1,m=l&1,w=0;for(l=l/2|0;l;l=l>>>1)w++;return 1<<w+1+m},O.prototype.conjugate=function(u,g,l){if(!(l<=1))for(var m=0;m<l/2;m++){var w=u[m];u[m]=u[l-m-1],u[l-m-1]=w,w=g[m],g[m]=-g[l-m-1],g[l-m-1]=-w}},O.prototype.normalize13b=function(u,g){for(var l=0,m=0;m<g/2;m++){var w=Math.round(u[2*m+1]/g)*8192+Math.round(u[2*m]/g)+l;u[m]=w&67108863,w<67108864?l=0:l=w/67108864|0}return u},O.prototype.convert13b=function(u,g,l,m){for(var w=0,M=0;M<g;M++)w=w+(u[M]|0),l[2*M]=w&8191,w=w>>>13,l[2*M+1]=w&8191,w=w>>>13;for(M=2*g;M<m;++M)l[M]=0;n(w===0),n((w&-8192)===0)},O.prototype.stub=function(u){for(var g=Array(u),l=0;l<u;l++)g[l]=0;return g},O.prototype.mulp=function(u,g,l){var m=2*this.guessLen13b(u.length,g.length),w=this.makeRBT(m),M=this.stub(m),A=Array(m),S=Array(m),f=Array(m),_=Array(m),E=Array(m),I=Array(m),D=l.words;D.length=m,this.convert13b(u.words,u.length,A,m),this.convert13b(g.words,g.length,_,m),this.transform(A,M,S,f,m,w),this.transform(_,M,E,I,m,w);for(var L=0;L<m;L++){var U=S[L]*E[L]-f[L]*I[L];f[L]=S[L]*I[L]+f[L]*E[L],S[L]=U}return this.conjugate(S,f,m),this.transform(S,f,D,M,m,w),this.conjugate(D,M,m),this.normalize13b(D,m),l.negative=u.negative^g.negative,l.length=u.length+g.length,l.strip()},o.prototype.mul=function(u){var g=new o(null);return g.words=Array(this.length+u.length),this.mulTo(u,g)},o.prototype.mulf=function(u){var g=new o(null);return g.words=Array(this.length+u.length),R(this,u,g)},o.prototype.imul=function(u){return this.clone().mulTo(u,this)},o.prototype.imuln=function(u){n(typeof u=="number"),n(u<67108864);for(var g=0,l=0;l<this.length;l++){var m=(this.words[l]|0)*u,w=(m&67108863)+(g&67108863);g>>=26,g+=m/67108864|0,g+=w>>>26,this.words[l]=w&67108863}return g!==0&&(this.words[l]=g,this.length++),this.length=u===0?1:this.length,this},o.prototype.muln=function(u){return this.clone().imuln(u)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(u){var g=x(u);if(g.length===0)return new o(1);for(var l=this,m=0;m<g.length&&g[m]===0;m++,l=l.sqr());if(++m<g.length)for(var w=l.sqr();m<g.length;m++,w=w.sqr())g[m]!==0&&(l=l.mul(w));return l},o.prototype.iushln=function(u){n(typeof u=="number"&&u>=0);var g=u%26,l=(u-g)/26,m=67108863>>>26-g<<26-g,w;if(g!==0){var M=0;for(w=0;w<this.length;w++){var A=this.words[w]&m,S=(this.words[w]|0)-A<<g;this.words[w]=S|M,M=A>>>26-g}M&&(this.words[w]=M,this.length++)}if(l!==0){for(w=this.length-1;w>=0;w--)this.words[w+l]=this.words[w];for(w=0;w<l;w++)this.words[w]=0;this.length+=l}return this.strip()},o.prototype.ishln=function(u){return n(this.negative===0),this.iushln(u)},o.prototype.iushrn=function(u,g,l){n(typeof u=="number"&&u>=0);var m;g?m=(g-g%26)/26:m=0;var w=u%26,M=Math.min((u-w)/26,this.length),A=67108863^67108863>>>w<<w,S=l;if(m-=M,m=Math.max(0,m),S){for(var f=0;f<M;f++)S.words[f]=this.words[f];S.length=M}if(M!==0)if(this.length>M)for(this.length-=M,f=0;f<this.length;f++)this.words[f]=this.words[f+M];else this.words[0]=0,this.length=1;var _=0;for(f=this.length-1;f>=0&&(_!==0||f>=m);f--){var E=this.words[f]|0;this.words[f]=_<<26-w|E>>>w,_=E&A}return S&&_!==0&&(S.words[S.length++]=_),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(u,g,l){return n(this.negative===0),this.iushrn(u,g,l)},o.prototype.shln=function(u){return this.clone().ishln(u)},o.prototype.ushln=function(u){return this.clone().iushln(u)},o.prototype.shrn=function(u){return this.clone().ishrn(u)},o.prototype.ushrn=function(u){return this.clone().iushrn(u)},o.prototype.testn=function(u){n(typeof u=="number"&&u>=0);var g=u%26,l=(u-g)/26,m=1<<g;if(this.length<=l)return!1;var w=this.words[l];return!!(w&m)},o.prototype.imaskn=function(u){n(typeof u=="number"&&u>=0);var g=u%26,l=(u-g)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=l)return this;if(g!==0&&l++,this.length=Math.min(l,this.length),g!==0){var m=67108863^67108863>>>g<<g;this.words[this.length-1]&=m}return this.strip()},o.prototype.maskn=function(u){return this.clone().imaskn(u)},o.prototype.iaddn=function(u){return n(typeof u=="number"),n(u<67108864),u<0?this.isubn(-u):this.negative!==0?this.length===1&&(this.words[0]|0)<u?(this.words[0]=u-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},o.prototype._iaddn=function(u){this.words[0]+=u;for(var g=0;g<this.length&&this.words[g]>=67108864;g++)this.words[g]-=67108864,g===this.length-1?this.words[g+1]=1:this.words[g+1]++;return this.length=Math.max(this.length,g+1),this},o.prototype.isubn=function(u){if(n(typeof u=="number"),n(u<67108864),u<0)return this.iaddn(-u);if(this.negative!==0)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var g=0;g<this.length&&this.words[g]<0;g++)this.words[g]+=67108864,this.words[g+1]-=1;return this.strip()},o.prototype.addn=function(u){return this.clone().iaddn(u)},o.prototype.subn=function(u){return this.clone().isubn(u)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(u,g,l){var m=u.length+l,w;this._expand(m);var M,A=0;for(w=0;w<u.length;w++){M=(this.words[w+l]|0)+A;var S=(u.words[w]|0)*g;M-=S&67108863,A=(M>>26)-(S/67108864|0),this.words[w+l]=M&67108863}for(;w<this.length-l;w++)M=(this.words[w+l]|0)+A,A=M>>26,this.words[w+l]=M&67108863;if(A===0)return this.strip();for(n(A===-1),A=0,w=0;w<this.length;w++)M=-(this.words[w]|0)+A,A=M>>26,this.words[w]=M&67108863;return this.negative=1,this.strip()},o.prototype._wordDiv=function(u,g){var l=this.length-u.length,m=this.clone(),w=u,M=w.words[w.length-1]|0,A=this._countBits(M);l=26-A,l!==0&&(w=w.ushln(l),m.iushln(l),M=w.words[w.length-1]|0);var S=m.length-w.length,f;if(g!=="mod"){f=new o(null),f.length=S+1,f.words=Array(f.length);for(var _=0;_<f.length;_++)f.words[_]=0}var E=m.clone()._ishlnsubmul(w,1,S);E.negative===0&&(m=E,f&&(f.words[S]=1));for(var I=S-1;I>=0;I--){var D=(m.words[w.length+I]|0)*67108864+(m.words[w.length+I-1]|0);for(D=Math.min(D/M|0,67108863),m._ishlnsubmul(w,D,I);m.negative!==0;)D--,m.negative=0,m._ishlnsubmul(w,1,I),!m.isZero()&&(m.negative^=1);f&&(f.words[I]=D)}return f&&f.strip(),m.strip(),g!=="div"&&l!==0&&m.iushrn(l),{div:f||null,mod:m}},o.prototype.divmod=function(u,g,l){if(n(!u.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var m,w,M;return this.negative!==0&&u.negative===0?(M=this.neg().divmod(u,g),g!=="mod"&&(m=M.div.neg()),g!=="div"&&(w=M.mod.neg(),l&&w.negative!==0&&w.iadd(u)),{div:m,mod:w}):this.negative===0&&u.negative!==0?(M=this.divmod(u.neg(),g),g!=="mod"&&(m=M.div.neg()),{div:m,mod:M.mod}):(this.negative&u.negative)!==0?(M=this.neg().divmod(u.neg(),g),g!=="div"&&(w=M.mod.neg(),l&&w.negative!==0&&w.isub(u)),{div:M.div,mod:w}):u.length>this.length||this.cmp(u)<0?{div:new o(0),mod:this}:u.length===1?g==="div"?{div:this.divn(u.words[0]),mod:null}:g==="mod"?{div:null,mod:new o(this.modn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new o(this.modn(u.words[0]))}:this._wordDiv(u,g)},o.prototype.div=function(u){return this.divmod(u,"div",!1).div},o.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},o.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},o.prototype.divRound=function(u){var g=this.divmod(u);if(g.mod.isZero())return g.div;var l=g.div.negative!==0?g.mod.isub(u):g.mod,m=u.ushrn(1),w=u.andln(1),M=l.cmp(m);return M<0||w===1&&M===0?g.div:g.div.negative!==0?g.div.isubn(1):g.div.iaddn(1)},o.prototype.modn=function(u){n(u<=67108863);for(var g=67108864%u,l=0,m=this.length-1;m>=0;m--)l=(g*l+(this.words[m]|0))%u;return l},o.prototype.idivn=function(u){n(u<=67108863);for(var g=0,l=this.length-1;l>=0;l--){var m=(this.words[l]|0)+g*67108864;this.words[l]=m/u|0,g=m%u}return this.strip()},o.prototype.divn=function(u){return this.clone().idivn(u)},o.prototype.egcd=function(u){n(u.negative===0),n(!u.isZero());var g=this,l=u.clone();g.negative!==0?g=g.umod(u):g=g.clone();for(var m=new o(1),w=new o(0),M=new o(0),A=new o(1),S=0;g.isEven()&&l.isEven();)g.iushrn(1),l.iushrn(1),++S;for(var f=l.clone(),_=g.clone();!g.isZero();){for(var E=0,I=1;(g.words[0]&I)===0&&E<26;++E,I<<=1);if(E>0)for(g.iushrn(E);E-- >0;)(m.isOdd()||w.isOdd())&&(m.iadd(f),w.isub(_)),m.iushrn(1),w.iushrn(1);for(var D=0,L=1;(l.words[0]&L)===0&&D<26;++D,L<<=1);if(D>0)for(l.iushrn(D);D-- >0;)(M.isOdd()||A.isOdd())&&(M.iadd(f),A.isub(_)),M.iushrn(1),A.iushrn(1);g.cmp(l)>=0?(g.isub(l),m.isub(M),w.isub(A)):(l.isub(g),M.isub(m),A.isub(w))}return{a:M,b:A,gcd:l.iushln(S)}},o.prototype._invmp=function(u){n(u.negative===0),n(!u.isZero());var g=this,l=u.clone();g.negative!==0?g=g.umod(u):g=g.clone();for(var m=new o(1),w=new o(0),M=l.clone();g.cmpn(1)>0&&l.cmpn(1)>0;){for(var A=0,S=1;(g.words[0]&S)===0&&A<26;++A,S<<=1);if(A>0)for(g.iushrn(A);A-- >0;)m.isOdd()&&m.iadd(M),m.iushrn(1);for(var f=0,_=1;(l.words[0]&_)===0&&f<26;++f,_<<=1);if(f>0)for(l.iushrn(f);f-- >0;)w.isOdd()&&w.iadd(M),w.iushrn(1);g.cmp(l)>=0?(g.isub(l),m.isub(w)):(l.isub(g),w.isub(m))}var E;return g.cmpn(1)===0?E=m:E=w,E.cmpn(0)<0&&E.iadd(u),E},o.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var g=this.clone(),l=u.clone();g.negative=0,l.negative=0;for(var m=0;g.isEven()&&l.isEven();m++)g.iushrn(1),l.iushrn(1);do{for(;g.isEven();)g.iushrn(1);for(;l.isEven();)l.iushrn(1);var w=g.cmp(l);if(w<0){var M=g;g=l,l=M}else if(w===0||l.cmpn(1)===0)break;g.isub(l)}while(!0);return l.iushln(m)},o.prototype.invm=function(u){return this.egcd(u).a.umod(u)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(u){return this.words[0]&u},o.prototype.bincn=function(u){n(typeof u=="number");var g=u%26,l=(u-g)/26,m=1<<g;if(this.length<=l)return this._expand(l+1),this.words[l]|=m,this;for(var w=m,M=l;w!==0&&M<this.length;M++){var A=this.words[M]|0;A+=w,w=A>>>26,A&=67108863,this.words[M]=A}return w!==0&&(this.words[M]=w,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(u){var g=u<0;if(this.negative!==0&&!g)return-1;if(this.negative===0&&g)return 1;this.strip();var l;if(this.length>1)l=1;else{g&&(u=-u),n(u<=67108863,"Number is too big");var m=this.words[0]|0;l=m===u?0:m<u?-1:1}return this.negative!==0?-l|0:l},o.prototype.cmp=function(u){if(this.negative!==0&&u.negative===0)return-1;if(this.negative===0&&u.negative!==0)return 1;var g=this.ucmp(u);return this.negative!==0?-g|0:g},o.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var g=0,l=this.length-1;l>=0;l--){var m=this.words[l]|0,w=u.words[l]|0;if(m!==w){m<w?g=-1:m>w&&(g=1);break}}return g},o.prototype.gtn=function(u){return this.cmpn(u)===1},o.prototype.gt=function(u){return this.cmp(u)===1},o.prototype.gten=function(u){return this.cmpn(u)>=0},o.prototype.gte=function(u){return this.cmp(u)>=0},o.prototype.ltn=function(u){return this.cmpn(u)===-1},o.prototype.lt=function(u){return this.cmp(u)===-1},o.prototype.lten=function(u){return this.cmpn(u)<=0},o.prototype.lte=function(u){return this.cmp(u)<=0},o.prototype.eqn=function(u){return this.cmpn(u)===0},o.prototype.eq=function(u){return this.cmp(u)===0},o.red=function(u){return new $(u)},o.prototype.toRed=function(u){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),u.convertTo(this)._forceRed(u)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(u){return this.red=u,this},o.prototype.forceRed=function(u){return n(!this.red,"Already a number in reduction context"),this._forceRed(u)},o.prototype.redAdd=function(u){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},o.prototype.redIAdd=function(u){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},o.prototype.redSub=function(u){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},o.prototype.redISub=function(u){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},o.prototype.redShl=function(u){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},o.prototype.redMul=function(u){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},o.prototype.redIMul=function(u){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(u){return n(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var T={k256:null,p224:null,p192:null,p25519:null};function P(u,g){this.name=u,this.p=new o(g,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}i(P,"y"),P.prototype._tmp=function(){var u=new o(null);return u.words=Array(Math.ceil(this.n/13)),u},P.prototype.ireduce=function(u){var g=u,l;do this.split(g,this.tmp),g=this.imulK(g),g=g.iadd(this.tmp),l=g.bitLength();while(l>this.n);var m=l<this.n?-1:g.ucmp(this.p);return m===0?(g.words[0]=0,g.length=1):m>0?g.isub(this.p):g.strip!==void 0?g.strip():g._strip(),g},P.prototype.split=function(u,g){u.iushrn(this.n,0,g)},P.prototype.imulK=function(u){return u.imul(this.k)};function z(){P.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(z,"c"),s(z,P),z.prototype.split=function(u,g){for(var l=4194303,m=Math.min(u.length,9),w=0;w<m;w++)g.words[w]=u.words[w];if(g.length=m,u.length<=9){u.words[0]=0,u.length=1;return}var M=u.words[9];for(g.words[g.length++]=M&l,w=10;w<u.length;w++){var A=u.words[w]|0;u.words[w-10]=(A&l)<<4|M>>>22,M=A}M>>>=22,u.words[w-10]=M,M===0&&u.length>10?u.length-=10:u.length-=9},z.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var g=0,l=0;l<u.length;l++){var m=u.words[l]|0;g+=m*977,u.words[l]=g&67108863,g=m*64+(g/67108864|0)}return u.words[u.length-1]===0&&(u.length--,u.words[u.length-1]===0&&u.length--),u};function V(){P.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(V,"m"),s(V,P);function Z(){P.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(Z,"q$"),s(Z,P);function ee(){P.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(ee,"e"),s(ee,P),ee.prototype.imulK=function(u){for(var g=0,l=0;l<u.length;l++){var m=(u.words[l]|0)*19+g,w=m&67108863;m>>>=26,u.words[l]=w,g=m}return g!==0&&(u.words[u.length++]=g),u},o._prime=function(u){if(T[u])return T[u];var g;if(u==="k256")g=new z;else if(u==="p224")g=new V;else if(u==="p192")g=new Z;else if(u==="p25519")g=new ee;else throw Error("Unknown prime "+u);return T[u]=g,g};function $(u){if(typeof u=="string"){var g=o._prime(u);this.m=g.p,this.prime=g}else n(u.gtn(1),"modulus must be greater than 1"),this.m=u,this.prime=null}i($,"l"),$.prototype._verify1=function(u){n(u.negative===0,"red works only with positives"),n(u.red,"red works only with red numbers")},$.prototype._verify2=function(u,g){n((u.negative|g.negative)===0,"red works only with positives"),n(u.red&&u.red===g.red,"red works only with red numbers")},$.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):u.umod(this.m)._forceRed(this)},$.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},$.prototype.add=function(u,g){this._verify2(u,g);var l=u.add(g);return l.cmp(this.m)>=0&&l.isub(this.m),l._forceRed(this)},$.prototype.iadd=function(u,g){this._verify2(u,g);var l=u.iadd(g);return l.cmp(this.m)>=0&&l.isub(this.m),l},$.prototype.sub=function(u,g){this._verify2(u,g);var l=u.sub(g);return l.cmpn(0)<0&&l.iadd(this.m),l._forceRed(this)},$.prototype.isub=function(u,g){this._verify2(u,g);var l=u.isub(g);return l.cmpn(0)<0&&l.iadd(this.m),l},$.prototype.shl=function(u,g){return this._verify1(u),this.imod(u.ushln(g))},$.prototype.imul=function(u,g){return this._verify2(u,g),this.imod(u.imul(g))},$.prototype.mul=function(u,g){return this._verify2(u,g),this.imod(u.mul(g))},$.prototype.isqr=function(u){return this.imul(u,u.clone())},$.prototype.sqr=function(u){return this.mul(u,u)},$.prototype.sqrt=function(u){if(u.isZero())return u.clone();var g=this.m.andln(3);if(n(g%2===1),g===3){var l=this.m.add(new o(1)).iushrn(2);return this.pow(u,l)}for(var m=this.m.subn(1),w=0;!m.isZero()&&m.andln(1)===0;)w++,m.iushrn(1);n(!m.isZero());var M=new o(1).toRed(this),A=M.redNeg(),S=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new o(2*f*f).toRed(this);this.pow(f,S).cmp(A)!==0;)f.redIAdd(A);for(var _=this.pow(f,m),E=this.pow(u,m.addn(1).iushrn(1)),I=this.pow(u,m),D=w;I.cmp(M)!==0;){for(var L=I,U=0;L.cmp(M)!==0;U++)L=L.redSqr();n(U<D);var B=this.pow(_,new o(1).iushln(D-U-1));E=E.redMul(B),_=B.redSqr(),I=I.redMul(_),D=U}return E},$.prototype.invm=function(u){var g=u._invmp(this.m);return g.negative!==0?(g.negative=0,this.imod(g).redNeg()):this.imod(g)},$.prototype.pow=function(u,g){if(g.isZero())return new o(1).toRed(this);if(g.cmpn(1)===0)return u.clone();var l=4,m=Array(1<<l);m[0]=new o(1).toRed(this),m[1]=u;for(var w=2;w<m.length;w++)m[w]=this.mul(m[w-1],u);var M=m[0],A=0,S=0,f=g.bitLength()%26;for(f===0&&(f=26),w=g.length-1;w>=0;w--){for(var _=g.words[w],E=f-1;E>=0;E--){var I=_>>E&1;if(M!==m[0]&&(M=this.sqr(M)),I===0&&A===0){S=0;continue}A<<=1,A|=I,S++,!(S!==l&&(w!==0||E!==0))&&(M=this.mul(M,m[A]),S=0,A=0)}f=26}return M},$.prototype.convertTo=function(u){var g=u.umod(this.m);return g===u?g.clone():g},$.prototype.convertFrom=function(u){var g=u.clone();return g.red=null,g},o.mont=function(u){return new F(u)};function F(u){$.call(this,u),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(F,"r"),s(F,$),F.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},F.prototype.convertFrom=function(u){var g=this.imod(u.mul(this.rinv));return g.red=null,g},F.prototype.imul=function(u,g){if(u.isZero()||g.isZero())return u.words[0]=0,u.length=1,u;var l=u.imul(g),m=l.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=l.isub(m).iushrn(this.shift),M=w;return w.cmp(this.m)>=0?M=w.isub(this.m):w.cmpn(0)<0&&(M=w.iadd(this.m)),M._forceRed(this)},F.prototype.mul=function(u,g){if(u.isZero()||g.isZero())return new o(0)._forceRed(this);var l=u.mul(g),m=l.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=l.isub(m).iushrn(this.shift),M=w;return w.cmp(this.m)>=0?M=w.isub(this.m):w.cmpn(0)<0&&(M=w.iadd(this.m)),M._forceRed(this)},F.prototype.invm=function(u){var g=this.imod(u._invmp(this.m).mul(this.r2));return g._forceRed(this)}})(typeof t>"u"||t,e)}),yp=at((e,t)=>{var r=Wl(),a=Rr().Buffer;function n(s,o){return a.from(s.toRed(r.mont(o.modulus)).redPow(new r(o.publicExponent)).fromRed().toArray())}i(n,"_"),t.exports=n}),w4=at((e,t)=>{(function(r,a){function n(l,m){if(!l)throw Error(m||"Assertion failed")}i(n,"_");function s(l,m){l.super_=m;var w=i(function(){},"Z");w.prototype=m.prototype,l.prototype=new w,l.prototype.constructor=l}i(s,"O");function o(l,m,w){if(o.isBN(l))return l;this.negative=0,this.words=null,this.length=0,this.red=null,l!==null&&((m==="le"||m==="be")&&(w=m,m=10),this._init(l||0,m||10,w||"be"))}i(o,"j"),typeof r=="object"?r.exports=o:a.BN=o,o.BN=o,o.wordSize=26;var h;try{typeof window<"u"&&typeof window.Buffer<"u"?h=window.Buffer:h=(Mr(),$t(wr)).Buffer}catch{}o.isBN=function(l){return l instanceof o?!0:l!==null&&typeof l=="object"&&l.constructor.wordSize===o.wordSize&&Array.isArray(l.words)},o.max=function(l,m){return l.cmp(m)>0?l:m},o.min=function(l,m){return l.cmp(m)<0?l:m},o.prototype._init=function(l,m,w){if(typeof l=="number")return this._initNumber(l,m,w);if(typeof l=="object")return this._initArray(l,m,w);m==="hex"&&(m=16),n(m===(m|0)&&m>=2&&m<=36),l=l.toString().replace(/\s+/g,"");var M=0;l[0]==="-"&&(M++,this.negative=1),M<l.length&&(m===16?this._parseHex(l,M,w):(this._parseBase(l,m,M),w==="le"&&this._initArray(this.toArray(),m,w)))},o.prototype._initNumber=function(l,m,w){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[l&67108863],this.length=1):l<4503599627370496?(this.words=[l&67108863,l/67108864&67108863],this.length=2):(n(l<9007199254740992),this.words=[l&67108863,l/67108864&67108863,1],this.length=3),w==="le"&&this._initArray(this.toArray(),m,w)},o.prototype._initArray=function(l,m,w){if(n(typeof l.length=="number"),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=Array(this.length);for(var M=0;M<this.length;M++)this.words[M]=0;var A,S,f=0;if(w==="be")for(M=l.length-1,A=0;M>=0;M-=3)S=l[M]|l[M-1]<<8|l[M-2]<<16,this.words[A]|=S<<f&67108863,this.words[A+1]=S>>>26-f&67108863,f+=24,f>=26&&(f-=26,A++);else if(w==="le")for(M=0,A=0;M<l.length;M+=3)S=l[M]|l[M+1]<<8|l[M+2]<<16,this.words[A]|=S<<f&67108863,this.words[A+1]=S>>>26-f&67108863,f+=24,f>=26&&(f-=26,A++);return this._strip()};function p(l,m){var w=l.charCodeAt(m);if(w>=48&&w<=57)return w-48;if(w>=65&&w<=70)return w-55;if(w>=97&&w<=102)return w-87;n(!1,"Invalid character in "+l)}i(p,"J");function v(l,m,w){var M=p(l,w);return w-1>=m&&(M|=p(l,w-1)<<4),M}i(v,"w"),o.prototype._parseHex=function(l,m,w){this.length=Math.ceil((l.length-m)/6),this.words=Array(this.length);for(var M=0;M<this.length;M++)this.words[M]=0;var A=0,S=0,f;if(w==="be")for(M=l.length-1;M>=m;M-=2)f=v(l,m,M)<<A,this.words[S]|=f&67108863,A>=18?(A-=18,S+=1,this.words[S]|=f>>>26):A+=8;else{var _=l.length-m;for(M=_%2===0?m+1:m;M<l.length;M+=2)f=v(l,m,M)<<A,this.words[S]|=f&67108863,A>=18?(A-=18,S+=1,this.words[S]|=f>>>26):A+=8}this._strip()};function c(l,m,w,M){for(var A=0,S=0,f=Math.min(l.length,w),_=m;_<f;_++){var E=l.charCodeAt(_)-48;A*=M,E>=49?S=E-49+10:E>=17?S=E-17+10:S=E,n(E>=0&&S<M,"Invalid character"),A+=S}return A}i(c,"G"),o.prototype._parseBase=function(l,m,w){this.words=[0],this.length=1;for(var M=0,A=1;A<=67108863;A*=m)M++;M--,A=A/m|0;for(var S=l.length-w,f=S%M,_=Math.min(S,S-f)+w,E=0,I=w;I<_;I+=M)E=c(l,I,I+M,m),this.imuln(A),this.words[0]+E<67108864?this.words[0]+=E:this._iaddn(E);if(f!==0){var D=1;for(E=c(l,I,l.length,m),I=0;I<f;I++)D*=m;this.imuln(D),this.words[0]+E<67108864?this.words[0]+=E:this._iaddn(E)}this._strip()},o.prototype.copy=function(l){l.words=Array(this.length);for(var m=0;m<this.length;m++)l.words[m]=this.words[m];l.length=this.length,l.negative=this.negative,l.red=this.red};function d(l,m){l.words=m.words,l.length=m.length,l.negative=m.negative,l.red=m.red}if(i(d,"f"),o.prototype._move=function(l){d(l,this)},o.prototype.clone=function(){var l=new o(null);return this.copy(l),l},o.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=y}catch{o.prototype.inspect=y}else o.prototype.inspect=y;function y(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}i(y,"A");var b=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],x=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],k=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(l,m){l=l||10,m=m|0||1;var w;if(l===16||l==="hex"){w="";for(var M=0,A=0,S=0;S<this.length;S++){var f=this.words[S],_=((f<<M|A)&16777215).toString(16);A=f>>>24-M&16777215,M+=2,M>=26&&(M-=26,S--),A!==0||S!==this.length-1?w=b[6-_.length]+_+w:w=_+w}for(A!==0&&(w=A.toString(16)+w);w.length%m!==0;)w="0"+w;return this.negative!==0&&(w="-"+w),w}if(l===(l|0)&&l>=2&&l<=36){var E=x[l],I=k[l];w="";var D=this.clone();for(D.negative=0;!D.isZero();){var L=D.modrn(I).toString(l);D=D.idivn(I),D.isZero()?w=L+w:w=b[E-L.length]+L+w}for(this.isZero()&&(w="0"+w);w.length%m!==0;)w="0"+w;return this.negative!==0&&(w="-"+w),w}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var l=this.words[0];return this.length===2?l+=this.words[1]*67108864:this.length===3&&this.words[2]===1?l+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-l:l},o.prototype.toJSON=function(){return this.toString(16,2)},h&&(o.prototype.toBuffer=function(l,m){return this.toArrayLike(h,l,m)}),o.prototype.toArray=function(l,m){return this.toArrayLike(Array,l,m)};var N=i(function(l,m){return l.allocUnsafe?l.allocUnsafe(m):new l(m)},"R");o.prototype.toArrayLike=function(l,m,w){this._strip();var M=this.byteLength(),A=w||Math.max(1,M);n(M<=A,"byte array longer than desired length"),n(A>0,"Requested array length <= 0");var S=N(l,A),f=m==="le"?"LE":"BE";return this["_toArrayLike"+f](S,M),S},o.prototype._toArrayLikeLE=function(l,m){for(var w=0,M=0,A=0,S=0;A<this.length;A++){var f=this.words[A]<<S|M;l[w++]=f&255,w<l.length&&(l[w++]=f>>8&255),w<l.length&&(l[w++]=f>>16&255),S===6?(w<l.length&&(l[w++]=f>>24&255),M=0,S=0):(M=f>>>24,S+=2)}if(w<l.length)for(l[w++]=M;w<l.length;)l[w++]=0},o.prototype._toArrayLikeBE=function(l,m){for(var w=l.length-1,M=0,A=0,S=0;A<this.length;A++){var f=this.words[A]<<S|M;l[w--]=f&255,w>=0&&(l[w--]=f>>8&255),w>=0&&(l[w--]=f>>16&255),S===6?(w>=0&&(l[w--]=f>>24&255),M=0,S=0):(M=f>>>24,S+=2)}if(w>=0)for(l[w--]=M;w>=0;)l[w--]=0},Math.clz32?o.prototype._countBits=function(l){return 32-Math.clz32(l)}:o.prototype._countBits=function(l){var m=l,w=0;return m>=4096&&(w+=13,m>>>=13),m>=64&&(w+=7,m>>>=7),m>=8&&(w+=4,m>>>=4),m>=2&&(w+=2,m>>>=2),w+m},o.prototype._zeroBits=function(l){if(l===0)return 26;var m=l,w=0;return(m&8191)===0&&(w+=13,m>>>=13),(m&127)===0&&(w+=7,m>>>=7),(m&15)===0&&(w+=4,m>>>=4),(m&3)===0&&(w+=2,m>>>=2),(m&1)===0&&w++,w},o.prototype.bitLength=function(){var l=this.words[this.length-1],m=this._countBits(l);return(this.length-1)*26+m};function C(l){for(var m=Array(l.bitLength()),w=0;w<m.length;w++){var M=w/26|0,A=w%26;m[w]=l.words[M]>>>A&1}return m}i(C,"I"),o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,m=0;m<this.length;m++){var w=this._zeroBits(this.words[m]);if(l+=w,w!==26)break}return l},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(l){return this.negative!==0?this.abs().inotn(l).iaddn(1):this.clone()},o.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var m=0;m<l.length;m++)this.words[m]=this.words[m]|l.words[m];return this._strip()},o.prototype.ior=function(l){return n((this.negative|l.negative)===0),this.iuor(l)},o.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},o.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},o.prototype.iuand=function(l){var m;this.length>l.length?m=l:m=this;for(var w=0;w<m.length;w++)this.words[w]=this.words[w]&l.words[w];return this.length=m.length,this._strip()},o.prototype.iand=function(l){return n((this.negative|l.negative)===0),this.iuand(l)},o.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},o.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},o.prototype.iuxor=function(l){var m,w;this.length>l.length?(m=this,w=l):(m=l,w=this);for(var M=0;M<w.length;M++)this.words[M]=m.words[M]^w.words[M];if(this!==m)for(;M<m.length;M++)this.words[M]=m.words[M];return this.length=m.length,this._strip()},o.prototype.ixor=function(l){return n((this.negative|l.negative)===0),this.iuxor(l)},o.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},o.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},o.prototype.inotn=function(l){n(typeof l=="number"&&l>=0);var m=Math.ceil(l/26)|0,w=l%26;this._expand(m),w>0&&m--;for(var M=0;M<m;M++)this.words[M]=~this.words[M]&67108863;return w>0&&(this.words[M]=~this.words[M]&67108863>>26-w),this._strip()},o.prototype.notn=function(l){return this.clone().inotn(l)},o.prototype.setn=function(l,m){n(typeof l=="number"&&l>=0);var w=l/26|0,M=l%26;return this._expand(w+1),m?this.words[w]=this.words[w]|1<<M:this.words[w]=this.words[w]&~(1<<M),this._strip()},o.prototype.iadd=function(l){var m;if(this.negative!==0&&l.negative===0)return this.negative=0,m=this.isub(l),this.negative^=1,this._normSign();if(this.negative===0&&l.negative!==0)return l.negative=0,m=this.isub(l),l.negative=1,m._normSign();var w,M;this.length>l.length?(w=this,M=l):(w=l,M=this);for(var A=0,S=0;S<M.length;S++)m=(w.words[S]|0)+(M.words[S]|0)+A,this.words[S]=m&67108863,A=m>>>26;for(;A!==0&&S<w.length;S++)m=(w.words[S]|0)+A,this.words[S]=m&67108863,A=m>>>26;if(this.length=w.length,A!==0)this.words[this.length]=A,this.length++;else if(w!==this)for(;S<w.length;S++)this.words[S]=w.words[S];return this},o.prototype.add=function(l){var m;return l.negative!==0&&this.negative===0?(l.negative=0,m=this.sub(l),l.negative^=1,m):l.negative===0&&this.negative!==0?(this.negative=0,m=l.sub(this),this.negative=1,m):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},o.prototype.isub=function(l){if(l.negative!==0){l.negative=0;var m=this.iadd(l);return l.negative=1,m._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var w=this.cmp(l);if(w===0)return this.negative=0,this.length=1,this.words[0]=0,this;var M,A;w>0?(M=this,A=l):(M=l,A=this);for(var S=0,f=0;f<A.length;f++)m=(M.words[f]|0)-(A.words[f]|0)+S,S=m>>26,this.words[f]=m&67108863;for(;S!==0&&f<M.length;f++)m=(M.words[f]|0)+S,S=m>>26,this.words[f]=m&67108863;if(S===0&&f<M.length&&M!==this)for(;f<M.length;f++)this.words[f]=M.words[f];return this.length=Math.max(this.length,f),M!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(l){return this.clone().isub(l)};function R(l,m,w){w.negative=m.negative^l.negative;var M=l.length+m.length|0;w.length=M,M=M-1|0;var A=l.words[0]|0,S=m.words[0]|0,f=A*S,_=f&67108863,E=f/67108864|0;w.words[0]=_;for(var I=1;I<M;I++){for(var D=E>>>26,L=E&67108863,U=Math.min(I,m.length-1),B=Math.max(0,I-l.length+1);B<=U;B++){var G=I-B|0;A=l.words[G]|0,S=m.words[B]|0,f=A*S+L,D+=f/67108864|0,L=f&67108863}w.words[I]=L|0,E=D|0}return E!==0?w.words[I]=E|0:w.length--,w._strip()}i(R,"D");var O=i(function(l,m,w){var M=l.words,A=m.words,S=w.words,f=0,_,E,I,D=M[0]|0,L=D&8191,U=D>>>13,B=M[1]|0,G=B&8191,H=B>>>13,K=M[2]|0,_e=K&8191,ae=K>>>13,se=M[3]|0,ye=se&8191,q=se>>>13,re=M[4]|0,X=re&8191,W=re>>>13,le=M[5]|0,ke=le&8191,pe=le>>>13,fe=M[6]|0,Q=fe&8191,Y=fe>>>13,te=M[7]|0,he=te&8191,oe=te>>>13,ue=M[8]|0,ze=ue&8191,we=ue>>>13,Be=M[9]|0,We=Be&8191,ve=Be>>>13,Ue=A[0]|0,ce=Ue&8191,be=Ue>>>13,Te=A[1]|0,Re=Te&8191,Ae=Te>>>13,$e=A[2]|0,Ye=$e&8191,Ne=$e>>>13,Ee=A[3]|0,Pe=Ee&8191,Se=Ee>>>13,Ze=A[4]|0,Ke=Ze&8191,ie=Ze>>>13,me=A[5]|0,Ce=me&8191,xe=me>>>13,Oe=A[6]|0,He=Oe&8191,ne=Oe>>>13,je=A[7]|0,Ge=je&8191,ge=je>>>13,Je=A[8]|0,tt=Je&8191,De=Je>>>13,Qe=A[9]|0,Ie=Qe&8191,Fe=Qe>>>13;w.negative=l.negative^m.negative,w.length=19,_=Math.imul(L,ce),E=Math.imul(L,be),E=E+Math.imul(U,ce)|0,I=Math.imul(U,be);var lt=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(lt>>>26)|0,lt&=67108863,_=Math.imul(G,ce),E=Math.imul(G,be),E=E+Math.imul(H,ce)|0,I=Math.imul(H,be),_=_+Math.imul(L,Re)|0,E=E+Math.imul(L,Ae)|0,E=E+Math.imul(U,Re)|0,I=I+Math.imul(U,Ae)|0;var yt=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(yt>>>26)|0,yt&=67108863,_=Math.imul(_e,ce),E=Math.imul(_e,be),E=E+Math.imul(ae,ce)|0,I=Math.imul(ae,be),_=_+Math.imul(G,Re)|0,E=E+Math.imul(G,Ae)|0,E=E+Math.imul(H,Re)|0,I=I+Math.imul(H,Ae)|0,_=_+Math.imul(L,Ye)|0,E=E+Math.imul(L,Ne)|0,E=E+Math.imul(U,Ye)|0,I=I+Math.imul(U,Ne)|0;var ht=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(ht>>>26)|0,ht&=67108863,_=Math.imul(ye,ce),E=Math.imul(ye,be),E=E+Math.imul(q,ce)|0,I=Math.imul(q,be),_=_+Math.imul(_e,Re)|0,E=E+Math.imul(_e,Ae)|0,E=E+Math.imul(ae,Re)|0,I=I+Math.imul(ae,Ae)|0,_=_+Math.imul(G,Ye)|0,E=E+Math.imul(G,Ne)|0,E=E+Math.imul(H,Ye)|0,I=I+Math.imul(H,Ne)|0,_=_+Math.imul(L,Pe)|0,E=E+Math.imul(L,Se)|0,E=E+Math.imul(U,Pe)|0,I=I+Math.imul(U,Se)|0;var Mt=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,_=Math.imul(X,ce),E=Math.imul(X,be),E=E+Math.imul(W,ce)|0,I=Math.imul(W,be),_=_+Math.imul(ye,Re)|0,E=E+Math.imul(ye,Ae)|0,E=E+Math.imul(q,Re)|0,I=I+Math.imul(q,Ae)|0,_=_+Math.imul(_e,Ye)|0,E=E+Math.imul(_e,Ne)|0,E=E+Math.imul(ae,Ye)|0,I=I+Math.imul(ae,Ne)|0,_=_+Math.imul(G,Pe)|0,E=E+Math.imul(G,Se)|0,E=E+Math.imul(H,Pe)|0,I=I+Math.imul(H,Se)|0,_=_+Math.imul(L,Ke)|0,E=E+Math.imul(L,ie)|0,E=E+Math.imul(U,Ke)|0,I=I+Math.imul(U,ie)|0;var Bt=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,_=Math.imul(ke,ce),E=Math.imul(ke,be),E=E+Math.imul(pe,ce)|0,I=Math.imul(pe,be),_=_+Math.imul(X,Re)|0,E=E+Math.imul(X,Ae)|0,E=E+Math.imul(W,Re)|0,I=I+Math.imul(W,Ae)|0,_=_+Math.imul(ye,Ye)|0,E=E+Math.imul(ye,Ne)|0,E=E+Math.imul(q,Ye)|0,I=I+Math.imul(q,Ne)|0,_=_+Math.imul(_e,Pe)|0,E=E+Math.imul(_e,Se)|0,E=E+Math.imul(ae,Pe)|0,I=I+Math.imul(ae,Se)|0,_=_+Math.imul(G,Ke)|0,E=E+Math.imul(G,ie)|0,E=E+Math.imul(H,Ke)|0,I=I+Math.imul(H,ie)|0,_=_+Math.imul(L,Ce)|0,E=E+Math.imul(L,xe)|0,E=E+Math.imul(U,Ce)|0,I=I+Math.imul(U,xe)|0;var Et=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Et>>>26)|0,Et&=67108863,_=Math.imul(Q,ce),E=Math.imul(Q,be),E=E+Math.imul(Y,ce)|0,I=Math.imul(Y,be),_=_+Math.imul(ke,Re)|0,E=E+Math.imul(ke,Ae)|0,E=E+Math.imul(pe,Re)|0,I=I+Math.imul(pe,Ae)|0,_=_+Math.imul(X,Ye)|0,E=E+Math.imul(X,Ne)|0,E=E+Math.imul(W,Ye)|0,I=I+Math.imul(W,Ne)|0,_=_+Math.imul(ye,Pe)|0,E=E+Math.imul(ye,Se)|0,E=E+Math.imul(q,Pe)|0,I=I+Math.imul(q,Se)|0,_=_+Math.imul(_e,Ke)|0,E=E+Math.imul(_e,ie)|0,E=E+Math.imul(ae,Ke)|0,I=I+Math.imul(ae,ie)|0,_=_+Math.imul(G,Ce)|0,E=E+Math.imul(G,xe)|0,E=E+Math.imul(H,Ce)|0,I=I+Math.imul(H,xe)|0,_=_+Math.imul(L,He)|0,E=E+Math.imul(L,ne)|0,E=E+Math.imul(U,He)|0,I=I+Math.imul(U,ne)|0;var _t=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(_t>>>26)|0,_t&=67108863,_=Math.imul(he,ce),E=Math.imul(he,be),E=E+Math.imul(oe,ce)|0,I=Math.imul(oe,be),_=_+Math.imul(Q,Re)|0,E=E+Math.imul(Q,Ae)|0,E=E+Math.imul(Y,Re)|0,I=I+Math.imul(Y,Ae)|0,_=_+Math.imul(ke,Ye)|0,E=E+Math.imul(ke,Ne)|0,E=E+Math.imul(pe,Ye)|0,I=I+Math.imul(pe,Ne)|0,_=_+Math.imul(X,Pe)|0,E=E+Math.imul(X,Se)|0,E=E+Math.imul(W,Pe)|0,I=I+Math.imul(W,Se)|0,_=_+Math.imul(ye,Ke)|0,E=E+Math.imul(ye,ie)|0,E=E+Math.imul(q,Ke)|0,I=I+Math.imul(q,ie)|0,_=_+Math.imul(_e,Ce)|0,E=E+Math.imul(_e,xe)|0,E=E+Math.imul(ae,Ce)|0,I=I+Math.imul(ae,xe)|0,_=_+Math.imul(G,He)|0,E=E+Math.imul(G,ne)|0,E=E+Math.imul(H,He)|0,I=I+Math.imul(H,ne)|0,_=_+Math.imul(L,Ge)|0,E=E+Math.imul(L,ge)|0,E=E+Math.imul(U,Ge)|0,I=I+Math.imul(U,ge)|0;var Ft=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,_=Math.imul(ze,ce),E=Math.imul(ze,be),E=E+Math.imul(we,ce)|0,I=Math.imul(we,be),_=_+Math.imul(he,Re)|0,E=E+Math.imul(he,Ae)|0,E=E+Math.imul(oe,Re)|0,I=I+Math.imul(oe,Ae)|0,_=_+Math.imul(Q,Ye)|0,E=E+Math.imul(Q,Ne)|0,E=E+Math.imul(Y,Ye)|0,I=I+Math.imul(Y,Ne)|0,_=_+Math.imul(ke,Pe)|0,E=E+Math.imul(ke,Se)|0,E=E+Math.imul(pe,Pe)|0,I=I+Math.imul(pe,Se)|0,_=_+Math.imul(X,Ke)|0,E=E+Math.imul(X,ie)|0,E=E+Math.imul(W,Ke)|0,I=I+Math.imul(W,ie)|0,_=_+Math.imul(ye,Ce)|0,E=E+Math.imul(ye,xe)|0,E=E+Math.imul(q,Ce)|0,I=I+Math.imul(q,xe)|0,_=_+Math.imul(_e,He)|0,E=E+Math.imul(_e,ne)|0,E=E+Math.imul(ae,He)|0,I=I+Math.imul(ae,ne)|0,_=_+Math.imul(G,Ge)|0,E=E+Math.imul(G,ge)|0,E=E+Math.imul(H,Ge)|0,I=I+Math.imul(H,ge)|0,_=_+Math.imul(L,tt)|0,E=E+Math.imul(L,De)|0,E=E+Math.imul(U,tt)|0,I=I+Math.imul(U,De)|0;var Vt=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,_=Math.imul(We,ce),E=Math.imul(We,be),E=E+Math.imul(ve,ce)|0,I=Math.imul(ve,be),_=_+Math.imul(ze,Re)|0,E=E+Math.imul(ze,Ae)|0,E=E+Math.imul(we,Re)|0,I=I+Math.imul(we,Ae)|0,_=_+Math.imul(he,Ye)|0,E=E+Math.imul(he,Ne)|0,E=E+Math.imul(oe,Ye)|0,I=I+Math.imul(oe,Ne)|0,_=_+Math.imul(Q,Pe)|0,E=E+Math.imul(Q,Se)|0,E=E+Math.imul(Y,Pe)|0,I=I+Math.imul(Y,Se)|0,_=_+Math.imul(ke,Ke)|0,E=E+Math.imul(ke,ie)|0,E=E+Math.imul(pe,Ke)|0,I=I+Math.imul(pe,ie)|0,_=_+Math.imul(X,Ce)|0,E=E+Math.imul(X,xe)|0,E=E+Math.imul(W,Ce)|0,I=I+Math.imul(W,xe)|0,_=_+Math.imul(ye,He)|0,E=E+Math.imul(ye,ne)|0,E=E+Math.imul(q,He)|0,I=I+Math.imul(q,ne)|0,_=_+Math.imul(_e,Ge)|0,E=E+Math.imul(_e,ge)|0,E=E+Math.imul(ae,Ge)|0,I=I+Math.imul(ae,ge)|0,_=_+Math.imul(G,tt)|0,E=E+Math.imul(G,De)|0,E=E+Math.imul(H,tt)|0,I=I+Math.imul(H,De)|0,_=_+Math.imul(L,Ie)|0,E=E+Math.imul(L,Fe)|0,E=E+Math.imul(U,Ie)|0,I=I+Math.imul(U,Fe)|0;var Tt=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,_=Math.imul(We,Re),E=Math.imul(We,Ae),E=E+Math.imul(ve,Re)|0,I=Math.imul(ve,Ae),_=_+Math.imul(ze,Ye)|0,E=E+Math.imul(ze,Ne)|0,E=E+Math.imul(we,Ye)|0,I=I+Math.imul(we,Ne)|0,_=_+Math.imul(he,Pe)|0,E=E+Math.imul(he,Se)|0,E=E+Math.imul(oe,Pe)|0,I=I+Math.imul(oe,Se)|0,_=_+Math.imul(Q,Ke)|0,E=E+Math.imul(Q,ie)|0,E=E+Math.imul(Y,Ke)|0,I=I+Math.imul(Y,ie)|0,_=_+Math.imul(ke,Ce)|0,E=E+Math.imul(ke,xe)|0,E=E+Math.imul(pe,Ce)|0,I=I+Math.imul(pe,xe)|0,_=_+Math.imul(X,He)|0,E=E+Math.imul(X,ne)|0,E=E+Math.imul(W,He)|0,I=I+Math.imul(W,ne)|0,_=_+Math.imul(ye,Ge)|0,E=E+Math.imul(ye,ge)|0,E=E+Math.imul(q,Ge)|0,I=I+Math.imul(q,ge)|0,_=_+Math.imul(_e,tt)|0,E=E+Math.imul(_e,De)|0,E=E+Math.imul(ae,tt)|0,I=I+Math.imul(ae,De)|0,_=_+Math.imul(G,Ie)|0,E=E+Math.imul(G,Fe)|0,E=E+Math.imul(H,Ie)|0,I=I+Math.imul(H,Fe)|0;var zt=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(zt>>>26)|0,zt&=67108863,_=Math.imul(We,Ye),E=Math.imul(We,Ne),E=E+Math.imul(ve,Ye)|0,I=Math.imul(ve,Ne),_=_+Math.imul(ze,Pe)|0,E=E+Math.imul(ze,Se)|0,E=E+Math.imul(we,Pe)|0,I=I+Math.imul(we,Se)|0,_=_+Math.imul(he,Ke)|0,E=E+Math.imul(he,ie)|0,E=E+Math.imul(oe,Ke)|0,I=I+Math.imul(oe,ie)|0,_=_+Math.imul(Q,Ce)|0,E=E+Math.imul(Q,xe)|0,E=E+Math.imul(Y,Ce)|0,I=I+Math.imul(Y,xe)|0,_=_+Math.imul(ke,He)|0,E=E+Math.imul(ke,ne)|0,E=E+Math.imul(pe,He)|0,I=I+Math.imul(pe,ne)|0,_=_+Math.imul(X,Ge)|0,E=E+Math.imul(X,ge)|0,E=E+Math.imul(W,Ge)|0,I=I+Math.imul(W,ge)|0,_=_+Math.imul(ye,tt)|0,E=E+Math.imul(ye,De)|0,E=E+Math.imul(q,tt)|0,I=I+Math.imul(q,De)|0,_=_+Math.imul(_e,Ie)|0,E=E+Math.imul(_e,Fe)|0,E=E+Math.imul(ae,Ie)|0,I=I+Math.imul(ae,Fe)|0;var Nt=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,_=Math.imul(We,Pe),E=Math.imul(We,Se),E=E+Math.imul(ve,Pe)|0,I=Math.imul(ve,Se),_=_+Math.imul(ze,Ke)|0,E=E+Math.imul(ze,ie)|0,E=E+Math.imul(we,Ke)|0,I=I+Math.imul(we,ie)|0,_=_+Math.imul(he,Ce)|0,E=E+Math.imul(he,xe)|0,E=E+Math.imul(oe,Ce)|0,I=I+Math.imul(oe,xe)|0,_=_+Math.imul(Q,He)|0,E=E+Math.imul(Q,ne)|0,E=E+Math.imul(Y,He)|0,I=I+Math.imul(Y,ne)|0,_=_+Math.imul(ke,Ge)|0,E=E+Math.imul(ke,ge)|0,E=E+Math.imul(pe,Ge)|0,I=I+Math.imul(pe,ge)|0,_=_+Math.imul(X,tt)|0,E=E+Math.imul(X,De)|0,E=E+Math.imul(W,tt)|0,I=I+Math.imul(W,De)|0,_=_+Math.imul(ye,Ie)|0,E=E+Math.imul(ye,Fe)|0,E=E+Math.imul(q,Ie)|0,I=I+Math.imul(q,Fe)|0;var Pt=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,_=Math.imul(We,Ke),E=Math.imul(We,ie),E=E+Math.imul(ve,Ke)|0,I=Math.imul(ve,ie),_=_+Math.imul(ze,Ce)|0,E=E+Math.imul(ze,xe)|0,E=E+Math.imul(we,Ce)|0,I=I+Math.imul(we,xe)|0,_=_+Math.imul(he,He)|0,E=E+Math.imul(he,ne)|0,E=E+Math.imul(oe,He)|0,I=I+Math.imul(oe,ne)|0,_=_+Math.imul(Q,Ge)|0,E=E+Math.imul(Q,ge)|0,E=E+Math.imul(Y,Ge)|0,I=I+Math.imul(Y,ge)|0,_=_+Math.imul(ke,tt)|0,E=E+Math.imul(ke,De)|0,E=E+Math.imul(pe,tt)|0,I=I+Math.imul(pe,De)|0,_=_+Math.imul(X,Ie)|0,E=E+Math.imul(X,Fe)|0,E=E+Math.imul(W,Ie)|0,I=I+Math.imul(W,Fe)|0;var Ut=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,_=Math.imul(We,Ce),E=Math.imul(We,xe),E=E+Math.imul(ve,Ce)|0,I=Math.imul(ve,xe),_=_+Math.imul(ze,He)|0,E=E+Math.imul(ze,ne)|0,E=E+Math.imul(we,He)|0,I=I+Math.imul(we,ne)|0,_=_+Math.imul(he,Ge)|0,E=E+Math.imul(he,ge)|0,E=E+Math.imul(oe,Ge)|0,I=I+Math.imul(oe,ge)|0,_=_+Math.imul(Q,tt)|0,E=E+Math.imul(Q,De)|0,E=E+Math.imul(Y,tt)|0,I=I+Math.imul(Y,De)|0,_=_+Math.imul(ke,Ie)|0,E=E+Math.imul(ke,Fe)|0,E=E+Math.imul(pe,Ie)|0,I=I+Math.imul(pe,Fe)|0;var Zt=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,_=Math.imul(We,He),E=Math.imul(We,ne),E=E+Math.imul(ve,He)|0,I=Math.imul(ve,ne),_=_+Math.imul(ze,Ge)|0,E=E+Math.imul(ze,ge)|0,E=E+Math.imul(we,Ge)|0,I=I+Math.imul(we,ge)|0,_=_+Math.imul(he,tt)|0,E=E+Math.imul(he,De)|0,E=E+Math.imul(oe,tt)|0,I=I+Math.imul(oe,De)|0,_=_+Math.imul(Q,Ie)|0,E=E+Math.imul(Q,Fe)|0,E=E+Math.imul(Y,Ie)|0,I=I+Math.imul(Y,Fe)|0;var Ht=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,_=Math.imul(We,Ge),E=Math.imul(We,ge),E=E+Math.imul(ve,Ge)|0,I=Math.imul(ve,ge),_=_+Math.imul(ze,tt)|0,E=E+Math.imul(ze,De)|0,E=E+Math.imul(we,tt)|0,I=I+Math.imul(we,De)|0,_=_+Math.imul(he,Ie)|0,E=E+Math.imul(he,Fe)|0,E=E+Math.imul(oe,Ie)|0,I=I+Math.imul(oe,Fe)|0;var Jt=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,_=Math.imul(We,tt),E=Math.imul(We,De),E=E+Math.imul(ve,tt)|0,I=Math.imul(ve,De),_=_+Math.imul(ze,Ie)|0,E=E+Math.imul(ze,Fe)|0,E=E+Math.imul(we,Ie)|0,I=I+Math.imul(we,Fe)|0;var Lr=(f+_|0)+((E&8191)<<13)|0;f=(I+(E>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,_=Math.imul(We,Ie),E=Math.imul(We,Fe),E=E+Math.imul(ve,Ie)|0,I=Math.imul(ve,Fe);var de=(f+_|0)+((E&8191)<<13)|0;return f=(I+(E>>>13)|0)+(de>>>26)|0,de&=67108863,S[0]=lt,S[1]=yt,S[2]=ht,S[3]=Mt,S[4]=Bt,S[5]=Et,S[6]=_t,S[7]=Ft,S[8]=Vt,S[9]=Tt,S[10]=zt,S[11]=Nt,S[12]=Pt,S[13]=Ut,S[14]=Zt,S[15]=Ht,S[16]=Jt,S[17]=Lr,S[18]=de,f!==0&&(S[19]=f,w.length++),w},"b");Math.imul||(O=R);function T(l,m,w){w.negative=m.negative^l.negative,w.length=l.length+m.length;for(var M=0,A=0,S=0;S<w.length-1;S++){var f=A;A=0;for(var _=M&67108863,E=Math.min(S,m.length-1),I=Math.max(0,S-l.length+1);I<=E;I++){var D=S-I,L=l.words[D]|0,U=m.words[I]|0,B=L*U,G=B&67108863;f=f+(B/67108864|0)|0,G=G+_|0,_=G&67108863,f=f+(G>>>26)|0,A+=f>>>26,f&=67108863}w.words[S]=_,M=f,f=A}return M!==0?w.words[S]=M:w.length--,w._strip()}i(T,"u");function P(l,m,w){return T(l,m,w)}i(P,"y"),o.prototype.mulTo=function(l,m){var w,M=this.length+l.length;return this.length===10&&l.length===10?w=O(this,l,m):M<63?w=R(this,l,m):M<1024?w=T(this,l,m):w=P(this,l,m),w},o.prototype.mul=function(l){var m=new o(null);return m.words=Array(this.length+l.length),this.mulTo(l,m)},o.prototype.mulf=function(l){var m=new o(null);return m.words=Array(this.length+l.length),P(this,l,m)},o.prototype.imul=function(l){return this.clone().mulTo(l,this)},o.prototype.imuln=function(l){var m=l<0;m&&(l=-l),n(typeof l=="number"),n(l<67108864);for(var w=0,M=0;M<this.length;M++){var A=(this.words[M]|0)*l,S=(A&67108863)+(w&67108863);w>>=26,w+=A/67108864|0,w+=S>>>26,this.words[M]=S&67108863}return w!==0&&(this.words[M]=w,this.length++),this.length=l===0?1:this.length,m?this.ineg():this},o.prototype.muln=function(l){return this.clone().imuln(l)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(l){var m=C(l);if(m.length===0)return new o(1);for(var w=this,M=0;M<m.length&&m[M]===0;M++,w=w.sqr());if(++M<m.length)for(var A=w.sqr();M<m.length;M++,A=A.sqr())m[M]!==0&&(w=w.mul(A));return w},o.prototype.iushln=function(l){n(typeof l=="number"&&l>=0);var m=l%26,w=(l-m)/26,M=67108863>>>26-m<<26-m,A;if(m!==0){var S=0;for(A=0;A<this.length;A++){var f=this.words[A]&M,_=(this.words[A]|0)-f<<m;this.words[A]=_|S,S=f>>>26-m}S&&(this.words[A]=S,this.length++)}if(w!==0){for(A=this.length-1;A>=0;A--)this.words[A+w]=this.words[A];for(A=0;A<w;A++)this.words[A]=0;this.length+=w}return this._strip()},o.prototype.ishln=function(l){return n(this.negative===0),this.iushln(l)},o.prototype.iushrn=function(l,m,w){n(typeof l=="number"&&l>=0);var M;m?M=(m-m%26)/26:M=0;var A=l%26,S=Math.min((l-A)/26,this.length),f=67108863^67108863>>>A<<A,_=w;if(M-=S,M=Math.max(0,M),_){for(var E=0;E<S;E++)_.words[E]=this.words[E];_.length=S}if(S!==0)if(this.length>S)for(this.length-=S,E=0;E<this.length;E++)this.words[E]=this.words[E+S];else this.words[0]=0,this.length=1;var I=0;for(E=this.length-1;E>=0&&(I!==0||E>=M);E--){var D=this.words[E]|0;this.words[E]=I<<26-A|D>>>A,I=D&f}return _&&I!==0&&(_.words[_.length++]=I),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(l,m,w){return n(this.negative===0),this.iushrn(l,m,w)},o.prototype.shln=function(l){return this.clone().ishln(l)},o.prototype.ushln=function(l){return this.clone().iushln(l)},o.prototype.shrn=function(l){return this.clone().ishrn(l)},o.prototype.ushrn=function(l){return this.clone().iushrn(l)},o.prototype.testn=function(l){n(typeof l=="number"&&l>=0);var m=l%26,w=(l-m)/26,M=1<<m;if(this.length<=w)return!1;var A=this.words[w];return!!(A&M)},o.prototype.imaskn=function(l){n(typeof l=="number"&&l>=0);var m=l%26,w=(l-m)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=w)return this;if(m!==0&&w++,this.length=Math.min(w,this.length),m!==0){var M=67108863^67108863>>>m<<m;this.words[this.length-1]&=M}return this._strip()},o.prototype.maskn=function(l){return this.clone().imaskn(l)},o.prototype.iaddn=function(l){return n(typeof l=="number"),n(l<67108864),l<0?this.isubn(-l):this.negative!==0?this.length===1&&(this.words[0]|0)<=l?(this.words[0]=l-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},o.prototype._iaddn=function(l){this.words[0]+=l;for(var m=0;m<this.length&&this.words[m]>=67108864;m++)this.words[m]-=67108864,m===this.length-1?this.words[m+1]=1:this.words[m+1]++;return this.length=Math.max(this.length,m+1),this},o.prototype.isubn=function(l){if(n(typeof l=="number"),n(l<67108864),l<0)return this.iaddn(-l);if(this.negative!==0)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var m=0;m<this.length&&this.words[m]<0;m++)this.words[m]+=67108864,this.words[m+1]-=1;return this._strip()},o.prototype.addn=function(l){return this.clone().iaddn(l)},o.prototype.subn=function(l){return this.clone().isubn(l)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(l,m,w){var M=l.length+w,A;this._expand(M);var S,f=0;for(A=0;A<l.length;A++){S=(this.words[A+w]|0)+f;var _=(l.words[A]|0)*m;S-=_&67108863,f=(S>>26)-(_/67108864|0),this.words[A+w]=S&67108863}for(;A<this.length-w;A++)S=(this.words[A+w]|0)+f,f=S>>26,this.words[A+w]=S&67108863;if(f===0)return this._strip();for(n(f===-1),f=0,A=0;A<this.length;A++)S=-(this.words[A]|0)+f,f=S>>26,this.words[A]=S&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(l,m){var w=this.length-l.length,M=this.clone(),A=l,S=A.words[A.length-1]|0,f=this._countBits(S);w=26-f,w!==0&&(A=A.ushln(w),M.iushln(w),S=A.words[A.length-1]|0);var _=M.length-A.length,E;if(m!=="mod"){E=new o(null),E.length=_+1,E.words=Array(E.length);for(var I=0;I<E.length;I++)E.words[I]=0}var D=M.clone()._ishlnsubmul(A,1,_);D.negative===0&&(M=D,E&&(E.words[_]=1));for(var L=_-1;L>=0;L--){var U=(M.words[A.length+L]|0)*67108864+(M.words[A.length+L-1]|0);for(U=Math.min(U/S|0,67108863),M._ishlnsubmul(A,U,L);M.negative!==0;)U--,M.negative=0,M._ishlnsubmul(A,1,L),!M.isZero()&&(M.negative^=1);E&&(E.words[L]=U)}return E&&E._strip(),M._strip(),m!=="div"&&w!==0&&M.iushrn(w),{div:E||null,mod:M}},o.prototype.divmod=function(l,m,w){if(n(!l.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var M,A,S;return this.negative!==0&&l.negative===0?(S=this.neg().divmod(l,m),m!=="mod"&&(M=S.div.neg()),m!=="div"&&(A=S.mod.neg(),w&&A.negative!==0&&A.iadd(l)),{div:M,mod:A}):this.negative===0&&l.negative!==0?(S=this.divmod(l.neg(),m),m!=="mod"&&(M=S.div.neg()),{div:M,mod:S.mod}):(this.negative&l.negative)!==0?(S=this.neg().divmod(l.neg(),m),m!=="div"&&(A=S.mod.neg(),w&&A.negative!==0&&A.isub(l)),{div:S.div,mod:A}):l.length>this.length||this.cmp(l)<0?{div:new o(0),mod:this}:l.length===1?m==="div"?{div:this.divn(l.words[0]),mod:null}:m==="mod"?{div:null,mod:new o(this.modrn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new o(this.modrn(l.words[0]))}:this._wordDiv(l,m)},o.prototype.div=function(l){return this.divmod(l,"div",!1).div},o.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},o.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},o.prototype.divRound=function(l){var m=this.divmod(l);if(m.mod.isZero())return m.div;var w=m.div.negative!==0?m.mod.isub(l):m.mod,M=l.ushrn(1),A=l.andln(1),S=w.cmp(M);return S<0||A===1&&S===0?m.div:m.div.negative!==0?m.div.isubn(1):m.div.iaddn(1)},o.prototype.modrn=function(l){var m=l<0;m&&(l=-l),n(l<=67108863);for(var w=67108864%l,M=0,A=this.length-1;A>=0;A--)M=(w*M+(this.words[A]|0))%l;return m?-M:M},o.prototype.modn=function(l){return this.modrn(l)},o.prototype.idivn=function(l){var m=l<0;m&&(l=-l),n(l<=67108863);for(var w=0,M=this.length-1;M>=0;M--){var A=(this.words[M]|0)+w*67108864;this.words[M]=A/l|0,w=A%l}return this._strip(),m?this.ineg():this},o.prototype.divn=function(l){return this.clone().idivn(l)},o.prototype.egcd=function(l){n(l.negative===0),n(!l.isZero());var m=this,w=l.clone();m.negative!==0?m=m.umod(l):m=m.clone();for(var M=new o(1),A=new o(0),S=new o(0),f=new o(1),_=0;m.isEven()&&w.isEven();)m.iushrn(1),w.iushrn(1),++_;for(var E=w.clone(),I=m.clone();!m.isZero();){for(var D=0,L=1;(m.words[0]&L)===0&&D<26;++D,L<<=1);if(D>0)for(m.iushrn(D);D-- >0;)(M.isOdd()||A.isOdd())&&(M.iadd(E),A.isub(I)),M.iushrn(1),A.iushrn(1);for(var U=0,B=1;(w.words[0]&B)===0&&U<26;++U,B<<=1);if(U>0)for(w.iushrn(U);U-- >0;)(S.isOdd()||f.isOdd())&&(S.iadd(E),f.isub(I)),S.iushrn(1),f.iushrn(1);m.cmp(w)>=0?(m.isub(w),M.isub(S),A.isub(f)):(w.isub(m),S.isub(M),f.isub(A))}return{a:S,b:f,gcd:w.iushln(_)}},o.prototype._invmp=function(l){n(l.negative===0),n(!l.isZero());var m=this,w=l.clone();m.negative!==0?m=m.umod(l):m=m.clone();for(var M=new o(1),A=new o(0),S=w.clone();m.cmpn(1)>0&&w.cmpn(1)>0;){for(var f=0,_=1;(m.words[0]&_)===0&&f<26;++f,_<<=1);if(f>0)for(m.iushrn(f);f-- >0;)M.isOdd()&&M.iadd(S),M.iushrn(1);for(var E=0,I=1;(w.words[0]&I)===0&&E<26;++E,I<<=1);if(E>0)for(w.iushrn(E);E-- >0;)A.isOdd()&&A.iadd(S),A.iushrn(1);m.cmp(w)>=0?(m.isub(w),M.isub(A)):(w.isub(m),A.isub(M))}var D;return m.cmpn(1)===0?D=M:D=A,D.cmpn(0)<0&&D.iadd(l),D},o.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var m=this.clone(),w=l.clone();m.negative=0,w.negative=0;for(var M=0;m.isEven()&&w.isEven();M++)m.iushrn(1),w.iushrn(1);do{for(;m.isEven();)m.iushrn(1);for(;w.isEven();)w.iushrn(1);var A=m.cmp(w);if(A<0){var S=m;m=w,w=S}else if(A===0||w.cmpn(1)===0)break;m.isub(w)}while(!0);return w.iushln(M)},o.prototype.invm=function(l){return this.egcd(l).a.umod(l)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(l){return this.words[0]&l},o.prototype.bincn=function(l){n(typeof l=="number");var m=l%26,w=(l-m)/26,M=1<<m;if(this.length<=w)return this._expand(w+1),this.words[w]|=M,this;for(var A=M,S=w;A!==0&&S<this.length;S++){var f=this.words[S]|0;f+=A,A=f>>>26,f&=67108863,this.words[S]=f}return A!==0&&(this.words[S]=A,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(l){var m=l<0;if(this.negative!==0&&!m)return-1;if(this.negative===0&&m)return 1;this._strip();var w;if(this.length>1)w=1;else{m&&(l=-l),n(l<=67108863,"Number is too big");var M=this.words[0]|0;w=M===l?0:M<l?-1:1}return this.negative!==0?-w|0:w},o.prototype.cmp=function(l){if(this.negative!==0&&l.negative===0)return-1;if(this.negative===0&&l.negative!==0)return 1;var m=this.ucmp(l);return this.negative!==0?-m|0:m},o.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var m=0,w=this.length-1;w>=0;w--){var M=this.words[w]|0,A=l.words[w]|0;if(M!==A){M<A?m=-1:M>A&&(m=1);break}}return m},o.prototype.gtn=function(l){return this.cmpn(l)===1},o.prototype.gt=function(l){return this.cmp(l)===1},o.prototype.gten=function(l){return this.cmpn(l)>=0},o.prototype.gte=function(l){return this.cmp(l)>=0},o.prototype.ltn=function(l){return this.cmpn(l)===-1},o.prototype.lt=function(l){return this.cmp(l)===-1},o.prototype.lten=function(l){return this.cmpn(l)<=0},o.prototype.lte=function(l){return this.cmp(l)<=0},o.prototype.eqn=function(l){return this.cmpn(l)===0},o.prototype.eq=function(l){return this.cmp(l)===0},o.red=function(l){return new u(l)},o.prototype.toRed=function(l){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),l.convertTo(this)._forceRed(l)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(l){return this.red=l,this},o.prototype.forceRed=function(l){return n(!this.red,"Already a number in reduction context"),this._forceRed(l)},o.prototype.redAdd=function(l){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},o.prototype.redIAdd=function(l){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},o.prototype.redSub=function(l){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},o.prototype.redISub=function(l){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},o.prototype.redShl=function(l){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},o.prototype.redMul=function(l){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},o.prototype.redIMul=function(l){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(l){return n(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var z={k256:null,p224:null,p192:null,p25519:null};function V(l,m){this.name=l,this.p=new o(m,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}i(V,"q$"),V.prototype._tmp=function(){var l=new o(null);return l.words=Array(Math.ceil(this.n/13)),l},V.prototype.ireduce=function(l){var m=l,w;do this.split(m,this.tmp),m=this.imulK(m),m=m.iadd(this.tmp),w=m.bitLength();while(w>this.n);var M=w<this.n?-1:m.ucmp(this.p);return M===0?(m.words[0]=0,m.length=1):M>0?m.isub(this.p):m.strip!==void 0?m.strip():m._strip(),m},V.prototype.split=function(l,m){l.iushrn(this.n,0,m)},V.prototype.imulK=function(l){return l.imul(this.k)};function Z(){V.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(Z,"e"),s(Z,V),Z.prototype.split=function(l,m){for(var w=4194303,M=Math.min(l.length,9),A=0;A<M;A++)m.words[A]=l.words[A];if(m.length=M,l.length<=9){l.words[0]=0,l.length=1;return}var S=l.words[9];for(m.words[m.length++]=S&w,A=10;A<l.length;A++){var f=l.words[A]|0;l.words[A-10]=(f&w)<<4|S>>>22,S=f}S>>>=22,l.words[A-10]=S,S===0&&l.length>10?l.length-=10:l.length-=9},Z.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var m=0,w=0;w<l.length;w++){var M=l.words[w]|0;m+=M*977,l.words[w]=m&67108863,m=M*64+(m/67108864|0)}return l.words[l.length-1]===0&&(l.length--,l.words[l.length-1]===0&&l.length--),l};function ee(){V.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(ee,"l"),s(ee,V);function $(){V.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i($,"r"),s($,V);function F(){V.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(F,"M"),s(F,V),F.prototype.imulK=function(l){for(var m=0,w=0;w<l.length;w++){var M=(l.words[w]|0)*19+m,A=M&67108863;M>>>=26,l.words[w]=A,m=M}return m!==0&&(l.words[l.length++]=m),l},o._prime=function(l){if(z[l])return z[l];var m;if(l==="k256")m=new Z;else if(l==="p224")m=new ee;else if(l==="p192")m=new $;else if(l==="p25519")m=new F;else throw Error("Unknown prime "+l);return z[l]=m,m};function u(l){if(typeof l=="string"){var m=o._prime(l);this.m=m.p,this.prime=m}else n(l.gtn(1),"modulus must be greater than 1"),this.m=l,this.prime=null}i(u,"Y"),u.prototype._verify1=function(l){n(l.negative===0,"red works only with positives"),n(l.red,"red works only with red numbers")},u.prototype._verify2=function(l,m){n((l.negative|m.negative)===0,"red works only with positives"),n(l.red&&l.red===m.red,"red works only with red numbers")},u.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):(d(l,l.umod(this.m)._forceRed(this)),l)},u.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},u.prototype.add=function(l,m){this._verify2(l,m);var w=l.add(m);return w.cmp(this.m)>=0&&w.isub(this.m),w._forceRed(this)},u.prototype.iadd=function(l,m){this._verify2(l,m);var w=l.iadd(m);return w.cmp(this.m)>=0&&w.isub(this.m),w},u.prototype.sub=function(l,m){this._verify2(l,m);var w=l.sub(m);return w.cmpn(0)<0&&w.iadd(this.m),w._forceRed(this)},u.prototype.isub=function(l,m){this._verify2(l,m);var w=l.isub(m);return w.cmpn(0)<0&&w.iadd(this.m),w},u.prototype.shl=function(l,m){return this._verify1(l),this.imod(l.ushln(m))},u.prototype.imul=function(l,m){return this._verify2(l,m),this.imod(l.imul(m))},u.prototype.mul=function(l,m){return this._verify2(l,m),this.imod(l.mul(m))},u.prototype.isqr=function(l){return this.imul(l,l.clone())},u.prototype.sqr=function(l){return this.mul(l,l)},u.prototype.sqrt=function(l){if(l.isZero())return l.clone();var m=this.m.andln(3);if(n(m%2===1),m===3){var w=this.m.add(new o(1)).iushrn(2);return this.pow(l,w)}for(var M=this.m.subn(1),A=0;!M.isZero()&&M.andln(1)===0;)A++,M.iushrn(1);n(!M.isZero());var S=new o(1).toRed(this),f=S.redNeg(),_=this.m.subn(1).iushrn(1),E=this.m.bitLength();for(E=new o(2*E*E).toRed(this);this.pow(E,_).cmp(f)!==0;)E.redIAdd(f);for(var I=this.pow(E,M),D=this.pow(l,M.addn(1).iushrn(1)),L=this.pow(l,M),U=A;L.cmp(S)!==0;){for(var B=L,G=0;B.cmp(S)!==0;G++)B=B.redSqr();n(G<U);var H=this.pow(I,new o(1).iushln(U-G-1));D=D.redMul(H),I=H.redSqr(),L=L.redMul(I),U=G}return D},u.prototype.invm=function(l){var m=l._invmp(this.m);return m.negative!==0?(m.negative=0,this.imod(m).redNeg()):this.imod(m)},u.prototype.pow=function(l,m){if(m.isZero())return new o(1).toRed(this);if(m.cmpn(1)===0)return l.clone();var w=4,M=Array(1<<w);M[0]=new o(1).toRed(this),M[1]=l;for(var A=2;A<M.length;A++)M[A]=this.mul(M[A-1],l);var S=M[0],f=0,_=0,E=m.bitLength()%26;for(E===0&&(E=26),A=m.length-1;A>=0;A--){for(var I=m.words[A],D=E-1;D>=0;D--){var L=I>>D&1;if(S!==M[0]&&(S=this.sqr(S)),L===0&&f===0){_=0;continue}f<<=1,f|=L,_++,!(_!==w&&(A!==0||D!==0))&&(S=this.mul(S,M[f]),_=0,f=0)}E=26}return S},u.prototype.convertTo=function(l){var m=l.umod(this.m);return m===l?m.clone():m},u.prototype.convertFrom=function(l){var m=l.clone();return m.red=null,m},o.mont=function(l){return new g(l)};function g(l){u.call(this,l),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(g,"H"),s(g,u),g.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},g.prototype.convertFrom=function(l){var m=this.imod(l.mul(this.rinv));return m.red=null,m},g.prototype.imul=function(l,m){if(l.isZero()||m.isZero())return l.words[0]=0,l.length=1,l;var w=l.imul(m),M=w.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=w.isub(M).iushrn(this.shift),S=A;return A.cmp(this.m)>=0?S=A.isub(this.m):A.cmpn(0)<0&&(S=A.iadd(this.m)),S._forceRed(this)},g.prototype.mul=function(l,m){if(l.isZero()||m.isZero())return new o(0)._forceRed(this);var w=l.mul(m),M=w.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=w.isub(M).iushrn(this.shift),S=A;return A.cmp(this.m)>=0?S=A.isub(this.m):A.cmpn(0)<0&&(S=A.iadd(this.m)),S._forceRed(this)},g.prototype.invm=function(l){var m=this.imod(l._invmp(this.m).mul(this.r2));return m._forceRed(this)}})(typeof t>"u"||t,e)}),wp=at((e,t)=>{var r=w4(),a=Os(),n=Rr().Buffer;function s(p){var v=p.modulus.byteLength(),c;do c=new r(a(v));while(c.cmp(p.modulus)>=0||!c.umod(p.prime1)||!c.umod(p.prime2));return c}i(s,"O");function o(p){var v=s(p),c=v.toRed(r.mont(p.modulus)).redPow(new r(p.publicExponent)).fromRed();return{blinder:c,unblinder:v.invm(p.modulus)}}i(o,"j");function h(p,v){var c=o(v),d=v.modulus.byteLength(),y=new r(p).mul(c.blinder).umod(v.modulus),b=y.toRed(r.mont(v.prime1)),x=y.toRed(r.mont(v.prime2)),k=v.coefficient,N=v.prime1,C=v.prime2,R=b.redPow(v.exponent1).fromRed(),O=x.redPow(v.exponent2).fromRed(),T=R.isub(O).imul(k).umod(N).imul(C);return O.iadd(T).imul(c.unblinder).umod(v.modulus).toArrayLike(n,"be",d)}i(h,"z"),h.getr=s,t.exports=h}),x4=at((e,t)=>{var r=gp(),a=Os(),n=Ts(),s=vp(),o=bp(),h=Wl(),p=yp(),v=wp(),c=Rr().Buffer;t.exports=function(x,k,N){var C;x.padding?C=x.padding:N?C=1:C=4;var R=r(x),O;if(C===4)O=d(R,k);else if(C===1)O=y(R,k,N);else if(C===3){if(O=new h(k),O.cmp(R.modulus)>=0)throw Error("data too long for modulus")}else throw Error("unknown padding");return N?v(O,R):p(O,R)};function d(x,k){var N=x.modulus.byteLength(),C=k.length,R=n("sha1").update(c.alloc(0)).digest(),O=R.length,T=2*O;if(C>N-T-2)throw Error("message too long");var P=c.alloc(N-C-T-2),z=N-O-1,V=a(O),Z=o(c.concat([R,P,c.alloc(1,1),k],z),s(V,z)),ee=o(V,s(Z,O));return new h(c.concat([c.alloc(1),ee,Z],N))}i(d,"f");function y(x,k,N){var C=k.length,R=x.modulus.byteLength();if(C>R-11)throw Error("message too long");var O;return N?O=c.alloc(R-C-3,255):O=b(R-C-3),new h(c.concat([c.from([0,N?1:2]),O,c.alloc(1),k],R))}i(y,"A");function b(x){for(var k=c.allocUnsafe(x),N=0,C=a(x*2),R=0,O;N<x;)R===C.length&&(C=a(x*2),R=0),O=C[R++],O&&(k[N++]=O);return k}i(b,"V")}),_4=at((e,t)=>{var r=gp(),a=vp(),n=bp(),s=Wl(),o=wp(),h=Ts(),p=yp(),v=Rr().Buffer;t.exports=function(b,x,k){var N;b.padding?N=b.padding:k?N=1:N=4;var C=r(b),R=C.modulus.byteLength();if(x.length>R||new s(x).cmp(C.modulus)>=0)throw Error("decryption error");var O;k?O=p(new s(x),C):O=o(x,C);var T=v.alloc(R-O.length);if(O=v.concat([T,O],R),N===4)return c(C,O);if(N===1)return d(C,O,k);if(N===3)return O;throw Error("unknown padding")};function c(b,x){var k=b.modulus.byteLength(),N=h("sha1").update(v.alloc(0)).digest(),C=N.length;if(x[0]!==0)throw Error("decryption error");var R=x.slice(1,C+1),O=x.slice(C+1),T=n(R,a(O,C)),P=n(O,a(T,k-C-1));if(y(N,P.slice(0,C)))throw Error("decryption error");for(var z=C;P[z]===0;)z++;if(P[z++]!==1)throw Error("decryption error");return P.slice(z)}i(c,"G");function d(b,x,k){for(var N=x.slice(0,2),C=2,R=0;x[C++]!==0;)if(C>=x.length){R++;break}var O=x.slice(2,C-1);if((N.toString("hex")!=="0002"&&!k||N.toString("hex")!=="0001"&&k)&&R++,O.length<8&&R++,R)throw Error("decryption error");return x.slice(C)}i(d,"f");function y(b,x){b=v.from(b),x=v.from(x);var k=0,N=b.length;b.length!==x.length&&(k++,N=Math.min(b.length,x.length));for(var C=-1;++C<N;)k+=b[C]^x[C];return k}i(y,"A")}),Ql=at(e=>{e.publicEncrypt=x4(),e.privateDecrypt=_4(),e.privateEncrypt=function(t,r){return e.publicEncrypt(t,r,!0)},e.publicDecrypt=function(t,r){return e.privateDecrypt(t,r,!0)}}),S4=at(e=>{var t=(qr(),$t(Ur));typeof t.publicEncrypt!="function"&&(t=Ql()),e.publicEncrypt=t.publicEncrypt,e.privateDecrypt=t.privateDecrypt,typeof t.privateEncrypt!="function"?e.privateEncrypt=Ql().privateEncrypt:e.privateEncrypt=t.privateEncrypt,typeof t.publicDecrypt!="function"?e.publicDecrypt=Ql().publicDecrypt:e.publicDecrypt=t.publicDecrypt}),M4=at(e=>{var t=Rr(),r=Os(),a=t.Buffer,n=t.kMaxLength,s=globalThis.crypto||globalThis.msCrypto,o=Math.pow(2,32)-1;function h(y,b){if(typeof y!="number"||y!==y)throw TypeError("offset must be a number");if(y>o||y<0)throw TypeError("offset must be a uint32");if(y>n||y>b)throw RangeError("offset out of range")}i(h,"z");function p(y,b,x){if(typeof y!="number"||y!==y)throw TypeError("size must be a number");if(y>o||y<0)throw TypeError("size must be a uint32");if(y+b>x||y>n)throw RangeError("buffer too small")}i(p,"J"),s&&s.getRandomValues,e.randomFill=v,e.randomFillSync=d;function v(y,b,x,k){if(!a.isBuffer(y)&&!(y instanceof globalThis.Uint8Array))throw TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof b=="function")k=b,b=0,x=y.length;else if(typeof x=="function")k=x,x=y.length-b;else if(typeof k!="function")throw TypeError('"cb" argument must be a function');return h(b,y.length),p(x,b,y.length),c(y,b,x,k)}i(v,"w");function c(y,b,x,k){if(k){r(x,function(C,R){if(C)return k(C);R.copy(y,b),k(null,y)});return}var N=r(x);return N.copy(y,b),y}i(c,"G");function d(y,b,x){if(typeof b>"u"&&(b=0),!a.isBuffer(y)&&!(y instanceof globalThis.Uint8Array))throw TypeError('"buf" argument must be a Buffer or Uint8Array');return h(b,y.length),x===void 0&&(x=y.length-b),p(x,b,y.length),c(y,b,x)}i(d,"f")}),E4=at((e,t)=>{var r=(qr(),$t(Ur));typeof r.randomFill=="function"&&typeof r.randomFillSync=="function"?(e.randomFill=r.randomFill,e.randomFillSync=r.randomFillSync):t.exports=M4()}),k4=at(e=>{e.randomBytes=e.rng=e.pseudoRandomBytes=e.prng=Os(),e.createHash=e.Hash=Ts(),e.createHmac=e.Hmac=rp();var t=Ix(),r=Object.keys(t),a=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(r);e.getHashes=function(){return a};var n=np();e.pbkdf2=n.pbkdf2,e.pbkdf2Sync=n.pbkdf2Sync;var s=Rx();e.Cipher=s.Cipher,e.createCipher=s.createCipher,e.Cipheriv=s.Cipheriv,e.createCipheriv=s.createCipheriv,e.Decipher=s.Decipher,e.createDecipher=s.createDecipher,e.Decipheriv=s.Decipheriv,e.createDecipheriv=s.createDecipheriv,e.getCiphers=s.getCiphers,e.listCiphers=s.listCiphers;var o=Ox();e.DiffieHellmanGroup=o.DiffieHellmanGroup,e.createDiffieHellmanGroup=o.createDiffieHellmanGroup,e.getDiffieHellman=o.getDiffieHellman,e.createDiffieHellman=o.createDiffieHellman,e.DiffieHellman=o.DiffieHellman;var h=Tx();e.createSign=h.createSign,e.Sign=h.Sign,e.createVerify=h.createVerify,e.Verify=h.Verify,e.createECDH=i4();var p=S4();e.publicEncrypt=p.publicEncrypt,e.privateEncrypt=p.privateEncrypt,e.publicDecrypt=p.publicDecrypt,e.privateDecrypt=p.privateDecrypt;var v=E4();e.randomFill=v.randomFill,e.randomFillSync=v.randomFillSync,e.createCredentials=function(){throw Error(`sorry, createCredentials is not implemented yet
we accept pull requests
https://github.com/browserify/crypto-browserify`)},e.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}}),Ct=cz(k4(),1),oS=Ct.prng,lS=Ct.pseudoRandomBytes,uS=Ct.rng,fS=Ct.randomBytes,cS=Ct.Hash,dS=Ct.createHash,hS=Ct.Hmac,pS=Ct.createHmac,mS=Ct.getHashes,gS=Ct.pbkdf2,vS=Ct.pbkdf2Sync,bS=Ct.Cipher,yS=Ct.createCipher,wS=Ct.Cipheriv,xS=Ct.createCipheriv,_S=Ct.Decipher,SS=Ct.createDecipher,MS=Ct.Decipheriv,ES=Ct.createDecipheriv,kS=Ct.getCiphers,AS=Ct.listCiphers,jS=Ct.DiffieHellmanGroup,NS=Ct.createDiffieHellmanGroup,IS=Ct.getDiffieHellman,CS=Ct.createDiffieHellman,RS=Ct.DiffieHellman,OS=Ct.createSign,TS=Ct.Sign,PS=Ct.createVerify,DS=Ct.Verify,LS=Ct.createECDH,BS=Ct.publicEncrypt,zS=Ct.privateEncrypt,US=Ct.publicDecrypt,FS=Ct.privateDecrypt,$S=Ct.randomFill,GS=Ct.randomFillSync,VS=Ct.createCredentials,ZS=Ct.constants,HS=["p192","p224","p256","p384","p521","curve25519","ed25519","secp256k1","secp224r1","prime256v1","prime192v1","ed25519","secp384r1","secp521r1"],JS=crypto,qS=crypto}),pg;(e=>{e.IMAGE="image",e.VIDEO="video",e.AUDIO="audio",e.DOCUMENT="document",e.LINK="link"})(pg||={});var mz;(e=>{e.DOCUMENT="document",e.FRAGMENT="fragment",e.MESSAGE="message",e.DESCRIPTION="description",e.CUSTOM="custom"})(mz||={});var gz;(e=>{e.OWNER="OWNER",e.ADMIN="ADMIN",e.NONE="NONE"})(gz||={});var bt;(e=>{e.SELF="SELF",e.DM="DM",e.GROUP="GROUP",e.VOICE_DM="VOICE_DM",e.VOICE_GROUP="VOICE_GROUP",e.FEED="FEED",e.THREAD="THREAD",e.WORLD="WORLD",e.FORUM="FORUM",e.API="API"})(bt||={});var pr;(e=>{e.ACTIVE="active",e.INACTIVE="inactive"})(pr||={});var vz;(e=>{e.WORLD_JOINED="WORLD_JOINED",e.WORLD_CONNECTED="WORLD_CONNECTED",e.WORLD_LEFT="WORLD_LEFT",e.ENTITY_JOINED="ENTITY_JOINED",e.ENTITY_LEFT="ENTITY_LEFT",e.ENTITY_UPDATED="ENTITY_UPDATED",e.ROOM_JOINED="ROOM_JOINED",e.ROOM_LEFT="ROOM_LEFT",e.MESSAGE_RECEIVED="MESSAGE_RECEIVED",e.MESSAGE_SENT="MESSAGE_SENT",e.MESSAGE_DELETED="MESSAGE_DELETED",e.CHANNEL_CLEARED="CHANNEL_CLEARED",e.VOICE_MESSAGE_RECEIVED="VOICE_MESSAGE_RECEIVED",e.VOICE_MESSAGE_SENT="VOICE_MESSAGE_SENT",e.REACTION_RECEIVED="REACTION_RECEIVED",e.POST_GENERATED="POST_GENERATED",e.INTERACTION_RECEIVED="INTERACTION_RECEIVED",e.RUN_STARTED="RUN_STARTED",e.RUN_ENDED="RUN_ENDED",e.RUN_TIMEOUT="RUN_TIMEOUT",e.ACTION_STARTED="ACTION_STARTED",e.ACTION_COMPLETED="ACTION_COMPLETED",e.EVALUATOR_STARTED="EVALUATOR_STARTED",e.EVALUATOR_COMPLETED="EVALUATOR_COMPLETED",e.MODEL_USED="MODEL_USED",e.EMBEDDING_GENERATION_REQUESTED="EMBEDDING_GENERATION_REQUESTED",e.EMBEDDING_GENERATION_COMPLETED="EMBEDDING_GENERATION_COMPLETED",e.EMBEDDING_GENERATION_FAILED="EMBEDDING_GENERATION_FAILED"})(vz||={});var bz;(e=>{e.DISCORD="DISCORD",e.TELEGRAM="TELEGRAM",e.TWITTER="TWITTER"})(bz||={});var yz;(e=>{e.OFF="OFF",e.LOCAL="LOCAL",e.DOCKER="DOCKER",e.PRODUCTION="PRODUCTION"})(yz||={});var wz;(e=>e.TDX_DSTACK="tdx_dstack")(wz||={});var mg;(e=>{e[e.ROOM_JOINING=1]="ROOM_JOINING",e[e.SEND_MESSAGE=2]="SEND_MESSAGE",e[e.MESSAGE=3]="MESSAGE",e[e.ACK=4]="ACK",e[e.THINKING=5]="THINKING",e[e.CONTROL=6]="CONTROL"})(mg||={});var xz={};$r(xz,{void:i(()=>aU,"void"),util:i(()=>Xt,"util"),unknown:i(()=>iU,"unknown"),union:i(()=>uU,"union"),undefined:i(()=>eU,"undefined"),tuple:i(()=>dU,"tuple"),transformer:i(()=>N4,"transformer"),symbol:i(()=>Yz,"symbol"),string:i(()=>tM,"string"),strictObject:i(()=>lU,"strictObject"),setErrorMap:i(()=>Mz,"setErrorMap"),set:i(()=>mU,"set"),record:i(()=>hU,"record"),quotelessJson:i(()=>_z,"quotelessJson"),promise:i(()=>xU,"promise"),preprocess:i(()=>MU,"preprocess"),pipeline:i(()=>EU,"pipeline"),ostring:i(()=>kU,"ostring"),optional:i(()=>_U,"optional"),onumber:i(()=>AU,"onumber"),oboolean:i(()=>jU,"oboolean"),objectUtil:i(()=>gg,"objectUtil"),object:i(()=>oU,"object"),number:i(()=>rM,"number"),nullable:i(()=>SU,"nullable"),null:i(()=>tU,"null"),never:i(()=>nU,"never"),nativeEnum:i(()=>wU,"nativeEnum"),nan:i(()=>Xz,"nan"),map:i(()=>pU,"map"),makeIssue:i(()=>Vu,"makeIssue"),literal:i(()=>bU,"literal"),lazy:i(()=>vU,"lazy"),late:i(()=>qz,"late"),isValid:i(()=>ka,"isValid"),isDirty:i(()=>bg,"isDirty"),isAsync:i(()=>Ao,"isAsync"),isAborted:i(()=>vg,"isAborted"),intersection:i(()=>cU,"intersection"),instanceof:i(()=>Kz,"instanceof"),getParsedType:i(()=>vn,"getParsedType"),getErrorMap:i(()=>Gu,"getErrorMap"),function:i(()=>gU,"function"),enum:i(()=>yU,"enum"),effect:i(()=>N4,"effect"),discriminatedUnion:i(()=>fU,"discriminatedUnion"),defaultErrorMap:i(()=>ls,"defaultErrorMap"),datetimeRegex:i(()=>QS,"datetimeRegex"),date:i(()=>Qz,"date"),custom:i(()=>eM,"custom"),coerce:i(()=>NU,"coerce"),boolean:i(()=>iM,"boolean"),bigint:i(()=>Wz,"bigint"),array:i(()=>sU,"array"),any:i(()=>rU,"any"),addIssueToContext:i(()=>ut,"addIssueToContext"),ZodVoid:i(()=>Hu,"ZodVoid"),ZodUnknown:i(()=>ba,"ZodUnknown"),ZodUnion:i(()=>Co,"ZodUnion"),ZodUndefined:i(()=>No,"ZodUndefined"),ZodType:i(()=>Rt,"ZodType"),ZodTuple:i(()=>Ki,"ZodTuple"),ZodTransformer:i(()=>Ni,"ZodTransformer"),ZodSymbol:i(()=>Zu,"ZodSymbol"),ZodString:i(()=>Si,"ZodString"),ZodSet:i(()=>ja,"ZodSet"),ZodSchema:i(()=>Rt,"ZodSchema"),ZodRecord:i(()=>Oo,"ZodRecord"),ZodReadonly:i(()=>zo,"ZodReadonly"),ZodPromise:i(()=>fs,"ZodPromise"),ZodPipeline:i(()=>ul,"ZodPipeline"),ZodParsedType:i(()=>dt,"ZodParsedType"),ZodOptional:i(()=>Zi,"ZodOptional"),ZodObject:i(()=>sr,"ZodObject"),ZodNumber:i(()=>Bn,"ZodNumber"),ZodNullable:i(()=>Fn,"ZodNullable"),ZodNull:i(()=>Io,"ZodNull"),ZodNever:i(()=>Mn,"ZodNever"),ZodNativeEnum:i(()=>Do,"ZodNativeEnum"),ZodNaN:i(()=>qu,"ZodNaN"),ZodMap:i(()=>Ju,"ZodMap"),ZodLiteral:i(()=>Po,"ZodLiteral"),ZodLazy:i(()=>To,"ZodLazy"),ZodIssueCode:i(()=>it,"ZodIssueCode"),ZodIntersection:i(()=>Ro,"ZodIntersection"),ZodFunction:i(()=>is,"ZodFunction"),ZodFirstPartyTypeKind:i(()=>xt,"ZodFirstPartyTypeKind"),ZodError:i(()=>Qr,"ZodError"),ZodEnum:i(()=>Un,"ZodEnum"),ZodEffects:i(()=>Ni,"ZodEffects"),ZodDiscriminatedUnion:i(()=>Yf,"ZodDiscriminatedUnion"),ZodDefault:i(()=>Lo,"ZodDefault"),ZodDate:i(()=>Aa,"ZodDate"),ZodCatch:i(()=>Bo,"ZodCatch"),ZodBranded:i(()=>Hv,"ZodBranded"),ZodBoolean:i(()=>jo,"ZodBoolean"),ZodBigInt:i(()=>zn,"ZodBigInt"),ZodArray:i(()=>Ei,"ZodArray"),ZodAny:i(()=>us,"ZodAny"),Schema:i(()=>Rt,"Schema"),ParseStatus:i(()=>Cr,"ParseStatus"),OK:i(()=>Or,"OK"),NEVER:i(()=>IU,"NEVER"),INVALID:i(()=>wt,"INVALID"),EMPTY_PATH:i(()=>Ez,"EMPTY_PATH"),DIRTY:i(()=>Qa,"DIRTY"),BRAND:i(()=>Jz,"BRAND")});var Xt;(function(e){e.assertEqual=n=>{};function t(n){}i(t,"q"),e.assertIs=t;function r(n){throw Error()}i(r,"K"),e.assertNever=r,e.arrayToEnum=n=>{let s={};for(let o of n)s[o]=o;return s},e.getValidEnumValues=n=>{let s=e.objectKeys(n).filter(h=>typeof n[n[h]]!="number"),o={};for(let h of s)o[h]=n[h];return e.objectValues(o)},e.objectValues=n=>e.objectKeys(n).map(function(s){return n[s]}),e.objectKeys=typeof Object.keys=="function"?n=>Object.keys(n):n=>{let s=[];for(let o in n)Object.prototype.hasOwnProperty.call(n,o)&&s.push(o);return s},e.find=(n,s)=>{for(let o of n)if(s(o))return o},e.isInteger=typeof Number.isInteger=="function"?n=>Number.isInteger(n):n=>typeof n=="number"&&Number.isFinite(n)&&Math.floor(n)===n;function a(n,s=" | "){return n.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}i(a,"P"),e.joinValues=a,e.jsonStringifyReplacer=(n,s)=>typeof s=="bigint"?s.toString():s})(Xt||(Xt={}));var gg;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(gg||(gg={}));var dt=Xt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),vn=i(e=>{switch(typeof e){case"undefined":return dt.undefined;case"string":return dt.string;case"number":return Number.isNaN(e)?dt.nan:dt.number;case"boolean":return dt.boolean;case"function":return dt.function;case"bigint":return dt.bigint;case"symbol":return dt.symbol;case"object":return Array.isArray(e)?dt.array:e===null?dt.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?dt.promise:typeof Map<"u"&&e instanceof Map?dt.map:typeof Set<"u"&&e instanceof Set?dt.set:typeof Date<"u"&&e instanceof Date?dt.date:dt.object;default:return dt.unknown}},"h8"),it=Xt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),_z=i(e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),"SM");class Qr extends Error{static{i(this,"yq")}get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=a=>{this.issues=[...this.issues,a]},this.addIssues=(a=[])=>{this.issues=[...this.issues,...a]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){let r=t||function(s){return s.message},a={_errors:[]},n=i(s=>{for(let o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(n);else if(o.code==="invalid_return_type")n(o.returnTypeError);else if(o.code==="invalid_arguments")n(o.argumentsError);else if(o.path.length===0)a._errors.push(r(o));else{let h=a,p=0;for(;p<o.path.length;){let v=o.path[p];p!==o.path.length-1?h[v]=h[v]||{_errors:[]}:(h[v]=h[v]||{_errors:[]},h[v]._errors.push(r(o))),h=h[v],p++}}},"P");return n(this),a}static assert(t){if(!(t instanceof Qr))throw Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Xt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){let r={},a=[];for(let n of this.issues)if(n.path.length>0){let s=n.path[0];r[s]=r[s]||[],r[s].push(t(n))}else a.push(t(n));return{formErrors:a,fieldErrors:r}}get formErrors(){return this.flatten()}}Qr.create=e=>new Qr(e);var Sz=i((e,t)=>{let r;switch(e.code){case it.invalid_type:e.received===dt.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case it.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Xt.jsonStringifyReplacer)}`;break;case it.unrecognized_keys:r=`Unrecognized key(s) in object: ${Xt.joinValues(e.keys,", ")}`;break;case it.invalid_union:r="Invalid input";break;case it.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Xt.joinValues(e.options)}`;break;case it.invalid_enum_value:r=`Invalid enum value. Expected ${Xt.joinValues(e.options)}, received '${e.received}'`;break;case it.invalid_arguments:r="Invalid function arguments";break;case it.invalid_return_type:r="Invalid function return type";break;case it.invalid_date:r="Invalid date";break;case it.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Xt.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case it.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case it.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case it.custom:r="Invalid input";break;case it.invalid_intersection_types:r="Intersection results could not be merged";break;case it.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case it.not_finite:r="Number must be finite";break;default:r=t.defaultError,Xt.assertNever(e)}return{message:r}},"MM"),ls=Sz,KS=ls;function Mz(e){KS=e}i(Mz,"NM");function Gu(){return KS}i(Gu,"h_");var Vu=i(e=>{let{data:t,path:r,errorMaps:a,issueData:n}=e,s=[...r,...n.path||[]],o={...n,path:s};if(n.message!==void 0)return{...n,path:s,message:n.message};let h="",p=a.filter(v=>!!v).slice().reverse();for(let v of p)h=v(o,{data:t,defaultError:h}).message;return{...n,path:s,message:h}},"n4"),Ez=[];function ut(e,t){let r=Gu(),a=Vu({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===ls?void 0:ls].filter(n=>!!n)});e.common.issues.push(a)}i(ut,"n$");class Cr{static{i(this,"Hq")}constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){let a=[];for(let n of r){if(n.status==="aborted")return wt;n.status==="dirty"&&t.dirty(),a.push(n.value)}return{status:t.value,value:a}}static async mergeObjectAsync(t,r){let a=[];for(let n of r){let s=await n.key,o=await n.value;a.push({key:s,value:o})}return Cr.mergeObjectSync(t,a)}static mergeObjectSync(t,r){let a={};for(let n of r){let{key:s,value:o}=n;if(s.status==="aborted"||o.status==="aborted")return wt;s.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||n.alwaysSet)&&(a[s.value]=o.value)}return{status:t.value,value:a}}}var wt=Object.freeze({status:"aborted"}),Qa=i(e=>({status:"dirty",value:e}),"rK"),Or=i(e=>({status:"valid",value:e}),"Mq"),vg=i(e=>e.status==="aborted","o7"),bg=i(e=>e.status==="dirty","r7"),ka=i(e=>e.status==="valid","AK"),Ao=i(e=>typeof Promise<"u"&&e instanceof Promise,"R_"),vt;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(vt||(vt={}));class qi{static{i(this,"A8")}constructor(t,r,a,n){this._cachedPath=[],this.parent=t,this.data=r,this._path=a,this._key=n}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}var A4=i((e,t)=>{if(ka(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new Qr(e.common.issues);return this._error=r,this._error}}},"xH");function At(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:a,description:n}=e;if(t&&(r||a))throw Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:n}:{errorMap:i((s,o)=>{let{message:h}=e;return s.code==="invalid_enum_value"?{message:h??o.defaultError}:typeof o.data>"u"?{message:h??a??o.defaultError}:s.code!=="invalid_type"?{message:o.defaultError}:{message:h??r??o.defaultError}},"errorMap"),description:n}}i(At,"Y6");class Rt{static{i(this,"W6")}get description(){return this._def.description}_getType(t){return vn(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:vn(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Cr,ctx:{common:t.parent.common,data:t.data,parsedType:vn(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){let r=this._parse(t);if(Ao(r))throw Error("Synchronous parse encountered promise.");return r}_parseAsync(t){let r=this._parse(t);return Promise.resolve(r)}parse(t,r){let a=this.safeParse(t,r);if(a.success)return a.data;throw a.error}safeParse(t,r){let a={common:{issues:[],async:r?.async??!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:vn(t)},n=this._parseSync({data:t,path:a.path,parent:a});return A4(a,n)}"~validate"(t){let r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:vn(t)};if(!this["~standard"].async)try{let a=this._parseSync({data:t,path:[],parent:r});return ka(a)?{value:a.value}:{issues:r.common.issues}}catch(a){a?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(a=>ka(a)?{value:a.value}:{issues:r.common.issues})}async parseAsync(t,r){let a=await this.safeParseAsync(t,r);if(a.success)return a.data;throw a.error}async safeParseAsync(t,r){let a={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:vn(t)},n=this._parse({data:t,path:a.path,parent:a}),s=await(Ao(n)?n:Promise.resolve(n));return A4(a,s)}refine(t,r){let a=i(n=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(n):r,"K");return this._refinement((n,s)=>{let o=t(n),h=i(()=>s.addIssue({code:it.custom,...a(n)}),"j");return typeof Promise<"u"&&o instanceof Promise?o.then(p=>p?!0:(h(),!1)):o?!0:(h(),!1)})}refinement(t,r){return this._refinement((a,n)=>t(a)?!0:(n.addIssue(typeof r=="function"?r(a,n):r),!1))}_refinement(t){return new Ni({schema:this,typeName:xt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:i(r=>this["~validate"](r),"validate")}}optional(){return Zi.create(this,this._def)}nullable(){return Fn.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ei.create(this)}promise(){return fs.create(this,this._def)}or(t){return Co.create([this,t],this._def)}and(t){return Ro.create(this,t,this._def)}transform(t){return new Ni({...At(this._def),schema:this,typeName:xt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){let r=typeof t=="function"?t:()=>t;return new Lo({...At(this._def),innerType:this,defaultValue:r,typeName:xt.ZodDefault})}brand(){return new Hv({typeName:xt.ZodBranded,type:this,...At(this._def)})}catch(t){let r=typeof t=="function"?t:()=>t;return new Bo({...At(this._def),innerType:this,catchValue:r,typeName:xt.ZodCatch})}describe(t){return new this.constructor({...this._def,description:t})}pipe(t){return ul.create(this,t)}readonly(){return zo.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}var kz=/^c[^\s-]{8,}$/i,Az=/^[0-9a-z]+$/,jz=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Nz=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Iz=/^[a-z0-9_-]{21}$/i,Cz=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Rz=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Oz=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Tz="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",xp,Pz=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Dz=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Lz=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Bz=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,zz=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Uz=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,XS="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Fz=new RegExp(`^${XS}$`);function WS(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);let r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}i(WS,"dH");function $z(e){return new RegExp(`^${WS(e)}$`)}i($z,"oM");function QS(e){let t=`${XS}T${WS(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}i(QS,"lH");function Gz(e,t){return!!((t==="v4"||!t)&&Pz.test(e)||(t==="v6"||!t)&&Lz.test(e))}i(Gz,"rM");function Vz(e,t){if(!Cz.test(e))return!1;try{let[r]=e.split(".");if(!r)return!1;let a=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),n=JSON.parse(atob(a));return!(typeof n!="object"||n===null||"typ"in n&&n?.typ!=="JWT"||!n.alg||t&&n.alg!==t)}catch{return!1}}i(Vz,"nM");function Zz(e,t){return!!((t==="v4"||!t)&&Dz.test(e)||(t==="v6"||!t)&&Bz.test(e))}i(Zz,"iM");class Si extends Rt{static{i(this,"X8")}_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==dt.string){let n=this._getOrReturnCtx(t);return ut(n,{code:it.invalid_type,expected:dt.string,received:n.parsedType}),wt}let r=new Cr,a;for(let n of this._def.checks)if(n.kind==="min")t.data.length<n.value&&(a=this._getOrReturnCtx(t,a),ut(a,{code:it.too_small,minimum:n.value,type:"string",inclusive:!0,exact:!1,message:n.message}),r.dirty());else if(n.kind==="max")t.data.length>n.value&&(a=this._getOrReturnCtx(t,a),ut(a,{code:it.too_big,maximum:n.value,type:"string",inclusive:!0,exact:!1,message:n.message}),r.dirty());else if(n.kind==="length"){let s=t.data.length>n.value,o=t.data.length<n.value;(s||o)&&(a=this._getOrReturnCtx(t,a),s?ut(a,{code:it.too_big,maximum:n.value,type:"string",inclusive:!0,exact:!0,message:n.message}):o&&ut(a,{code:it.too_small,minimum:n.value,type:"string",inclusive:!0,exact:!0,message:n.message}),r.dirty())}else if(n.kind==="email")Oz.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"email",code:it.invalid_string,message:n.message}),r.dirty());else if(n.kind==="emoji")xp||(xp=new RegExp(Tz,"u")),xp.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"emoji",code:it.invalid_string,message:n.message}),r.dirty());else if(n.kind==="uuid")Nz.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"uuid",code:it.invalid_string,message:n.message}),r.dirty());else if(n.kind==="nanoid")Iz.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"nanoid",code:it.invalid_string,message:n.message}),r.dirty());else if(n.kind==="cuid")kz.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"cuid",code:it.invalid_string,message:n.message}),r.dirty());else if(n.kind==="cuid2")Az.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"cuid2",code:it.invalid_string,message:n.message}),r.dirty());else if(n.kind==="ulid")jz.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"ulid",code:it.invalid_string,message:n.message}),r.dirty());else if(n.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),ut(a,{validation:"url",code:it.invalid_string,message:n.message}),r.dirty()}else n.kind==="regex"?(n.regex.lastIndex=0,!n.regex.test(t.data)&&(a=this._getOrReturnCtx(t,a),ut(a,{validation:"regex",code:it.invalid_string,message:n.message}),r.dirty())):n.kind==="trim"?t.data=t.data.trim():n.kind==="includes"?t.data.includes(n.value,n.position)||(a=this._getOrReturnCtx(t,a),ut(a,{code:it.invalid_string,validation:{includes:n.value,position:n.position},message:n.message}),r.dirty()):n.kind==="toLowerCase"?t.data=t.data.toLowerCase():n.kind==="toUpperCase"?t.data=t.data.toUpperCase():n.kind==="startsWith"?t.data.startsWith(n.value)||(a=this._getOrReturnCtx(t,a),ut(a,{code:it.invalid_string,validation:{startsWith:n.value},message:n.message}),r.dirty()):n.kind==="endsWith"?t.data.endsWith(n.value)||(a=this._getOrReturnCtx(t,a),ut(a,{code:it.invalid_string,validation:{endsWith:n.value},message:n.message}),r.dirty()):n.kind==="datetime"?QS(n).test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{code:it.invalid_string,validation:"datetime",message:n.message}),r.dirty()):n.kind==="date"?Fz.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{code:it.invalid_string,validation:"date",message:n.message}),r.dirty()):n.kind==="time"?$z(n).test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{code:it.invalid_string,validation:"time",message:n.message}),r.dirty()):n.kind==="duration"?Rz.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"duration",code:it.invalid_string,message:n.message}),r.dirty()):n.kind==="ip"?Gz(t.data,n.version)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"ip",code:it.invalid_string,message:n.message}),r.dirty()):n.kind==="jwt"?Vz(t.data,n.alg)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"jwt",code:it.invalid_string,message:n.message}),r.dirty()):n.kind==="cidr"?Zz(t.data,n.version)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"cidr",code:it.invalid_string,message:n.message}),r.dirty()):n.kind==="base64"?zz.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"base64",code:it.invalid_string,message:n.message}),r.dirty()):n.kind==="base64url"?Uz.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"base64url",code:it.invalid_string,message:n.message}),r.dirty()):Xt.assertNever(n);return{status:r.value,value:t.data}}_regex(t,r,a){return this.refinement(n=>t.test(n),{validation:r,code:it.invalid_string,...vt.errToObj(a)})}_addCheck(t){return new Si({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...vt.errToObj(t)})}url(t){return this._addCheck({kind:"url",...vt.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...vt.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...vt.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...vt.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...vt.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...vt.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...vt.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...vt.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...vt.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...vt.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...vt.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...vt.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof t?.precision>"u"?null:t?.precision,offset:t?.offset??!1,local:t?.local??!1,...vt.errToObj(t?.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof t?.precision>"u"?null:t?.precision,...vt.errToObj(t?.message)})}duration(t){return this._addCheck({kind:"duration",...vt.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...vt.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r?.position,...vt.errToObj(r?.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...vt.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...vt.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...vt.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...vt.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...vt.errToObj(r)})}nonempty(t){return this.min(1,vt.errToObj(t))}trim(){return new Si({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Si({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Si({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Si.create=e=>new Si({checks:[],typeName:xt.ZodString,coerce:e?.coerce??!1,...At(e)});function Hz(e,t){let r=(e.toString().split(".")[1]||"").length,a=(t.toString().split(".")[1]||"").length,n=r>a?r:a,s=Number.parseInt(e.toFixed(n).replace(".","")),o=Number.parseInt(t.toFixed(n).replace(".",""));return s%o/10**n}i(Hz,"tM");class Bn extends Rt{static{i(this,"VK")}constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==dt.number){let n=this._getOrReturnCtx(t);return ut(n,{code:it.invalid_type,expected:dt.number,received:n.parsedType}),wt}let r,a=new Cr;for(let n of this._def.checks)n.kind==="int"?Xt.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),ut(r,{code:it.invalid_type,expected:"integer",received:"float",message:n.message}),a.dirty()):n.kind==="min"?(n.inclusive?t.data<n.value:t.data<=n.value)&&(r=this._getOrReturnCtx(t,r),ut(r,{code:it.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),a.dirty()):n.kind==="max"?(n.inclusive?t.data>n.value:t.data>=n.value)&&(r=this._getOrReturnCtx(t,r),ut(r,{code:it.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),a.dirty()):n.kind==="multipleOf"?Hz(t.data,n.value)!==0&&(r=this._getOrReturnCtx(t,r),ut(r,{code:it.not_multiple_of,multipleOf:n.value,message:n.message}),a.dirty()):n.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),ut(r,{code:it.not_finite,message:n.message}),a.dirty()):Xt.assertNever(n);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,vt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,vt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,vt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,vt.toString(r))}setLimit(t,r,a,n){return new Bn({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:a,message:vt.toString(n)}]})}_addCheck(t){return new Bn({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:vt.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:vt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:vt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:vt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:vt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:vt.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:vt.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:vt.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:vt.toString(t)})}get minValue(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Xt.isInteger(t.value))}get isFinite(){let t=null,r=null;for(let a of this._def.checks){if(a.kind==="finite"||a.kind==="int"||a.kind==="multipleOf")return!0;a.kind==="min"?(r===null||a.value>r)&&(r=a.value):a.kind==="max"&&(t===null||a.value<t)&&(t=a.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Bn.create=e=>new Bn({checks:[],typeName:xt.ZodNumber,coerce:e?.coerce||!1,...At(e)});class zn extends Rt{static{i(this,"SK")}constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==dt.bigint)return this._getInvalidInput(t);let r,a=new Cr;for(let n of this._def.checks)n.kind==="min"?(n.inclusive?t.data<n.value:t.data<=n.value)&&(r=this._getOrReturnCtx(t,r),ut(r,{code:it.too_small,type:"bigint",minimum:n.value,inclusive:n.inclusive,message:n.message}),a.dirty()):n.kind==="max"?(n.inclusive?t.data>n.value:t.data>=n.value)&&(r=this._getOrReturnCtx(t,r),ut(r,{code:it.too_big,type:"bigint",maximum:n.value,inclusive:n.inclusive,message:n.message}),a.dirty()):n.kind==="multipleOf"?t.data%n.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),ut(r,{code:it.not_multiple_of,multipleOf:n.value,message:n.message}),a.dirty()):Xt.assertNever(n);return{status:a.value,value:t.data}}_getInvalidInput(t){let r=this._getOrReturnCtx(t);return ut(r,{code:it.invalid_type,expected:dt.bigint,received:r.parsedType}),wt}gte(t,r){return this.setLimit("min",t,!0,vt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,vt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,vt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,vt.toString(r))}setLimit(t,r,a,n){return new zn({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:a,message:vt.toString(n)}]})}_addCheck(t){return new zn({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:vt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:vt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:vt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:vt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:vt.toString(r)})}get minValue(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}zn.create=e=>new zn({checks:[],typeName:xt.ZodBigInt,coerce:e?.coerce??!1,...At(e)});class jo extends Rt{static{i(this,"g_")}_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==dt.boolean){let r=this._getOrReturnCtx(t);return ut(r,{code:it.invalid_type,expected:dt.boolean,received:r.parsedType}),wt}return Or(t.data)}}jo.create=e=>new jo({typeName:xt.ZodBoolean,coerce:e?.coerce||!1,...At(e)});class Aa extends Rt{static{i(this,"nK")}_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==dt.date){let n=this._getOrReturnCtx(t);return ut(n,{code:it.invalid_type,expected:dt.date,received:n.parsedType}),wt}if(Number.isNaN(t.data.getTime())){let n=this._getOrReturnCtx(t);return ut(n,{code:it.invalid_date}),wt}let r=new Cr,a;for(let n of this._def.checks)n.kind==="min"?t.data.getTime()<n.value&&(a=this._getOrReturnCtx(t,a),ut(a,{code:it.too_small,message:n.message,inclusive:!0,exact:!1,minimum:n.value,type:"date"}),r.dirty()):n.kind==="max"?t.data.getTime()>n.value&&(a=this._getOrReturnCtx(t,a),ut(a,{code:it.too_big,message:n.message,inclusive:!0,exact:!1,maximum:n.value,type:"date"}),r.dirty()):Xt.assertNever(n);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Aa({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:vt.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:vt.toString(r)})}get minDate(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Aa.create=e=>new Aa({checks:[],coerce:e?.coerce||!1,typeName:xt.ZodDate,...At(e)});class Zu extends Rt{static{i(this,"i4")}_parse(t){if(this._getType(t)!==dt.symbol){let r=this._getOrReturnCtx(t);return ut(r,{code:it.invalid_type,expected:dt.symbol,received:r.parsedType}),wt}return Or(t.data)}}Zu.create=e=>new Zu({typeName:xt.ZodSymbol,...At(e)});class No extends Rt{static{i(this,"L_")}_parse(t){if(this._getType(t)!==dt.undefined){let r=this._getOrReturnCtx(t);return ut(r,{code:it.invalid_type,expected:dt.undefined,received:r.parsedType}),wt}return Or(t.data)}}No.create=e=>new No({typeName:xt.ZodUndefined,...At(e)});class Io extends Rt{static{i(this,"b_")}_parse(t){if(this._getType(t)!==dt.null){let r=this._getOrReturnCtx(t);return ut(r,{code:it.invalid_type,expected:dt.null,received:r.parsedType}),wt}return Or(t.data)}}Io.create=e=>new Io({typeName:xt.ZodNull,...At(e)});class us extends Rt{static{i(this,"iK")}constructor(){super(...arguments),this._any=!0}_parse(t){return Or(t.data)}}us.create=e=>new us({typeName:xt.ZodAny,...At(e)});class ba extends Rt{static{i(this,"GK")}constructor(){super(...arguments),this._unknown=!0}_parse(t){return Or(t.data)}}ba.create=e=>new ba({typeName:xt.ZodUnknown,...At(e)});class Mn extends Rt{static{i(this,"R8")}_parse(t){let r=this._getOrReturnCtx(t);return ut(r,{code:it.invalid_type,expected:dt.never,received:r.parsedType}),wt}}Mn.create=e=>new Mn({typeName:xt.ZodNever,...At(e)});class Hu extends Rt{static{i(this,"t4")}_parse(t){if(this._getType(t)!==dt.undefined){let r=this._getOrReturnCtx(t);return ut(r,{code:it.invalid_type,expected:dt.void,received:r.parsedType}),wt}return Or(t.data)}}Hu.create=e=>new Hu({typeName:xt.ZodVoid,...At(e)});class Ei extends Rt{static{i(this,"f8")}_parse(t){let{ctx:r,status:a}=this._processInputParams(t),n=this._def;if(r.parsedType!==dt.array)return ut(r,{code:it.invalid_type,expected:dt.array,received:r.parsedType}),wt;if(n.exactLength!==null){let o=r.data.length>n.exactLength.value,h=r.data.length<n.exactLength.value;(o||h)&&(ut(r,{code:o?it.too_big:it.too_small,minimum:h?n.exactLength.value:void 0,maximum:o?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),a.dirty())}if(n.minLength!==null&&r.data.length<n.minLength.value&&(ut(r,{code:it.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),a.dirty()),n.maxLength!==null&&r.data.length>n.maxLength.value&&(ut(r,{code:it.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),a.dirty()),r.common.async)return Promise.all([...r.data].map((o,h)=>n.type._parseAsync(new qi(r,o,r.path,h)))).then(o=>Cr.mergeArray(a,o));let s=[...r.data].map((o,h)=>n.type._parseSync(new qi(r,o,r.path,h)));return Cr.mergeArray(a,s)}get element(){return this._def.type}min(t,r){return new Ei({...this._def,minLength:{value:t,message:vt.toString(r)}})}max(t,r){return new Ei({...this._def,maxLength:{value:t,message:vt.toString(r)}})}length(t,r){return new Ei({...this._def,exactLength:{value:t,message:vt.toString(r)}})}nonempty(t){return this.min(1,t)}}Ei.create=(e,t)=>new Ei({type:e,minLength:null,maxLength:null,exactLength:null,typeName:xt.ZodArray,...At(t)});function qa(e){if(e instanceof sr){let t={};for(let r in e.shape){let a=e.shape[r];t[r]=Zi.create(qa(a))}return new sr({...e._def,shape:i(()=>t,"shape")})}else return e instanceof Ei?new Ei({...e._def,type:qa(e.element)}):e instanceof Zi?Zi.create(qa(e.unwrap())):e instanceof Fn?Fn.create(qa(e.unwrap())):e instanceof Ki?Ki.create(e.items.map(t=>qa(t))):e}i(qa,"I_");class sr extends Rt{static{i(this,"R6")}constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let t=this._def.shape(),r=Xt.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==dt.object){let p=this._getOrReturnCtx(t);return ut(p,{code:it.invalid_type,expected:dt.object,received:p.parsedType}),wt}let{status:r,ctx:a}=this._processInputParams(t),{shape:n,keys:s}=this._getCached(),o=[];if(!(this._def.catchall instanceof Mn&&this._def.unknownKeys==="strip"))for(let p in a.data)s.includes(p)||o.push(p);let h=[];for(let p of s){let v=n[p],c=a.data[p];h.push({key:{status:"valid",value:p},value:v._parse(new qi(a,c,a.path,p)),alwaysSet:p in a.data})}if(this._def.catchall instanceof Mn){let p=this._def.unknownKeys;if(p==="passthrough")for(let v of o)h.push({key:{status:"valid",value:v},value:{status:"valid",value:a.data[v]}});else if(p==="strict")o.length>0&&(ut(a,{code:it.unrecognized_keys,keys:o}),r.dirty());else if(p!=="strip")throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let p=this._def.catchall;for(let v of o){let c=a.data[v];h.push({key:{status:"valid",value:v},value:p._parse(new qi(a,c,a.path,v)),alwaysSet:v in a.data})}}return a.common.async?Promise.resolve().then(async()=>{let p=[];for(let v of h){let c=await v.key,d=await v.value;p.push({key:c,value:d,alwaysSet:v.alwaysSet})}return p}).then(p=>Cr.mergeObjectSync(r,p)):Cr.mergeObjectSync(r,h)}get shape(){return this._def.shape()}strict(t){return vt.errToObj,new sr({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:i((r,a)=>{let n=this._def.errorMap?.(r,a).message??a.defaultError;return r.code==="unrecognized_keys"?{message:vt.errToObj(t).message??n}:{message:n}},"errorMap")}:{}})}strip(){return new sr({...this._def,unknownKeys:"strip"})}passthrough(){return new sr({...this._def,unknownKeys:"passthrough"})}extend(t){return new sr({...this._def,shape:i(()=>({...this._def.shape(),...t}),"shape")})}merge(t){return new sr({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:i(()=>({...this._def.shape(),...t._def.shape()}),"shape"),typeName:xt.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new sr({...this._def,catchall:t})}pick(t){let r={};for(let a of Xt.objectKeys(t))t[a]&&this.shape[a]&&(r[a]=this.shape[a]);return new sr({...this._def,shape:i(()=>r,"shape")})}omit(t){let r={};for(let a of Xt.objectKeys(this.shape))t[a]||(r[a]=this.shape[a]);return new sr({...this._def,shape:i(()=>r,"shape")})}deepPartial(){return qa(this)}partial(t){let r={};for(let a of Xt.objectKeys(this.shape)){let n=this.shape[a];t&&!t[a]?r[a]=n:r[a]=n.optional()}return new sr({...this._def,shape:i(()=>r,"shape")})}required(t){let r={};for(let a of Xt.objectKeys(this.shape))if(t&&!t[a])r[a]=this.shape[a];else{let n=this.shape[a];for(;n instanceof Zi;)n=n._def.innerType;r[a]=n}return new sr({...this._def,shape:i(()=>r,"shape")})}keyof(){return YS(Xt.objectKeys(this.shape))}}sr.create=(e,t)=>new sr({shape:i(()=>e,"shape"),unknownKeys:"strip",catchall:Mn.create(),typeName:xt.ZodObject,...At(t)});sr.strictCreate=(e,t)=>new sr({shape:i(()=>e,"shape"),unknownKeys:"strict",catchall:Mn.create(),typeName:xt.ZodObject,...At(t)});sr.lazycreate=(e,t)=>new sr({shape:e,unknownKeys:"strip",catchall:Mn.create(),typeName:xt.ZodObject,...At(t)});class Co extends Rt{static{i(this,"u_")}_parse(t){let{ctx:r}=this._processInputParams(t),a=this._def.options;function n(s){for(let h of s)if(h.result.status==="valid")return h.result;for(let h of s)if(h.result.status==="dirty")return r.common.issues.push(...h.ctx.common.issues),h.result;let o=s.map(h=>new Qr(h.ctx.common.issues));return ut(r,{code:it.invalid_union,unionErrors:o}),wt}if(i(n,"P"),r.common.async)return Promise.all(a.map(async s=>{let o={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(n);{let s,o=[];for(let p of a){let v={...r,common:{...r.common,issues:[]},parent:null},c=p._parseSync({data:r.data,path:r.path,parent:v});if(c.status==="valid")return c;c.status==="dirty"&&!s&&(s={result:c,ctx:v}),v.common.issues.length&&o.push(v.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;let h=o.map(p=>new Qr(p));return ut(r,{code:it.invalid_union,unionErrors:h}),wt}}get options(){return this._def.options}}Co.create=(e,t)=>new Co({options:e,typeName:xt.ZodUnion,...At(t)});var hn=i(e=>e instanceof To?hn(e.schema):e instanceof Ni?hn(e.innerType()):e instanceof Po?[e.value]:e instanceof Un?e.options:e instanceof Do?Xt.objectValues(e.enum):e instanceof Lo?hn(e._def.innerType):e instanceof No?[void 0]:e instanceof Io?[null]:e instanceof Zi?[void 0,...hn(e.unwrap())]:e instanceof Fn?[null,...hn(e.unwrap())]:e instanceof Hv||e instanceof zo?hn(e.unwrap()):e instanceof Bo?hn(e._def.innerType):[],"a8");class Yf extends Rt{static{i(this,"n7")}_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==dt.object)return ut(r,{code:it.invalid_type,expected:dt.object,received:r.parsedType}),wt;let a=this.discriminator,n=r.data[a],s=this.optionsMap.get(n);return s?r.common.async?s._parseAsync({data:r.data,path:r.path,parent:r}):s._parseSync({data:r.data,path:r.path,parent:r}):(ut(r,{code:it.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[a]}),wt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,a){let n=new Map;for(let s of r){let o=hn(s.shape[t]);if(!o.length)throw Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(let h of o){if(n.has(h))throw Error(`Discriminator property ${String(t)} has duplicate value ${String(h)}`);n.set(h,s)}}return new Yf({typeName:xt.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:n,...At(a)})}}function yg(e,t){let r=vn(e),a=vn(t);if(e===t)return{valid:!0,data:e};if(r===dt.object&&a===dt.object){let n=Xt.objectKeys(t),s=Xt.objectKeys(e).filter(h=>n.indexOf(h)!==-1),o={...e,...t};for(let h of s){let p=yg(e[h],t[h]);if(!p.valid)return{valid:!1};o[h]=p.data}return{valid:!0,data:o}}else if(r===dt.array&&a===dt.array){if(e.length!==t.length)return{valid:!1};let n=[];for(let s=0;s<e.length;s++){let o=e[s],h=t[s],p=yg(o,h);if(!p.valid)return{valid:!1};n.push(p.data)}return{valid:!0,data:n}}else return r===dt.date&&a===dt.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}i(yg,"OO");class Ro extends Rt{static{i(this,"y_")}_parse(t){let{status:r,ctx:a}=this._processInputParams(t),n=i((s,o)=>{if(vg(s)||vg(o))return wt;let h=yg(s.value,o.value);return h.valid?((bg(s)||bg(o))&&r.dirty(),{status:r.value,value:h.data}):(ut(a,{code:it.invalid_intersection_types}),wt)},"P");return a.common.async?Promise.all([this._def.left._parseAsync({data:a.data,path:a.path,parent:a}),this._def.right._parseAsync({data:a.data,path:a.path,parent:a})]).then(([s,o])=>n(s,o)):n(this._def.left._parseSync({data:a.data,path:a.path,parent:a}),this._def.right._parseSync({data:a.data,path:a.path,parent:a}))}}Ro.create=(e,t,r)=>new Ro({left:e,right:t,typeName:xt.ZodIntersection,...At(r)});class Ki extends Rt{static{i(this,"I8")}_parse(t){let{status:r,ctx:a}=this._processInputParams(t);if(a.parsedType!==dt.array)return ut(a,{code:it.invalid_type,expected:dt.array,received:a.parsedType}),wt;if(a.data.length<this._def.items.length)return ut(a,{code:it.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),wt;!this._def.rest&&a.data.length>this._def.items.length&&(ut(a,{code:it.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let n=[...a.data].map((s,o)=>{let h=this._def.items[o]||this._def.rest;return h?h._parse(new qi(a,s,a.path,o)):null}).filter(s=>!!s);return a.common.async?Promise.all(n).then(s=>Cr.mergeArray(r,s)):Cr.mergeArray(r,n)}get items(){return this._def.items}rest(t){return new Ki({...this._def,rest:t})}}Ki.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ki({items:e,typeName:xt.ZodTuple,rest:null,...At(t)})};class Oo extends Rt{static{i(this,"B4")}get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:r,ctx:a}=this._processInputParams(t);if(a.parsedType!==dt.object)return ut(a,{code:it.invalid_type,expected:dt.object,received:a.parsedType}),wt;let n=[],s=this._def.keyType,o=this._def.valueType;for(let h in a.data)n.push({key:s._parse(new qi(a,h,a.path,h)),value:o._parse(new qi(a,a.data[h],a.path,h)),alwaysSet:h in a.data});return a.common.async?Cr.mergeObjectAsync(r,n):Cr.mergeObjectSync(r,n)}get element(){return this._def.valueType}static create(t,r,a){return r instanceof Rt?new Oo({keyType:t,valueType:r,typeName:xt.ZodRecord,...At(a)}):new Oo({keyType:Si.create(),valueType:t,typeName:xt.ZodRecord,...At(r)})}}class Ju extends Rt{static{i(this,"U4")}get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:r,ctx:a}=this._processInputParams(t);if(a.parsedType!==dt.map)return ut(a,{code:it.invalid_type,expected:dt.map,received:a.parsedType}),wt;let n=this._def.keyType,s=this._def.valueType,o=[...a.data.entries()].map(([h,p],v)=>({key:n._parse(new qi(a,h,a.path,[v,"key"])),value:s._parse(new qi(a,p,a.path,[v,"value"]))}));if(a.common.async){let h=new Map;return Promise.resolve().then(async()=>{for(let p of o){let v=await p.key,c=await p.value;if(v.status==="aborted"||c.status==="aborted")return wt;(v.status==="dirty"||c.status==="dirty")&&r.dirty(),h.set(v.value,c.value)}return{status:r.value,value:h}})}else{let h=new Map;for(let p of o){let{key:v,value:c}=p;if(v.status==="aborted"||c.status==="aborted")return wt;(v.status==="dirty"||c.status==="dirty")&&r.dirty(),h.set(v.value,c.value)}return{status:r.value,value:h}}}}Ju.create=(e,t,r)=>new Ju({valueType:t,keyType:e,typeName:xt.ZodMap,...At(r)});class ja extends Rt{static{i(this,"tK")}_parse(t){let{status:r,ctx:a}=this._processInputParams(t);if(a.parsedType!==dt.set)return ut(a,{code:it.invalid_type,expected:dt.set,received:a.parsedType}),wt;let n=this._def;n.minSize!==null&&a.data.size<n.minSize.value&&(ut(a,{code:it.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),r.dirty()),n.maxSize!==null&&a.data.size>n.maxSize.value&&(ut(a,{code:it.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),r.dirty());let s=this._def.valueType;function o(p){let v=new Set;for(let c of p){if(c.status==="aborted")return wt;c.status==="dirty"&&r.dirty(),v.add(c.value)}return{status:r.value,value:v}}i(o,"O");let h=[...a.data.values()].map((p,v)=>s._parse(new qi(a,p,a.path,v)));return a.common.async?Promise.all(h).then(p=>o(p)):o(h)}min(t,r){return new ja({...this._def,minSize:{value:t,message:vt.toString(r)}})}max(t,r){return new ja({...this._def,maxSize:{value:t,message:vt.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}ja.create=(e,t)=>new ja({valueType:e,minSize:null,maxSize:null,typeName:xt.ZodSet,...At(t)});class is extends Rt{static{i(this,"D_")}constructor(){super(...arguments),this.validate=this.implement}_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==dt.function)return ut(r,{code:it.invalid_type,expected:dt.function,received:r.parsedType}),wt;function a(h,p){return Vu({data:h,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Gu(),ls].filter(v=>!!v),issueData:{code:it.invalid_arguments,argumentsError:p}})}i(a,"K");function n(h,p){return Vu({data:h,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Gu(),ls].filter(v=>!!v),issueData:{code:it.invalid_return_type,returnTypeError:p}})}i(n,"P");let s={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof fs){let h=this;return Or(async function(...p){let v=new Qr([]),c=await h._def.args.parseAsync(p,s).catch(y=>{throw v.addIssue(a(p,y)),v}),d=await Reflect.apply(o,this,c);return await h._def.returns._def.type.parseAsync(d,s).catch(y=>{throw v.addIssue(n(d,y)),v})})}else{let h=this;return Or(function(...p){let v=h._def.args.safeParse(p,s);if(!v.success)throw new Qr([a(p,v.error)]);let c=Reflect.apply(o,this,v.data),d=h._def.returns.safeParse(c,s);if(!d.success)throw new Qr([n(c,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new is({...this._def,args:Ki.create(t).rest(ba.create())})}returns(t){return new is({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,a){return new is({args:t||Ki.create([]).rest(ba.create()),returns:r||ba.create(),typeName:xt.ZodFunction,...At(a)})}}class To extends Rt{static{i(this,"p_")}get schema(){return this._def.getter()}_parse(t){let{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}To.create=(e,t)=>new To({getter:e,typeName:xt.ZodLazy,...At(t)});class Po extends Rt{static{i(this,"x_")}_parse(t){if(t.data!==this._def.value){let r=this._getOrReturnCtx(t);return ut(r,{received:r.data,code:it.invalid_literal,expected:this._def.value}),wt}return{status:"valid",value:t.data}}get value(){return this._def.value}}Po.create=(e,t)=>new Po({value:e,typeName:xt.ZodLiteral,...At(t)});function YS(e,t){return new Un({values:e,typeName:xt.ZodEnum,...At(t)})}i(YS,"oH");class Un extends Rt{static{i(this,"MK")}_parse(t){if(typeof t.data!="string"){let r=this._getOrReturnCtx(t),a=this._def.values;return ut(r,{expected:Xt.joinValues(a),received:r.parsedType,code:it.invalid_type}),wt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){let r=this._getOrReturnCtx(t),a=this._def.values;return ut(r,{received:r.data,code:it.invalid_enum_value,options:a}),wt}return Or(t.data)}get options(){return this._def.values}get enum(){let t={};for(let r of this._def.values)t[r]=r;return t}get Values(){let t={};for(let r of this._def.values)t[r]=r;return t}get Enum(){let t={};for(let r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Un.create(t,{...this._def,...r})}exclude(t,r=this._def){return Un.create(this.options.filter(a=>!t.includes(a)),{...this._def,...r})}}Un.create=YS;class Do extends Rt{static{i(this,"c_")}_parse(t){let r=Xt.getValidEnumValues(this._def.values),a=this._getOrReturnCtx(t);if(a.parsedType!==dt.string&&a.parsedType!==dt.number){let n=Xt.objectValues(r);return ut(a,{expected:Xt.joinValues(n),received:a.parsedType,code:it.invalid_type}),wt}if(this._cache||(this._cache=new Set(Xt.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){let n=Xt.objectValues(r);return ut(a,{received:a.data,code:it.invalid_enum_value,options:n}),wt}return Or(t.data)}get enum(){return this._def.values}}Do.create=(e,t)=>new Do({values:e,typeName:xt.ZodNativeEnum,...At(t)});class fs extends Rt{static{i(this,"BK")}unwrap(){return this._def.type}_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==dt.promise&&r.common.async===!1)return ut(r,{code:it.invalid_type,expected:dt.promise,received:r.parsedType}),wt;let a=r.parsedType===dt.promise?r.data:Promise.resolve(r.data);return Or(a.then(n=>this._def.type.parseAsync(n,{path:r.path,errorMap:r.common.contextualErrorMap})))}}fs.create=(e,t)=>new fs({type:e,typeName:xt.ZodPromise,...At(t)});class Ni extends Rt{static{i(this,"G8")}innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===xt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){let{status:r,ctx:a}=this._processInputParams(t),n=this._def.effect||null,s={addIssue:i(o=>{ut(a,o),o.fatal?r.abort():r.dirty()},"addIssue"),get path(){return a.path}};if(s.addIssue=s.addIssue.bind(s),n.type==="preprocess"){let o=n.transform(a.data,s);if(a.common.async)return Promise.resolve(o).then(async h=>{if(r.value==="aborted")return wt;let p=await this._def.schema._parseAsync({data:h,path:a.path,parent:a});return p.status==="aborted"?wt:p.status==="dirty"||r.value==="dirty"?Qa(p.value):p});{if(r.value==="aborted")return wt;let h=this._def.schema._parseSync({data:o,path:a.path,parent:a});return h.status==="aborted"?wt:h.status==="dirty"||r.value==="dirty"?Qa(h.value):h}}if(n.type==="refinement"){let o=i(h=>{let p=n.refinement(h,s);if(a.common.async)return Promise.resolve(p);if(p instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return h},"O");if(a.common.async===!1){let h=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});return h.status==="aborted"?wt:(h.status==="dirty"&&r.dirty(),o(h.value),{status:r.value,value:h.value})}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(h=>h.status==="aborted"?wt:(h.status==="dirty"&&r.dirty(),o(h.value).then(()=>({status:r.value,value:h.value}))))}if(n.type==="transform")if(a.common.async===!1){let o=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});if(!ka(o))return wt;let h=n.transform(o.value,s);if(h instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:h}}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(o=>ka(o)?Promise.resolve(n.transform(o.value,s)).then(h=>({status:r.value,value:h})):wt);Xt.assertNever(n)}}Ni.create=(e,t,r)=>new Ni({schema:e,typeName:xt.ZodEffects,effect:t,...At(r)});Ni.createWithPreprocess=(e,t,r)=>new Ni({schema:t,effect:{type:"preprocess",transform:e},typeName:xt.ZodEffects,...At(r)});class Zi extends Rt{static{i(this,"k8")}_parse(t){return this._getType(t)===dt.undefined?Or(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Zi.create=(e,t)=>new Zi({innerType:e,typeName:xt.ZodOptional,...At(t)});class Fn extends Rt{static{i(this,"Q8")}_parse(t){return this._getType(t)===dt.null?Or(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Fn.create=(e,t)=>new Fn({innerType:e,typeName:xt.ZodNullable,...At(t)});class Lo extends Rt{static{i(this,"m_")}_parse(t){let{ctx:r}=this._processInputParams(t),a=r.data;return r.parsedType===dt.undefined&&(a=this._def.defaultValue()),this._def.innerType._parse({data:a,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Lo.create=(e,t)=>new Lo({innerType:e,typeName:xt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...At(t)});class Bo extends Rt{static{i(this,"d_")}_parse(t){let{ctx:r}=this._processInputParams(t),a={...r,common:{...r.common,issues:[]}},n=this._def.innerType._parse({data:a.data,path:a.path,parent:{...a}});return Ao(n)?n.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Qr(a.common.issues)},input:a.data})})):{status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new Qr(a.common.issues)},input:a.data})}}removeCatch(){return this._def.innerType}}Bo.create=(e,t)=>new Bo({innerType:e,typeName:xt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...At(t)});class qu extends Rt{static{i(this,"F4")}_parse(t){if(this._getType(t)!==dt.nan){let r=this._getOrReturnCtx(t);return ut(r,{code:it.invalid_type,expected:dt.nan,received:r.parsedType}),wt}return{status:"valid",value:t.data}}}qu.create=e=>new qu({typeName:xt.ZodNaN,...At(e)});var Jz=Symbol("zod_brand");class Hv extends Rt{static{i(this,"i7")}_parse(t){let{ctx:r}=this._processInputParams(t),a=r.data;return this._def.type._parse({data:a,path:r.path,parent:r})}unwrap(){return this._def.type}}class ul extends Rt{static{i(this,"a4")}_parse(t){let{status:r,ctx:a}=this._processInputParams(t);if(a.common.async)return(async()=>{let n=await this._def.in._parseAsync({data:a.data,path:a.path,parent:a});return n.status==="aborted"?wt:n.status==="dirty"?(r.dirty(),Qa(n.value)):this._def.out._parseAsync({data:n.value,path:a.path,parent:a})})();{let n=this._def.in._parseSync({data:a.data,path:a.path,parent:a});return n.status==="aborted"?wt:n.status==="dirty"?(r.dirty(),{status:"dirty",value:n.value}):this._def.out._parseSync({data:n.value,path:a.path,parent:a})}}static create(t,r){return new ul({in:t,out:r,typeName:xt.ZodPipeline})}}class zo extends Rt{static{i(this,"l_")}_parse(t){let r=this._def.innerType._parse(t),a=i(n=>(ka(n)&&(n.value=Object.freeze(n.value)),n),"K");return Ao(r)?r.then(n=>a(n)):a(r)}unwrap(){return this._def.innerType}}zo.create=(e,t)=>new zo({innerType:e,typeName:xt.ZodReadonly,...At(t)});function j4(e,t){let r=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof r=="string"?{message:r}:r}i(j4,"cH");function eM(e,t={},r){return e?us.create().superRefine((a,n)=>{let s=e(a);if(s instanceof Promise)return s.then(o=>{if(!o){let h=j4(t,a),p=h.fatal??r??!0;n.addIssue({code:"custom",...h,fatal:p})}});if(!s){let o=j4(t,a),h=o.fatal??r??!0;n.addIssue({code:"custom",...o,fatal:h})}}):us.create()}i(eM,"rH");var qz={object:sr.lazycreate},xt;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(xt||(xt={}));var Kz=i((e,t={message:`Input not instance of ${e.name}`})=>eM(r=>r instanceof e,t),"FM"),tM=Si.create,rM=Bn.create,Xz=qu.create,Wz=zn.create,iM=jo.create,Qz=Aa.create,Yz=Zu.create,eU=No.create,tU=Io.create,rU=us.create,iU=ba.create,nU=Mn.create,aU=Hu.create,sU=Ei.create,oU=sr.create,lU=sr.strictCreate,uU=Co.create,fU=Yf.create,cU=Ro.create,dU=Ki.create,hU=Oo.create,pU=Ju.create,mU=ja.create,gU=is.create,vU=To.create,bU=Po.create,yU=Un.create,wU=Do.create,xU=fs.create,N4=Ni.create,_U=Zi.create,SU=Fn.create,MU=Ni.createWithPreprocess,EU=ul.create,kU=i(()=>tM().optional(),"h0"),AU=i(()=>rM().optional(),"R0"),jU=i(()=>iM().optional(),"I0"),NU={string:i(e=>Si.create({...e,coerce:!0}),"string"),number:i(e=>Bn.create({...e,coerce:!0}),"number"),boolean:i(e=>jo.create({...e,coerce:!0}),"boolean"),bigint:i(e=>zn.create({...e,coerce:!0}),"bigint"),date:i(e=>Aa.create({...e,coerce:!0}),"date")},IU=wt;ti(Cv(),1);var CU=[];for(Yl=0;Yl<256;++Yl)CU.push((Yl+256).toString(16).slice(1));var Yl;typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var nM={};$r(nM,{validator:i(()=>Xu,"validator"),validate:i(()=>sM,"validate"),getValueByPointer:i(()=>Ku,"getValueByPointer"),deepClone:i(()=>LU,"deepClone"),applyReducer:i(()=>zU,"applyReducer"),applyPatch:i(()=>aM,"applyPatch"),applyOperation:i(()=>ya,"applyOperation"),_areEquals:i(()=>Uo,"_areEquals"),JsonPatchError:i(()=>or,"JsonPatchError")});/*!
* https://github.com/Starcounter-Jack/JSON-Patch
* (c) 2017-2022 Joachim Wester
* MIT licensed
*/var RU=Object.prototype.hasOwnProperty;function OU(e,t){return RU.call(e,t)}i(OU,"PJ");function TU(e){if(Array.isArray(e)){let r=Array(e.length);for(let a=0;a<r.length;a++)r[a]=""+a;return r}if(Object.keys)return Object.keys(e);let t=[];for(let r in e)OU(e,r)&&t.push(r);return t}i(TU,"jJ");function Na(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}i(Na,"P8");function wg(e){let t=0,r=e.length,a;for(;t<r;){if(a=e.charCodeAt(t),a>=48&&a<=57){t++;continue}return!1}return!0}i(wg,"Q7");function PU(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}i(PU,"e4");function xg(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(let r=0,a=e.length;r<a;r++)if(xg(e[r]))return!0}else if(typeof e=="object"){let r=TU(e),a=r.length;for(var t=0;t<a;t++)if(xg(e[r[t]]))return!0}}return!1}i(xg,"a7");function I4(e,t){let r=[e];for(let a in t){let n=typeof t[a]=="object"?JSON.stringify(t[a],null,2):t[a];typeof n<"u"&&r.push(`${a}: ${n}`)}return r.join(`
`)}i(I4,"_J");class DU extends Error{static{i(this,"r_")}constructor(t,r,a,n,s){super(I4(t,{name:r,index:a,operation:n,tree:s})),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"index",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"operation",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"tree",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.setPrototypeOf(this,new.target.prototype),this.message=I4(t,{name:r,index:a,operation:n,tree:s})}}var or=DU,LU=Na,Ya={add:i(function(e,t,r){return e[t]=this.value,{newDocument:r}},"add"),remove:i(function(e,t,r){var a=e[t];return delete e[t],{newDocument:r,removed:a}},"remove"),replace:i(function(e,t,r){var a=e[t];return e[t]=this.value,{newDocument:r,removed:a}},"replace"),move:i(function(e,t,r){let a=Ku(r,this.path);a&&(a=Na(a));let n=ya(r,{op:"remove",path:this.from}).removed;return ya(r,{op:"add",path:this.path,value:n}),{newDocument:r,removed:a}},"move"),copy:i(function(e,t,r){let a=Ku(r,this.from);return ya(r,{op:"add",path:this.path,value:Na(a)}),{newDocument:r}},"copy"),test:i(function(e,t,r){return{newDocument:r,test:Uo(e[t],this.value)}},"test"),_get:i(function(e,t,r){return this.value=e[t],{newDocument:r}},"_get")},BU={add:i(function(e,t,r){return wg(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:r,index:t}},"add"),remove:i(function(e,t,r){var a=e.splice(t,1);return{newDocument:r,removed:a[0]}},"remove"),replace:i(function(e,t,r){var a=e[t];return e[t]=this.value,{newDocument:r,removed:a}},"replace"),move:Ya.move,copy:Ya.copy,test:Ya.test,_get:Ya._get};function Ku(e,t){if(t=="")return e;var r={op:"_get",path:t};return ya(e,r),r.value}i(Ku,"s7");function ya(e,t,r=!1,a=!0,n=!0,s=0){if(r&&(typeof r=="function"?r(t,0,e,t.path):Xu(t,0)),t.path===""){let o={newDocument:e};if(t.op==="add")return o.newDocument=t.value,o;if(t.op==="replace")return o.newDocument=t.value,o.removed=e,o;if(t.op==="move"||t.op==="copy")return o.newDocument=Ku(e,t.from),t.op==="move"&&(o.removed=e),o;if(t.op==="test"){if(o.test=Uo(e,t.value),o.test===!1)throw new or("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o.newDocument=e,o}else{if(t.op==="remove")return o.removed=e,o.newDocument=null,o;if(t.op==="_get")return t.value=e,o;if(r)throw new or("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",s,t,e);return o}}else{a||(e=Na(e));let o=(t.path||"").split("/"),h=e,p=1,v=o.length,c,d,y;for(typeof r=="function"?y=r:y=Xu;;){if(d=o[p],d&&d.indexOf("~")!=-1&&(d=PU(d)),n&&(d=="__proto__"||d=="prototype"&&p>0&&o[p-1]=="constructor"))throw TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(r&&c===void 0&&(h[d]===void 0?c=o.slice(0,p).join("/"):p==v-1&&(c=t.path),c!==void 0&&y(t,0,e,c)),p++,Array.isArray(h)){if(d==="-")d=h.length;else{if(r&&!wg(d))throw new or("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",s,t,e);wg(d)&&(d=~~d)}if(p>=v){if(r&&t.op==="add"&&d>h.length)throw new or("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",s,t,e);let b=BU[t.op].call(t,h,d,e);if(b.test===!1)throw new or("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return b}}else if(p>=v){let b=Ya[t.op].call(t,h,d,e);if(b.test===!1)throw new or("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return b}if(h=h[d],r&&p<v&&(!h||typeof h!="object"))throw new or("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",s,t,e)}}}i(ya,"FK");function aM(e,t,r,a=!0,n=!0){if(r&&!Array.isArray(t))throw new or("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");a||(e=Na(e));let s=Array(t.length);for(let o=0,h=t.length;o<h;o++)s[o]=ya(e,t[o],r,!0,n,o),e=s[o].newDocument;return s.newDocument=e,s}i(aM,"aK");function zU(e,t,r){let a=ya(e,t);if(a.test===!1)throw new or("Test operation failed","TEST_OPERATION_FAILED",r,t,e);return a.newDocument}i(zU,"Q0");function Xu(e,t,r,a){if(typeof e!="object"||e===null||Array.isArray(e))throw new or("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,r);if(Ya[e.op]){if(typeof e.path!="string")throw new or("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,r);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new or('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,r);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new or("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,r);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new or("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,r);if((e.op==="add"||e.op==="replace"||e.op==="test")&&xg(e.value))throw new or("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,r);if(r){if(e.op=="add"){var n=e.path.split("/").length,s=a.split("/").length;if(n!==s+1&&n!==s)throw new or("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,r)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==a)throw new or("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,r)}else if(e.op==="move"||e.op==="copy"){var o={op:"_get",path:e.from,value:void 0},h=sM([o],r);if(h&&h.name==="OPERATION_PATH_UNRESOLVABLE")throw new or("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,r)}}}else throw new or("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,r)}i(Xu,"$1");function sM(e,t,r){try{if(!Array.isArray(e))throw new or("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)aM(Na(t),Na(e),r||!0);else{r=r||Xu;for(var a=0;a<e.length;a++)r(e[a],a,t,void 0)}}catch(n){if(n instanceof or)return n;throw n}}i(sM,"OJ");function Uo(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var r=Array.isArray(e),a=Array.isArray(t),n,s,o;if(r&&a){if(s=e.length,s!=t.length)return!1;for(n=s;n--!==0;)if(!Uo(e[n],t[n]))return!1;return!0}if(r!=a)return!1;var h=Object.keys(e);if(s=h.length,s!==Object.keys(t).length)return!1;for(n=s;n--!==0;)if(!t.hasOwnProperty(h[n]))return!1;for(n=s;n--!==0;)if(o=h[n],!Uo(e[o],t[o]))return!1;return!0}return e!==e&&t!==t}i(Uo,"s4");/*!
* https://github.com/Starcounter-Jack/JSON-Patch
* (c) 2013-2021 Joachim Wester
* MIT license
*/({...nM});var UU=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;function FU(e){return typeof e=="string"&&UU.test(e)}i(FU,"e0");var $U=FU;function GU(e){if(!$U(e))throw TypeError("Invalid UUID");var t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}i(GU,"s0");var VU=GU,Sr=[];for(eu=0;eu<256;++eu)Sr.push((eu+256).toString(16).slice(1));var eu;function ZU(e,t=0){return(Sr[e[t+0]]+Sr[e[t+1]]+Sr[e[t+2]]+Sr[e[t+3]]+"-"+Sr[e[t+4]]+Sr[e[t+5]]+"-"+Sr[e[t+6]]+Sr[e[t+7]]+"-"+Sr[e[t+8]]+Sr[e[t+9]]+"-"+Sr[e[t+10]]+Sr[e[t+11]]+Sr[e[t+12]]+Sr[e[t+13]]+Sr[e[t+14]]+Sr[e[t+15]]).toLowerCase()}i(ZU,"q1");function HU(e){e=unescape(encodeURIComponent(e));for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}i(HU,"qN");var JU="6ba7b810-9dad-11d1-80b4-00c04fd430c8",qU="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function KU(e,t,r){function a(n,s,o,h){var p;if(typeof n=="string"&&(n=HU(n)),typeof s=="string"&&(s=VU(s)),((p=s)===null||p===void 0?void 0:p.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var v=new Uint8Array(16+n.length);if(v.set(s),v.set(n,s.length),v=r(v),v[6]=v[6]&15|t,v[8]=v[8]&63|128,o){h=h||0;for(var c=0;c<16;++c)o[h+c]=v[c];return o}return ZU(v)}i(a,"P");try{a.name=e}catch{}return a.DNS=JU,a.URL=qU,a}i(KU,"TO");typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);function XU(e,t,r,a){switch(e){case 0:return t&r^~t&a;case 1:return t^r^a;case 2:return t&r^t&a^r&a;case 3:return t^r^a}}i(XU,"ON");function _p(e,t){return e<<t|e>>>32-t}i(_p,"ZO");function WU(e){var t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){var a=unescape(encodeURIComponent(e));e=[];for(var n=0;n<a.length;++n)e.push(a.charCodeAt(n))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var s=e.length/4+2,o=Math.ceil(s/16),h=Array(o),p=0;p<o;++p){for(var v=new Uint32Array(16),c=0;c<16;++c)v[c]=e[p*64+c*4]<<24|e[p*64+c*4+1]<<16|e[p*64+c*4+2]<<8|e[p*64+c*4+3];h[p]=v}h[o-1][14]=(e.length-1)*8/Math.pow(2,32),h[o-1][14]=Math.floor(h[o-1][14]),h[o-1][15]=(e.length-1)*8&4294967295;for(var d=0;d<o;++d){for(var y=new Uint32Array(80),b=0;b<16;++b)y[b]=h[d][b];for(var x=16;x<80;++x)y[x]=_p(y[x-3]^y[x-8]^y[x-14]^y[x-16],1);for(var k=r[0],N=r[1],C=r[2],R=r[3],O=r[4],T=0;T<80;++T){var P=Math.floor(T/20),z=_p(k,5)+XU(P,N,C,R)+O+t[P]+y[T]>>>0;O=R,R=C,C=_p(N,30)>>>0,N=k,k=z}r[0]=r[0]+k>>>0,r[1]=r[1]+N>>>0,r[2]=r[2]+C>>>0,r[3]=r[3]+R>>>0,r[4]=r[4]+O>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}i(WU,"YN");var QU=WU;KU("v5",80,QU);ti(Cv(),1);ti(Rv(),1);ti(wL(),1);new TextEncoder;ti(xL(),1);ti(_L(),1);var YU=ti(SL(),1),{color:Ite}=YU.default;ti(Rv(),1);ti(Cv(),1);ti(Rv(),1);function ec(e,t,r){function a(h,p){var v;Object.defineProperty(h,"_zod",{value:h._zod??{},enumerable:!1}),(v=h._zod).traits??(v.traits=new Set),h._zod.traits.add(e),t(h,p);for(let c in o.prototype)c in h||Object.defineProperty(h,c,{value:o.prototype[c].bind(h)});h._zod.constr=o,h._zod.def=p}i(a,"P");let n=r?.Parent??Object;class s extends n{static{i(this,"O")}}Object.defineProperty(s,"name",{value:e});function o(h){var p;let v=r?.Parent?new s:this;a(v,h),(p=v._zod).deferred??(p.deferred=[]);for(let c of v._zod.deferred)c();return v}return i(o,"j"),Object.defineProperty(o,"init",{value:a}),Object.defineProperty(o,Symbol.hasInstance,{value:i(h=>r?.Parent&&h instanceof r.Parent?!0:h?._zod?.traits?.has(e),"value")}),Object.defineProperty(o,"name",{value:e}),o}i(ec,"Q_");class _g extends Error{static{i(this,"K_")}constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}var eF={};function oM(e){return eF}i(oM,"XP");function tF(e,t){return typeof t=="bigint"?t.toString():t}i(tF,"OX");function Sp(e,t=0){for(let r=t;r<e.issues.length;r++)if(e.issues[r]?.continue!==!0)return!0;return!1}i(Sp,"r1");function tu(e){return typeof e=="string"?e:e?.message}i(tu,"o1");function lM(e,t,r){let a={...e,path:e.path??[]};if(!e.message){let n=tu(e.inst?._zod.def?.error?.(e))??tu(t?.error?.(e))??tu(r.customError?.(e))??tu(r.localeError?.(e))??"Invalid input";a.message=n}return delete a.inst,delete a.continue,!t?.reportInput&&delete a.input,a}i(lM,"fP");var uM=i((e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),Object.defineProperty(e,"message",{get(){return JSON.stringify(t,tF,2)},enumerable:!0}),Object.defineProperty(e,"toString",{value:i(()=>e.message,"value"),enumerable:!1})},"WX"),rF=ec("$ZodError",uM),fM=ec("$ZodError",uM,{Parent:Error}),iF=i(e=>(t,r,a)=>{let n=a?{...a,async:!1}:{async:!1},s=t._zod.run({value:r,issues:[]},n);if(s instanceof Promise)throw new _g;return s.issues.length?{success:!1,error:new(e??rF)(s.issues.map(o=>lM(o,n,oM())))}:{success:!0,data:s.value}},"SR"),nF=iF(fM),aF=i(e=>async(t,r,a)=>{let n=a?Object.assign(a,{async:!0}):{async:!0},s=t._zod.run({value:r,issues:[]},n);return s instanceof Promise&&(s=await s),s.issues.length?{success:!1,error:new e(s.issues.map(o=>lM(o,n,oM())))}:{success:!0,data:s.value}},"MR"),sF=aF(fM),oF={major:4,minor:0,patch:0},lF=ec("$ZodType",(e,t)=>{var r;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=oF;let a=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&a.unshift(e);for(let n of a)for(let s of n._zod.onattach)s(e);if(a.length===0)(r=e._zod).deferred??(r.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{let n=i((s,o,h)=>{let p=Sp(s),v;for(let c of o){if(c._zod.def.when){if(!c._zod.def.when(s))continue}else if(p)continue;let d=s.issues.length,y=c._zod.check(s);if(y instanceof Promise&&h?.async===!1)throw new _g;if(v||y instanceof Promise)v=(v??Promise.resolve()).then(async()=>{await y,s.issues.length!==d&&(p||(p=Sp(s,d)))});else{if(s.issues.length===d)continue;p||(p=Sp(s,d))}}return v?v.then(()=>s):s},"_");e._zod.run=(s,o)=>{let h=e._zod.parse(s,o);if(h instanceof Promise){if(o.async===!1)throw new _g;return h.then(p=>n(p,a,o))}return n(h,a,o)}}e["~standard"]={validate:i(n=>{try{let s=nF(e,n);return s.success?{value:s.data}:{issues:s.error?.issues}}catch{return sF(e,n).then(o=>o.success?{value:o.data}:{issues:o.error?.issues})}},"validate"),vendor:"zod",version:1}});ec("$ZodNever",(e,t)=>{lF.init(e,t),e._zod.parse=(r,a)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:e}),r)});var ct={};$r(ct,{xid:i(()=>DV,"xid"),void:i(()=>sZ,"void"),uuidv7:i(()=>jV,"uuidv7"),uuidv6:i(()=>AV,"uuidv6"),uuidv4:i(()=>kV,"uuidv4"),uuid:i(()=>EV,"uuid"),util:i(()=>Kt,"util"),url:i(()=>NV,"url"),uppercase:i(()=>$1,"uppercase"),unknown:i(()=>ps,"unknown"),union:i(()=>_b,"union"),undefined:i(()=>nZ,"undefined"),ulid:i(()=>PV,"ulid"),uint64:i(()=>rZ,"uint64"),uint32:i(()=>YV,"uint32"),tuple:i(()=>dj,"tuple"),trim:i(()=>q1,"trim"),treeifyError:i(()=>MM,"treeifyError"),transform:i(()=>Eb,"transform"),toUpperCase:i(()=>X1,"toUpperCase"),toLowerCase:i(()=>K1,"toLowerCase"),toJSONSchema:i(()=>RA,"toJSONSchema"),templateLiteral:i(()=>SZ,"templateLiteral"),symbol:i(()=>iZ,"symbol"),superRefine:i(()=>Lj,"superRefine"),success:i(()=>wZ,"success"),stringbool:i(()=>jZ,"stringbool"),stringFormat:i(()=>HV,"stringFormat"),string:i(()=>jg,"string"),strictObject:i(()=>fZ,"strictObject"),startsWith:i(()=>V1,"startsWith"),size:i(()=>z1,"size"),setErrorMap:i(()=>RZ,"setErrorMap"),set:i(()=>mZ,"set"),safeParseAsync:i(()=>$A,"safeParseAsync"),safeParse:i(()=>FA,"safeParse"),safeEncodeAsync:i(()=>KA,"safeEncodeAsync"),safeEncode:i(()=>JA,"safeEncode"),safeDecodeAsync:i(()=>XA,"safeDecodeAsync"),safeDecode:i(()=>qA,"safeDecode"),registry:i(()=>b1,"registry"),regexes:i(()=>Pa,"regexes"),regex:i(()=>U1,"regex"),refine:i(()=>Dj,"refine"),record:i(()=>hj,"record"),readonly:i(()=>Ij,"readonly"),property:i(()=>MA,"property"),promise:i(()=>MZ,"promise"),prettifyError:i(()=>kM,"prettifyError"),preprocess:i(()=>IZ,"preprocess"),prefault:i(()=>Sj,"prefault"),positive:i(()=>wA,"positive"),pipe:i(()=>of,"pipe"),partialRecord:i(()=>hZ,"partialRecord"),parseAsync:i(()=>UA,"parseAsync"),parse:i(()=>zA,"parse"),overwrite:i(()=>Da,"overwrite"),optional:i(()=>af,"optional"),object:i(()=>uZ,"object"),number:i(()=>WA,"number"),nullish:i(()=>yZ,"nullish"),nullable:i(()=>sf,"nullable"),null:i(()=>rj,"null"),normalize:i(()=>J1,"normalize"),nonpositive:i(()=>_A,"nonpositive"),nonoptional:i(()=>Mj,"nonoptional"),nonnegative:i(()=>SA,"nonnegative"),never:i(()=>yb,"never"),negative:i(()=>xA,"negative"),nativeEnum:i(()=>gZ,"nativeEnum"),nanoid:i(()=>RV,"nanoid"),nan:i(()=>xZ,"nan"),multipleOf:i(()=>Fo,"multipleOf"),minSize:i(()=>$o,"minSize"),minLength:i(()=>hs,"minLength"),mime:i(()=>H1,"mime"),maxSize:i(()=>sc,"maxSize"),maxLength:i(()=>oc,"maxLength"),map:i(()=>pZ,"map"),lte:i(()=>ki,"lte"),lt:i(()=>Ca,"lt"),lowercase:i(()=>F1,"lowercase"),looseObject:i(()=>cZ,"looseObject"),locales:i(()=>g1,"locales"),literal:i(()=>vZ,"literal"),length:i(()=>lc,"length"),lazy:i(()=>Oj,"lazy"),ksuid:i(()=>LV,"ksuid"),keyof:i(()=>lZ,"keyof"),jwt:i(()=>ZV,"jwt"),json:i(()=>NZ,"json"),iso:i(()=>OA,"iso"),ipv6:i(()=>zV,"ipv6"),ipv4:i(()=>BV,"ipv4"),intersection:i(()=>fj,"intersection"),int64:i(()=>tZ,"int64"),int32:i(()=>QV,"int32"),int:i(()=>Ng,"int"),instanceof:i(()=>AZ,"instanceof"),includes:i(()=>G1,"includes"),httpUrl:i(()=>IV,"httpUrl"),hostname:i(()=>JV,"hostname"),hex:i(()=>qV,"hex"),hash:i(()=>KV,"hash"),guid:i(()=>MV,"guid"),gte:i(()=>Xr,"gte"),gt:i(()=>Ra,"gt"),globalRegistry:i(()=>ha,"globalRegistry"),getErrorMap:i(()=>OZ,"getErrorMap"),function:i(()=>H4,"function"),formatError:i(()=>Wv,"formatError"),float64:i(()=>WV,"float64"),float32:i(()=>XV,"float32"),flattenError:i(()=>Xv,"flattenError"),file:i(()=>bZ,"file"),enum:i(()=>Mb,"enum"),endsWith:i(()=>Z1,"endsWith"),encodeAsync:i(()=>ZA,"encodeAsync"),encode:i(()=>GA,"encode"),emoji:i(()=>CV,"emoji"),email:i(()=>SV,"email"),e164:i(()=>VV,"e164"),discriminatedUnion:i(()=>dZ,"discriminatedUnion"),decodeAsync:i(()=>HA,"decodeAsync"),decode:i(()=>VA,"decode"),date:i(()=>oZ,"date"),custom:i(()=>kZ,"custom"),cuid2:i(()=>TV,"cuid2"),cuid:i(()=>OV,"cuid"),core:i(()=>cM,"core"),config:i(()=>Tr,"config"),coerce:i(()=>Bj,"coerce"),codec:i(()=>_Z,"codec"),clone:i(()=>hi,"clone"),cidrv6:i(()=>FV,"cidrv6"),cidrv4:i(()=>UV,"cidrv4"),check:i(()=>EZ,"check"),catch:i(()=>Aj,"catch"),boolean:i(()=>QA,"boolean"),bigint:i(()=>eZ,"bigint"),base64url:i(()=>GV,"base64url"),base64:i(()=>$V,"base64"),array:i(()=>pc,"array"),any:i(()=>aZ,"any"),_function:i(()=>H4,"_function"),_default:i(()=>xj,"_default"),_ZodString:i(()=>tb,"_ZodString"),ZodXID:i(()=>lb,"ZodXID"),ZodVoid:i(()=>sj,"ZodVoid"),ZodUnknown:i(()=>nj,"ZodUnknown"),ZodUnion:i(()=>xb,"ZodUnion"),ZodUndefined:i(()=>ej,"ZodUndefined"),ZodUUID:i(()=>wn,"ZodUUID"),ZodURL:i(()=>fc,"ZodURL"),ZodULID:i(()=>ob,"ZodULID"),ZodType:i(()=>Ot,"ZodType"),ZodTuple:i(()=>cj,"ZodTuple"),ZodTransform:i(()=>bj,"ZodTransform"),ZodTemplateLiteral:i(()=>Cj,"ZodTemplateLiteral"),ZodSymbol:i(()=>YA,"ZodSymbol"),ZodSuccess:i(()=>Ej,"ZodSuccess"),ZodStringFormat:i(()=>nr,"ZodStringFormat"),ZodString:i(()=>uc,"ZodString"),ZodSet:i(()=>mj,"ZodSet"),ZodRecord:i(()=>Sb,"ZodRecord"),ZodRealError:i(()=>ii,"ZodRealError"),ZodReadonly:i(()=>Nj,"ZodReadonly"),ZodPromise:i(()=>Tj,"ZodPromise"),ZodPrefault:i(()=>_j,"ZodPrefault"),ZodPipe:i(()=>jb,"ZodPipe"),ZodOptional:i(()=>kb,"ZodOptional"),ZodObject:i(()=>mc,"ZodObject"),ZodNumberFormat:i(()=>Ss,"ZodNumberFormat"),ZodNumber:i(()=>cc,"ZodNumber"),ZodNullable:i(()=>yj,"ZodNullable"),ZodNull:i(()=>tj,"ZodNull"),ZodNonOptional:i(()=>Ab,"ZodNonOptional"),ZodNever:i(()=>aj,"ZodNever"),ZodNanoID:i(()=>nb,"ZodNanoID"),ZodNaN:i(()=>jj,"ZodNaN"),ZodMap:i(()=>pj,"ZodMap"),ZodLiteral:i(()=>gj,"ZodLiteral"),ZodLazy:i(()=>Rj,"ZodLazy"),ZodKSUID:i(()=>ub,"ZodKSUID"),ZodJWT:i(()=>vb,"ZodJWT"),ZodIssueCode:i(()=>CZ,"ZodIssueCode"),ZodIntersection:i(()=>uj,"ZodIntersection"),ZodISOTime:i(()=>Y1,"ZodISOTime"),ZodISODuration:i(()=>eb,"ZodISODuration"),ZodISODateTime:i(()=>W1,"ZodISODateTime"),ZodISODate:i(()=>Q1,"ZodISODate"),ZodIPv6:i(()=>cb,"ZodIPv6"),ZodIPv4:i(()=>fb,"ZodIPv4"),ZodGUID:i(()=>nf,"ZodGUID"),ZodFunction:i(()=>Pj,"ZodFunction"),ZodFirstPartyTypeKind:i(()=>Ig,"ZodFirstPartyTypeKind"),ZodFile:i(()=>vj,"ZodFile"),ZodError:i(()=>_V,"ZodError"),ZodEnum:i(()=>Go,"ZodEnum"),ZodEmoji:i(()=>ib,"ZodEmoji"),ZodEmail:i(()=>rb,"ZodEmail"),ZodE164:i(()=>gb,"ZodE164"),ZodDiscriminatedUnion:i(()=>lj,"ZodDiscriminatedUnion"),ZodDefault:i(()=>wj,"ZodDefault"),ZodDate:i(()=>wb,"ZodDate"),ZodCustomStringFormat:i(()=>wl,"ZodCustomStringFormat"),ZodCustom:i(()=>gc,"ZodCustom"),ZodCodec:i(()=>Nb,"ZodCodec"),ZodCatch:i(()=>kj,"ZodCatch"),ZodCUID2:i(()=>sb,"ZodCUID2"),ZodCUID:i(()=>ab,"ZodCUID"),ZodCIDRv6:i(()=>hb,"ZodCIDRv6"),ZodCIDRv4:i(()=>db,"ZodCIDRv4"),ZodBoolean:i(()=>dc,"ZodBoolean"),ZodBigIntFormat:i(()=>bb,"ZodBigIntFormat"),ZodBigInt:i(()=>hc,"ZodBigInt"),ZodBase64URL:i(()=>mb,"ZodBase64URL"),ZodBase64:i(()=>pb,"ZodBase64"),ZodArray:i(()=>oj,"ZodArray"),ZodAny:i(()=>ij,"ZodAny"),TimePrecision:i(()=>Hk,"TimePrecision"),NEVER:i(()=>dM,"NEVER"),$output:i(()=>$k,"$output"),$input:i(()=>Gk,"$input"),$brand:i(()=>hM,"$brand")});var cM={};$r(cM,{version:i(()=>AE,"version"),util:i(()=>Kt,"util"),treeifyError:i(()=>MM,"treeifyError"),toJSONSchema:i(()=>RA,"toJSONSchema"),toDotPath:i(()=>EM,"toDotPath"),safeParseAsync:i(()=>jM,"safeParseAsync"),safeParse:i(()=>AM,"safeParse"),safeEncodeAsync:i(()=>FF,"safeEncodeAsync"),safeEncode:i(()=>zF,"safeEncode"),safeDecodeAsync:i(()=>$F,"safeDecodeAsync"),safeDecode:i(()=>UF,"safeDecode"),registry:i(()=>b1,"registry"),regexes:i(()=>Pa,"regexes"),prettifyError:i(()=>kM,"prettifyError"),parseAsync:i(()=>Eg,"parseAsync"),parse:i(()=>Mg,"parse"),locales:i(()=>g1,"locales"),isValidJWT:i(()=>WE,"isValidJWT"),isValidBase64URL:i(()=>qE,"isValidBase64URL"),isValidBase64:i(()=>u1,"isValidBase64"),globalRegistry:i(()=>ha,"globalRegistry"),globalConfig:i(()=>Wu,"globalConfig"),formatError:i(()=>Wv,"formatError"),flattenError:i(()=>Xv,"flattenError"),encodeAsync:i(()=>LF,"encodeAsync"),encode:i(()=>PF,"encode"),decodeAsync:i(()=>BF,"decodeAsync"),decode:i(()=>DF,"decode"),config:i(()=>Tr,"config"),clone:i(()=>hi,"clone"),_xid:i(()=>N1,"_xid"),_void:i(()=>gA,"_void"),_uuidv7:i(()=>S1,"_uuidv7"),_uuidv6:i(()=>_1,"_uuidv6"),_uuidv4:i(()=>x1,"_uuidv4"),_uuid:i(()=>w1,"_uuid"),_url:i(()=>ac,"_url"),_uppercase:i(()=>$1,"_uppercase"),_unknown:i(()=>pA,"_unknown"),_union:i(()=>YG,"_union"),_undefined:i(()=>cA,"_undefined"),_ulid:i(()=>j1,"_ulid"),_uint64:i(()=>uA,"_uint64"),_uint32:i(()=>iA,"_uint32"),_tuple:i(()=>rV,"_tuple"),_trim:i(()=>q1,"_trim"),_transform:i(()=>uV,"_transform"),_toUpperCase:i(()=>X1,"_toUpperCase"),_toLowerCase:i(()=>K1,"_toLowerCase"),_templateLiteral:i(()=>bV,"_templateLiteral"),_symbol:i(()=>fA,"_symbol"),_superRefine:i(()=>NA,"_superRefine"),_success:i(()=>pV,"_success"),_stringbool:i(()=>CA,"_stringbool"),_stringFormat:i(()=>yl,"_stringFormat"),_string:i(()=>Vk,"_string"),_startsWith:i(()=>V1,"_startsWith"),_size:i(()=>z1,"_size"),_set:i(()=>aV,"_set"),_safeParseAsync:i(()=>pl,"_safeParseAsync"),_safeParse:i(()=>hl,"_safeParse"),_safeEncodeAsync:i(()=>n1,"_safeEncodeAsync"),_safeEncode:i(()=>r1,"_safeEncode"),_safeDecodeAsync:i(()=>a1,"_safeDecodeAsync"),_safeDecode:i(()=>i1,"_safeDecode"),_regex:i(()=>U1,"_regex"),_refine:i(()=>jA,"_refine"),_record:i(()=>iV,"_record"),_readonly:i(()=>vV,"_readonly"),_property:i(()=>MA,"_property"),_promise:i(()=>wV,"_promise"),_positive:i(()=>wA,"_positive"),_pipe:i(()=>gV,"_pipe"),_parseAsync:i(()=>dl,"_parseAsync"),_parse:i(()=>cl,"_parse"),_overwrite:i(()=>Da,"_overwrite"),_optional:i(()=>fV,"_optional"),_number:i(()=>Wk,"_number"),_nullable:i(()=>cV,"_nullable"),_null:i(()=>dA,"_null"),_normalize:i(()=>J1,"_normalize"),_nonpositive:i(()=>_A,"_nonpositive"),_nonoptional:i(()=>hV,"_nonoptional"),_nonnegative:i(()=>SA,"_nonnegative"),_never:i(()=>mA,"_never"),_negative:i(()=>xA,"_negative"),_nativeEnum:i(()=>oV,"_nativeEnum"),_nanoid:i(()=>E1,"_nanoid"),_nan:i(()=>yA,"_nan"),_multipleOf:i(()=>Fo,"_multipleOf"),_minSize:i(()=>$o,"_minSize"),_minLength:i(()=>hs,"_minLength"),_min:i(()=>Xr,"_min"),_mime:i(()=>H1,"_mime"),_maxSize:i(()=>sc,"_maxSize"),_maxLength:i(()=>oc,"_maxLength"),_max:i(()=>ki,"_max"),_map:i(()=>nV,"_map"),_lte:i(()=>ki,"_lte"),_lt:i(()=>Ca,"_lt"),_lowercase:i(()=>F1,"_lowercase"),_literal:i(()=>lV,"_literal"),_length:i(()=>lc,"_length"),_lazy:i(()=>yV,"_lazy"),_ksuid:i(()=>I1,"_ksuid"),_jwt:i(()=>B1,"_jwt"),_isoTime:i(()=>Kk,"_isoTime"),_isoDuration:i(()=>Xk,"_isoDuration"),_isoDateTime:i(()=>Jk,"_isoDateTime"),_isoDate:i(()=>qk,"_isoDate"),_ipv6:i(()=>R1,"_ipv6"),_ipv4:i(()=>C1,"_ipv4"),_intersection:i(()=>tV,"_intersection"),_int64:i(()=>lA,"_int64"),_int32:i(()=>rA,"_int32"),_int:i(()=>Yk,"_int"),_includes:i(()=>G1,"_includes"),_guid:i(()=>rf,"_guid"),_gte:i(()=>Xr,"_gte"),_gt:i(()=>Ra,"_gt"),_float64:i(()=>tA,"_float64"),_float32:i(()=>eA,"_float32"),_file:i(()=>kA,"_file"),_enum:i(()=>sV,"_enum"),_endsWith:i(()=>Z1,"_endsWith"),_encodeAsync:i(()=>e1,"_encodeAsync"),_encode:i(()=>Qv,"_encode"),_emoji:i(()=>M1,"_emoji"),_email:i(()=>y1,"_email"),_e164:i(()=>L1,"_e164"),_discriminatedUnion:i(()=>eV,"_discriminatedUnion"),_default:i(()=>dV,"_default"),_decodeAsync:i(()=>t1,"_decodeAsync"),_decode:i(()=>Yv,"_decode"),_date:i(()=>vA,"_date"),_custom:i(()=>AA,"_custom"),_cuid2:i(()=>A1,"_cuid2"),_cuid:i(()=>k1,"_cuid"),_coercedString:i(()=>Zk,"_coercedString"),_coercedNumber:i(()=>Qk,"_coercedNumber"),_coercedDate:i(()=>bA,"_coercedDate"),_coercedBoolean:i(()=>aA,"_coercedBoolean"),_coercedBigint:i(()=>oA,"_coercedBigint"),_cidrv6:i(()=>T1,"_cidrv6"),_cidrv4:i(()=>O1,"_cidrv4"),_check:i(()=>IA,"_check"),_catch:i(()=>mV,"_catch"),_boolean:i(()=>nA,"_boolean"),_bigint:i(()=>sA,"_bigint"),_base64url:i(()=>D1,"_base64url"),_base64:i(()=>P1,"_base64"),_array:i(()=>EA,"_array"),_any:i(()=>hA,"_any"),TimePrecision:i(()=>Hk,"TimePrecision"),NEVER:i(()=>dM,"NEVER"),JSONSchemaGenerator:i(()=>Ag,"JSONSchemaGenerator"),JSONSchema:i(()=>xV,"JSONSchema"),Doc:i(()=>kE,"Doc"),$output:i(()=>$k,"$output"),$input:i(()=>Gk,"$input"),$constructor:i(()=>Ve,"$constructor"),$brand:i(()=>hM,"$brand"),$ZodXID:i(()=>LE,"$ZodXID"),$ZodVoid:i(()=>lk,"$ZodVoid"),$ZodUnknown:i(()=>sk,"$ZodUnknown"),$ZodUnion:i(()=>h1,"$ZodUnion"),$ZodUndefined:i(()=>ik,"$ZodUndefined"),$ZodUUID:i(()=>NE,"$ZodUUID"),$ZodURL:i(()=>CE,"$ZodURL"),$ZodULID:i(()=>DE,"$ZodULID"),$ZodType:i(()=>kt,"$ZodType"),$ZodTuple:i(()=>p1,"$ZodTuple"),$ZodTransform:i(()=>Sk,"$ZodTransform"),$ZodTemplateLiteral:i(()=>Tk,"$ZodTemplateLiteral"),$ZodSymbol:i(()=>rk,"$ZodSymbol"),$ZodSuccess:i(()=>Nk,"$ZodSuccess"),$ZodStringFormat:i(()=>ir,"$ZodStringFormat"),$ZodString:i(()=>bl,"$ZodString"),$ZodSet:i(()=>yk,"$ZodSet"),$ZodRegistry:i(()=>v1,"$ZodRegistry"),$ZodRecord:i(()=>vk,"$ZodRecord"),$ZodRealError:i(()=>ri,"$ZodRealError"),$ZodReadonly:i(()=>Ok,"$ZodReadonly"),$ZodPromise:i(()=>Dk,"$ZodPromise"),$ZodPrefault:i(()=>Ak,"$ZodPrefault"),$ZodPipe:i(()=>Rk,"$ZodPipe"),$ZodOptional:i(()=>Mk,"$ZodOptional"),$ZodObjectJIT:i(()=>pk,"$ZodObjectJIT"),$ZodObject:i(()=>hk,"$ZodObject"),$ZodNumberFormat:i(()=>ek,"$ZodNumberFormat"),$ZodNumber:i(()=>f1,"$ZodNumber"),$ZodNullable:i(()=>Ek,"$ZodNullable"),$ZodNull:i(()=>nk,"$ZodNull"),$ZodNonOptional:i(()=>jk,"$ZodNonOptional"),$ZodNever:i(()=>ok,"$ZodNever"),$ZodNanoID:i(()=>OE,"$ZodNanoID"),$ZodNaN:i(()=>Ck,"$ZodNaN"),$ZodMap:i(()=>bk,"$ZodMap"),$ZodLiteral:i(()=>xk,"$ZodLiteral"),$ZodLazy:i(()=>Lk,"$ZodLazy"),$ZodKSUID:i(()=>BE,"$ZodKSUID"),$ZodJWT:i(()=>QE,"$ZodJWT"),$ZodIntersection:i(()=>gk,"$ZodIntersection"),$ZodISOTime:i(()=>FE,"$ZodISOTime"),$ZodISODuration:i(()=>$E,"$ZodISODuration"),$ZodISODateTime:i(()=>zE,"$ZodISODateTime"),$ZodISODate:i(()=>UE,"$ZodISODate"),$ZodIPv6:i(()=>VE,"$ZodIPv6"),$ZodIPv4:i(()=>GE,"$ZodIPv4"),$ZodGUID:i(()=>jE,"$ZodGUID"),$ZodFunction:i(()=>Pk,"$ZodFunction"),$ZodFile:i(()=>_k,"$ZodFile"),$ZodError:i(()=>Kv,"$ZodError"),$ZodEnum:i(()=>wk,"$ZodEnum"),$ZodEncodeError:i(()=>tc,"$ZodEncodeError"),$ZodEmoji:i(()=>RE,"$ZodEmoji"),$ZodEmail:i(()=>IE,"$ZodEmail"),$ZodE164:i(()=>XE,"$ZodE164"),$ZodDiscriminatedUnion:i(()=>mk,"$ZodDiscriminatedUnion"),$ZodDefault:i(()=>kk,"$ZodDefault"),$ZodDate:i(()=>uk,"$ZodDate"),$ZodCustomStringFormat:i(()=>YE,"$ZodCustomStringFormat"),$ZodCustom:i(()=>Bk,"$ZodCustom"),$ZodCodec:i(()=>m1,"$ZodCodec"),$ZodCheckUpperCase:i(()=>yE,"$ZodCheckUpperCase"),$ZodCheckStringFormat:i(()=>vl,"$ZodCheckStringFormat"),$ZodCheckStartsWith:i(()=>xE,"$ZodCheckStartsWith"),$ZodCheckSizeEquals:i(()=>hE,"$ZodCheckSizeEquals"),$ZodCheckRegex:i(()=>vE,"$ZodCheckRegex"),$ZodCheckProperty:i(()=>SE,"$ZodCheckProperty"),$ZodCheckOverwrite:i(()=>EE,"$ZodCheckOverwrite"),$ZodCheckNumberFormat:i(()=>uE,"$ZodCheckNumberFormat"),$ZodCheckMultipleOf:i(()=>lE,"$ZodCheckMultipleOf"),$ZodCheckMinSize:i(()=>dE,"$ZodCheckMinSize"),$ZodCheckMinLength:i(()=>mE,"$ZodCheckMinLength"),$ZodCheckMimeType:i(()=>ME,"$ZodCheckMimeType"),$ZodCheckMaxSize:i(()=>cE,"$ZodCheckMaxSize"),$ZodCheckMaxLength:i(()=>pE,"$ZodCheckMaxLength"),$ZodCheckLowerCase:i(()=>bE,"$ZodCheckLowerCase"),$ZodCheckLessThan:i(()=>o1,"$ZodCheckLessThan"),$ZodCheckLengthEquals:i(()=>gE,"$ZodCheckLengthEquals"),$ZodCheckIncludes:i(()=>wE,"$ZodCheckIncludes"),$ZodCheckGreaterThan:i(()=>l1,"$ZodCheckGreaterThan"),$ZodCheckEndsWith:i(()=>_E,"$ZodCheckEndsWith"),$ZodCheckBigIntFormat:i(()=>fE,"$ZodCheckBigIntFormat"),$ZodCheck:i(()=>ur,"$ZodCheck"),$ZodCatch:i(()=>Ik,"$ZodCatch"),$ZodCUID2:i(()=>PE,"$ZodCUID2"),$ZodCUID:i(()=>TE,"$ZodCUID"),$ZodCIDRv6:i(()=>HE,"$ZodCIDRv6"),$ZodCIDRv4:i(()=>ZE,"$ZodCIDRv4"),$ZodBoolean:i(()=>c1,"$ZodBoolean"),$ZodBigIntFormat:i(()=>tk,"$ZodBigIntFormat"),$ZodBigInt:i(()=>d1,"$ZodBigInt"),$ZodBase64URL:i(()=>KE,"$ZodBase64URL"),$ZodBase64:i(()=>JE,"$ZodBase64"),$ZodAsyncError:i(()=>wa,"$ZodAsyncError"),$ZodArray:i(()=>fk,"$ZodArray"),$ZodAny:i(()=>ak,"$ZodAny")});var dM=Object.freeze({status:"aborted"});function Ve(e,t,r){function a(h,p){var v;Object.defineProperty(h,"_zod",{value:h._zod??{},enumerable:!1}),(v=h._zod).traits??(v.traits=new Set),h._zod.traits.add(e),t(h,p);for(let c in o.prototype)c in h||Object.defineProperty(h,c,{value:o.prototype[c].bind(h)});h._zod.constr=o,h._zod.def=p}i(a,"P");let n=r?.Parent??Object;class s extends n{static{i(this,"O")}}Object.defineProperty(s,"name",{value:e});function o(h){var p;let v=r?.Parent?new s:this;a(v,h),(p=v._zod).deferred??(p.deferred=[]);for(let c of v._zod.deferred)c();return v}return i(o,"j"),Object.defineProperty(o,"init",{value:a}),Object.defineProperty(o,Symbol.hasInstance,{value:i(h=>r?.Parent&&h instanceof r.Parent?!0:h?._zod?.traits?.has(e),"value")}),Object.defineProperty(o,"name",{value:e}),o}i(Ve,"P$");var hM=Symbol("zod_brand");class wa extends Error{static{i(this,"x8")}constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class tc extends Error{static{i(this,"__")}constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}var Wu={};function Tr(e){return e&&Object.assign(Wu,e),Wu}i(Tr,"p6");var Kt={};$r(Kt,{unwrapMessage:i(()=>uo,"unwrapMessage"),uint8ArrayToHex:i(()=>OF,"uint8ArrayToHex"),uint8ArrayToBase64url:i(()=>CF,"uint8ArrayToBase64url"),uint8ArrayToBase64:i(()=>_M,"uint8ArrayToBase64"),stringifyPrimitive:i(()=>St,"stringifyPrimitive"),shallowClone:i(()=>gM,"shallowClone"),safeExtend:i(()=>EF,"safeExtend"),required:i(()=>jF,"required"),randomString:i(()=>bF,"randomString"),propertyKeyTypes:i(()=>Yu,"propertyKeyTypes"),promiseAllObject:i(()=>vF,"promiseAllObject"),primitiveTypes:i(()=>vM,"primitiveTypes"),prefixIssues:i(()=>Mi,"prefixIssues"),pick:i(()=>_F,"pick"),partial:i(()=>AF,"partial"),optionalKeys:i(()=>bM,"optionalKeys"),omit:i(()=>SF,"omit"),objectClone:i(()=>pF,"objectClone"),numKeys:i(()=>yF,"numKeys"),nullish:i(()=>Ta,"nullish"),normalizeParams:i(()=>ot,"normalizeParams"),mergeDefs:i(()=>Jn,"mergeDefs"),merge:i(()=>kF,"merge"),jsonStringifyReplacer:i(()=>Qu,"jsonStringifyReplacer"),joinValues:i(()=>st,"joinValues"),issue:i(()=>ef,"issue"),isPlainObject:i(()=>Ia,"isPlainObject"),isObject:i(()=>cs,"isObject"),hexToUint8Array:i(()=>RF,"hexToUint8Array"),getSizableOrigin:i(()=>ic,"getSizableOrigin"),getParsedType:i(()=>wF,"getParsedType"),getLengthableOrigin:i(()=>nc,"getLengthableOrigin"),getEnumValues:i(()=>Jv,"getEnumValues"),getElementAtPath:i(()=>gF,"getElementAtPath"),floatSafeRemainder:i(()=>pM,"floatSafeRemainder"),finalizeIssue:i(()=>Ii,"finalizeIssue"),extend:i(()=>MF,"extend"),escapeRegex:i(()=>$n,"escapeRegex"),esc:i(()=>Sg,"esc"),defineLazy:i(()=>Gt,"defineLazy"),createTransparentProxy:i(()=>xF,"createTransparentProxy"),cloneDef:i(()=>mF,"cloneDef"),clone:i(()=>hi,"clone"),cleanRegex:i(()=>rc,"cleanRegex"),cleanEnum:i(()=>NF,"cleanEnum"),captureStackTrace:i(()=>qv,"captureStackTrace"),cached:i(()=>fl,"cached"),base64urlToUint8Array:i(()=>IF,"base64urlToUint8Array"),base64ToUint8Array:i(()=>xM,"base64ToUint8Array"),assignProp:i(()=>Hn,"assignProp"),assertNotEqual:i(()=>fF,"assertNotEqual"),assertNever:i(()=>dF,"assertNever"),assertIs:i(()=>cF,"assertIs"),assertEqual:i(()=>uF,"assertEqual"),assert:i(()=>hF,"assert"),allowsEval:i(()=>mM,"allowsEval"),aborted:i(()=>da,"aborted"),NUMBER_FORMAT_RANGES:i(()=>yM,"NUMBER_FORMAT_RANGES"),Class:i(()=>TF,"Class"),BIGINT_FORMAT_RANGES:i(()=>wM,"BIGINT_FORMAT_RANGES")});function uF(e){return e}i(uF,"ER");function fF(e){return e}i(fF,"hR");function cF(e){}i(cF,"RR");function dF(e){throw Error()}i(dF,"IR");function hF(e){}i(hF,"DR");function Jv(e){let t=Object.values(e).filter(r=>typeof r=="number");return Object.entries(e).filter(([r,a])=>t.indexOf(+r)===-1).map(([r,a])=>a)}i(Jv,"VP");function st(e,t="|"){return e.map(r=>St(r)).join(t)}i(st,"z$");function Qu(e,t){return typeof t=="bigint"?t.toString():t}i(Qu,"s_");function fl(e){return{get value(){{let t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}i(fl,"$4");function Ta(e){return e==null}i(Ta,"IK");function rc(e){let t=e.startsWith("^")?1:0,r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}i(rc,"SP");function pM(e,t){let r=(e.toString().split(".")[1]||"").length,a=t.toString(),n=(a.split(".")[1]||"").length;if(n===0&&/\d?e-\d?/.test(a)){let p=a.match(/\d?e-(\d?)/);p?.[1]&&(n=Number.parseInt(p[1]))}let s=r>n?r:n,o=Number.parseInt(e.toFixed(s).replace(".","")),h=Number.parseInt(t.toFixed(s).replace(".",""));return o%h/10**s}i(pM,"C2");var C4=Symbol("evaluating");function Gt(e,t,r){let a;Object.defineProperty(e,t,{get(){if(a!==C4)return a===void 0&&(a=C4,a=r()),a},set(n){Object.defineProperty(e,t,{value:n})},configurable:!0})}i(Gt,"T6");function pF(e){return Object.create(Object.getPrototypeOf(e),Object.getOwnPropertyDescriptors(e))}i(pF,"gR");function Hn(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}i(Hn,"DK");function Jn(...e){let t={};for(let r of e){let a=Object.getOwnPropertyDescriptors(r);Object.assign(t,a)}return Object.defineProperties({},t)}i(Jn,"gK");function mF(e){return Jn(e._zod.def)}i(mF,"LR");function gF(e,t){return t?t.reduce((r,a)=>r?.[a],e):e}i(gF,"bR");function vF(e){let t=Object.keys(e),r=t.map(a=>e[a]);return Promise.all(r).then(a=>{let n={};for(let s=0;s<t.length;s++)n[t[s]]=a[s];return n})}i(vF,"uR");function bF(e=10){let t="";for(let r=0;r<e;r++)t+="abcdefghijklmnopqrstuvwxyz"[Math.floor(Math.random()*26)];return t}i(bF,"yR");function Sg(e){return JSON.stringify(e)}i(Sg,"B1");var qv="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function cs(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}i(cs,"P_");var mM=fl(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{return new Function(""),!0}catch{return!1}});function Ia(e){if(cs(e)===!1)return!1;let t=e.constructor;if(t===void 0)return!0;let r=t.prototype;return!(cs(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}i(Ia,"LK");function gM(e){return Ia(e)?{...e}:Array.isArray(e)?[...e]:e}i(gM,"h2");function yF(e){let t=0;for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}i(yF,"pR");var wF=i(e=>{let t=typeof e;switch(t){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(e)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":return Array.isArray(e)?"array":e===null?"null":e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?"promise":typeof Map<"u"&&e instanceof Map?"map":typeof Set<"u"&&e instanceof Set?"set":typeof Date<"u"&&e instanceof Date?"date":typeof File<"u"&&e instanceof File?"file":"object";default:throw Error(`Unknown data type: ${t}`)}},"xR"),Yu=new Set(["string","number","symbol"]),vM=new Set(["string","number","bigint","boolean","symbol","undefined"]);function $n(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}i($n,"c8");function hi(e,t,r){let a=new e._zod.constr(t??e._zod.def);return(!t||r?.parent)&&(a._zod.parent=e),a}i(hi,"Dq");function ot(e){let t=e;if(!t)return{};if(typeof t=="string")return{error:i(()=>t,"error")};if(t?.message!==void 0){if(t?.error!==void 0)throw Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:i(()=>t.error,"error")}:t}i(ot,"d$");function xF(e){let t;return new Proxy({},{get(r,a,n){return t??(t=e()),Reflect.get(t,a,n)},set(r,a,n,s){return t??(t=e()),Reflect.set(t,a,n,s)},has(r,a){return t??(t=e()),Reflect.has(t,a)},deleteProperty(r,a){return t??(t=e()),Reflect.deleteProperty(t,a)},ownKeys(r){return t??(t=e()),Reflect.ownKeys(t)},getOwnPropertyDescriptor(r,a){return t??(t=e()),Reflect.getOwnPropertyDescriptor(t,a)},defineProperty(r,a,n){return t??(t=e()),Reflect.defineProperty(t,a,n)}})}i(xF,"cR");function St(e){return typeof e=="bigint"?e.toString()+"n":typeof e=="string"?`"${e}"`:`${e}`}i(St,"m$");function bM(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}i(bM,"I2");var yM={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},wM={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function _F(e,t){let r=e._zod.def,a=Jn(e._zod.def,{get shape(){let n={};for(let s in t){if(!(s in r.shape))throw Error(`Unrecognized key: "${s}"`);t[s]&&(n[s]=r.shape[s])}return Hn(this,"shape",n),n},checks:[]});return hi(e,a)}i(_F,"mR");function SF(e,t){let r=e._zod.def,a=Jn(e._zod.def,{get shape(){let n={...e._zod.def.shape};for(let s in t){if(!(s in r.shape))throw Error(`Unrecognized key: "${s}"`);t[s]&&delete n[s]}return Hn(this,"shape",n),n},checks:[]});return hi(e,a)}i(SF,"dR");function MF(e,t){if(!Ia(t))throw Error("Invalid input to extend: expected a plain object");let r=e._zod.def.checks;if(r&&r.length>0)throw Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");let a=Jn(e._zod.def,{get shape(){let n={...e._zod.def.shape,...t};return Hn(this,"shape",n),n},checks:[]});return hi(e,a)}i(MF,"lR");function EF(e,t){if(!Ia(t))throw Error("Invalid input to safeExtend: expected a plain object");let r={...e._zod.def,get shape(){let a={...e._zod.def.shape,...t};return Hn(this,"shape",a),a},checks:e._zod.def.checks};return hi(e,r)}i(EF,"oR");function kF(e,t){let r=Jn(e._zod.def,{get shape(){let a={...e._zod.def.shape,...t._zod.def.shape};return Hn(this,"shape",a),a},get catchall(){return t._zod.def.catchall},checks:[]});return hi(e,r)}i(kF,"rR");function AF(e,t,r){let a=Jn(t._zod.def,{get shape(){let n=t._zod.def.shape,s={...n};if(r)for(let o in r){if(!(o in n))throw Error(`Unrecognized key: "${o}"`);r[o]&&(s[o]=e?new e({type:"optional",innerType:n[o]}):n[o])}else for(let o in n)s[o]=e?new e({type:"optional",innerType:n[o]}):n[o];return Hn(this,"shape",s),s},checks:[]});return hi(t,a)}i(AF,"nR");function jF(e,t,r){let a=Jn(t._zod.def,{get shape(){let n=t._zod.def.shape,s={...n};if(r)for(let o in r){if(!(o in s))throw Error(`Unrecognized key: "${o}"`);r[o]&&(s[o]=new e({type:"nonoptional",innerType:n[o]}))}else for(let o in n)s[o]=new e({type:"nonoptional",innerType:n[o]});return Hn(this,"shape",s),s},checks:[]});return hi(t,a)}i(jF,"iR");function da(e,t=0){if(e.aborted===!0)return!0;for(let r=t;r<e.issues.length;r++)if(e.issues[r]?.continue!==!0)return!0;return!1}i(da,"bK");function Mi(e,t){return t.map(r=>{var a;return(a=r).path??(a.path=[]),r.path.unshift(e),r})}i(Mi,"eq");function uo(e){return typeof e=="string"?e:e?.message}i(uo,"GP");function Ii(e,t,r){let a={...e,path:e.path??[]};if(!e.message){let n=uo(e.inst?._zod.def?.error?.(e))??uo(t?.error?.(e))??uo(r.customError?.(e))??uo(r.localeError?.(e))??"Invalid input";a.message=n}return delete a.inst,delete a.continue,!t?.reportInput&&delete a.input,a}i(Ii,"sq");function ic(e){return e instanceof Set?"set":e instanceof Map?"map":e instanceof File?"file":"unknown"}i(ic,"NP");function nc(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}i(nc,"CP");function ef(...e){let[t,r,a]=e;return typeof t=="string"?{message:t,code:"custom",input:r,inst:a}:{...t}}i(ef,"q4");function NF(e){return Object.entries(e).filter(([t,r])=>Number.isNaN(Number.parseInt(t,10))).map(t=>t[1])}i(NF,"tR");function xM(e){let t=atob(e),r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r}i(xM,"MX");function _M(e){let t="";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return btoa(t)}i(_M,"NX");function IF(e){let t=e.replace(/-/g,"+").replace(/_/g,"/"),r="=".repeat((4-t.length%4)%4);return xM(t+r)}i(IF,"BR");function CF(e){return _M(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}i(CF,"UR");function RF(e){let t=e.replace(/^0x/,"");if(t.length%2!==0)throw Error("Invalid hex string length");let r=new Uint8Array(t.length/2);for(let a=0;a<t.length;a+=2)r[a/2]=Number.parseInt(t.slice(a,a+2),16);return r}i(RF,"FR");function OF(e){return Array.from(e).map(t=>t.toString(16).padStart(2,"0")).join("")}i(OF,"aR");class TF{static{i(this,"CX")}constructor(...t){}}var SM=i((e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,Qu,2),Object.defineProperty(e,"toString",{value:i(()=>e.message,"value"),enumerable:!1})},"EX"),Kv=Ve("$ZodError",SM),ri=Ve("$ZodError",SM,{Parent:Error});function Xv(e,t=r=>r.message){let r={},a=[];for(let n of e.issues)n.path.length>0?(r[n.path[0]]=r[n.path[0]]||[],r[n.path[0]].push(t(n))):a.push(t(n));return{formErrors:a,fieldErrors:r}}i(Xv,"hP");function Wv(e,t){let r=t||function(s){return s.message},a={_errors:[]},n=i(s=>{for(let o of s.issues)if(o.code==="invalid_union"&&o.errors.length)o.errors.map(h=>n({issues:h}));else if(o.code==="invalid_key")n({issues:o.issues});else if(o.code==="invalid_element")n({issues:o.issues});else if(o.path.length===0)a._errors.push(r(o));else{let h=a,p=0;for(;p<o.path.length;){let v=o.path[p];p!==o.path.length-1?h[v]=h[v]||{_errors:[]}:(h[v]=h[v]||{_errors:[]},h[v]._errors.push(r(o))),h=h[v],p++}}},"_");return n(e),a}i(Wv,"RP");function MM(e,t){let r=t||function(s){return s.message},a={errors:[]},n=i((s,o=[])=>{var h,p;for(let v of s.issues)if(v.code==="invalid_union"&&v.errors.length)v.errors.map(c=>n({issues:c},v.path));else if(v.code==="invalid_key")n({issues:v.issues},v.path);else if(v.code==="invalid_element")n({issues:v.issues},v.path);else{let c=[...o,...v.path];if(c.length===0){a.errors.push(r(v));continue}let d=a,y=0;for(;y<c.length;){let b=c[y],x=y===c.length-1;typeof b=="string"?(d.properties??(d.properties={}),(h=d.properties)[b]??(h[b]={errors:[]}),d=d.properties[b]):(d.items??(d.items=[]),(p=d.items)[b]??(p[b]={errors:[]}),d=d.items[b]),x&&d.errors.push(r(v)),y++}}},"_");return n(e),a}i(MM,"L2");function EM(e){let t=[],r=e.map(a=>typeof a=="object"?a.key:a);for(let a of r)typeof a=="number"?t.push(`[${a}]`):typeof a=="symbol"?t.push(`[${JSON.stringify(String(a))}]`):/[^\w$]/.test(a)?t.push(`[${JSON.stringify(a)}]`):(t.length&&t.push("."),t.push(a));return t.join("")}i(EM,"hX");function kM(e){let t=[],r=[...e.issues].sort((a,n)=>(a.path??[]).length-(n.path??[]).length);for(let a of r)t.push(` ${a.message}`),a.path?.length&&t.push(`   at ${EM(a.path)}`);return t.join(`
`)}i(kM,"b2");var cl=i(e=>(t,r,a,n)=>{let s=a?Object.assign(a,{async:!1}):{async:!1},o=t._zod.run({value:r,issues:[]},s);if(o instanceof Promise)throw new wa;if(o.issues.length){let h=new(n?.Err??e)(o.issues.map(p=>Ii(p,s,Tr())));throw qv(h,n?.callee),h}return o.value},"K4"),Mg=cl(ri),dl=i(e=>async(t,r,a,n)=>{let s=a?Object.assign(a,{async:!0}):{async:!0},o=t._zod.run({value:r,issues:[]},s);if(o instanceof Promise&&(o=await o),o.issues.length){let h=new(n?.Err??e)(o.issues.map(p=>Ii(p,s,Tr())));throw qv(h,n?.callee),h}return o.value},"_4"),Eg=dl(ri),hl=i(e=>(t,r,a)=>{let n=a?{...a,async:!1}:{async:!1},s=t._zod.run({value:r,issues:[]},n);if(s instanceof Promise)throw new wa;return s.issues.length?{success:!1,error:new(e??Kv)(s.issues.map(o=>Ii(o,n,Tr())))}:{success:!0,data:s.value}},"P4"),AM=hl(ri),pl=i(e=>async(t,r,a)=>{let n=a?Object.assign(a,{async:!0}):{async:!0},s=t._zod.run({value:r,issues:[]},n);return s instanceof Promise&&(s=await s),s.issues.length?{success:!1,error:new e(s.issues.map(o=>Ii(o,n,Tr())))}:{success:!0,data:s.value}},"j4"),jM=pl(ri),Qv=i(e=>(t,r,a)=>{let n=a?Object.assign(a,{direction:"backward"}):{direction:"backward"};return cl(e)(t,r,n)},"Q1"),PF=Qv(ri),Yv=i(e=>(t,r,a)=>cl(e)(t,r,a),"e1"),DF=Yv(ri),e1=i(e=>async(t,r,a)=>{let n=a?Object.assign(a,{direction:"backward"}):{direction:"backward"};return dl(e)(t,r,n)},"s1"),LF=e1(ri),t1=i(e=>async(t,r,a)=>dl(e)(t,r,a),"$9"),BF=t1(ri),r1=i(e=>(t,r,a)=>{let n=a?Object.assign(a,{direction:"backward"}):{direction:"backward"};return hl(e)(t,r,n)},"q9"),zF=r1(ri),i1=i(e=>(t,r,a)=>hl(e)(t,r,a),"K9"),UF=i1(ri),n1=i(e=>async(t,r,a)=>{let n=a?Object.assign(a,{direction:"backward"}):{direction:"backward"};return pl(e)(t,r,n)},"_9"),FF=n1(ri),a1=i(e=>async(t,r,a)=>pl(e)(t,r,a),"P9"),$F=a1(ri),Pa={};$r(Pa,{xid:i(()=>RM,"xid"),uuid7:i(()=>HF,"uuid7"),uuid6:i(()=>ZF,"uuid6"),uuid4:i(()=>VF,"uuid4"),uuid:i(()=>ds,"uuid"),uppercase:i(()=>sE,"uppercase"),unicodeEmail:i(()=>BM,"unicodeEmail"),undefined:i(()=>nE,"undefined"),ulid:i(()=>CM,"ulid"),time:i(()=>XM,"time"),string:i(()=>QM,"string"),sha512_hex:i(()=>c$,"sha512_hex"),sha512_base64url:i(()=>h$,"sha512_base64url"),sha512_base64:i(()=>d$,"sha512_base64"),sha384_hex:i(()=>l$,"sha384_hex"),sha384_base64url:i(()=>f$,"sha384_base64url"),sha384_base64:i(()=>u$,"sha384_base64"),sha256_hex:i(()=>a$,"sha256_hex"),sha256_base64url:i(()=>o$,"sha256_base64url"),sha256_base64:i(()=>s$,"sha256_base64"),sha1_hex:i(()=>r$,"sha1_hex"),sha1_base64url:i(()=>n$,"sha1_base64url"),sha1_base64:i(()=>i$,"sha1_base64"),rfc5322Email:i(()=>qF,"rfc5322Email"),number:i(()=>tE,"number"),null:i(()=>iE,"null"),nanoid:i(()=>TM,"nanoid"),md5_hex:i(()=>YF,"md5_hex"),md5_base64url:i(()=>t$,"md5_base64url"),md5_base64:i(()=>e$,"md5_base64"),lowercase:i(()=>aE,"lowercase"),ksuid:i(()=>OM,"ksuid"),ipv6:i(()=>FM,"ipv6"),ipv4:i(()=>UM,"ipv4"),integer:i(()=>eE,"integer"),idnEmail:i(()=>KF,"idnEmail"),html5Email:i(()=>JF,"html5Email"),hostname:i(()=>ZM,"hostname"),hex:i(()=>QF,"hex"),guid:i(()=>DM,"guid"),extendedDuration:i(()=>GF,"extendedDuration"),emoji:i(()=>zM,"emoji"),email:i(()=>LM,"email"),e164:i(()=>HM,"e164"),duration:i(()=>PM,"duration"),domain:i(()=>WF,"domain"),datetime:i(()=>WM,"datetime"),date:i(()=>qM,"date"),cuid2:i(()=>IM,"cuid2"),cuid:i(()=>NM,"cuid"),cidrv6:i(()=>GM,"cidrv6"),cidrv4:i(()=>$M,"cidrv4"),browserEmail:i(()=>XF,"browserEmail"),boolean:i(()=>rE,"boolean"),bigint:i(()=>YM,"bigint"),base64url:i(()=>s1,"base64url"),base64:i(()=>VM,"base64")});var NM=/^[cC][^\s-]{8,}$/,IM=/^[0-9a-z]+$/,CM=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,RM=/^[0-9a-vA-V]{20}$/,OM=/^[A-Za-z0-9]{27}$/,TM=/^[a-zA-Z0-9_-]{21}$/,PM=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,GF=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,DM=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,ds=i(e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,"j_"),VF=ds(4),ZF=ds(6),HF=ds(7),LM=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,JF=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,qF=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,BM=/^[^\s@"]{1,64}@[^\s@]{1,255}$/u,KF=BM,XF=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function zM(){return new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")}i(zM,"i2");var UM=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,FM=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,$M=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,GM=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,VM=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,s1=/^[A-Za-z0-9_-]*$/,ZM=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,WF=/^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,HM=/^\+(?:[0-9]){6,14}[0-9]$/,JM="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",qM=new RegExp(`^${JM}$`);function KM(e){return typeof e.precision=="number"?e.precision===-1?"(?:[01]\\d|2[0-3]):[0-5]\\d":e.precision===0?"(?:[01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d":`(?:[01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d\\.\\d{${e.precision}}`:"(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?"}i(KM,"DX");function XM(e){return new RegExp(`^${KM(e)}$`)}i(XM,"$Y");function WM(e){let t=KM({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");let a=`${t}(?:${r.join("|")})`;return new RegExp(`^${JM}T(?:${a})$`)}i(WM,"qY");var QM=i(e=>{let t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},"KY"),YM=/^-?\d+n?$/,eE=/^-?\d+$/,tE=/^-?\d+(?:\.\d+)?/,rE=/^(?:true|false)$/i,iE=/^null$/i,nE=/^undefined$/i,aE=/^[^A-Z]*$/,sE=/^[^a-z]*$/,QF=/^[0-9a-fA-F]*$/;function ml(e,t){return new RegExp(`^[A-Za-z0-9+/]{${e}}${t}$`)}i(ml,"IP");function gl(e){return new RegExp(`^[A-Za-z0-9_-]{${e}}$`)}i(gl,"DP");var YF=/^[0-9a-fA-F]{32}$/,e$=ml(22,"=="),t$=gl(22),r$=/^[0-9a-fA-F]{40}$/,i$=ml(27,"="),n$=gl(27),a$=/^[0-9a-fA-F]{64}$/,s$=ml(43,"="),o$=gl(43),l$=/^[0-9a-fA-F]{96}$/,u$=ml(64,""),f$=gl(64),c$=/^[0-9a-fA-F]{128}$/,d$=ml(86,"=="),h$=gl(86),ur=Ve("$ZodCheck",(e,t)=>{var r;e._zod??(e._zod={}),e._zod.def=t,(r=e._zod).onattach??(r.onattach=[])}),oE={number:"number",bigint:"bigint",object:"date"},o1=Ve("$ZodCheckLessThan",(e,t)=>{ur.init(e,t);let r=oE[typeof t.value];e._zod.onattach.push(a=>{let n=a._zod.bag,s=(t.inclusive?n.maximum:n.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<s&&(t.inclusive?n.maximum=t.value:n.exclusiveMaximum=t.value)}),e._zod.check=a=>{(t.inclusive?a.value<=t.value:a.value<t.value)||a.issues.push({origin:r,code:"too_big",maximum:t.value,input:a.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),l1=Ve("$ZodCheckGreaterThan",(e,t)=>{ur.init(e,t);let r=oE[typeof t.value];e._zod.onattach.push(a=>{let n=a._zod.bag,s=(t.inclusive?n.minimum:n.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>s&&(t.inclusive?n.minimum=t.value:n.exclusiveMinimum=t.value)}),e._zod.check=a=>{(t.inclusive?a.value>=t.value:a.value>t.value)||a.issues.push({origin:r,code:"too_small",minimum:t.value,input:a.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),lE=Ve("$ZodCheckMultipleOf",(e,t)=>{ur.init(e,t),e._zod.onattach.push(r=>{var a;(a=r._zod.bag).multipleOf??(a.multipleOf=t.value)}),e._zod.check=r=>{if(typeof r.value!=typeof t.value)throw Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%t.value===BigInt(0):pM(r.value,t.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:t.value,input:r.value,inst:e,continue:!t.abort})}}),uE=Ve("$ZodCheckNumberFormat",(e,t)=>{ur.init(e,t),t.format=t.format||"float64";let r=t.format?.includes("int"),a=r?"int":"number",[n,s]=yM[t.format];e._zod.onattach.push(o=>{let h=o._zod.bag;h.format=t.format,h.minimum=n,h.maximum=s,r&&(h.pattern=eE)}),e._zod.check=o=>{let h=o.value;if(r){if(!Number.isInteger(h)){o.issues.push({expected:a,format:t.format,code:"invalid_type",continue:!1,input:h,inst:e});return}if(!Number.isSafeInteger(h)){h>0?o.issues.push({input:h,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:a,continue:!t.abort}):o.issues.push({input:h,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:a,continue:!t.abort});return}}h<n&&o.issues.push({origin:"number",input:h,code:"too_small",minimum:n,inclusive:!0,inst:e,continue:!t.abort}),h>s&&o.issues.push({origin:"number",input:h,code:"too_big",maximum:s,inst:e})}}),fE=Ve("$ZodCheckBigIntFormat",(e,t)=>{ur.init(e,t);let[r,a]=wM[t.format];e._zod.onattach.push(n=>{let s=n._zod.bag;s.format=t.format,s.minimum=r,s.maximum=a}),e._zod.check=n=>{let s=n.value;s<r&&n.issues.push({origin:"bigint",input:s,code:"too_small",minimum:r,inclusive:!0,inst:e,continue:!t.abort}),s>a&&n.issues.push({origin:"bigint",input:s,code:"too_big",maximum:a,inst:e})}}),cE=Ve("$ZodCheckMaxSize",(e,t)=>{var r;ur.init(e,t),(r=e._zod.def).when??(r.when=a=>{let n=a.value;return!Ta(n)&&n.size!==void 0}),e._zod.onattach.push(a=>{let n=a._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<n&&(a._zod.bag.maximum=t.maximum)}),e._zod.check=a=>{let n=a.value;n.size<=t.maximum||a.issues.push({origin:ic(n),code:"too_big",maximum:t.maximum,inclusive:!0,input:n,inst:e,continue:!t.abort})}}),dE=Ve("$ZodCheckMinSize",(e,t)=>{var r;ur.init(e,t),(r=e._zod.def).when??(r.when=a=>{let n=a.value;return!Ta(n)&&n.size!==void 0}),e._zod.onattach.push(a=>{let n=a._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>n&&(a._zod.bag.minimum=t.minimum)}),e._zod.check=a=>{let n=a.value;n.size>=t.minimum||a.issues.push({origin:ic(n),code:"too_small",minimum:t.minimum,inclusive:!0,input:n,inst:e,continue:!t.abort})}}),hE=Ve("$ZodCheckSizeEquals",(e,t)=>{var r;ur.init(e,t),(r=e._zod.def).when??(r.when=a=>{let n=a.value;return!Ta(n)&&n.size!==void 0}),e._zod.onattach.push(a=>{let n=a._zod.bag;n.minimum=t.size,n.maximum=t.size,n.size=t.size}),e._zod.check=a=>{let n=a.value,s=n.size;if(s===t.size)return;let o=s>t.size;a.issues.push({origin:ic(n),...o?{code:"too_big",maximum:t.size}:{code:"too_small",minimum:t.size},inclusive:!0,exact:!0,input:a.value,inst:e,continue:!t.abort})}}),pE=Ve("$ZodCheckMaxLength",(e,t)=>{var r;ur.init(e,t),(r=e._zod.def).when??(r.when=a=>{let n=a.value;return!Ta(n)&&n.length!==void 0}),e._zod.onattach.push(a=>{let n=a._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<n&&(a._zod.bag.maximum=t.maximum)}),e._zod.check=a=>{let n=a.value;if(n.length<=t.maximum)return;let s=nc(n);a.issues.push({origin:s,code:"too_big",maximum:t.maximum,inclusive:!0,input:n,inst:e,continue:!t.abort})}}),mE=Ve("$ZodCheckMinLength",(e,t)=>{var r;ur.init(e,t),(r=e._zod.def).when??(r.when=a=>{let n=a.value;return!Ta(n)&&n.length!==void 0}),e._zod.onattach.push(a=>{let n=a._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>n&&(a._zod.bag.minimum=t.minimum)}),e._zod.check=a=>{let n=a.value;if(n.length>=t.minimum)return;let s=nc(n);a.issues.push({origin:s,code:"too_small",minimum:t.minimum,inclusive:!0,input:n,inst:e,continue:!t.abort})}}),gE=Ve("$ZodCheckLengthEquals",(e,t)=>{var r;ur.init(e,t),(r=e._zod.def).when??(r.when=a=>{let n=a.value;return!Ta(n)&&n.length!==void 0}),e._zod.onattach.push(a=>{let n=a._zod.bag;n.minimum=t.length,n.maximum=t.length,n.length=t.length}),e._zod.check=a=>{let n=a.value,s=n.length;if(s===t.length)return;let o=nc(n),h=s>t.length;a.issues.push({origin:o,...h?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:a.value,inst:e,continue:!t.abort})}}),vl=Ve("$ZodCheckStringFormat",(e,t)=>{var r,a;ur.init(e,t),e._zod.onattach.push(n=>{let s=n._zod.bag;s.format=t.format,t.pattern&&(s.patterns??(s.patterns=new Set),s.patterns.add(t.pattern))}),t.pattern?(r=e._zod).check??(r.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:t.format,input:n.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(a=e._zod).check??(a.check=()=>{})}),vE=Ve("$ZodCheckRegex",(e,t)=>{vl.init(e,t),e._zod.check=r=>{t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),bE=Ve("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=aE),vl.init(e,t)}),yE=Ve("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=sE),vl.init(e,t)}),wE=Ve("$ZodCheckIncludes",(e,t)=>{ur.init(e,t);let r=$n(t.includes),a=new RegExp(typeof t.position=="number"?`^.{${t.position}}${r}`:r);t.pattern=a,e._zod.onattach.push(n=>{let s=n._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(a)}),e._zod.check=n=>{n.value.includes(t.includes,t.position)||n.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:n.value,inst:e,continue:!t.abort})}}),xE=Ve("$ZodCheckStartsWith",(e,t)=>{ur.init(e,t);let r=new RegExp(`^${$n(t.prefix)}.*`);t.pattern??(t.pattern=r),e._zod.onattach.push(a=>{let n=a._zod.bag;n.patterns??(n.patterns=new Set),n.patterns.add(r)}),e._zod.check=a=>{a.value.startsWith(t.prefix)||a.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:a.value,inst:e,continue:!t.abort})}}),_E=Ve("$ZodCheckEndsWith",(e,t)=>{ur.init(e,t);let r=new RegExp(`.*${$n(t.suffix)}$`);t.pattern??(t.pattern=r),e._zod.onattach.push(a=>{let n=a._zod.bag;n.patterns??(n.patterns=new Set),n.patterns.add(r)}),e._zod.check=a=>{a.value.endsWith(t.suffix)||a.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:a.value,inst:e,continue:!t.abort})}});function R4(e,t,r){e.issues.length&&t.issues.push(...Mi(r,e.issues))}i(R4,"gX");var SE=Ve("$ZodCheckProperty",(e,t)=>{ur.init(e,t),e._zod.check=r=>{let a=t.schema._zod.run({value:r.value[t.property],issues:[]},{});if(a instanceof Promise)return a.then(n=>R4(n,r,t.property));R4(a,r,t.property)}}),ME=Ve("$ZodCheckMimeType",(e,t)=>{ur.init(e,t);let r=new Set(t.mime);e._zod.onattach.push(a=>{a._zod.bag.mime=t.mime}),e._zod.check=a=>{r.has(a.value.type)||a.issues.push({code:"invalid_value",values:t.mime,input:a.value.type,inst:e,continue:!t.abort})}}),EE=Ve("$ZodCheckOverwrite",(e,t)=>{ur.init(e,t),e._zod.check=r=>{r.value=t.tx(r.value)}});class kE{static{i(this,"v9")}constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}let r=t.split(`
`).filter(s=>s),a=Math.min(...r.map(s=>s.length-s.trimStart().length)),n=r.map(s=>s.slice(a)).map(s=>" ".repeat(this.indent*2)+s);for(let s of n)this.content.push(s)}compile(){let t=Function,r=this?.args,a=[...(this?.content??[""]).map(n=>`  ${n}`)];return new t(...r,a.join(`
`))}}var AE={major:4,minor:1,patch:11},kt=Ve("$ZodType",(e,t)=>{var r;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=AE;let a=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&a.unshift(e);for(let n of a)for(let s of n._zod.onattach)s(e);if(a.length===0)(r=e._zod).deferred??(r.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{let n=i((o,h,p)=>{let v=da(o),c;for(let d of h){if(d._zod.def.when){if(!d._zod.def.when(o))continue}else if(v)continue;let y=o.issues.length,b=d._zod.check(o);if(b instanceof Promise&&p?.async===!1)throw new wa;if(c||b instanceof Promise)c=(c??Promise.resolve()).then(async()=>{await b,o.issues.length!==y&&(v||(v=da(o,y)))});else{if(o.issues.length===y)continue;v||(v=da(o,y))}}return c?c.then(()=>o):o},"_"),s=i((o,h,p)=>{if(da(o))return o.aborted=!0,o;let v=n(h,a,p);if(v instanceof Promise){if(p.async===!1)throw new wa;return v.then(c=>e._zod.parse(c,p))}return e._zod.parse(v,p)},"O");e._zod.run=(o,h)=>{if(h.skipChecks)return e._zod.parse(o,h);if(h.direction==="backward"){let v=e._zod.parse({value:o.value,issues:[]},{...h,skipChecks:!0});return v instanceof Promise?v.then(c=>s(c,o,h)):s(v,o,h)}let p=e._zod.parse(o,h);if(p instanceof Promise){if(h.async===!1)throw new wa;return p.then(v=>n(v,a,h))}return n(p,a,h)}}e["~standard"]={validate:i(n=>{try{let s=AM(e,n);return s.success?{value:s.data}:{issues:s.error?.issues}}catch{return jM(e,n).then(o=>o.success?{value:o.data}:{issues:o.error?.issues})}},"validate"),vendor:"zod",version:1}}),bl=Ve("$ZodString",(e,t)=>{kt.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??QM(e._zod.bag),e._zod.parse=(r,a)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),ir=Ve("$ZodStringFormat",(e,t)=>{vl.init(e,t),bl.init(e,t)}),jE=Ve("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=DM),ir.init(e,t)}),NE=Ve("$ZodUUID",(e,t)=>{if(t.version){let r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(r===void 0)throw Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=ds(r))}else t.pattern??(t.pattern=ds());ir.init(e,t)}),IE=Ve("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=LM),ir.init(e,t)}),CE=Ve("$ZodURL",(e,t)=>{ir.init(e,t),e._zod.check=r=>{try{let a=r.value.trim(),n=new URL(a);t.hostname&&(t.hostname.lastIndex=0,!t.hostname.test(n.hostname)&&r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:ZM.source,input:r.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,!t.protocol.test(n.protocol.endsWith(":")?n.protocol.slice(0,-1):n.protocol)&&r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:r.value,inst:e,continue:!t.abort})),t.normalize?r.value=n.href:r.value=a;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!t.abort})}}}),RE=Ve("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=zM()),ir.init(e,t)}),OE=Ve("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=TM),ir.init(e,t)}),TE=Ve("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=NM),ir.init(e,t)}),PE=Ve("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=IM),ir.init(e,t)}),DE=Ve("$ZodULID",(e,t)=>{t.pattern??(t.pattern=CM),ir.init(e,t)}),LE=Ve("$ZodXID",(e,t)=>{t.pattern??(t.pattern=RM),ir.init(e,t)}),BE=Ve("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=OM),ir.init(e,t)}),zE=Ve("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=WM(t)),ir.init(e,t)}),UE=Ve("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=qM),ir.init(e,t)}),FE=Ve("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=XM(t)),ir.init(e,t)}),$E=Ve("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=PM),ir.init(e,t)}),GE=Ve("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=UM),ir.init(e,t),e._zod.onattach.push(r=>{let a=r._zod.bag;a.format="ipv4"})}),VE=Ve("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=FM),ir.init(e,t),e._zod.onattach.push(r=>{let a=r._zod.bag;a.format="ipv6"}),e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!t.abort})}}}),ZE=Ve("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=$M),ir.init(e,t)}),HE=Ve("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=GM),ir.init(e,t),e._zod.check=r=>{let a=r.value.split("/");try{if(a.length!==2)throw Error();let[n,s]=a;if(!s)throw Error();let o=Number(s);if(`${o}`!==s||o<0||o>128)throw Error();new URL(`http://[${n}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!t.abort})}}});function u1(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}i(u1,"aY");var JE=Ve("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=VM),ir.init(e,t),e._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64"}),e._zod.check=r=>{u1(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!t.abort})}});function qE(e){if(!s1.test(e))return!1;let t=e.replace(/[-_]/g,a=>a==="-"?"+":"/"),r=t.padEnd(Math.ceil(t.length/4)*4,"=");return u1(r)}i(qE,"nX");var KE=Ve("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=s1),ir.init(e,t),e._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64url"}),e._zod.check=r=>{qE(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!t.abort})}}),XE=Ve("$ZodE164",(e,t)=>{t.pattern??(t.pattern=HM),ir.init(e,t)});function WE(e,t=null){try{let r=e.split(".");if(r.length!==3)return!1;let[a]=r;if(!a)return!1;let n=JSON.parse(atob(a));return!("typ"in n&&n?.typ!=="JWT"||!n.alg||t&&(!("alg"in n)||n.alg!==t))}catch{return!1}}i(WE,"iX");var QE=Ve("$ZodJWT",(e,t)=>{ir.init(e,t),e._zod.check=r=>{WE(r.value,t.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!t.abort})}}),YE=Ve("$ZodCustomStringFormat",(e,t)=>{ir.init(e,t),e._zod.check=r=>{t.fn(r.value)||r.issues.push({code:"invalid_format",format:t.format,input:r.value,inst:e,continue:!t.abort})}}),f1=Ve("$ZodNumber",(e,t)=>{kt.init(e,t),e._zod.pattern=e._zod.bag.pattern??tE,e._zod.parse=(r,a)=>{if(t.coerce)try{r.value=Number(r.value)}catch{}let n=r.value;if(typeof n=="number"&&!Number.isNaN(n)&&Number.isFinite(n))return r;let s=typeof n=="number"?Number.isNaN(n)?"NaN":Number.isFinite(n)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:n,inst:e,...s?{received:s}:{}}),r}}),ek=Ve("$ZodNumber",(e,t)=>{uE.init(e,t),f1.init(e,t)}),c1=Ve("$ZodBoolean",(e,t)=>{kt.init(e,t),e._zod.pattern=rE,e._zod.parse=(r,a)=>{if(t.coerce)try{r.value=!!r.value}catch{}let n=r.value;return typeof n=="boolean"||r.issues.push({expected:"boolean",code:"invalid_type",input:n,inst:e}),r}}),d1=Ve("$ZodBigInt",(e,t)=>{kt.init(e,t),e._zod.pattern=YM,e._zod.parse=(r,a)=>{if(t.coerce)try{r.value=BigInt(r.value)}catch{}return typeof r.value=="bigint"||r.issues.push({expected:"bigint",code:"invalid_type",input:r.value,inst:e}),r}}),tk=Ve("$ZodBigInt",(e,t)=>{fE.init(e,t),d1.init(e,t)}),rk=Ve("$ZodSymbol",(e,t)=>{kt.init(e,t),e._zod.parse=(r,a)=>{let n=r.value;return typeof n=="symbol"||r.issues.push({expected:"symbol",code:"invalid_type",input:n,inst:e}),r}}),ik=Ve("$ZodUndefined",(e,t)=>{kt.init(e,t),e._zod.pattern=nE,e._zod.values=new Set([void 0]),e._zod.optin="optional",e._zod.optout="optional",e._zod.parse=(r,a)=>{let n=r.value;return typeof n>"u"||r.issues.push({expected:"undefined",code:"invalid_type",input:n,inst:e}),r}}),nk=Ve("$ZodNull",(e,t)=>{kt.init(e,t),e._zod.pattern=iE,e._zod.values=new Set([null]),e._zod.parse=(r,a)=>{let n=r.value;return n===null||r.issues.push({expected:"null",code:"invalid_type",input:n,inst:e}),r}}),ak=Ve("$ZodAny",(e,t)=>{kt.init(e,t),e._zod.parse=r=>r}),sk=Ve("$ZodUnknown",(e,t)=>{kt.init(e,t),e._zod.parse=r=>r}),ok=Ve("$ZodNever",(e,t)=>{kt.init(e,t),e._zod.parse=(r,a)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:e}),r)}),lk=Ve("$ZodVoid",(e,t)=>{kt.init(e,t),e._zod.parse=(r,a)=>{let n=r.value;return typeof n>"u"||r.issues.push({expected:"void",code:"invalid_type",input:n,inst:e}),r}}),uk=Ve("$ZodDate",(e,t)=>{kt.init(e,t),e._zod.parse=(r,a)=>{if(t.coerce)try{r.value=new Date(r.value)}catch{}let n=r.value,s=n instanceof Date;return s&&!Number.isNaN(n.getTime())||r.issues.push({expected:"date",code:"invalid_type",input:n,...s?{received:"Invalid Date"}:{},inst:e}),r}});function O4(e,t,r){e.issues.length&&t.issues.push(...Mi(r,e.issues)),t.value[r]=e.value}i(O4,"uX");var fk=Ve("$ZodArray",(e,t)=>{kt.init(e,t),e._zod.parse=(r,a)=>{let n=r.value;if(!Array.isArray(n))return r.issues.push({expected:"array",code:"invalid_type",input:n,inst:e}),r;r.value=Array(n.length);let s=[];for(let o=0;o<n.length;o++){let h=n[o],p=t.element._zod.run({value:h,issues:[]},a);p instanceof Promise?s.push(p.then(v=>O4(v,r,o))):O4(p,r,o)}return s.length?Promise.all(s).then(()=>r):r}});function tf(e,t,r,a){e.issues.length&&t.issues.push(...Mi(r,e.issues)),e.value===void 0?r in a&&(t.value[r]=void 0):t.value[r]=e.value}i(tf,"T9");function ck(e){let t=Object.keys(e.shape);for(let a of t)if(!e.shape?.[a]?._zod?.traits?.has("$ZodType"))throw Error(`Invalid element at key "${a}": expected a Zod schema`);let r=bM(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(r)}}i(ck,"tX");function dk(e,t,r,a,n,s){let o=[],h=n.keySet,p=n.catchall._zod,v=p.def.type;for(let c of Object.keys(t)){if(h.has(c))continue;if(v==="never"){o.push(c);continue}let d=p.run({value:t[c],issues:[]},a);d instanceof Promise?e.push(d.then(y=>tf(y,r,c,t))):tf(d,r,c,t)}return o.length&&r.issues.push({code:"unrecognized_keys",keys:o,input:t,inst:s}),e.length?Promise.all(e).then(()=>r):r}i(dk,"BX");var hk=Ve("$ZodObject",(e,t)=>{if(kt.init(e,t),!Object.getOwnPropertyDescriptor(t,"shape")?.get){let o=t.shape;Object.defineProperty(t,"shape",{get:i(()=>{let h={...o};return Object.defineProperty(t,"shape",{value:h}),h},"get")})}let r=fl(()=>ck(t));Gt(e._zod,"propValues",()=>{let o=t.shape,h={};for(let p in o){let v=o[p]._zod;if(v.values){h[p]??(h[p]=new Set);for(let c of v.values)h[p].add(c)}}return h});let a=cs,n=t.catchall,s;e._zod.parse=(o,h)=>{s??(s=r.value);let p=o.value;if(!a(p))return o.issues.push({expected:"object",code:"invalid_type",input:p,inst:e}),o;o.value={};let v=[],c=s.shape;for(let d of s.keys){let y=c[d]._zod.run({value:p[d],issues:[]},h);y instanceof Promise?v.push(y.then(b=>tf(b,o,d,p))):tf(y,o,d,p)}return n?dk(v,p,o,h,r.value,e):v.length?Promise.all(v).then(()=>o):o}}),pk=Ve("$ZodObjectJIT",(e,t)=>{hk.init(e,t);let r=e._zod.parse,a=fl(()=>ck(t)),n=i(d=>{let y=new kE(["shape","payload","ctx"]),b=a.value,x=i(R=>{let O=Sg(R);return`shape[${O}]._zod.run({ value: input[${O}], issues: [] }, ctx)`},"E");y.write("const input = payload.value;");let k=Object.create(null),N=0;for(let R of b.keys)k[R]=`key_${N++}`;y.write("const newResult = {};");for(let R of b.keys){let O=k[R],T=Sg(R);y.write(`const ${O} = ${x(R)};`),y.write(`
        if (${O}.issues.length) {
          payload.issues = payload.issues.concat(${O}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${T}, ...iss.path] : [${T}]
          })));
        }
        
        
        if (${O}.value === undefined) {
          if (${T} in input) {
            newResult[${T}] = undefined;
          }
        } else {
          newResult[${T}] = ${O}.value;
        }
        
      `)}y.write("payload.value = newResult;"),y.write("return payload;");let C=y.compile();return(R,O)=>C(d,R,O)},"_"),s,o=cs,h=!Wu.jitless,p=h&&mM.value,v=t.catchall,c;e._zod.parse=(d,y)=>{c??(c=a.value);let b=d.value;return o(b)?h&&p&&y?.async===!1&&y.jitless!==!0?(s||(s=n(t.shape)),d=s(d,y),v?dk([],b,d,y,c,e):d):r(d,y):(d.issues.push({expected:"object",code:"invalid_type",input:b,inst:e}),d)}});function T4(e,t,r,a){for(let s of e)if(s.issues.length===0)return t.value=s.value,t;let n=e.filter(s=>!da(s));return n.length===1?(t.value=n[0].value,n[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(s=>s.issues.map(o=>Ii(o,a,Tr())))}),t)}i(T4,"yX");var h1=Ve("$ZodUnion",(e,t)=>{kt.init(e,t),Gt(e._zod,"optin",()=>t.options.some(n=>n._zod.optin==="optional")?"optional":void 0),Gt(e._zod,"optout",()=>t.options.some(n=>n._zod.optout==="optional")?"optional":void 0),Gt(e._zod,"values",()=>{if(t.options.every(n=>n._zod.values))return new Set(t.options.flatMap(n=>Array.from(n._zod.values)))}),Gt(e._zod,"pattern",()=>{if(t.options.every(n=>n._zod.pattern)){let n=t.options.map(s=>s._zod.pattern);return new RegExp(`^(${n.map(s=>rc(s.source)).join("|")})$`)}});let r=t.options.length===1,a=t.options[0]._zod.run;e._zod.parse=(n,s)=>{if(r)return a(n,s);let o=!1,h=[];for(let p of t.options){let v=p._zod.run({value:n.value,issues:[]},s);if(v instanceof Promise)h.push(v),o=!0;else{if(v.issues.length===0)return v;h.push(v)}}return o?Promise.all(h).then(p=>T4(p,n,e,s)):T4(h,n,e,s)}}),mk=Ve("$ZodDiscriminatedUnion",(e,t)=>{h1.init(e,t);let r=e._zod.parse;Gt(e._zod,"propValues",()=>{let n={};for(let s of t.options){let o=s._zod.propValues;if(!o||Object.keys(o).length===0)throw Error(`Invalid discriminated union option at index "${t.options.indexOf(s)}"`);for(let[h,p]of Object.entries(o)){n[h]||(n[h]=new Set);for(let v of p)n[h].add(v)}}return n});let a=fl(()=>{let n=t.options,s=new Map;for(let o of n){let h=o._zod.propValues?.[t.discriminator];if(!h||h.size===0)throw Error(`Invalid discriminated union option at index "${t.options.indexOf(o)}"`);for(let p of h){if(s.has(p))throw Error(`Duplicate discriminator value "${String(p)}"`);s.set(p,o)}}return s});e._zod.parse=(n,s)=>{let o=n.value;if(!cs(o))return n.issues.push({code:"invalid_type",expected:"object",input:o,inst:e}),n;let h=a.value.get(o?.[t.discriminator]);return h?h._zod.run(n,s):t.unionFallback?r(n,s):(n.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:t.discriminator,input:o,path:[t.discriminator],inst:e}),n)}}),gk=Ve("$ZodIntersection",(e,t)=>{kt.init(e,t),e._zod.parse=(r,a)=>{let n=r.value,s=t.left._zod.run({value:n,issues:[]},a),o=t.right._zod.run({value:n,issues:[]},a);return s instanceof Promise||o instanceof Promise?Promise.all([s,o]).then(([h,p])=>P4(r,h,p)):P4(r,s,o)}});function kg(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(Ia(e)&&Ia(t)){let r=Object.keys(t),a=Object.keys(e).filter(s=>r.indexOf(s)!==-1),n={...e,...t};for(let s of a){let o=kg(e[s],t[s]);if(!o.valid)return{valid:!1,mergeErrorPath:[s,...o.mergeErrorPath]};n[s]=o.data}return{valid:!0,data:n}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};let r=[];for(let a=0;a<e.length;a++){let n=e[a],s=t[a],o=kg(n,s);if(!o.valid)return{valid:!1,mergeErrorPath:[a,...o.mergeErrorPath]};r.push(o.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}i(kg,"DY");function P4(e,t,r){if(t.issues.length&&e.issues.push(...t.issues),r.issues.length&&e.issues.push(...r.issues),da(e))return e;let a=kg(t.value,r.value);if(!a.valid)throw Error(`Unmergable intersection. Error path: ${JSON.stringify(a.mergeErrorPath)}`);return e.value=a.data,e}i(P4,"pX");var p1=Ve("$ZodTuple",(e,t)=>{kt.init(e,t);let r=t.items,a=r.length-[...r].reverse().findIndex(n=>n._zod.optin!=="optional");e._zod.parse=(n,s)=>{let o=n.value;if(!Array.isArray(o))return n.issues.push({input:o,inst:e,expected:"tuple",code:"invalid_type"}),n;n.value=[];let h=[];if(!t.rest){let v=o.length>r.length,c=o.length<a-1;if(v||c)return n.issues.push({...v?{code:"too_big",maximum:r.length}:{code:"too_small",minimum:r.length},input:o,inst:e,origin:"array"}),n}let p=-1;for(let v of r){if(p++,p>=o.length&&p>=a)continue;let c=v._zod.run({value:o[p],issues:[]},s);c instanceof Promise?h.push(c.then(d=>ru(d,n,p))):ru(c,n,p)}if(t.rest){let v=o.slice(r.length);for(let c of v){p++;let d=t.rest._zod.run({value:c,issues:[]},s);d instanceof Promise?h.push(d.then(y=>ru(y,n,p))):ru(d,n,p)}}return h.length?Promise.all(h).then(()=>n):n}});function ru(e,t,r){e.issues.length&&t.issues.push(...Mi(r,e.issues)),t.value[r]=e.value}i(ru,"z9");var vk=Ve("$ZodRecord",(e,t)=>{kt.init(e,t),e._zod.parse=(r,a)=>{let n=r.value;if(!Ia(n))return r.issues.push({expected:"record",code:"invalid_type",input:n,inst:e}),r;let s=[];if(t.keyType._zod.values){let o=t.keyType._zod.values;r.value={};for(let p of o)if(typeof p=="string"||typeof p=="number"||typeof p=="symbol"){let v=t.valueType._zod.run({value:n[p],issues:[]},a);v instanceof Promise?s.push(v.then(c=>{c.issues.length&&r.issues.push(...Mi(p,c.issues)),r.value[p]=c.value})):(v.issues.length&&r.issues.push(...Mi(p,v.issues)),r.value[p]=v.value)}let h;for(let p in n)o.has(p)||(h=h??[],h.push(p));h&&h.length>0&&r.issues.push({code:"unrecognized_keys",input:n,inst:e,keys:h})}else{r.value={};for(let o of Reflect.ownKeys(n)){if(o==="__proto__")continue;let h=t.keyType._zod.run({value:o,issues:[]},a);if(h instanceof Promise)throw Error("Async schemas not supported in object keys currently");if(h.issues.length){r.issues.push({code:"invalid_key",origin:"record",issues:h.issues.map(v=>Ii(v,a,Tr())),input:o,path:[o],inst:e}),r.value[h.value]=h.value;continue}let p=t.valueType._zod.run({value:n[o],issues:[]},a);p instanceof Promise?s.push(p.then(v=>{v.issues.length&&r.issues.push(...Mi(o,v.issues)),r.value[h.value]=v.value})):(p.issues.length&&r.issues.push(...Mi(o,p.issues)),r.value[h.value]=p.value)}}return s.length?Promise.all(s).then(()=>r):r}}),bk=Ve("$ZodMap",(e,t)=>{kt.init(e,t),e._zod.parse=(r,a)=>{let n=r.value;if(!(n instanceof Map))return r.issues.push({expected:"map",code:"invalid_type",input:n,inst:e}),r;let s=[];r.value=new Map;for(let[o,h]of n){let p=t.keyType._zod.run({value:o,issues:[]},a),v=t.valueType._zod.run({value:h,issues:[]},a);p instanceof Promise||v instanceof Promise?s.push(Promise.all([p,v]).then(([c,d])=>{D4(c,d,r,o,n,e,a)})):D4(p,v,r,o,n,e,a)}return s.length?Promise.all(s).then(()=>r):r}});function D4(e,t,r,a,n,s,o){e.issues.length&&(Yu.has(typeof a)?r.issues.push(...Mi(a,e.issues)):r.issues.push({code:"invalid_key",origin:"map",input:n,inst:s,issues:e.issues.map(h=>Ii(h,o,Tr()))})),t.issues.length&&(Yu.has(typeof a)?r.issues.push(...Mi(a,t.issues)):r.issues.push({origin:"map",code:"invalid_element",input:n,inst:s,key:a,issues:t.issues.map(h=>Ii(h,o,Tr()))})),r.value.set(e.value,t.value)}i(D4,"xX");var yk=Ve("$ZodSet",(e,t)=>{kt.init(e,t),e._zod.parse=(r,a)=>{let n=r.value;if(!(n instanceof Set))return r.issues.push({input:n,inst:e,expected:"set",code:"invalid_type"}),r;let s=[];r.value=new Set;for(let o of n){let h=t.valueType._zod.run({value:o,issues:[]},a);h instanceof Promise?s.push(h.then(p=>L4(p,r))):L4(h,r)}return s.length?Promise.all(s).then(()=>r):r}});function L4(e,t){e.issues.length&&t.issues.push(...e.issues),t.value.add(e.value)}i(L4,"cX");var wk=Ve("$ZodEnum",(e,t)=>{kt.init(e,t);let r=Jv(t.entries),a=new Set(r);e._zod.values=a,e._zod.pattern=new RegExp(`^(${r.filter(n=>Yu.has(typeof n)).map(n=>typeof n=="string"?$n(n):n.toString()).join("|")})$`),e._zod.parse=(n,s)=>{let o=n.value;return a.has(o)||n.issues.push({code:"invalid_value",values:r,input:o,inst:e}),n}}),xk=Ve("$ZodLiteral",(e,t)=>{if(kt.init(e,t),t.values.length===0)throw Error("Cannot create literal schema with no valid values");e._zod.values=new Set(t.values),e._zod.pattern=new RegExp(`^(${t.values.map(r=>typeof r=="string"?$n(r):r?$n(r.toString()):String(r)).join("|")})$`),e._zod.parse=(r,a)=>{let n=r.value;return e._zod.values.has(n)||r.issues.push({code:"invalid_value",values:t.values,input:n,inst:e}),r}}),_k=Ve("$ZodFile",(e,t)=>{kt.init(e,t),e._zod.parse=(r,a)=>{let n=r.value;return n instanceof File||r.issues.push({expected:"file",code:"invalid_type",input:n,inst:e}),r}}),Sk=Ve("$ZodTransform",(e,t)=>{kt.init(e,t),e._zod.parse=(r,a)=>{if(a.direction==="backward")throw new tc(e.constructor.name);let n=t.transform(r.value,r);if(a.async)return(n instanceof Promise?n:Promise.resolve(n)).then(s=>(r.value=s,r));if(n instanceof Promise)throw new wa;return r.value=n,r}});function B4(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}i(B4,"mX");var Mk=Ve("$ZodOptional",(e,t)=>{kt.init(e,t),e._zod.optin="optional",e._zod.optout="optional",Gt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),Gt(e._zod,"pattern",()=>{let r=t.innerType._zod.pattern;return r?new RegExp(`^(${rc(r.source)})?$`):void 0}),e._zod.parse=(r,a)=>{if(t.innerType._zod.optin==="optional"){let n=t.innerType._zod.run(r,a);return n instanceof Promise?n.then(s=>B4(s,r.value)):B4(n,r.value)}return r.value===void 0?r:t.innerType._zod.run(r,a)}}),Ek=Ve("$ZodNullable",(e,t)=>{kt.init(e,t),Gt(e._zod,"optin",()=>t.innerType._zod.optin),Gt(e._zod,"optout",()=>t.innerType._zod.optout),Gt(e._zod,"pattern",()=>{let r=t.innerType._zod.pattern;return r?new RegExp(`^(${rc(r.source)}|null)$`):void 0}),Gt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(r,a)=>r.value===null?r:t.innerType._zod.run(r,a)}),kk=Ve("$ZodDefault",(e,t)=>{kt.init(e,t),e._zod.optin="optional",Gt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,a)=>{if(a.direction==="backward")return t.innerType._zod.run(r,a);if(r.value===void 0)return r.value=t.defaultValue,r;let n=t.innerType._zod.run(r,a);return n instanceof Promise?n.then(s=>z4(s,t)):z4(n,t)}});function z4(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}i(z4,"dX");var Ak=Ve("$ZodPrefault",(e,t)=>{kt.init(e,t),e._zod.optin="optional",Gt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,a)=>(a.direction==="backward"||r.value===void 0&&(r.value=t.defaultValue),t.innerType._zod.run(r,a))}),jk=Ve("$ZodNonOptional",(e,t)=>{kt.init(e,t),Gt(e._zod,"values",()=>{let r=t.innerType._zod.values;return r?new Set([...r].filter(a=>a!==void 0)):void 0}),e._zod.parse=(r,a)=>{let n=t.innerType._zod.run(r,a);return n instanceof Promise?n.then(s=>U4(s,e)):U4(n,e)}});function U4(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}i(U4,"lX");var Nk=Ve("$ZodSuccess",(e,t)=>{kt.init(e,t),e._zod.parse=(r,a)=>{if(a.direction==="backward")throw new tc("ZodSuccess");let n=t.innerType._zod.run(r,a);return n instanceof Promise?n.then(s=>(r.value=s.issues.length===0,r)):(r.value=n.issues.length===0,r)}}),Ik=Ve("$ZodCatch",(e,t)=>{kt.init(e,t),Gt(e._zod,"optin",()=>t.innerType._zod.optin),Gt(e._zod,"optout",()=>t.innerType._zod.optout),Gt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,a)=>{if(a.direction==="backward")return t.innerType._zod.run(r,a);let n=t.innerType._zod.run(r,a);return n instanceof Promise?n.then(s=>(r.value=s.value,s.issues.length&&(r.value=t.catchValue({...r,error:{issues:s.issues.map(o=>Ii(o,a,Tr()))},input:r.value}),r.issues=[]),r)):(r.value=n.value,n.issues.length&&(r.value=t.catchValue({...r,error:{issues:n.issues.map(s=>Ii(s,a,Tr()))},input:r.value}),r.issues=[]),r)}}),Ck=Ve("$ZodNaN",(e,t)=>{kt.init(e,t),e._zod.parse=(r,a)=>((typeof r.value!="number"||!Number.isNaN(r.value))&&r.issues.push({input:r.value,inst:e,expected:"nan",code:"invalid_type"}),r)}),Rk=Ve("$ZodPipe",(e,t)=>{kt.init(e,t),Gt(e._zod,"values",()=>t.in._zod.values),Gt(e._zod,"optin",()=>t.in._zod.optin),Gt(e._zod,"optout",()=>t.out._zod.optout),Gt(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(r,a)=>{if(a.direction==="backward"){let s=t.out._zod.run(r,a);return s instanceof Promise?s.then(o=>iu(o,t.in,a)):iu(s,t.in,a)}let n=t.in._zod.run(r,a);return n instanceof Promise?n.then(s=>iu(s,t.out,a)):iu(n,t.out,a)}});function iu(e,t,r){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},r)}i(iu,"W9");var m1=Ve("$ZodCodec",(e,t)=>{kt.init(e,t),Gt(e._zod,"values",()=>t.in._zod.values),Gt(e._zod,"optin",()=>t.in._zod.optin),Gt(e._zod,"optout",()=>t.out._zod.optout),Gt(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(r,a)=>{if((a.direction||"forward")==="forward"){let n=t.in._zod.run(r,a);return n instanceof Promise?n.then(s=>nu(s,t,a)):nu(n,t,a)}else{let n=t.out._zod.run(r,a);return n instanceof Promise?n.then(s=>nu(s,t,a)):nu(n,t,a)}}});function nu(e,t,r){if(e.issues.length)return e.aborted=!0,e;if((r.direction||"forward")==="forward"){let a=t.transform(e.value,e);return a instanceof Promise?a.then(n=>au(e,n,t.out,r)):au(e,a,t.out,r)}else{let a=t.reverseTransform(e.value,e);return a instanceof Promise?a.then(n=>au(e,n,t.in,r)):au(e,a,t.in,r)}}i(nu,"H9");function au(e,t,r,a){return e.issues.length?(e.aborted=!0,e):r._zod.run({value:t,issues:e.issues},a)}i(au,"J9");var Ok=Ve("$ZodReadonly",(e,t)=>{kt.init(e,t),Gt(e._zod,"propValues",()=>t.innerType._zod.propValues),Gt(e._zod,"values",()=>t.innerType._zod.values),Gt(e._zod,"optin",()=>t.innerType._zod.optin),Gt(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(r,a)=>{if(a.direction==="backward")return t.innerType._zod.run(r,a);let n=t.innerType._zod.run(r,a);return n instanceof Promise?n.then(F4):F4(n)}});function F4(e){return e.value=Object.freeze(e.value),e}i(F4,"oX");var Tk=Ve("$ZodTemplateLiteral",(e,t)=>{kt.init(e,t);let r=[];for(let a of t.parts)if(typeof a=="object"&&a!==null){if(!a._zod.pattern)throw Error(`Invalid template literal part, no pattern found: ${[...a._zod.traits].shift()}`);let n=a._zod.pattern instanceof RegExp?a._zod.pattern.source:a._zod.pattern;if(!n)throw Error(`Invalid template literal part: ${a._zod.traits}`);let s=n.startsWith("^")?1:0,o=n.endsWith("$")?n.length-1:n.length;r.push(n.slice(s,o))}else if(a===null||vM.has(typeof a))r.push($n(`${a}`));else throw Error(`Invalid template literal part: ${a}`);e._zod.pattern=new RegExp(`^${r.join("")}$`),e._zod.parse=(a,n)=>typeof a.value!="string"?(a.issues.push({input:a.value,inst:e,expected:"template_literal",code:"invalid_type"}),a):(e._zod.pattern.lastIndex=0,e._zod.pattern.test(a.value)||a.issues.push({input:a.value,inst:e,code:"invalid_format",format:t.format??"template_literal",pattern:e._zod.pattern.source}),a)}),Pk=Ve("$ZodFunction",(e,t)=>(kt.init(e,t),e._def=t,e._zod.def=t,e.implement=r=>{if(typeof r!="function")throw Error("implement() must be called with a function");return function(...a){let n=e._def.input?Mg(e._def.input,a):a,s=Reflect.apply(r,this,n);return e._def.output?Mg(e._def.output,s):s}},e.implementAsync=r=>{if(typeof r!="function")throw Error("implementAsync() must be called with a function");return async function(...a){let n=e._def.input?await Eg(e._def.input,a):a,s=await Reflect.apply(r,this,n);return e._def.output?await Eg(e._def.output,s):s}},e._zod.parse=(r,a)=>typeof r.value!="function"?(r.issues.push({code:"invalid_type",expected:"function",input:r.value,inst:e}),r):(e._def.output&&e._def.output._zod.def.type==="promise"?r.value=e.implementAsync(r.value):r.value=e.implement(r.value),r),e.input=(...r)=>{let a=e.constructor;return Array.isArray(r[0])?new a({type:"function",input:new p1({type:"tuple",items:r[0],rest:r[1]}),output:e._def.output}):new a({type:"function",input:r[0],output:e._def.output})},e.output=r=>new e.constructor({type:"function",input:e._def.input,output:r}),e)),Dk=Ve("$ZodPromise",(e,t)=>{kt.init(e,t),e._zod.parse=(r,a)=>Promise.resolve(r.value).then(n=>t.innerType._zod.run({value:n,issues:[]},a))}),Lk=Ve("$ZodLazy",(e,t)=>{kt.init(e,t),Gt(e._zod,"innerType",()=>t.getter()),Gt(e._zod,"pattern",()=>e._zod.innerType._zod.pattern),Gt(e._zod,"propValues",()=>e._zod.innerType._zod.propValues),Gt(e._zod,"optin",()=>e._zod.innerType._zod.optin??void 0),Gt(e._zod,"optout",()=>e._zod.innerType._zod.optout??void 0),e._zod.parse=(r,a)=>e._zod.innerType._zod.run(r,a)}),Bk=Ve("$ZodCustom",(e,t)=>{ur.init(e,t),kt.init(e,t),e._zod.parse=(r,a)=>r,e._zod.check=r=>{let a=r.value,n=t.fn(a);if(n instanceof Promise)return n.then(s=>$4(s,r,a,e));$4(n,r,a,e)}});function $4(e,t,r,a){if(!e){let n={code:"custom",input:r,inst:a,path:[...a._zod.def.path??[]],continue:!a._zod.def.abort};a._zod.def.params&&(n.params=a._zod.def.params),t.issues.push(ef(n))}}i($4,"rX");var g1={};$r(g1,{zhTW:i(()=>XG,"zhTW"),zhCN:i(()=>qG,"zhCN"),yo:i(()=>QG,"yo"),vi:i(()=>HG,"vi"),ur:i(()=>VG,"ur"),uk:i(()=>Fk,"uk"),ua:i(()=>$G,"ua"),tr:i(()=>UG,"tr"),th:i(()=>LG,"th"),ta:i(()=>PG,"ta"),sv:i(()=>OG,"sv"),sl:i(()=>CG,"sl"),ru:i(()=>NG,"ru"),pt:i(()=>AG,"pt"),ps:i(()=>SG,"ps"),pl:i(()=>EG,"pl"),ota:i(()=>xG,"ota"),no:i(()=>yG,"no"),nl:i(()=>vG,"nl"),ms:i(()=>mG,"ms"),mk:i(()=>hG,"mk"),lt:i(()=>cG,"lt"),ko:i(()=>lG,"ko"),km:i(()=>Uk,"km"),kh:i(()=>sG,"kh"),ka:i(()=>nG,"ka"),ja:i(()=>tG,"ja"),it:i(()=>Y$,"it"),is:i(()=>W$,"is"),id:i(()=>q$,"id"),hu:i(()=>H$,"hu"),he:i(()=>V$,"he"),frCA:i(()=>$$,"frCA"),fr:i(()=>U$,"fr"),fi:i(()=>B$,"fi"),fa:i(()=>D$,"fa"),es:i(()=>T$,"es"),eo:i(()=>R$,"eo"),en:i(()=>zk,"en"),de:i(()=>A$,"de"),da:i(()=>E$,"da"),cs:i(()=>S$,"cs"),ca:i(()=>x$,"ca"),be:i(()=>y$,"be"),az:i(()=>v$,"az"),ar:i(()=>m$,"ar")});var p$=i(()=>{let e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function t(n){return e[n]??null}i(t,"q");let r=i(n=>{let s=typeof n;switch(s){case"number":return Number.isNaN(n)?"NaN":"number";case"object":{if(Array.isArray(n))return"array";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return s},"K"),a={regex:"",email:" ",url:"",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ISO",date:"  ISO",time:"  ISO",duration:"  ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:"   IPv4",cidrv6:"   IPv6",base64:"  base64-encoded",base64url:"  base64url-encoded",json_string:"   JSON",e164:"   E.164",jwt:"JWT",template_literal:""};return n=>{switch(n.code){case"invalid_type":return`  :   ${n.expected}    ${r(n.input)}`;case"invalid_value":return n.values.length===1?`  :   ${St(n.values[0])}`:`  :     : ${st(n.values,"|")}`;case"too_big":{let s=n.inclusive?"<=":"<",o=t(n.origin);return o?`   :    ${n.origin??""} ${s} ${n.maximum.toString()} ${o.unit??""}`:`  :    ${n.origin??""} ${s} ${n.maximum.toString()}`}case"too_small":{let s=n.inclusive?">=":">",o=t(n.origin);return o?`  :   ${n.origin}   ${s} ${n.minimum.toString()} ${o.unit}`:`  :   ${n.origin}   ${s} ${n.minimum.toString()}`}case"invalid_format":{let s=n;return s.format==="starts_with"?`  :     "${n.prefix}"`:s.format==="ends_with"?`  :     "${s.suffix}"`:s.format==="includes"?`  :    "${s.includes}"`:s.format==="regex"?`  :     ${s.pattern}`:`${a[s.format]??n.format}  `}case"not_multiple_of":return`  :      ${n.divisor}`;case"unrecognized_keys":return`${n.keys.length>1?"":""} ${n.keys.length>1?"":""}: ${st(n.keys," ")}`;case"invalid_key":return`    ${n.origin}`;case"invalid_union":return"  ";case"invalid_element":return`    ${n.origin}`;default:return"  "}}},"LI");function m$(){return{localeError:p$()}}i(m$,"c5");var g$=i(()=>{let e={string:{unit:"simvol",verb:"olmaldr"},file:{unit:"bayt",verb:"olmaldr"},array:{unit:"element",verb:"olmaldr"},set:{unit:"element",verb:"olmaldr"}};function t(n){return e[n]??null}i(t,"q");let r=i(n=>{let s=typeof n;switch(s){case"number":return Number.isNaN(n)?"NaN":"number";case"object":{if(Array.isArray(n))return"array";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return s},"K"),a={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return n=>{switch(n.code){case"invalid_type":return`Yanl dyr: gzlniln ${n.expected}, daxil olan ${r(n.input)}`;case"invalid_value":return n.values.length===1?`Yanl dyr: gzlniln ${St(n.values[0])}`:`Yanl seim: aadaklardan biri olmaldr: ${st(n.values,"|")}`;case"too_big":{let s=n.inclusive?"<=":"<",o=t(n.origin);return o?`ox byk: gzlniln ${n.origin??"dyr"} ${s}${n.maximum.toString()} ${o.unit??"element"}`:`ox byk: gzlniln ${n.origin??"dyr"} ${s}${n.maximum.toString()}`}case"too_small":{let s=n.inclusive?">=":">",o=t(n.origin);return o?`ox kiik: gzlniln ${n.origin} ${s}${n.minimum.toString()} ${o.unit}`:`ox kiik: gzlniln ${n.origin} ${s}${n.minimum.toString()}`}case"invalid_format":{let s=n;return s.format==="starts_with"?`Yanl mtn: "${s.prefix}" il balamaldr`:s.format==="ends_with"?`Yanl mtn: "${s.suffix}" il bitmlidir`:s.format==="includes"?`Yanl mtn: "${s.includes}" daxil olmaldr`:s.format==="regex"?`Yanl mtn: ${s.pattern} ablonuna uyun olmaldr`:`Yanl ${a[s.format]??n.format}`}case"not_multiple_of":return`Yanl dd: ${n.divisor} il bln biln olmaldr`;case"unrecognized_keys":return`Tannmayan aar${n.keys.length>1?"lar":""}: ${st(n.keys,", ")}`;case"invalid_key":return`${n.origin} daxilind yanl aar`;case"invalid_union":return"Yanl dyr";case"invalid_element":return`${n.origin} daxilind yanl dyr`;default:return"Yanl dyr"}}},"bI");function v$(){return{localeError:g$()}}i(v$,"m5");function G4(e,t,r,a){let n=Math.abs(e),s=n%10,o=n%100;return o>=11&&o<=19?a:s===1?t:s>=2&&s<=4?r:a}i(G4,"FX");var b$=i(()=>{let e={string:{unit:{one:"",few:"",many:""},verb:""},array:{unit:{one:"",few:"",many:""},verb:""},set:{unit:{one:"",few:"",many:""},verb:""},file:{unit:{one:"",few:"",many:""},verb:""}};function t(n){return e[n]??null}i(t,"q");let r=i(n=>{let s=typeof n;switch(s){case"number":return Number.isNaN(n)?"NaN":"";case"object":{if(Array.isArray(n))return"";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return s},"K"),a={regex:"",email:"email ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"   base64",base64url:"   base64url",json_string:"JSON ",e164:" E.164",jwt:"JWT",template_literal:""};return n=>{switch(n.code){case"invalid_type":return` :  ${n.expected},  ${r(n.input)}`;case"invalid_value":return n.values.length===1?` :  ${St(n.values[0])}`:` :    ${st(n.values,"|")}`;case"too_big":{let s=n.inclusive?"<=":"<",o=t(n.origin);if(o){let h=Number(n.maximum),p=G4(h,o.unit.one,o.unit.few,o.unit.many);return` : ,  ${n.origin??""}  ${o.verb} ${s}${n.maximum.toString()} ${p}`}return` : ,  ${n.origin??""}   ${s}${n.maximum.toString()}`}case"too_small":{let s=n.inclusive?">=":">",o=t(n.origin);if(o){let h=Number(n.minimum),p=G4(h,o.unit.one,o.unit.few,o.unit.many);return` : ,  ${n.origin}  ${o.verb} ${s}${n.minimum.toString()} ${p}`}return` : ,  ${n.origin}   ${s}${n.minimum.toString()}`}case"invalid_format":{let s=n;return s.format==="starts_with"?` :    "${s.prefix}"`:s.format==="ends_with"?` :    "${s.suffix}"`:s.format==="includes"?` :   "${s.includes}"`:s.format==="regex"?` :    ${s.pattern}`:` ${a[s.format]??n.format}`}case"not_multiple_of":return` :    ${n.divisor}`;case"unrecognized_keys":return` ${n.keys.length>1?"":""}: ${st(n.keys,", ")}`;case"invalid_key":return`   ${n.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${n.origin}`;default:return" "}}},"uI");function y$(){return{localeError:b$()}}i(y$,"d5");var w$=i(()=>{let e={string:{unit:"carcters",verb:"contenir"},file:{unit:"bytes",verb:"contenir"},array:{unit:"elements",verb:"contenir"},set:{unit:"elements",verb:"contenir"}};function t(n){return e[n]??null}i(t,"q");let r=i(n=>{let s=typeof n;switch(s){case"number":return Number.isNaN(n)?"NaN":"number";case"object":{if(Array.isArray(n))return"array";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return s},"K"),a={regex:"entrada",email:"adrea electrnica",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i hora ISO",date:"data ISO",time:"hora ISO",duration:"durada ISO",ipv4:"adrea IPv4",ipv6:"adrea IPv6",cidrv4:"rang IPv4",cidrv6:"rang IPv6",base64:"cadena codificada en base64",base64url:"cadena codificada en base64url",json_string:"cadena JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"};return n=>{switch(n.code){case"invalid_type":return`Tipus invlid: s'esperava ${n.expected}, s'ha rebut ${r(n.input)}`;case"invalid_value":return n.values.length===1?`Valor invlid: s'esperava ${St(n.values[0])}`:`Opci invlida: s'esperava una de ${st(n.values," o ")}`;case"too_big":{let s=n.inclusive?"com a mxim":"menys de",o=t(n.origin);return o?`Massa gran: s'esperava que ${n.origin??"el valor"} contingus ${s} ${n.maximum.toString()} ${o.unit??"elements"}`:`Massa gran: s'esperava que ${n.origin??"el valor"} fos ${s} ${n.maximum.toString()}`}case"too_small":{let s=n.inclusive?"com a mnim":"ms de",o=t(n.origin);return o?`Massa petit: s'esperava que ${n.origin} contingus ${s} ${n.minimum.toString()} ${o.unit}`:`Massa petit: s'esperava que ${n.origin} fos ${s} ${n.minimum.toString()}`}case"invalid_format":{let s=n;return s.format==="starts_with"?`Format invlid: ha de comenar amb "${s.prefix}"`:s.format==="ends_with"?`Format invlid: ha d'acabar amb "${s.suffix}"`:s.format==="includes"?`Format invlid: ha d'incloure "${s.includes}"`:s.format==="regex"?`Format invlid: ha de coincidir amb el patr ${s.pattern}`:`Format invlid per a ${a[s.format]??n.format}`}case"not_multiple_of":return`Nmero invlid: ha de ser mltiple de ${n.divisor}`;case"unrecognized_keys":return`Clau${n.keys.length>1?"s":""} no reconeguda${n.keys.length>1?"s":""}: ${st(n.keys,", ")}`;case"invalid_key":return`Clau invlida a ${n.origin}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Element invlid a ${n.origin}`;default:return"Entrada invlida"}}},"yI");function x$(){return{localeError:w$()}}i(x$,"l5");var _$=i(()=>{let e={string:{unit:"znak",verb:"mt"},file:{unit:"bajt",verb:"mt"},array:{unit:"prvk",verb:"mt"},set:{unit:"prvk",verb:"mt"}};function t(n){return e[n]??null}i(t,"q");let r=i(n=>{let s=typeof n;switch(s){case"number":return Number.isNaN(n)?"NaN":"slo";case"string":return"etzec";case"boolean":return"boolean";case"bigint":return"bigint";case"function":return"funkce";case"symbol":return"symbol";case"undefined":return"undefined";case"object":{if(Array.isArray(n))return"pole";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return s},"K"),a={regex:"regulrn vraz",email:"e-mailov adresa",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"datum a as ve formtu ISO",date:"datum ve formtu ISO",time:"as ve formtu ISO",duration:"doba trvn ISO",ipv4:"IPv4 adresa",ipv6:"IPv6 adresa",cidrv4:"rozsah IPv4",cidrv6:"rozsah IPv6",base64:"etzec zakdovan ve formtu base64",base64url:"etzec zakdovan ve formtu base64url",json_string:"etzec ve formtu JSON",e164:"slo E.164",jwt:"JWT",template_literal:"vstup"};return n=>{switch(n.code){case"invalid_type":return`Neplatn vstup: oekvno ${n.expected}, obdreno ${r(n.input)}`;case"invalid_value":return n.values.length===1?`Neplatn vstup: oekvno ${St(n.values[0])}`:`Neplatn monost: oekvna jedna z hodnot ${st(n.values,"|")}`;case"too_big":{let s=n.inclusive?"<=":"<",o=t(n.origin);return o?`Hodnota je pli velk: ${n.origin??"hodnota"} mus mt ${s}${n.maximum.toString()} ${o.unit??"prvk"}`:`Hodnota je pli velk: ${n.origin??"hodnota"} mus bt ${s}${n.maximum.toString()}`}case"too_small":{let s=n.inclusive?">=":">",o=t(n.origin);return o?`Hodnota je pli mal: ${n.origin??"hodnota"} mus mt ${s}${n.minimum.toString()} ${o.unit??"prvk"}`:`Hodnota je pli mal: ${n.origin??"hodnota"} mus bt ${s}${n.minimum.toString()}`}case"invalid_format":{let s=n;return s.format==="starts_with"?`Neplatn etzec: mus zanat na "${s.prefix}"`:s.format==="ends_with"?`Neplatn etzec: mus konit na "${s.suffix}"`:s.format==="includes"?`Neplatn etzec: mus obsahovat "${s.includes}"`:s.format==="regex"?`Neplatn etzec: mus odpovdat vzoru ${s.pattern}`:`Neplatn formt ${a[s.format]??n.format}`}case"not_multiple_of":return`Neplatn slo: mus bt nsobkem ${n.divisor}`;case"unrecognized_keys":return`Neznm kle: ${st(n.keys,", ")}`;case"invalid_key":return`Neplatn kl v ${n.origin}`;case"invalid_union":return"Neplatn vstup";case"invalid_element":return`Neplatn hodnota v ${n.origin}`;default:return"Neplatn vstup"}}},"pI");function S$(){return{localeError:_$()}}i(S$,"o5");var M$=i(()=>{let e={string:{unit:"tegn",verb:"havde"},file:{unit:"bytes",verb:"havde"},array:{unit:"elementer",verb:"indeholdt"},set:{unit:"elementer",verb:"indeholdt"}},t={string:"streng",number:"tal",boolean:"boolean",array:"liste",object:"objekt",set:"st",file:"fil"};function r(o){return e[o]??null}i(r,"K");function a(o){return t[o]??o}i(a,"P");let n=i(o=>{let h=typeof o;switch(h){case"number":return Number.isNaN(o)?"NaN":"tal";case"object":return Array.isArray(o)?"liste":o===null?"null":Object.getPrototypeOf(o)!==Object.prototype&&o.constructor?o.constructor.name:"objekt"}return h},"_"),s={regex:"input",email:"e-mailadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslt",date:"ISO-dato",time:"ISO-klokkeslt",duration:"ISO-varighed",ipv4:"IPv4-omrde",ipv6:"IPv6-omrde",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodet streng",base64url:"base64url-kodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"};return o=>{switch(o.code){case"invalid_type":return`Ugyldigt input: forventede ${a(o.expected)}, fik ${a(n(o.input))}`;case"invalid_value":return o.values.length===1?`Ugyldig vrdi: forventede ${St(o.values[0])}`:`Ugyldigt valg: forventede en af flgende ${st(o.values,"|")}`;case"too_big":{let h=o.inclusive?"<=":"<",p=r(o.origin),v=a(o.origin);return p?`For stor: forventede ${v??"value"} ${p.verb} ${h} ${o.maximum.toString()} ${p.unit??"elementer"}`:`For stor: forventede ${v??"value"} havde ${h} ${o.maximum.toString()}`}case"too_small":{let h=o.inclusive?">=":">",p=r(o.origin),v=a(o.origin);return p?`For lille: forventede ${v} ${p.verb} ${h} ${o.minimum.toString()} ${p.unit}`:`For lille: forventede ${v} havde ${h} ${o.minimum.toString()}`}case"invalid_format":{let h=o;return h.format==="starts_with"?`Ugyldig streng: skal starte med "${h.prefix}"`:h.format==="ends_with"?`Ugyldig streng: skal ende med "${h.suffix}"`:h.format==="includes"?`Ugyldig streng: skal indeholde "${h.includes}"`:h.format==="regex"?`Ugyldig streng: skal matche mnsteret ${h.pattern}`:`Ugyldig ${s[h.format]??o.format}`}case"not_multiple_of":return`Ugyldigt tal: skal vre deleligt med ${o.divisor}`;case"unrecognized_keys":return`${o.keys.length>1?"Ukendte ngler":"Ukendt ngle"}: ${st(o.keys,", ")}`;case"invalid_key":return`Ugyldig ngle i ${o.origin}`;case"invalid_union":return"Ugyldigt input: matcher ingen af de tilladte typer";case"invalid_element":return`Ugyldig vrdi i ${o.origin}`;default:return"Ugyldigt input"}}},"xI");function E$(){return{localeError:M$()}}i(E$,"r5");var k$=i(()=>{let e={string:{unit:"Zeichen",verb:"zu haben"},file:{unit:"Bytes",verb:"zu haben"},array:{unit:"Elemente",verb:"zu haben"},set:{unit:"Elemente",verb:"zu haben"}};function t(n){return e[n]??null}i(t,"q");let r=i(n=>{let s=typeof n;switch(s){case"number":return Number.isNaN(n)?"NaN":"Zahl";case"object":{if(Array.isArray(n))return"Array";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return s},"K"),a={regex:"Eingabe",email:"E-Mail-Adresse",url:"URL",emoji:"Emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-Datum und -Uhrzeit",date:"ISO-Datum",time:"ISO-Uhrzeit",duration:"ISO-Dauer",ipv4:"IPv4-Adresse",ipv6:"IPv6-Adresse",cidrv4:"IPv4-Bereich",cidrv6:"IPv6-Bereich",base64:"Base64-codierter String",base64url:"Base64-URL-codierter String",json_string:"JSON-String",e164:"E.164-Nummer",jwt:"JWT",template_literal:"Eingabe"};return n=>{switch(n.code){case"invalid_type":return`Ungltige Eingabe: erwartet ${n.expected}, erhalten ${r(n.input)}`;case"invalid_value":return n.values.length===1?`Ungltige Eingabe: erwartet ${St(n.values[0])}`:`Ungltige Option: erwartet eine von ${st(n.values,"|")}`;case"too_big":{let s=n.inclusive?"<=":"<",o=t(n.origin);return o?`Zu gro: erwartet, dass ${n.origin??"Wert"} ${s}${n.maximum.toString()} ${o.unit??"Elemente"} hat`:`Zu gro: erwartet, dass ${n.origin??"Wert"} ${s}${n.maximum.toString()} ist`}case"too_small":{let s=n.inclusive?">=":">",o=t(n.origin);return o?`Zu klein: erwartet, dass ${n.origin} ${s}${n.minimum.toString()} ${o.unit} hat`:`Zu klein: erwartet, dass ${n.origin} ${s}${n.minimum.toString()} ist`}case"invalid_format":{let s=n;return s.format==="starts_with"?`Ungltiger String: muss mit "${s.prefix}" beginnen`:s.format==="ends_with"?`Ungltiger String: muss mit "${s.suffix}" enden`:s.format==="includes"?`Ungltiger String: muss "${s.includes}" enthalten`:s.format==="regex"?`Ungltiger String: muss dem Muster ${s.pattern} entsprechen`:`Ungltig: ${a[s.format]??n.format}`}case"not_multiple_of":return`Ungltige Zahl: muss ein Vielfaches von ${n.divisor} sein`;case"unrecognized_keys":return`${n.keys.length>1?"Unbekannte Schlssel":"Unbekannter Schlssel"}: ${st(n.keys,", ")}`;case"invalid_key":return`Ungltiger Schlssel in ${n.origin}`;case"invalid_union":return"Ungltige Eingabe";case"invalid_element":return`Ungltiger Wert in ${n.origin}`;default:return"Ungltige Eingabe"}}},"cI");function A$(){return{localeError:k$()}}i(A$,"n5");var j$=i(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":{if(Array.isArray(e))return"array";if(e===null)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}}return t},"mI"),N$=i(()=>{let e={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"}};function t(a){return e[a]??null}i(t,"q");let r={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return a=>{switch(a.code){case"invalid_type":return`Invalid input: expected ${a.expected}, received ${j$(a.input)}`;case"invalid_value":return a.values.length===1?`Invalid input: expected ${St(a.values[0])}`:`Invalid option: expected one of ${st(a.values,"|")}`;case"too_big":{let n=a.inclusive?"<=":"<",s=t(a.origin);return s?`Too big: expected ${a.origin??"value"} to have ${n}${a.maximum.toString()} ${s.unit??"elements"}`:`Too big: expected ${a.origin??"value"} to be ${n}${a.maximum.toString()}`}case"too_small":{let n=a.inclusive?">=":">",s=t(a.origin);return s?`Too small: expected ${a.origin} to have ${n}${a.minimum.toString()} ${s.unit}`:`Too small: expected ${a.origin} to be ${n}${a.minimum.toString()}`}case"invalid_format":{let n=a;return n.format==="starts_with"?`Invalid string: must start with "${n.prefix}"`:n.format==="ends_with"?`Invalid string: must end with "${n.suffix}"`:n.format==="includes"?`Invalid string: must include "${n.includes}"`:n.format==="regex"?`Invalid string: must match pattern ${n.pattern}`:`Invalid ${r[n.format]??a.format}`}case"not_multiple_of":return`Invalid number: must be a multiple of ${a.divisor}`;case"unrecognized_keys":return`Unrecognized key${a.keys.length>1?"s":""}: ${st(a.keys,", ")}`;case"invalid_key":return`Invalid key in ${a.origin}`;case"invalid_union":return"Invalid input";case"invalid_element":return`Invalid value in ${a.origin}`;default:return"Invalid input"}}},"dI");function zk(){return{localeError:N$()}}i(zk,"bP");var I$=i(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nombro";case"object":{if(Array.isArray(e))return"tabelo";if(e===null)return"senvalora";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}}return t},"lI"),C$=i(()=>{let e={string:{unit:"karaktrojn",verb:"havi"},file:{unit:"bajtojn",verb:"havi"},array:{unit:"elementojn",verb:"havi"},set:{unit:"elementojn",verb:"havi"}};function t(a){return e[a]??null}i(t,"q");let r={regex:"enigo",email:"retadreso",url:"URL",emoji:"emoio",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datotempo",date:"ISO-dato",time:"ISO-tempo",duration:"ISO-daro",ipv4:"IPv4-adreso",ipv6:"IPv6-adreso",cidrv4:"IPv4-rango",cidrv6:"IPv6-rango",base64:"64-ume kodita karaktraro",base64url:"URL-64-ume kodita karaktraro",json_string:"JSON-karaktraro",e164:"E.164-nombro",jwt:"JWT",template_literal:"enigo"};return a=>{switch(a.code){case"invalid_type":return`Nevalida enigo: atendiis ${a.expected}, riceviis ${I$(a.input)}`;case"invalid_value":return a.values.length===1?`Nevalida enigo: atendiis ${St(a.values[0])}`:`Nevalida opcio: atendiis unu el ${st(a.values,"|")}`;case"too_big":{let n=a.inclusive?"<=":"<",s=t(a.origin);return s?`Tro granda: atendiis ke ${a.origin??"valoro"} havu ${n}${a.maximum.toString()} ${s.unit??"elementojn"}`:`Tro granda: atendiis ke ${a.origin??"valoro"} havu ${n}${a.maximum.toString()}`}case"too_small":{let n=a.inclusive?">=":">",s=t(a.origin);return s?`Tro malgranda: atendiis ke ${a.origin} havu ${n}${a.minimum.toString()} ${s.unit}`:`Tro malgranda: atendiis ke ${a.origin} estu ${n}${a.minimum.toString()}`}case"invalid_format":{let n=a;return n.format==="starts_with"?`Nevalida karaktraro: devas komencii per "${n.prefix}"`:n.format==="ends_with"?`Nevalida karaktraro: devas finii per "${n.suffix}"`:n.format==="includes"?`Nevalida karaktraro: devas inkluzivi "${n.includes}"`:n.format==="regex"?`Nevalida karaktraro: devas kongrui kun la modelo ${n.pattern}`:`Nevalida ${r[n.format]??a.format}`}case"not_multiple_of":return`Nevalida nombro: devas esti oblo de ${a.divisor}`;case"unrecognized_keys":return`Nekonata${a.keys.length>1?"j":""} losilo${a.keys.length>1?"j":""}: ${st(a.keys,", ")}`;case"invalid_key":return`Nevalida losilo en ${a.origin}`;case"invalid_union":return"Nevalida enigo";case"invalid_element":return`Nevalida valoro en ${a.origin}`;default:return"Nevalida enigo"}}},"oI");function R$(){return{localeError:C$()}}i(R$,"i5");var O$=i(()=>{let e={string:{unit:"caracteres",verb:"tener"},file:{unit:"bytes",verb:"tener"},array:{unit:"elementos",verb:"tener"},set:{unit:"elementos",verb:"tener"}},t={string:"texto",number:"nmero",boolean:"booleano",array:"arreglo",object:"objeto",set:"conjunto",file:"archivo",date:"fecha",bigint:"nmero grande",symbol:"smbolo",undefined:"indefinido",null:"nulo",function:"funcin",map:"mapa",record:"registro",tuple:"tupla",enum:"enumeracin",union:"unin",literal:"literal",promise:"promesa",void:"vaco",never:"nunca",unknown:"desconocido",any:"cualquiera"};function r(o){return e[o]??null}i(r,"K");function a(o){return t[o]??o}i(a,"P");let n=i(o=>{let h=typeof o;switch(h){case"number":return Number.isNaN(o)?"NaN":"number";case"object":return Array.isArray(o)?"array":o===null?"null":Object.getPrototypeOf(o)!==Object.prototype?o.constructor.name:"object"}return h},"_"),s={regex:"entrada",email:"direccin de correo electrnico",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"fecha y hora ISO",date:"fecha ISO",time:"hora ISO",duration:"duracin ISO",ipv4:"direccin IPv4",ipv6:"direccin IPv6",cidrv4:"rango IPv4",cidrv6:"rango IPv6",base64:"cadena codificada en base64",base64url:"URL codificada en base64",json_string:"cadena JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"};return o=>{switch(o.code){case"invalid_type":return`Entrada invlida: se esperaba ${a(o.expected)}, recibido ${a(n(o.input))}`;case"invalid_value":return o.values.length===1?`Entrada invlida: se esperaba ${St(o.values[0])}`:`Opcin invlida: se esperaba una de ${st(o.values,"|")}`;case"too_big":{let h=o.inclusive?"<=":"<",p=r(o.origin),v=a(o.origin);return p?`Demasiado grande: se esperaba que ${v??"valor"} tuviera ${h}${o.maximum.toString()} ${p.unit??"elementos"}`:`Demasiado grande: se esperaba que ${v??"valor"} fuera ${h}${o.maximum.toString()}`}case"too_small":{let h=o.inclusive?">=":">",p=r(o.origin),v=a(o.origin);return p?`Demasiado pequeo: se esperaba que ${v} tuviera ${h}${o.minimum.toString()} ${p.unit}`:`Demasiado pequeo: se esperaba que ${v} fuera ${h}${o.minimum.toString()}`}case"invalid_format":{let h=o;return h.format==="starts_with"?`Cadena invlida: debe comenzar con "${h.prefix}"`:h.format==="ends_with"?`Cadena invlida: debe terminar en "${h.suffix}"`:h.format==="includes"?`Cadena invlida: debe incluir "${h.includes}"`:h.format==="regex"?`Cadena invlida: debe coincidir con el patrn ${h.pattern}`:`Invlido ${s[h.format]??o.format}`}case"not_multiple_of":return`Nmero invlido: debe ser mltiplo de ${o.divisor}`;case"unrecognized_keys":return`Llave${o.keys.length>1?"s":""} desconocida${o.keys.length>1?"s":""}: ${st(o.keys,", ")}`;case"invalid_key":return`Llave invlida en ${a(o.origin)}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Valor invlido en ${a(o.origin)}`;default:return"Entrada invlida"}}},"rI");function T$(){return{localeError:O$()}}i(T$,"t5");var P$=i(()=>{let e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function t(n){return e[n]??null}i(t,"q");let r=i(n=>{let s=typeof n;switch(s){case"number":return Number.isNaN(n)?"NaN":"";case"object":{if(Array.isArray(n))return"";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return s},"K"),a={regex:"",email:" ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ",date:" ",time:" ",duration:"  ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""};return n=>{switch(n.code){case"invalid_type":return` :  ${n.expected}  ${r(n.input)}  `;case"invalid_value":return n.values.length===1?` :  ${St(n.values[0])} `:` :    ${st(n.values,"|")} `;case"too_big":{let s=n.inclusive?"<=":"<",o=t(n.origin);return o?` : ${n.origin??""}  ${s}${n.maximum.toString()} ${o.unit??""} `:` : ${n.origin??""}  ${s}${n.maximum.toString()} `}case"too_small":{let s=n.inclusive?">=":">",o=t(n.origin);return o?` : ${n.origin}  ${s}${n.minimum.toString()} ${o.unit} `:` : ${n.origin}  ${s}${n.minimum.toString()} `}case"invalid_format":{let s=n;return s.format==="starts_with"?` :   "${s.prefix}"  `:s.format==="ends_with"?` :   "${s.suffix}"  `:s.format==="includes"?` :   "${s.includes}" `:s.format==="regex"?` :    ${s.pattern}   `:`${a[s.format]??n.format} `}case"not_multiple_of":return` :   ${n.divisor} `;case"unrecognized_keys":return`${n.keys.length>1?"":""} : ${st(n.keys,", ")}`;case"invalid_key":return`   ${n.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${n.origin}`;default:return" "}}},"nI");function D$(){return{localeError:P$()}}i(D$,"B5");var L$=i(()=>{let e={string:{unit:"merkki",subject:"merkkijonon"},file:{unit:"tavua",subject:"tiedoston"},array:{unit:"alkiota",subject:"listan"},set:{unit:"alkiota",subject:"joukon"},number:{unit:"",subject:"luvun"},bigint:{unit:"",subject:"suuren kokonaisluvun"},int:{unit:"",subject:"kokonaisluvun"},date:{unit:"",subject:"pivmrn"}};function t(n){return e[n]??null}i(t,"q");let r=i(n=>{let s=typeof n;switch(s){case"number":return Number.isNaN(n)?"NaN":"number";case"object":{if(Array.isArray(n))return"array";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return s},"K"),a={regex:"snnllinen lauseke",email:"shkpostiosoite",url:"URL-osoite",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-aikaleima",date:"ISO-pivmr",time:"ISO-aika",duration:"ISO-kesto",ipv4:"IPv4-osoite",ipv6:"IPv6-osoite",cidrv4:"IPv4-alue",cidrv6:"IPv6-alue",base64:"base64-koodattu merkkijono",base64url:"base64url-koodattu merkkijono",json_string:"JSON-merkkijono",e164:"E.164-luku",jwt:"JWT",template_literal:"templaattimerkkijono"};return n=>{switch(n.code){case"invalid_type":return`Virheellinen tyyppi: odotettiin ${n.expected}, oli ${r(n.input)}`;case"invalid_value":return n.values.length===1?`Virheellinen syte: tytyy olla ${St(n.values[0])}`:`Virheellinen valinta: tytyy olla yksi seuraavista: ${st(n.values,"|")}`;case"too_big":{let s=n.inclusive?"<=":"<",o=t(n.origin);return o?`Liian suuri: ${o.subject} tytyy olla ${s}${n.maximum.toString()} ${o.unit}`.trim():`Liian suuri: arvon tytyy olla ${s}${n.maximum.toString()}`}case"too_small":{let s=n.inclusive?">=":">",o=t(n.origin);return o?`Liian pieni: ${o.subject} tytyy olla ${s}${n.minimum.toString()} ${o.unit}`.trim():`Liian pieni: arvon tytyy olla ${s}${n.minimum.toString()}`}case"invalid_format":{let s=n;return s.format==="starts_with"?`Virheellinen syte: tytyy alkaa "${s.prefix}"`:s.format==="ends_with"?`Virheellinen syte: tytyy loppua "${s.suffix}"`:s.format==="includes"?`Virheellinen syte: tytyy sislt "${s.includes}"`:s.format==="regex"?`Virheellinen syte: tytyy vastata snnllist lauseketta ${s.pattern}`:`Virheellinen ${a[s.format]??n.format}`}case"not_multiple_of":return`Virheellinen luku: tytyy olla luvun ${n.divisor} monikerta`;case"unrecognized_keys":return`${n.keys.length>1?"Tuntemattomat avaimet":"Tuntematon avain"}: ${st(n.keys,", ")}`;case"invalid_key":return"Virheellinen avain tietueessa";case"invalid_union":return"Virheellinen unioni";case"invalid_element":return"Virheellinen arvo joukossa";default:return"Virheellinen syte"}}},"iI");function B$(){return{localeError:L$()}}i(B$,"U5");var z$=i(()=>{let e={string:{unit:"caractres",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"lments",verb:"avoir"},set:{unit:"lments",verb:"avoir"}};function t(n){return e[n]??null}i(t,"q");let r=i(n=>{let s=typeof n;switch(s){case"number":return Number.isNaN(n)?"NaN":"nombre";case"object":{if(Array.isArray(n))return"tableau";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return s},"K"),a={regex:"entre",email:"adresse e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date et heure ISO",date:"date ISO",time:"heure ISO",duration:"dure ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chane encode en base64",base64url:"chane encode en base64url",json_string:"chane JSON",e164:"numro E.164",jwt:"JWT",template_literal:"entre"};return n=>{switch(n.code){case"invalid_type":return`Entre invalide : ${n.expected} attendu, ${r(n.input)} reu`;case"invalid_value":return n.values.length===1?`Entre invalide : ${St(n.values[0])} attendu`:`Option invalide : une valeur parmi ${st(n.values,"|")} attendue`;case"too_big":{let s=n.inclusive?"<=":"<",o=t(n.origin);return o?`Trop grand : ${n.origin??"valeur"} doit ${o.verb} ${s}${n.maximum.toString()} ${o.unit??"lment(s)"}`:`Trop grand : ${n.origin??"valeur"} doit tre ${s}${n.maximum.toString()}`}case"too_small":{let s=n.inclusive?">=":">",o=t(n.origin);return o?`Trop petit : ${n.origin} doit ${o.verb} ${s}${n.minimum.toString()} ${o.unit}`:`Trop petit : ${n.origin} doit tre ${s}${n.minimum.toString()}`}case"invalid_format":{let s=n;return s.format==="starts_with"?`Chane invalide : doit commencer par "${s.prefix}"`:s.format==="ends_with"?`Chane invalide : doit se terminer par "${s.suffix}"`:s.format==="includes"?`Chane invalide : doit inclure "${s.includes}"`:s.format==="regex"?`Chane invalide : doit correspondre au modle ${s.pattern}`:`${a[s.format]??n.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit tre un multiple de ${n.divisor}`;case"unrecognized_keys":return`Cl${n.keys.length>1?"s":""} non reconnue${n.keys.length>1?"s":""} : ${st(n.keys,", ")}`;case"invalid_key":return`Cl invalide dans ${n.origin}`;case"invalid_union":return"Entre invalide";case"invalid_element":return`Valeur invalide dans ${n.origin}`;default:return"Entre invalide"}}},"tI");function U$(){return{localeError:z$()}}i(U$,"F5");var F$=i(()=>{let e={string:{unit:"caractres",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"lments",verb:"avoir"},set:{unit:"lments",verb:"avoir"}};function t(n){return e[n]??null}i(t,"q");let r=i(n=>{let s=typeof n;switch(s){case"number":return Number.isNaN(n)?"NaN":"number";case"object":{if(Array.isArray(n))return"array";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return s},"K"),a={regex:"entre",email:"adresse courriel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date-heure ISO",date:"date ISO",time:"heure ISO",duration:"dure ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chane encode en base64",base64url:"chane encode en base64url",json_string:"chane JSON",e164:"numro E.164",jwt:"JWT",template_literal:"entre"};return n=>{switch(n.code){case"invalid_type":return`Entre invalide : attendu ${n.expected}, reu ${r(n.input)}`;case"invalid_value":return n.values.length===1?`Entre invalide : attendu ${St(n.values[0])}`:`Option invalide : attendu l'une des valeurs suivantes ${st(n.values,"|")}`;case"too_big":{let s=n.inclusive?"":"<",o=t(n.origin);return o?`Trop grand : attendu que ${n.origin??"la valeur"} ait ${s}${n.maximum.toString()} ${o.unit}`:`Trop grand : attendu que ${n.origin??"la valeur"} soit ${s}${n.maximum.toString()}`}case"too_small":{let s=n.inclusive?"":">",o=t(n.origin);return o?`Trop petit : attendu que ${n.origin} ait ${s}${n.minimum.toString()} ${o.unit}`:`Trop petit : attendu que ${n.origin} soit ${s}${n.minimum.toString()}`}case"invalid_format":{let s=n;return s.format==="starts_with"?`Chane invalide : doit commencer par "${s.prefix}"`:s.format==="ends_with"?`Chane invalide : doit se terminer par "${s.suffix}"`:s.format==="includes"?`Chane invalide : doit inclure "${s.includes}"`:s.format==="regex"?`Chane invalide : doit correspondre au motif ${s.pattern}`:`${a[s.format]??n.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit tre un multiple de ${n.divisor}`;case"unrecognized_keys":return`Cl${n.keys.length>1?"s":""} non reconnue${n.keys.length>1?"s":""} : ${st(n.keys,", ")}`;case"invalid_key":return`Cl invalide dans ${n.origin}`;case"invalid_union":return"Entre invalide";case"invalid_element":return`Valeur invalide dans ${n.origin}`;default:return"Entre invalide"}}},"BI");function $$(){return{localeError:F$()}}i($$,"a5");var G$=i(()=>{let e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(n){return e[n]??null}i(t,"q");let r=i(n=>{let s=typeof n;switch(s){case"number":return Number.isNaN(n)?"NaN":"number";case"object":{if(Array.isArray(n))return"array";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return s},"K"),a={regex:"",email:" ",url:" ",emoji:"'",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"  ISO",date:" ISO",time:" ISO",duration:"  ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IPv4",cidrv6:" IPv6",base64:"  64",base64url:"  64  ",json_string:" JSON",e164:" E.164",jwt:"JWT",template_literal:""};return n=>{switch(n.code){case"invalid_type":return`  :  ${n.expected},  ${r(n.input)}`;case"invalid_value":return n.values.length===1?`  :  ${St(n.values[0])}`:`  :     ${st(n.values,"|")}`;case"too_big":{let s=n.inclusive?"<=":"<",o=t(n.origin);return o?` : ${n.origin??"value"}   ${s}${n.maximum.toString()} ${o.unit??"elements"}`:` : ${n.origin??"value"}   ${s}${n.maximum.toString()}`}case"too_small":{let s=n.inclusive?">=":">",o=t(n.origin);return o?` : ${n.origin}   ${s}${n.minimum.toString()} ${o.unit}`:` : ${n.origin}   ${s}${n.minimum.toString()}`}case"invalid_format":{let s=n;return s.format==="starts_with"?`  :   "${s.prefix}"`:s.format==="ends_with"?`  :    "${s.suffix}"`:s.format==="includes"?`  :   "${s.includes}"`:s.format==="regex"?`  :    ${s.pattern}`:`${a[s.format]??n.format}  `}case"not_multiple_of":return`  :     ${n.divisor}`;case"unrecognized_keys":return`${n.keys.length>1?"":""}  ${n.keys.length>1?"":""}: ${st(n.keys,", ")}`;case"invalid_key":return`   ${n.origin}`;case"invalid_union":return"  ";case"invalid_element":return`   ${n.origin}`;default:return"  "}}},"UI");function V$(){return{localeError:G$()}}i(V$,"Q5");var Z$=i(()=>{let e={string:{unit:"karakter",verb:"legyen"},file:{unit:"byte",verb:"legyen"},array:{unit:"elem",verb:"legyen"},set:{unit:"elem",verb:"legyen"}};function t(n){return e[n]??null}i(t,"q");let r=i(n=>{let s=typeof n;switch(s){case"number":return Number.isNaN(n)?"NaN":"szm";case"object":{if(Array.isArray(n))return"tmb";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return s},"K"),a={regex:"bemenet",email:"email cm",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO idblyeg",date:"ISO dtum",time:"ISO id",duration:"ISO idintervallum",ipv4:"IPv4 cm",ipv6:"IPv6 cm",cidrv4:"IPv4 tartomny",cidrv6:"IPv6 tartomny",base64:"base64-kdolt string",base64url:"base64url-kdolt string",json_string:"JSON string",e164:"E.164 szm",jwt:"JWT",template_literal:"bemenet"};return n=>{switch(n.code){case"invalid_type":return`rvnytelen bemenet: a vrt rtk ${n.expected}, a kapott rtk ${r(n.input)}`;case"invalid_value":return n.values.length===1?`rvnytelen bemenet: a vrt rtk ${St(n.values[0])}`:`rvnytelen opci: valamelyik rtk vrt ${st(n.values,"|")}`;case"too_big":{let s=n.inclusive?"<=":"<",o=t(n.origin);return o?`Tl nagy: ${n.origin??"rtk"} mrete tl nagy ${s}${n.maximum.toString()} ${o.unit??"elem"}`:`Tl nagy: a bemeneti rtk ${n.origin??"rtk"} tl nagy: ${s}${n.maximum.toString()}`}case"too_small":{let s=n.inclusive?">=":">",o=t(n.origin);return o?`Tl kicsi: a bemeneti rtk ${n.origin} mrete tl kicsi ${s}${n.minimum.toString()} ${o.unit}`:`Tl kicsi: a bemeneti rtk ${n.origin} tl kicsi ${s}${n.minimum.toString()}`}case"invalid_format":{let s=n;return s.format==="starts_with"?`rvnytelen string: "${s.prefix}" rtkkel kell kezddnie`:s.format==="ends_with"?`rvnytelen string: "${s.suffix}" rtkkel kell vgzdnie`:s.format==="includes"?`rvnytelen string: "${s.includes}" rtket kell tartalmaznia`:s.format==="regex"?`rvnytelen string: ${s.pattern} mintnak kell megfelelnie`:`rvnytelen ${a[s.format]??n.format}`}case"not_multiple_of":return`rvnytelen szm: ${n.divisor} tbbszrsnek kell lennie`;case"unrecognized_keys":return`Ismeretlen kulcs${n.keys.length>1?"s":""}: ${st(n.keys,", ")}`;case"invalid_key":return`rvnytelen kulcs ${n.origin}`;case"invalid_union":return"rvnytelen bemenet";case"invalid_element":return`rvnytelen rtk: ${n.origin}`;default:return"rvnytelen bemenet"}}},"FI");function H$(){return{localeError:Z$()}}i(H$,"e5");var J$=i(()=>{let e={string:{unit:"karakter",verb:"memiliki"},file:{unit:"byte",verb:"memiliki"},array:{unit:"item",verb:"memiliki"},set:{unit:"item",verb:"memiliki"}};function t(n){return e[n]??null}i(t,"q");let r=i(n=>{let s=typeof n;switch(s){case"number":return Number.isNaN(n)?"NaN":"number";case"object":{if(Array.isArray(n))return"array";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return s},"K"),a={regex:"input",email:"alamat email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tanggal dan waktu format ISO",date:"tanggal format ISO",time:"jam format ISO",duration:"durasi format ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"rentang alamat IPv4",cidrv6:"rentang alamat IPv6",base64:"string dengan enkode base64",base64url:"string dengan enkode base64url",json_string:"string JSON",e164:"angka E.164",jwt:"JWT",template_literal:"input"};return n=>{switch(n.code){case"invalid_type":return`Input tidak valid: diharapkan ${n.expected}, diterima ${r(n.input)}`;case"invalid_value":return n.values.length===1?`Input tidak valid: diharapkan ${St(n.values[0])}`:`Pilihan tidak valid: diharapkan salah satu dari ${st(n.values,"|")}`;case"too_big":{let s=n.inclusive?"<=":"<",o=t(n.origin);return o?`Terlalu besar: diharapkan ${n.origin??"value"} memiliki ${s}${n.maximum.toString()} ${o.unit??"elemen"}`:`Terlalu besar: diharapkan ${n.origin??"value"} menjadi ${s}${n.maximum.toString()}`}case"too_small":{let s=n.inclusive?">=":">",o=t(n.origin);return o?`Terlalu kecil: diharapkan ${n.origin} memiliki ${s}${n.minimum.toString()} ${o.unit}`:`Terlalu kecil: diharapkan ${n.origin} menjadi ${s}${n.minimum.toString()}`}case"invalid_format":{let s=n;return s.format==="starts_with"?`String tidak valid: harus dimulai dengan "${s.prefix}"`:s.format==="ends_with"?`String tidak valid: harus berakhir dengan "${s.suffix}"`:s.format==="includes"?`String tidak valid: harus menyertakan "${s.includes}"`:s.format==="regex"?`String tidak valid: harus sesuai pola ${s.pattern}`:`${a[s.format]??n.format} tidak valid`}case"not_multiple_of":return`Angka tidak valid: harus kelipatan dari ${n.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali ${n.keys.length>1?"s":""}: ${st(n.keys,", ")}`;case"invalid_key":return`Kunci tidak valid di ${n.origin}`;case"invalid_union":return"Input tidak valid";case"invalid_element":return`Nilai tidak valid di ${n.origin}`;default:return"Input tidak valid"}}},"aI");function q$(){return{localeError:J$()}}i(q$,"s5");var K$=i(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nmer";case"object":{if(Array.isArray(e))return"fylki";if(e===null)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}}return t},"QI"),X$=i(()=>{let e={string:{unit:"stafi",verb:"a hafa"},file:{unit:"bti",verb:"a hafa"},array:{unit:"hluti",verb:"a hafa"},set:{unit:"hluti",verb:"a hafa"}};function t(a){return e[a]??null}i(t,"q");let r={regex:"gildi",email:"netfang",url:"vefsl",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dagsetning og tmi",date:"ISO dagsetning",time:"ISO tmi",duration:"ISO tmalengd",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded strengur",base64url:"base64url-encoded strengur",json_string:"JSON strengur",e164:"E.164 tlugildi",jwt:"JWT",template_literal:"gildi"};return a=>{switch(a.code){case"invalid_type":return`Rangt gildi:  slst inn ${K$(a.input)} ar sem  a vera ${a.expected}`;case"invalid_value":return a.values.length===1?`Rangt gildi: gert r fyrir ${St(a.values[0])}`:`gilt val: m vera eitt af eftirfarandi ${st(a.values,"|")}`;case"too_big":{let n=a.inclusive?"<=":"<",s=t(a.origin);return s?`Of strt: gert er r fyrir a ${a.origin??"gildi"} hafi ${n}${a.maximum.toString()} ${s.unit??"hluti"}`:`Of strt: gert er r fyrir a ${a.origin??"gildi"} s ${n}${a.maximum.toString()}`}case"too_small":{let n=a.inclusive?">=":">",s=t(a.origin);return s?`Of lti: gert er r fyrir a ${a.origin} hafi ${n}${a.minimum.toString()} ${s.unit}`:`Of lti: gert er r fyrir a ${a.origin} s ${n}${a.minimum.toString()}`}case"invalid_format":{let n=a;return n.format==="starts_with"?`gildur strengur: verur a byrja  "${n.prefix}"`:n.format==="ends_with"?`gildur strengur: verur a enda  "${n.suffix}"`:n.format==="includes"?`gildur strengur: verur a innihalda "${n.includes}"`:n.format==="regex"?`gildur strengur: verur a fylgja mynstri ${n.pattern}`:`Rangt ${r[n.format]??a.format}`}case"not_multiple_of":return`Rng tala: verur a vera margfeldi af ${a.divisor}`;case"unrecognized_keys":return`ekkt ${a.keys.length>1?"ir lyklar":"ur lykill"}: ${st(a.keys,", ")}`;case"invalid_key":return`Rangur lykill  ${a.origin}`;case"invalid_union":return"Rangt gildi";case"invalid_element":return`Rangt gildi  ${a.origin}`;default:return"Rangt gildi"}}},"eI");function W$(){return{localeError:X$()}}i(W$,"$3");var Q$=i(()=>{let e={string:{unit:"caratteri",verb:"avere"},file:{unit:"byte",verb:"avere"},array:{unit:"elementi",verb:"avere"},set:{unit:"elementi",verb:"avere"}};function t(n){return e[n]??null}i(t,"q");let r=i(n=>{let s=typeof n;switch(s){case"number":return Number.isNaN(n)?"NaN":"numero";case"object":{if(Array.isArray(n))return"vettore";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return s},"K"),a={regex:"input",email:"indirizzo email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e ora ISO",date:"data ISO",time:"ora ISO",duration:"durata ISO",ipv4:"indirizzo IPv4",ipv6:"indirizzo IPv6",cidrv4:"intervallo IPv4",cidrv6:"intervallo IPv6",base64:"stringa codificata in base64",base64url:"URL codificata in base64",json_string:"stringa JSON",e164:"numero E.164",jwt:"JWT",template_literal:"input"};return n=>{switch(n.code){case"invalid_type":return`Input non valido: atteso ${n.expected}, ricevuto ${r(n.input)}`;case"invalid_value":return n.values.length===1?`Input non valido: atteso ${St(n.values[0])}`:`Opzione non valida: atteso uno tra ${st(n.values,"|")}`;case"too_big":{let s=n.inclusive?"<=":"<",o=t(n.origin);return o?`Troppo grande: ${n.origin??"valore"} deve avere ${s}${n.maximum.toString()} ${o.unit??"elementi"}`:`Troppo grande: ${n.origin??"valore"} deve essere ${s}${n.maximum.toString()}`}case"too_small":{let s=n.inclusive?">=":">",o=t(n.origin);return o?`Troppo piccolo: ${n.origin} deve avere ${s}${n.minimum.toString()} ${o.unit}`:`Troppo piccolo: ${n.origin} deve essere ${s}${n.minimum.toString()}`}case"invalid_format":{let s=n;return s.format==="starts_with"?`Stringa non valida: deve iniziare con "${s.prefix}"`:s.format==="ends_with"?`Stringa non valida: deve terminare con "${s.suffix}"`:s.format==="includes"?`Stringa non valida: deve includere "${s.includes}"`:s.format==="regex"?`Stringa non valida: deve corrispondere al pattern ${s.pattern}`:`Invalid ${a[s.format]??n.format}`}case"not_multiple_of":return`Numero non valido: deve essere un multiplo di ${n.divisor}`;case"unrecognized_keys":return`Chiav${n.keys.length>1?"i":"e"} non riconosciut${n.keys.length>1?"e":"a"}: ${st(n.keys,", ")}`;case"invalid_key":return`Chiave non valida in ${n.origin}`;case"invalid_union":return"Input non valido";case"invalid_element":return`Valore non valido in ${n.origin}`;default:return"Input non valido"}}},"sI");function Y$(){return{localeError:Q$()}}i(Y$,"q3");var eG=i(()=>{let e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(n){return e[n]??null}i(t,"q");let r=i(n=>{let s=typeof n;switch(s){case"number":return Number.isNaN(n)?"NaN":"";case"object":{if(Array.isArray(n))return"";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return s},"K"),a={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO",date:"ISO",time:"ISO",duration:"ISO",ipv4:"IPv4",ipv6:"IPv6",cidrv4:"IPv4",cidrv6:"IPv6",base64:"base64",base64url:"base64url",json_string:"JSON",e164:"E.164",jwt:"JWT",template_literal:""};return n=>{switch(n.code){case"invalid_type":return`: ${n.expected}${r(n.input)}`;case"invalid_value":return n.values.length===1?`: ${St(n.values[0])}`:`: ${st(n.values,"")}`;case"too_big":{let s=n.inclusive?"":"",o=t(n.origin);return o?`: ${n.origin??""}${n.maximum.toString()}${o.unit??""}${s}`:`: ${n.origin??""}${n.maximum.toString()}${s}`}case"too_small":{let s=n.inclusive?"":"",o=t(n.origin);return o?`: ${n.origin}${n.minimum.toString()}${o.unit}${s}`:`: ${n.origin}${n.minimum.toString()}${s}`}case"invalid_format":{let s=n;return s.format==="starts_with"?`: "${s.prefix}"`:s.format==="ends_with"?`: "${s.suffix}"`:s.format==="includes"?`: "${s.includes}"`:s.format==="regex"?`: ${s.pattern}`:`${a[s.format]??n.format}`}case"not_multiple_of":return`: ${n.divisor}`;case"unrecognized_keys":return`${n.keys.length>1?"":""}: ${st(n.keys,"")}`;case"invalid_key":return`${n.origin}`;case"invalid_union":return"";case"invalid_element":return`${n.origin}`;default:return""}}},"$D");function tG(){return{localeError:eG()}}i(tG,"K3");var rG=i(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":{if(Array.isArray(e))return"";if(e===null)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}}return{string:"",boolean:"",undefined:"undefined",bigint:"bigint",symbol:"symbol",function:""}[t]??t},"qD"),iG=i(()=>{let e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function t(a){return e[a]??null}i(t,"q");let r={regex:"",email:"- ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"-",date:"",time:"",duration:"",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64- ",base64url:"base64url- ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""};return a=>{switch(a.code){case"invalid_type":return` :  ${a.expected},  ${rG(a.input)}`;case"invalid_value":return a.values.length===1?` :  ${St(a.values[0])}`:` :  - ${st(a.values,"|")}-`;case"too_big":{let n=a.inclusive?"<=":"<",s=t(a.origin);return s?` :  ${a.origin??""} ${s.verb} ${n}${a.maximum.toString()} ${s.unit}`:` :  ${a.origin??""}  ${n}${a.maximum.toString()}`}case"too_small":{let n=a.inclusive?">=":">",s=t(a.origin);return s?` :  ${a.origin} ${s.verb} ${n}${a.minimum.toString()} ${s.unit}`:` :  ${a.origin}  ${n}${a.minimum.toString()}`}case"invalid_format":{let n=a;return n.format==="starts_with"?` :   "${n.prefix}"-`:n.format==="ends_with"?` :   "${n.suffix}"-`:n.format==="includes"?` :   "${n.includes}"-`:n.format==="regex"?` :    ${n.pattern}`:` ${r[n.format]??a.format}`}case"not_multiple_of":return` :   ${a.divisor}- `;case"unrecognized_keys":return` ${a.keys.length>1?"":""}: ${st(a.keys,", ")}`;case"invalid_key":return`  ${a.origin}-`;case"invalid_union":return" ";case"invalid_element":return`  ${a.origin}-`;default:return" "}}},"KD");function nG(){return{localeError:iG()}}i(nG,"_3");var aG=i(()=>{let e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(n){return e[n]??null}i(t,"q");let r=i(n=>{let s=typeof n;switch(s){case"number":return Number.isNaN(n)?" (NaN)":"";case"object":{if(Array.isArray(n))return" (Array)";if(n===null)return" (null)";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return s},"K"),a={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"  ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IPv4",cidrv6:" IPv6",base64:" base64",base64url:" base64url",json_string:" JSON",e164:" E.164",jwt:"JWT",template_literal:""};return n=>{switch(n.code){case"invalid_type":return`  ${n.expected}  ${r(n.input)}`;case"invalid_value":return n.values.length===1?`  ${St(n.values[0])}`:`  ${st(n.values,"|")}`;case"too_big":{let s=n.inclusive?"<=":"<",o=t(n.origin);return o?`  ${n.origin??""} ${s} ${n.maximum.toString()} ${o.unit??""}`:`  ${n.origin??""} ${s} ${n.maximum.toString()}`}case"too_small":{let s=n.inclusive?">=":">",o=t(n.origin);return o?`  ${n.origin} ${s} ${n.minimum.toString()} ${o.unit}`:`  ${n.origin} ${s} ${n.minimum.toString()}`}case"invalid_format":{let s=n;return s.format==="starts_with"?`  "${s.prefix}"`:s.format==="ends_with"?`  "${s.suffix}"`:s.format==="includes"?`  "${s.includes}"`:s.format==="regex"?`  ${s.pattern}`:` ${a[s.format]??n.format}`}case"not_multiple_of":return`  ${n.divisor}`;case"unrecognized_keys":return` ${st(n.keys,", ")}`;case"invalid_key":return` ${n.origin}`;case"invalid_union":return"";case"invalid_element":return` ${n.origin}`;default:return""}}},"_D");function Uk(){return{localeError:aG()}}i(Uk,"uP");function sG(){return Uk()}i(sG,"P3");var oG=i(()=>{let e={string:{unit:"",verb:"to have"},file:{unit:"",verb:"to have"},array:{unit:"",verb:"to have"},set:{unit:"",verb:"to have"}};function t(n){return e[n]??null}i(t,"q");let r=i(n=>{let s=typeof n;switch(s){case"number":return Number.isNaN(n)?"NaN":"number";case"object":{if(Array.isArray(n))return"array";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return s},"K"),a={regex:"",email:" ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64  ",base64url:"base64url  ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""};return n=>{switch(n.code){case"invalid_type":return` :   ${n.expected},   ${r(n.input)}`;case"invalid_value":return n.values.length===1?` :  ${St(n.values[0])}  `:` : ${st(n.values," ")}   `;case"too_big":{let s=n.inclusive?"":"",o=s===""?" ":" ",h=t(n.origin),p=h?.unit??"";return h?`${n.origin??""}  : ${n.maximum.toString()}${p} ${s}${o}`:`${n.origin??""}  : ${n.maximum.toString()} ${s}${o}`}case"too_small":{let s=n.inclusive?"":"",o=s===""?" ":" ",h=t(n.origin),p=h?.unit??"";return h?`${n.origin??""}  : ${n.minimum.toString()}${p} ${s}${o}`:`${n.origin??""}  : ${n.minimum.toString()} ${s}${o}`}case"invalid_format":{let s=n;return s.format==="starts_with"?` : "${s.prefix}"()  `:s.format==="ends_with"?` : "${s.suffix}"()  `:s.format==="includes"?` : "${s.includes}"()  `:s.format==="regex"?` :  ${s.pattern}   `:` ${a[s.format]??n.format}`}case"not_multiple_of":return` : ${n.divisor}  `;case"unrecognized_keys":return`   : ${st(n.keys,", ")}`;case"invalid_key":return` : ${n.origin}`;case"invalid_union":return" ";case"invalid_element":return` : ${n.origin}`;default:return" "}}},"PD");function lG(){return{localeError:oG()}}i(lG,"j3");var uG=i(e=>fo(typeof e,e),"jD"),fo=i((e,t=void 0)=>{switch(e){case"number":return Number.isNaN(t)?"NaN":"skaiius";case"bigint":return"sveikasis skaiius";case"string":return"eilut";case"boolean":return"login reikm";case"undefined":case"void":return"neapibrta reikm";case"function":return"funkcija";case"symbol":return"simbolis";case"object":return t===void 0?"neinomas objektas":t===null?"nulin reikm":Array.isArray(t)?"masyvas":Object.getPrototypeOf(t)!==Object.prototype&&t.constructor?t.constructor.name:"objektas";case"null":return"nulin reikm"}return e},"pP"),Ds=i(e=>e.charAt(0).toUpperCase()+e.slice(1),"yP");function V4(e){let t=Math.abs(e),r=t%10,a=t%100;return a>=11&&a<=19||r===0?"many":r===1?"one":"few"}i(V4,"aX");var fG=i(()=>{let e={string:{unit:{one:"simbolis",few:"simboliai",many:"simboli"},verb:{smaller:{inclusive:"turi bti ne ilgesn kaip",notInclusive:"turi bti trumpesn kaip"},bigger:{inclusive:"turi bti ne trumpesn kaip",notInclusive:"turi bti ilgesn kaip"}}},file:{unit:{one:"baitas",few:"baitai",many:"bait"},verb:{smaller:{inclusive:"turi bti ne didesnis kaip",notInclusive:"turi bti maesnis kaip"},bigger:{inclusive:"turi bti ne maesnis kaip",notInclusive:"turi bti didesnis kaip"}}},array:{unit:{one:"element",few:"elementus",many:"element"},verb:{smaller:{inclusive:"turi turti ne daugiau kaip",notInclusive:"turi turti maiau kaip"},bigger:{inclusive:"turi turti ne maiau kaip",notInclusive:"turi turti daugiau kaip"}}},set:{unit:{one:"element",few:"elementus",many:"element"},verb:{smaller:{inclusive:"turi turti ne daugiau kaip",notInclusive:"turi turti maiau kaip"},bigger:{inclusive:"turi turti ne maiau kaip",notInclusive:"turi turti daugiau kaip"}}}};function t(a,n,s,o){let h=e[a]??null;return h===null?h:{unit:h.unit[n],verb:h.verb[o][s?"inclusive":"notInclusive"]}}i(t,"q");let r={regex:"vestis",email:"el. pato adresas",url:"URL",emoji:"jaustukas",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO data ir laikas",date:"ISO data",time:"ISO laikas",duration:"ISO trukm",ipv4:"IPv4 adresas",ipv6:"IPv6 adresas",cidrv4:"IPv4 tinklo prefiksas (CIDR)",cidrv6:"IPv6 tinklo prefiksas (CIDR)",base64:"base64 ukoduota eilut",base64url:"base64url ukoduota eilut",json_string:"JSON eilut",e164:"E.164 numeris",jwt:"JWT",template_literal:"vestis"};return a=>{switch(a.code){case"invalid_type":return`Gautas tipas ${uG(a.input)}, o tiktasi - ${fo(a.expected)}`;case"invalid_value":return a.values.length===1?`Privalo bti ${St(a.values[0])}`:`Privalo bti vienas i ${st(a.values,"|")} pasirinkim`;case"too_big":{let n=fo(a.origin),s=t(a.origin,V4(Number(a.maximum)),a.inclusive??!1,"smaller");if(s?.verb)return`${Ds(n??a.origin??"reikm")} ${s.verb} ${a.maximum.toString()} ${s.unit??"element"}`;let o=a.inclusive?"ne didesnis kaip":"maesnis kaip";return`${Ds(n??a.origin??"reikm")} turi bti ${o} ${a.maximum.toString()} ${s?.unit}`}case"too_small":{let n=fo(a.origin),s=t(a.origin,V4(Number(a.minimum)),a.inclusive??!1,"bigger");if(s?.verb)return`${Ds(n??a.origin??"reikm")} ${s.verb} ${a.minimum.toString()} ${s.unit??"element"}`;let o=a.inclusive?"ne maesnis kaip":"didesnis kaip";return`${Ds(n??a.origin??"reikm")} turi bti ${o} ${a.minimum.toString()} ${s?.unit}`}case"invalid_format":{let n=a;return n.format==="starts_with"?`Eilut privalo prasidti "${n.prefix}"`:n.format==="ends_with"?`Eilut privalo pasibaigti "${n.suffix}"`:n.format==="includes"?`Eilut privalo traukti "${n.includes}"`:n.format==="regex"?`Eilut privalo atitikti ${n.pattern}`:`Neteisingas ${r[n.format]??a.format}`}case"not_multiple_of":return`Skaiius privalo bti ${a.divisor} kartotinis.`;case"unrecognized_keys":return`Neatpaint${a.keys.length>1?"i":"as"} rakt${a.keys.length>1?"ai":"as"}: ${st(a.keys,", ")}`;case"invalid_key":return"Rastas klaidingas raktas";case"invalid_union":return"Klaidinga vestis";case"invalid_element":{let n=fo(a.origin);return`${Ds(n??a.origin??"reikm")} turi klaiding vest`}default:return"Klaidinga vestis"}}},"OD");function cG(){return{localeError:fG()}}i(cG,"O3");var dG=i(()=>{let e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function t(n){return e[n]??null}i(t,"q");let r=i(n=>{let s=typeof n;switch(s){case"number":return Number.isNaN(n)?"NaN":"";case"object":{if(Array.isArray(n))return"";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return s},"K"),a={regex:"",email:"  -",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64- ",base64url:"base64url- ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""};return n=>{switch(n.code){case"invalid_type":return` :   ${n.expected},  ${r(n.input)}`;case"invalid_value":return n.values.length===1?`Invalid input: expected ${St(n.values[0])}`:` :    ${st(n.values,"|")}`;case"too_big":{let s=n.inclusive?"<=":"<",o=t(n.origin);return o?` :   ${n.origin??""}   ${s}${n.maximum.toString()} ${o.unit??""}`:` :   ${n.origin??""}   ${s}${n.maximum.toString()}`}case"too_small":{let s=n.inclusive?">=":">",o=t(n.origin);return o?` :   ${n.origin}   ${s}${n.minimum.toString()} ${o.unit}`:` :   ${n.origin}   ${s}${n.minimum.toString()}`}case"invalid_format":{let s=n;return s.format==="starts_with"?` :     "${s.prefix}"`:s.format==="ends_with"?` :     "${s.suffix}"`:s.format==="includes"?` :    "${s.includes}"`:s.format==="regex"?` :      ${s.pattern}`:`Invalid ${a[s.format]??n.format}`}case"not_multiple_of":return` :      ${n.divisor}`;case"unrecognized_keys":return`${n.keys.length>1?" ":" "}: ${st(n.keys,", ")}`;case"invalid_key":return`   ${n.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${n.origin}`;default:return" "}}},"YD");function hG(){return{localeError:dG()}}i(hG,"Y3");var pG=i(()=>{let e={string:{unit:"aksara",verb:"mempunyai"},file:{unit:"bait",verb:"mempunyai"},array:{unit:"elemen",verb:"mempunyai"},set:{unit:"elemen",verb:"mempunyai"}};function t(n){return e[n]??null}i(t,"q");let r=i(n=>{let s=typeof n;switch(s){case"number":return Number.isNaN(n)?"NaN":"nombor";case"object":{if(Array.isArray(n))return"array";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return s},"K"),a={regex:"input",email:"alamat e-mel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tarikh masa ISO",date:"tarikh ISO",time:"masa ISO",duration:"tempoh ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"julat IPv4",cidrv6:"julat IPv6",base64:"string dikodkan base64",base64url:"string dikodkan base64url",json_string:"string JSON",e164:"nombor E.164",jwt:"JWT",template_literal:"input"};return n=>{switch(n.code){case"invalid_type":return`Input tidak sah: dijangka ${n.expected}, diterima ${r(n.input)}`;case"invalid_value":return n.values.length===1?`Input tidak sah: dijangka ${St(n.values[0])}`:`Pilihan tidak sah: dijangka salah satu daripada ${st(n.values,"|")}`;case"too_big":{let s=n.inclusive?"<=":"<",o=t(n.origin);return o?`Terlalu besar: dijangka ${n.origin??"nilai"} ${o.verb} ${s}${n.maximum.toString()} ${o.unit??"elemen"}`:`Terlalu besar: dijangka ${n.origin??"nilai"} adalah ${s}${n.maximum.toString()}`}case"too_small":{let s=n.inclusive?">=":">",o=t(n.origin);return o?`Terlalu kecil: dijangka ${n.origin} ${o.verb} ${s}${n.minimum.toString()} ${o.unit}`:`Terlalu kecil: dijangka ${n.origin} adalah ${s}${n.minimum.toString()}`}case"invalid_format":{let s=n;return s.format==="starts_with"?`String tidak sah: mesti bermula dengan "${s.prefix}"`:s.format==="ends_with"?`String tidak sah: mesti berakhir dengan "${s.suffix}"`:s.format==="includes"?`String tidak sah: mesti mengandungi "${s.includes}"`:s.format==="regex"?`String tidak sah: mesti sepadan dengan corak ${s.pattern}`:`${a[s.format]??n.format} tidak sah`}case"not_multiple_of":return`Nombor tidak sah: perlu gandaan ${n.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali: ${st(n.keys,", ")}`;case"invalid_key":return`Kunci tidak sah dalam ${n.origin}`;case"invalid_union":return"Input tidak sah";case"invalid_element":return`Nilai tidak sah dalam ${n.origin}`;default:return"Input tidak sah"}}},"vD");function mG(){return{localeError:pG()}}i(mG,"v3");var gG=i(()=>{let e={string:{unit:"tekens"},file:{unit:"bytes"},array:{unit:"elementen"},set:{unit:"elementen"}};function t(n){return e[n]??null}i(t,"q");let r=i(n=>{let s=typeof n;switch(s){case"number":return Number.isNaN(n)?"NaN":"getal";case"object":{if(Array.isArray(n))return"array";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return s},"K"),a={regex:"invoer",email:"emailadres",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum en tijd",date:"ISO datum",time:"ISO tijd",duration:"ISO duur",ipv4:"IPv4-adres",ipv6:"IPv6-adres",cidrv4:"IPv4-bereik",cidrv6:"IPv6-bereik",base64:"base64-gecodeerde tekst",base64url:"base64 URL-gecodeerde tekst",json_string:"JSON string",e164:"E.164-nummer",jwt:"JWT",template_literal:"invoer"};return n=>{switch(n.code){case"invalid_type":return`Ongeldige invoer: verwacht ${n.expected}, ontving ${r(n.input)}`;case"invalid_value":return n.values.length===1?`Ongeldige invoer: verwacht ${St(n.values[0])}`:`Ongeldige optie: verwacht n van ${st(n.values,"|")}`;case"too_big":{let s=n.inclusive?"<=":"<",o=t(n.origin);return o?`Te lang: verwacht dat ${n.origin??"waarde"} ${s}${n.maximum.toString()} ${o.unit??"elementen"} bevat`:`Te lang: verwacht dat ${n.origin??"waarde"} ${s}${n.maximum.toString()} is`}case"too_small":{let s=n.inclusive?">=":">",o=t(n.origin);return o?`Te kort: verwacht dat ${n.origin} ${s}${n.minimum.toString()} ${o.unit} bevat`:`Te kort: verwacht dat ${n.origin} ${s}${n.minimum.toString()} is`}case"invalid_format":{let s=n;return s.format==="starts_with"?`Ongeldige tekst: moet met "${s.prefix}" beginnen`:s.format==="ends_with"?`Ongeldige tekst: moet op "${s.suffix}" eindigen`:s.format==="includes"?`Ongeldige tekst: moet "${s.includes}" bevatten`:s.format==="regex"?`Ongeldige tekst: moet overeenkomen met patroon ${s.pattern}`:`Ongeldig: ${a[s.format]??n.format}`}case"not_multiple_of":return`Ongeldig getal: moet een veelvoud van ${n.divisor} zijn`;case"unrecognized_keys":return`Onbekende key${n.keys.length>1?"s":""}: ${st(n.keys,", ")}`;case"invalid_key":return`Ongeldige key in ${n.origin}`;case"invalid_union":return"Ongeldige invoer";case"invalid_element":return`Ongeldige waarde in ${n.origin}`;default:return"Ongeldige invoer"}}},"zD");function vG(){return{localeError:gG()}}i(vG,"z3");var bG=i(()=>{let e={string:{unit:"tegn",verb:" ha"},file:{unit:"bytes",verb:" ha"},array:{unit:"elementer",verb:" inneholde"},set:{unit:"elementer",verb:" inneholde"}};function t(n){return e[n]??null}i(t,"q");let r=i(n=>{let s=typeof n;switch(s){case"number":return Number.isNaN(n)?"NaN":"tall";case"object":{if(Array.isArray(n))return"liste";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return s},"K"),a={regex:"input",email:"e-postadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslett",date:"ISO-dato",time:"ISO-klokkeslett",duration:"ISO-varighet",ipv4:"IPv4-omrde",ipv6:"IPv6-omrde",cidrv4:"IPv4-spekter",cidrv6:"IPv6-spekter",base64:"base64-enkodet streng",base64url:"base64url-enkodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"};return n=>{switch(n.code){case"invalid_type":return`Ugyldig input: forventet ${n.expected}, fikk ${r(n.input)}`;case"invalid_value":return n.values.length===1?`Ugyldig verdi: forventet ${St(n.values[0])}`:`Ugyldig valg: forventet en av ${st(n.values,"|")}`;case"too_big":{let s=n.inclusive?"<=":"<",o=t(n.origin);return o?`For stor(t): forventet ${n.origin??"value"} til  ha ${s}${n.maximum.toString()} ${o.unit??"elementer"}`:`For stor(t): forventet ${n.origin??"value"} til  ha ${s}${n.maximum.toString()}`}case"too_small":{let s=n.inclusive?">=":">",o=t(n.origin);return o?`For lite(n): forventet ${n.origin} til  ha ${s}${n.minimum.toString()} ${o.unit}`:`For lite(n): forventet ${n.origin} til  ha ${s}${n.minimum.toString()}`}case"invalid_format":{let s=n;return s.format==="starts_with"?`Ugyldig streng: m starte med "${s.prefix}"`:s.format==="ends_with"?`Ugyldig streng: m ende med "${s.suffix}"`:s.format==="includes"?`Ugyldig streng: m inneholde "${s.includes}"`:s.format==="regex"?`Ugyldig streng: m matche mnsteret ${s.pattern}`:`Ugyldig ${a[s.format]??n.format}`}case"not_multiple_of":return`Ugyldig tall: m vre et multiplum av ${n.divisor}`;case"unrecognized_keys":return`${n.keys.length>1?"Ukjente nkler":"Ukjent nkkel"}: ${st(n.keys,", ")}`;case"invalid_key":return`Ugyldig nkkel i ${n.origin}`;case"invalid_union":return"Ugyldig input";case"invalid_element":return`Ugyldig verdi i ${n.origin}`;default:return"Ugyldig input"}}},"WD");function yG(){return{localeError:bG()}}i(yG,"W3");var wG=i(()=>{let e={string:{unit:"harf",verb:"olmaldr"},file:{unit:"bayt",verb:"olmaldr"},array:{unit:"unsur",verb:"olmaldr"},set:{unit:"unsur",verb:"olmaldr"}};function t(n){return e[n]??null}i(t,"q");let r=i(n=>{let s=typeof n;switch(s){case"number":return Number.isNaN(n)?"NaN":"numara";case"object":{if(Array.isArray(n))return"saf";if(n===null)return"gayb";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return s},"K"),a={regex:"giren",email:"epostagh",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO hengm",date:"ISO tarihi",time:"ISO zaman",duration:"ISO mddeti",ipv4:"IPv4 nin",ipv6:"IPv6 nin",cidrv4:"IPv4 menzili",cidrv6:"IPv6 menzili",base64:"base64-ifreli metin",base64url:"base64url-ifreli metin",json_string:"JSON metin",e164:"E.164 says",jwt:"JWT",template_literal:"giren"};return n=>{switch(n.code){case"invalid_type":return`Fsit giren: umulan ${n.expected}, alnan ${r(n.input)}`;case"invalid_value":return n.values.length===1?`Fsit giren: umulan ${St(n.values[0])}`:`Fsit tercih: mteberler ${st(n.values,"|")}`;case"too_big":{let s=n.inclusive?"<=":"<",o=t(n.origin);return o?`Fazla byk: ${n.origin??"value"}, ${s}${n.maximum.toString()} ${o.unit??"elements"} sahip olmalyd.`:`Fazla byk: ${n.origin??"value"}, ${s}${n.maximum.toString()} olmalyd.`}case"too_small":{let s=n.inclusive?">=":">",o=t(n.origin);return o?`Fazla kk: ${n.origin}, ${s}${n.minimum.toString()} ${o.unit} sahip olmalyd.`:`Fazla kk: ${n.origin}, ${s}${n.minimum.toString()} olmalyd.`}case"invalid_format":{let s=n;return s.format==="starts_with"?`Fsit metin: "${s.prefix}" ile balamal.`:s.format==="ends_with"?`Fsit metin: "${s.suffix}" ile bitmeli.`:s.format==="includes"?`Fsit metin: "${s.includes}" ihtiv etmeli.`:s.format==="regex"?`Fsit metin: ${s.pattern} nakna uymal.`:`Fsit ${a[s.format]??n.format}`}case"not_multiple_of":return`Fsit say: ${n.divisor} kat olmalyd.`;case"unrecognized_keys":return`Tannmayan anahtar ${n.keys.length>1?"s":""}: ${st(n.keys,", ")}`;case"invalid_key":return`${n.origin} iin tannmayan anahtar var.`;case"invalid_union":return"Giren tannamad.";case"invalid_element":return`${n.origin} iin tannmayan kymet var.`;default:return"Kymet tannamad."}}},"HD");function xG(){return{localeError:wG()}}i(xG,"H3");var _G=i(()=>{let e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(n){return e[n]??null}i(t,"q");let r=i(n=>{let s=typeof n;switch(s){case"number":return Number.isNaN(n)?"NaN":"";case"object":{if(Array.isArray(n))return"";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return s},"K"),a={regex:"",email:"",url:"  ",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"  ",date:"",time:"",duration:"",ipv4:" IPv4 ",ipv6:" IPv6 ",cidrv4:" IPv4 ",cidrv6:" IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:" E.164 ",jwt:"JWT",template_literal:""};return n=>{switch(n.code){case"invalid_type":return` :  ${n.expected} ,  ${r(n.input)}  `;case"invalid_value":return n.values.length===1?` :  ${St(n.values[0])} `:` :    ${st(n.values,"|")}  `;case"too_big":{let s=n.inclusive?"<=":"<",o=t(n.origin);return o?` : ${n.origin??""}  ${s}${n.maximum.toString()} ${o.unit??""} `:` : ${n.origin??""}  ${s}${n.maximum.toString()} `}case"too_small":{let s=n.inclusive?">=":">",o=t(n.origin);return o?` : ${n.origin}  ${s}${n.minimum.toString()} ${o.unit} `:` : ${n.origin}  ${s}${n.minimum.toString()} `}case"invalid_format":{let s=n;return s.format==="starts_with"?` :   "${s.prefix}"   `:s.format==="ends_with"?` :   "${s.suffix}"    `:s.format==="includes"?` :  "${s.includes}" `:s.format==="regex"?` :   ${s.pattern}   `:`${a[s.format]??n.format}  `}case"not_multiple_of":return` :   ${n.divisor}  `;case"unrecognized_keys":return` ${n.keys.length>1?"":""}: ${st(n.keys,", ")}`;case"invalid_key":return`   ${n.origin} `;case"invalid_union":return" ";case"invalid_element":return`   ${n.origin} `;default:return" "}}},"JD");function SG(){return{localeError:_G()}}i(SG,"J3");var MG=i(()=>{let e={string:{unit:"znakw",verb:"mie"},file:{unit:"bajtw",verb:"mie"},array:{unit:"elementw",verb:"mie"},set:{unit:"elementw",verb:"mie"}};function t(n){return e[n]??null}i(t,"q");let r=i(n=>{let s=typeof n;switch(s){case"number":return Number.isNaN(n)?"NaN":"liczba";case"object":{if(Array.isArray(n))return"tablica";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return s},"K"),a={regex:"wyraenie",email:"adres email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i godzina w formacie ISO",date:"data w formacie ISO",time:"godzina w formacie ISO",duration:"czas trwania ISO",ipv4:"adres IPv4",ipv6:"adres IPv6",cidrv4:"zakres IPv4",cidrv6:"zakres IPv6",base64:"cig znakw zakodowany w formacie base64",base64url:"cig znakw zakodowany w formacie base64url",json_string:"cig znakw w formacie JSON",e164:"liczba E.164",jwt:"JWT",template_literal:"wejcie"};return n=>{switch(n.code){case"invalid_type":return`Nieprawidowe dane wejciowe: oczekiwano ${n.expected}, otrzymano ${r(n.input)}`;case"invalid_value":return n.values.length===1?`Nieprawidowe dane wejciowe: oczekiwano ${St(n.values[0])}`:`Nieprawidowa opcja: oczekiwano jednej z wartoci ${st(n.values,"|")}`;case"too_big":{let s=n.inclusive?"<=":"<",o=t(n.origin);return o?`Za dua warto: oczekiwano, e ${n.origin??"warto"} bdzie mie ${s}${n.maximum.toString()} ${o.unit??"elementw"}`:`Zbyt du(y/a/e): oczekiwano, e ${n.origin??"warto"} bdzie wynosi ${s}${n.maximum.toString()}`}case"too_small":{let s=n.inclusive?">=":">",o=t(n.origin);return o?`Za maa warto: oczekiwano, e ${n.origin??"warto"} bdzie mie ${s}${n.minimum.toString()} ${o.unit??"elementw"}`:`Zbyt ma(y/a/e): oczekiwano, e ${n.origin??"warto"} bdzie wynosi ${s}${n.minimum.toString()}`}case"invalid_format":{let s=n;return s.format==="starts_with"?`Nieprawidowy cig znakw: musi zaczyna si od "${s.prefix}"`:s.format==="ends_with"?`Nieprawidowy cig znakw: musi koczy si na "${s.suffix}"`:s.format==="includes"?`Nieprawidowy cig znakw: musi zawiera "${s.includes}"`:s.format==="regex"?`Nieprawidowy cig znakw: musi odpowiada wzorcowi ${s.pattern}`:`Nieprawidow(y/a/e) ${a[s.format]??n.format}`}case"not_multiple_of":return`Nieprawidowa liczba: musi by wielokrotnoci ${n.divisor}`;case"unrecognized_keys":return`Nierozpoznane klucze${n.keys.length>1?"s":""}: ${st(n.keys,", ")}`;case"invalid_key":return`Nieprawidowy klucz w ${n.origin}`;case"invalid_union":return"Nieprawidowe dane wejciowe";case"invalid_element":return`Nieprawidowa warto w ${n.origin}`;default:return"Nieprawidowe dane wejciowe"}}},"TD");function EG(){return{localeError:MG()}}i(EG,"T3");var kG=i(()=>{let e={string:{unit:"caracteres",verb:"ter"},file:{unit:"bytes",verb:"ter"},array:{unit:"itens",verb:"ter"},set:{unit:"itens",verb:"ter"}};function t(n){return e[n]??null}i(t,"q");let r=i(n=>{let s=typeof n;switch(s){case"number":return Number.isNaN(n)?"NaN":"nmero";case"object":{if(Array.isArray(n))return"array";if(n===null)return"nulo";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return s},"K"),a={regex:"padro",email:"endereo de e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e hora ISO",date:"data ISO",time:"hora ISO",duration:"durao ISO",ipv4:"endereo IPv4",ipv6:"endereo IPv6",cidrv4:"faixa de IPv4",cidrv6:"faixa de IPv6",base64:"texto codificado em base64",base64url:"URL codificada em base64",json_string:"texto JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"};return n=>{switch(n.code){case"invalid_type":return`Tipo invlido: esperado ${n.expected}, recebido ${r(n.input)}`;case"invalid_value":return n.values.length===1?`Entrada invlida: esperado ${St(n.values[0])}`:`Opo invlida: esperada uma das ${st(n.values,"|")}`;case"too_big":{let s=n.inclusive?"<=":"<",o=t(n.origin);return o?`Muito grande: esperado que ${n.origin??"valor"} tivesse ${s}${n.maximum.toString()} ${o.unit??"elementos"}`:`Muito grande: esperado que ${n.origin??"valor"} fosse ${s}${n.maximum.toString()}`}case"too_small":{let s=n.inclusive?">=":">",o=t(n.origin);return o?`Muito pequeno: esperado que ${n.origin} tivesse ${s}${n.minimum.toString()} ${o.unit}`:`Muito pequeno: esperado que ${n.origin} fosse ${s}${n.minimum.toString()}`}case"invalid_format":{let s=n;return s.format==="starts_with"?`Texto invlido: deve comear com "${s.prefix}"`:s.format==="ends_with"?`Texto invlido: deve terminar com "${s.suffix}"`:s.format==="includes"?`Texto invlido: deve incluir "${s.includes}"`:s.format==="regex"?`Texto invlido: deve corresponder ao padro ${s.pattern}`:`${a[s.format]??n.format} invlido`}case"not_multiple_of":return`Nmero invlido: deve ser mltiplo de ${n.divisor}`;case"unrecognized_keys":return`Chave${n.keys.length>1?"s":""} desconhecida${n.keys.length>1?"s":""}: ${st(n.keys,", ")}`;case"invalid_key":return`Chave invlida em ${n.origin}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Valor invlido em ${n.origin}`;default:return"Campo invlido"}}},"wD");function AG(){return{localeError:kG()}}i(AG,"w3");function Z4(e,t,r,a){let n=Math.abs(e),s=n%10,o=n%100;return o>=11&&o<=19?a:s===1?t:s>=2&&s<=4?r:a}i(Z4,"QX");var jG=i(()=>{let e={string:{unit:{one:"",few:"",many:""},verb:""},file:{unit:{one:"",few:"",many:""},verb:""},array:{unit:{one:"",few:"",many:""},verb:""},set:{unit:{one:"",few:"",many:""},verb:""}};function t(n){return e[n]??null}i(t,"q");let r=i(n=>{let s=typeof n;switch(s){case"number":return Number.isNaN(n)?"NaN":"";case"object":{if(Array.isArray(n))return"";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return s},"K"),a={regex:"",email:"email ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"   base64",base64url:"   base64url",json_string:"JSON ",e164:" E.164",jwt:"JWT",template_literal:""};return n=>{switch(n.code){case"invalid_type":return` :  ${n.expected},  ${r(n.input)}`;case"invalid_value":return n.values.length===1?` :  ${St(n.values[0])}`:` :    ${st(n.values,"|")}`;case"too_big":{let s=n.inclusive?"<=":"<",o=t(n.origin);if(o){let h=Number(n.maximum),p=Z4(h,o.unit.one,o.unit.few,o.unit.many);return`  : ,  ${n.origin??""}   ${s}${n.maximum.toString()} ${p}`}return`  : ,  ${n.origin??""}  ${s}${n.maximum.toString()}`}case"too_small":{let s=n.inclusive?">=":">",o=t(n.origin);if(o){let h=Number(n.minimum),p=Z4(h,o.unit.one,o.unit.few,o.unit.many);return`  : ,  ${n.origin}   ${s}${n.minimum.toString()} ${p}`}return`  : ,  ${n.origin}  ${s}${n.minimum.toString()}`}case"invalid_format":{let s=n;return s.format==="starts_with"?` :    "${s.prefix}"`:s.format==="ends_with"?` :    "${s.suffix}"`:s.format==="includes"?` :   "${s.includes}"`:s.format==="regex"?` :    ${s.pattern}`:` ${a[s.format]??n.format}`}case"not_multiple_of":return` :    ${n.divisor}`;case"unrecognized_keys":return`${n.keys.length>1?"":""} ${n.keys.length>1?"":""}: ${st(n.keys,", ")}`;case"invalid_key":return`   ${n.origin}`;case"invalid_union":return"  ";case"invalid_element":return`   ${n.origin}`;default:return"  "}}},"ZD");function NG(){return{localeError:jG()}}i(NG,"Z3");var IG=i(()=>{let e={string:{unit:"znakov",verb:"imeti"},file:{unit:"bajtov",verb:"imeti"},array:{unit:"elementov",verb:"imeti"},set:{unit:"elementov",verb:"imeti"}};function t(n){return e[n]??null}i(t,"q");let r=i(n=>{let s=typeof n;switch(s){case"number":return Number.isNaN(n)?"NaN":"tevilo";case"object":{if(Array.isArray(n))return"tabela";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return s},"K"),a={regex:"vnos",email:"e-potni naslov",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum in as",date:"ISO datum",time:"ISO as",duration:"ISO trajanje",ipv4:"IPv4 naslov",ipv6:"IPv6 naslov",cidrv4:"obseg IPv4",cidrv6:"obseg IPv6",base64:"base64 kodiran niz",base64url:"base64url kodiran niz",json_string:"JSON niz",e164:"E.164 tevilka",jwt:"JWT",template_literal:"vnos"};return n=>{switch(n.code){case"invalid_type":return`Neveljaven vnos: priakovano ${n.expected}, prejeto ${r(n.input)}`;case"invalid_value":return n.values.length===1?`Neveljaven vnos: priakovano ${St(n.values[0])}`:`Neveljavna monost: priakovano eno izmed ${st(n.values,"|")}`;case"too_big":{let s=n.inclusive?"<=":"<",o=t(n.origin);return o?`Preveliko: priakovano, da bo ${n.origin??"vrednost"} imelo ${s}${n.maximum.toString()} ${o.unit??"elementov"}`:`Preveliko: priakovano, da bo ${n.origin??"vrednost"} ${s}${n.maximum.toString()}`}case"too_small":{let s=n.inclusive?">=":">",o=t(n.origin);return o?`Premajhno: priakovano, da bo ${n.origin} imelo ${s}${n.minimum.toString()} ${o.unit}`:`Premajhno: priakovano, da bo ${n.origin} ${s}${n.minimum.toString()}`}case"invalid_format":{let s=n;return s.format==="starts_with"?`Neveljaven niz: mora se zaeti z "${s.prefix}"`:s.format==="ends_with"?`Neveljaven niz: mora se konati z "${s.suffix}"`:s.format==="includes"?`Neveljaven niz: mora vsebovati "${s.includes}"`:s.format==="regex"?`Neveljaven niz: mora ustrezati vzorcu ${s.pattern}`:`Neveljaven ${a[s.format]??n.format}`}case"not_multiple_of":return`Neveljavno tevilo: mora biti vekratnik ${n.divisor}`;case"unrecognized_keys":return`Neprepoznan${n.keys.length>1?"i kljui":" klju"}: ${st(n.keys,", ")}`;case"invalid_key":return`Neveljaven klju v ${n.origin}`;case"invalid_union":return"Neveljaven vnos";case"invalid_element":return`Neveljavna vrednost v ${n.origin}`;default:return"Neveljaven vnos"}}},"XD");function CG(){return{localeError:IG()}}i(CG,"X3");var RG=i(()=>{let e={string:{unit:"tecken",verb:"att ha"},file:{unit:"bytes",verb:"att ha"},array:{unit:"objekt",verb:"att innehlla"},set:{unit:"objekt",verb:"att innehlla"}};function t(n){return e[n]??null}i(t,"q");let r=i(n=>{let s=typeof n;switch(s){case"number":return Number.isNaN(n)?"NaN":"antal";case"object":{if(Array.isArray(n))return"lista";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return s},"K"),a={regex:"reguljrt uttryck",email:"e-postadress",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datum och tid",date:"ISO-datum",time:"ISO-tid",duration:"ISO-varaktighet",ipv4:"IPv4-intervall",ipv6:"IPv6-intervall",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodad strng",base64url:"base64url-kodad strng",json_string:"JSON-strng",e164:"E.164-nummer",jwt:"JWT",template_literal:"mall-literal"};return n=>{switch(n.code){case"invalid_type":return`Ogiltig inmatning: frvntat ${n.expected}, fick ${r(n.input)}`;case"invalid_value":return n.values.length===1?`Ogiltig inmatning: frvntat ${St(n.values[0])}`:`Ogiltigt val: frvntade en av ${st(n.values,"|")}`;case"too_big":{let s=n.inclusive?"<=":"<",o=t(n.origin);return o?`Fr stor(t): frvntade ${n.origin??"vrdet"} att ha ${s}${n.maximum.toString()} ${o.unit??"element"}`:`Fr stor(t): frvntat ${n.origin??"vrdet"} att ha ${s}${n.maximum.toString()}`}case"too_small":{let s=n.inclusive?">=":">",o=t(n.origin);return o?`Fr lite(t): frvntade ${n.origin??"vrdet"} att ha ${s}${n.minimum.toString()} ${o.unit}`:`Fr lite(t): frvntade ${n.origin??"vrdet"} att ha ${s}${n.minimum.toString()}`}case"invalid_format":{let s=n;return s.format==="starts_with"?`Ogiltig strng: mste brja med "${s.prefix}"`:s.format==="ends_with"?`Ogiltig strng: mste sluta med "${s.suffix}"`:s.format==="includes"?`Ogiltig strng: mste innehlla "${s.includes}"`:s.format==="regex"?`Ogiltig strng: mste matcha mnstret "${s.pattern}"`:`Ogiltig(t) ${a[s.format]??n.format}`}case"not_multiple_of":return`Ogiltigt tal: mste vara en multipel av ${n.divisor}`;case"unrecognized_keys":return`${n.keys.length>1?"Oknda nycklar":"Oknd nyckel"}: ${st(n.keys,", ")}`;case"invalid_key":return`Ogiltig nyckel i ${n.origin??"vrdet"}`;case"invalid_union":return"Ogiltig input";case"invalid_element":return`Ogiltigt vrde i ${n.origin??"vrdet"}`;default:return"Ogiltig input"}}},"fD");function OG(){return{localeError:RG()}}i(OG,"f3");var TG=i(()=>{let e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function t(n){return e[n]??null}i(t,"q");let r=i(n=>{let s=typeof n;switch(s){case"number":return Number.isNaN(n)?" ":"";case"object":{if(Array.isArray(n))return"";if(n===null)return"";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return s},"K"),a={regex:"",email:" ",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO  ",date:"ISO ",time:"ISO ",duration:"ISO  ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:"input"};return n=>{switch(n.code){case"invalid_type":return` :  ${n.expected},  ${r(n.input)}`;case"invalid_value":return n.values.length===1?` :  ${St(n.values[0])}`:` :  ${st(n.values,"|")}  `;case"too_big":{let s=n.inclusive?"<=":"<",o=t(n.origin);return o?` :  ${n.origin??""} ${s}${n.maximum.toString()} ${o.unit??""}   `:` :  ${n.origin??""} ${s}${n.maximum.toString()}   `}case"too_small":{let s=n.inclusive?">=":">",o=t(n.origin);return o?` :  ${n.origin} ${s}${n.minimum.toString()} ${o.unit}   `:` :  ${n.origin} ${s}${n.minimum.toString()}   `}case"invalid_format":{let s=n;return s.format==="starts_with"?` : "${s.prefix}"   `:s.format==="ends_with"?` : "${s.suffix}"   `:s.format==="includes"?` : "${s.includes}"   `:s.format==="regex"?` : ${s.pattern}   `:` ${a[s.format]??n.format}`}case"not_multiple_of":return` : ${n.divisor}    `;case"unrecognized_keys":return`  ${n.keys.length>1?"":""}: ${st(n.keys,", ")}`;case"invalid_key":return`${n.origin}   `;case"invalid_union":return" ";case"invalid_element":return`${n.origin}   `;default:return" "}}},"kD");function PG(){return{localeError:TG()}}i(PG,"k3");var DG=i(()=>{let e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(n){return e[n]??null}i(t,"q");let r=i(n=>{let s=typeof n;switch(s){case"number":return Number.isNaN(n)?" (NaN)":"";case"object":{if(Array.isArray(n))return" (Array)";if(n===null)return" (null)";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return s},"K"),a={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:" ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IP  IPv4",cidrv6:" IP  IPv6",base64:" Base64",base64url:" Base64  URL",json_string:" JSON",e164:" (E.164)",jwt:" JWT",template_literal:""};return n=>{switch(n.code){case"invalid_type":return`:  ${n.expected}  ${r(n.input)}`;case"invalid_value":return n.values.length===1?`:  ${St(n.values[0])}`:`:  ${st(n.values,"|")}`;case"too_big":{let s=n.inclusive?"":"",o=t(n.origin);return o?`: ${n.origin??""} ${s} ${n.maximum.toString()} ${o.unit??""}`:`: ${n.origin??""} ${s} ${n.maximum.toString()}`}case"too_small":{let s=n.inclusive?"":"",o=t(n.origin);return o?`: ${n.origin} ${s} ${n.minimum.toString()} ${o.unit}`:`: ${n.origin} ${s} ${n.minimum.toString()}`}case"invalid_format":{let s=n;return s.format==="starts_with"?`:  "${s.prefix}"`:s.format==="ends_with"?`:  "${s.suffix}"`:s.format==="includes"?`:  "${s.includes}" `:s.format==="regex"?`:  ${s.pattern}`:`: ${a[s.format]??n.format}`}case"not_multiple_of":return`:  ${n.divisor} `;case"unrecognized_keys":return`: ${st(n.keys,", ")}`;case"invalid_key":return` ${n.origin}`;case"invalid_union":return": ";case"invalid_element":return` ${n.origin}`;default:return""}}},"AD");function LG(){return{localeError:DG()}}i(LG,"A3");var BG=i(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":{if(Array.isArray(e))return"array";if(e===null)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}}return t},"GD"),zG=i(()=>{let e={string:{unit:"karakter",verb:"olmal"},file:{unit:"bayt",verb:"olmal"},array:{unit:"e",verb:"olmal"},set:{unit:"e",verb:"olmal"}};function t(a){return e[a]??null}i(t,"q");let r={regex:"girdi",email:"e-posta adresi",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO tarih ve saat",date:"ISO tarih",time:"ISO saat",duration:"ISO sre",ipv4:"IPv4 adresi",ipv6:"IPv6 adresi",cidrv4:"IPv4 aral",cidrv6:"IPv6 aral",base64:"base64 ile ifrelenmi metin",base64url:"base64url ile ifrelenmi metin",json_string:"JSON dizesi",e164:"E.164 says",jwt:"JWT",template_literal:"ablon dizesi"};return a=>{switch(a.code){case"invalid_type":return`Geersiz deer: beklenen ${a.expected}, alnan ${BG(a.input)}`;case"invalid_value":return a.values.length===1?`Geersiz deer: beklenen ${St(a.values[0])}`:`Geersiz seenek: aadakilerden biri olmal: ${st(a.values,"|")}`;case"too_big":{let n=a.inclusive?"<=":"<",s=t(a.origin);return s?`ok byk: beklenen ${a.origin??"deer"} ${n}${a.maximum.toString()} ${s.unit??"e"}`:`ok byk: beklenen ${a.origin??"deer"} ${n}${a.maximum.toString()}`}case"too_small":{let n=a.inclusive?">=":">",s=t(a.origin);return s?`ok kk: beklenen ${a.origin} ${n}${a.minimum.toString()} ${s.unit}`:`ok kk: beklenen ${a.origin} ${n}${a.minimum.toString()}`}case"invalid_format":{let n=a;return n.format==="starts_with"?`Geersiz metin: "${n.prefix}" ile balamal`:n.format==="ends_with"?`Geersiz metin: "${n.suffix}" ile bitmeli`:n.format==="includes"?`Geersiz metin: "${n.includes}" iermeli`:n.format==="regex"?`Geersiz metin: ${n.pattern} desenine uymal`:`Geersiz ${r[n.format]??a.format}`}case"not_multiple_of":return`Geersiz say: ${a.divisor} ile tam blnebilmeli`;case"unrecognized_keys":return`Tannmayan anahtar${a.keys.length>1?"lar":""}: ${st(a.keys,", ")}`;case"invalid_key":return`${a.origin} iinde geersiz anahtar`;case"invalid_union":return"Geersiz deer";case"invalid_element":return`${a.origin} iinde geersiz deer`;default:return"Geersiz deer"}}},"VD");function UG(){return{localeError:zG()}}i(UG,"G3");var FG=i(()=>{let e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(n){return e[n]??null}i(t,"q");let r=i(n=>{let s=typeof n;switch(s){case"number":return Number.isNaN(n)?"NaN":"";case"object":{if(Array.isArray(n))return"";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return s},"K"),a={regex:" ",email:"  ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IPv4",cidrv6:" IPv6",base64:"   base64",base64url:"   base64url",json_string:" JSON",e164:" E.164",jwt:"JWT",template_literal:" "};return n=>{switch(n.code){case"invalid_type":return`  :  ${n.expected},  ${r(n.input)}`;case"invalid_value":return n.values.length===1?`  :  ${St(n.values[0])}`:` :    ${st(n.values,"|")}`;case"too_big":{let s=n.inclusive?"<=":"<",o=t(n.origin);return o?` : ,  ${n.origin??""} ${o.verb} ${s}${n.maximum.toString()} ${o.unit??""}`:` : ,  ${n.origin??""}  ${s}${n.maximum.toString()}`}case"too_small":{let s=n.inclusive?">=":">",o=t(n.origin);return o?` : ,  ${n.origin} ${o.verb} ${s}${n.minimum.toString()} ${o.unit}`:` : ,  ${n.origin}  ${s}${n.minimum.toString()}`}case"invalid_format":{let s=n;return s.format==="starts_with"?` :    "${s.prefix}"`:s.format==="ends_with"?` :    "${s.suffix}"`:s.format==="includes"?` :   "${s.includes}"`:s.format==="regex"?` :    ${s.pattern}`:` ${a[s.format]??n.format}`}case"not_multiple_of":return` :    ${n.divisor}`;case"unrecognized_keys":return` ${n.keys.length>1?"":""}: ${st(n.keys,", ")}`;case"invalid_key":return`   ${n.origin}`;case"invalid_union":return"  ";case"invalid_element":return`   ${n.origin}`;default:return"  "}}},"SD");function Fk(){return{localeError:FG()}}i(Fk,"xP");function $G(){return Fk()}i($G,"V3");var GG=i(()=>{let e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(n){return e[n]??null}i(t,"q");let r=i(n=>{let s=typeof n;switch(s){case"number":return Number.isNaN(n)?"NaN":"";case"object":{if(Array.isArray(n))return"";if(n===null)return"";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return s},"K"),a={regex:" ",email:"  ",url:"  ",emoji:"",uuid:"   ",uuidv4:"     4",uuidv6:"     6",nanoid:"  ",guid:"   ",cuid:"   ",cuid2:"    2",ulid:"   ",xid:"  ",ksuid:"    ",datetime:"    ",date:"   ",time:"   ",duration:"   ",ipv4:"   4 ",ipv6:"   6 ",cidrv4:"   4 ",cidrv6:"   6 ",base64:" 64   ",base64url:" 64      ",json_string:"    ",e164:" 164 ",jwt:"  ",template_literal:" "};return n=>{switch(n.code){case"invalid_type":return`  : ${n.expected}   ${r(n.input)}  `;case"invalid_value":return n.values.length===1?`  : ${St(n.values[0])}  `:` : ${st(n.values,"|")}     `;case"too_big":{let s=n.inclusive?"<=":"<",o=t(n.origin);return o?` : ${n.origin??""}  ${s}${n.maximum.toString()} ${o.unit??""}   `:` : ${n.origin??""}  ${s}${n.maximum.toString()}   `}case"too_small":{let s=n.inclusive?">=":">",o=t(n.origin);return o?` : ${n.origin}  ${s}${n.minimum.toString()} ${o.unit}   `:` : ${n.origin}  ${s}${n.minimum.toString()}   `}case"invalid_format":{let s=n;return s.format==="starts_with"?` : "${s.prefix}"    `:s.format==="ends_with"?` : "${s.suffix}"    `:s.format==="includes"?` : "${s.includes}"   `:s.format==="regex"?` :  ${s.pattern}    `:` ${a[s.format]??n.format}`}case"not_multiple_of":return` : ${n.divisor}    `;case"unrecognized_keys":return`   ${n.keys.length>1?"":""}: ${st(n.keys," ")}`;case"invalid_key":return`${n.origin}   `;case"invalid_union":return"  ";case"invalid_element":return`${n.origin}   `;default:return"  "}}},"MD");function VG(){return{localeError:GG()}}i(VG,"S3");var ZG=i(()=>{let e={string:{unit:"k t",verb:"c"},file:{unit:"byte",verb:"c"},array:{unit:"phn t",verb:"c"},set:{unit:"phn t",verb:"c"}};function t(n){return e[n]??null}i(t,"q");let r=i(n=>{let s=typeof n;switch(s){case"number":return Number.isNaN(n)?"NaN":"s";case"object":{if(Array.isArray(n))return"mng";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return s},"K"),a={regex:"u vo",email:"a ch email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ngy gi ISO",date:"ngy ISO",time:"gi ISO",duration:"khong thi gian ISO",ipv4:"a ch IPv4",ipv6:"a ch IPv6",cidrv4:"di IPv4",cidrv6:"di IPv6",base64:"chui m ha base64",base64url:"chui m ha base64url",json_string:"chui JSON",e164:"s E.164",jwt:"JWT",template_literal:"u vo"};return n=>{switch(n.code){case"invalid_type":return`u vo khng hp l: mong i ${n.expected}, nhn c ${r(n.input)}`;case"invalid_value":return n.values.length===1?`u vo khng hp l: mong i ${St(n.values[0])}`:`Ty chn khng hp l: mong i mt trong cc gi tr ${st(n.values,"|")}`;case"too_big":{let s=n.inclusive?"<=":"<",o=t(n.origin);return o?`Qu ln: mong i ${n.origin??"gi tr"} ${o.verb} ${s}${n.maximum.toString()} ${o.unit??"phn t"}`:`Qu ln: mong i ${n.origin??"gi tr"} ${s}${n.maximum.toString()}`}case"too_small":{let s=n.inclusive?">=":">",o=t(n.origin);return o?`Qu nh: mong i ${n.origin} ${o.verb} ${s}${n.minimum.toString()} ${o.unit}`:`Qu nh: mong i ${n.origin} ${s}${n.minimum.toString()}`}case"invalid_format":{let s=n;return s.format==="starts_with"?`Chui khng hp l: phi bt u bng "${s.prefix}"`:s.format==="ends_with"?`Chui khng hp l: phi kt thc bng "${s.suffix}"`:s.format==="includes"?`Chui khng hp l: phi bao gm "${s.includes}"`:s.format==="regex"?`Chui khng hp l: phi khp vi mu ${s.pattern}`:`${a[s.format]??n.format} khng hp l`}case"not_multiple_of":return`S khng hp l: phi l bi s ca ${n.divisor}`;case"unrecognized_keys":return`Kha khng c nhn dng: ${st(n.keys,", ")}`;case"invalid_key":return`Kha khng hp l trong ${n.origin}`;case"invalid_union":return"u vo khng hp l";case"invalid_element":return`Gi tr khng hp l trong ${n.origin}`;default:return"u vo khng hp l"}}},"ND");function HG(){return{localeError:ZG()}}i(HG,"M3");var JG=i(()=>{let e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(n){return e[n]??null}i(t,"q");let r=i(n=>{let s=typeof n;switch(s){case"number":return Number.isNaN(n)?"(NaN)":"";case"object":{if(Array.isArray(n))return"";if(n===null)return"(null)";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return s},"K"),a={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO",date:"ISO",time:"ISO",duration:"ISO",ipv4:"IPv4",ipv6:"IPv6",cidrv4:"IPv4",cidrv6:"IPv6",base64:"base64",base64url:"base64url",json_string:"JSON",e164:"E.164",jwt:"JWT",template_literal:""};return n=>{switch(n.code){case"invalid_type":return` ${n.expected} ${r(n.input)}`;case"invalid_value":return n.values.length===1?` ${St(n.values[0])}`:` ${st(n.values,"|")}`;case"too_big":{let s=n.inclusive?"<=":"<",o=t(n.origin);return o?` ${n.origin??""} ${s}${n.maximum.toString()} ${o.unit??""}`:` ${n.origin??""} ${s}${n.maximum.toString()}`}case"too_small":{let s=n.inclusive?">=":">",o=t(n.origin);return o?` ${n.origin} ${s}${n.minimum.toString()} ${o.unit}`:` ${n.origin} ${s}${n.minimum.toString()}`}case"invalid_format":{let s=n;return s.format==="starts_with"?` "${s.prefix}" `:s.format==="ends_with"?` "${s.suffix}" `:s.format==="includes"?` "${s.includes}"`:s.format==="regex"?` ${s.pattern}`:`${a[s.format]??n.format}`}case"not_multiple_of":return` ${n.divisor} `;case"unrecognized_keys":return`(key): ${st(n.keys,", ")}`;case"invalid_key":return`${n.origin} (key)`;case"invalid_union":return"";case"invalid_element":return`${n.origin} (value)`;default:return""}}},"CD");function qG(){return{localeError:JG()}}i(qG,"N3");var KG=i(()=>{let e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(n){return e[n]??null}i(t,"q");let r=i(n=>{let s=typeof n;switch(s){case"number":return Number.isNaN(n)?"NaN":"number";case"object":{if(Array.isArray(n))return"array";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return s},"K"),a={regex:"",email:"",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64 ",base64url:"base64url ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""};return n=>{switch(n.code){case"invalid_type":return` ${n.expected} ${r(n.input)}`;case"invalid_value":return n.values.length===1?` ${St(n.values[0])}`:` ${st(n.values,"|")}`;case"too_big":{let s=n.inclusive?"<=":"<",o=t(n.origin);return o?` ${n.origin??""}  ${s}${n.maximum.toString()} ${o.unit??""}`:` ${n.origin??""}  ${s}${n.maximum.toString()}`}case"too_small":{let s=n.inclusive?">=":">",o=t(n.origin);return o?` ${n.origin}  ${s}${n.minimum.toString()} ${o.unit}`:` ${n.origin}  ${s}${n.minimum.toString()}`}case"invalid_format":{let s=n;return s.format==="starts_with"?` "${s.prefix}" `:s.format==="ends_with"?` "${s.suffix}" `:s.format==="includes"?` "${s.includes}"`:s.format==="regex"?` ${s.pattern}`:` ${a[s.format]??n.format}`}case"not_multiple_of":return` ${n.divisor} `;case"unrecognized_keys":return`${n.keys.length>1?"":""}${st(n.keys,"")}`;case"invalid_key":return`${n.origin} `;case"invalid_union":return"";case"invalid_element":return`${n.origin} `;default:return""}}},"ED");function XG(){return{localeError:KG()}}i(XG,"C3");var WG=i(()=>{let e={string:{unit:"mi",verb:"n"},file:{unit:"bytes",verb:"n"},array:{unit:"nkan",verb:"n"},set:{unit:"nkan",verb:"n"}};function t(n){return e[n]??null}i(t,"q");let r=i(n=>{let s=typeof n;switch(s){case"number":return Number.isNaN(n)?"NaN":"nmb";case"object":{if(Array.isArray(n))return"akop";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return s},"K"),a={regex:"r bwl",email:"drs ml",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"kk ISO",date:"j ISO",time:"kk ISO",duration:"kk t p ISO",ipv4:"drs IPv4",ipv6:"drs IPv6",cidrv4:"gbgb IPv4",cidrv6:"gbgb IPv6",base64:"r t a k n base64",base64url:"r base64url",json_string:"r JSON",e164:"nmb E.164",jwt:"JWT",template_literal:"r bwl"};return n=>{switch(n.code){case"invalid_type":return`bwl ae: a n lti fi ${n.expected}, m a r ${r(n.input)}`;case"invalid_value":return n.values.length===1?`bwl ae: a n lti fi ${St(n.values[0])}`:`yn ae: yan kan lra ${st(n.values,"|")}`;case"too_big":{let s=n.inclusive?"<=":"<",o=t(n.origin);return o?`T p j: a n lti j p ${n.origin??"iye"} ${o.verb} ${s}${n.maximum} ${o.unit}`:`T p j: a n lti j ${s}${n.maximum}`}case"too_small":{let s=n.inclusive?">=":">",o=t(n.origin);return o?`Kr ju: a n lti j p ${n.origin} ${o.verb} ${s}${n.minimum} ${o.unit}`:`Kr ju: a n lti j ${s}${n.minimum}`}case"invalid_format":{let s=n;return s.format==="starts_with"?`r ae: gbd br pl "${s.prefix}"`:s.format==="ends_with"?`r ae: gbd par pl "${s.suffix}"`:s.format==="includes"?`r ae: gbd n "${s.includes}"`:s.format==="regex"?`r ae: gbd b pr mu ${s.pattern}`:`Ae: ${a[s.format]??n.format}`}case"not_multiple_of":return`Nmb ae: gbd j y ppn ti ${n.divisor}`;case"unrecognized_keys":return`Btn m: ${st(n.keys,", ")}`;case"invalid_key":return`Btn ae nn ${n.origin}`;case"invalid_union":return"bwl ae";case"invalid_element":return`Iye ae nn ${n.origin}`;default:return"bwl ae"}}},"hD");function QG(){return{localeError:WG()}}i(QG,"E3");var $k=Symbol("ZodOutput"),Gk=Symbol("ZodInput");class v1{static{i(this,"mP")}constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...r){let a=r[0];if(this._map.set(t,a),a&&typeof a=="object"&&"id"in a){if(this._idmap.has(a.id))throw Error(`ID ${a.id} already exists in the registry`);this._idmap.set(a.id,t)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){let r=this._map.get(t);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(t),this}get(t){let r=t._zod.parent;if(r){let a={...this.get(r)??{}};delete a.id;let n={...a,...this._map.get(t)};return Object.keys(n).length?n:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function b1(){return new v1}i(b1,"k9");var ha=b1();function Vk(e,t){return new e({type:"string",...ot(t)})}i(Vk,"I3");function Zk(e,t){return new e({type:"string",coerce:!0,...ot(t)})}i(Zk,"D3");function y1(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...ot(t)})}i(y1,"A9");function rf(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...ot(t)})}i(rf,"dP");function w1(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...ot(t)})}i(w1,"G9");function x1(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...ot(t)})}i(x1,"V9");function _1(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...ot(t)})}i(_1,"S9");function S1(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...ot(t)})}i(S1,"M9");function ac(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...ot(t)})}i(ac,"lP");function M1(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...ot(t)})}i(M1,"N9");function E1(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...ot(t)})}i(E1,"C9");function k1(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...ot(t)})}i(k1,"E9");function A1(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...ot(t)})}i(A1,"h9");function j1(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...ot(t)})}i(j1,"R9");function N1(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...ot(t)})}i(N1,"I9");function I1(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...ot(t)})}i(I1,"D9");function C1(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...ot(t)})}i(C1,"g9");function R1(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...ot(t)})}i(R1,"L9");function O1(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...ot(t)})}i(O1,"b9");function T1(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...ot(t)})}i(T1,"u9");function P1(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...ot(t)})}i(P1,"y9");function D1(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...ot(t)})}i(D1,"p9");function L1(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...ot(t)})}i(L1,"x9");function B1(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...ot(t)})}i(B1,"c9");var Hk={Any:null,Minute:-1,Second:0,Millisecond:3,Microsecond:6};function Jk(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...ot(t)})}i(Jk,"L3");function qk(e,t){return new e({type:"string",format:"date",check:"string_format",...ot(t)})}i(qk,"b3");function Kk(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...ot(t)})}i(Kk,"u3");function Xk(e,t){return new e({type:"string",format:"duration",check:"string_format",...ot(t)})}i(Xk,"y3");function Wk(e,t){return new e({type:"number",checks:[],...ot(t)})}i(Wk,"p3");function Qk(e,t){return new e({type:"number",coerce:!0,checks:[],...ot(t)})}i(Qk,"x3");function Yk(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...ot(t)})}i(Yk,"c3");function eA(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"float32",...ot(t)})}i(eA,"m3");function tA(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"float64",...ot(t)})}i(tA,"d3");function rA(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"int32",...ot(t)})}i(rA,"l3");function iA(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"uint32",...ot(t)})}i(iA,"o3");function nA(e,t){return new e({type:"boolean",...ot(t)})}i(nA,"r3");function aA(e,t){return new e({type:"boolean",coerce:!0,...ot(t)})}i(aA,"n3");function sA(e,t){return new e({type:"bigint",...ot(t)})}i(sA,"i3");function oA(e,t){return new e({type:"bigint",coerce:!0,...ot(t)})}i(oA,"t3");function lA(e,t){return new e({type:"bigint",check:"bigint_format",abort:!1,format:"int64",...ot(t)})}i(lA,"B3");function uA(e,t){return new e({type:"bigint",check:"bigint_format",abort:!1,format:"uint64",...ot(t)})}i(uA,"U3");function fA(e,t){return new e({type:"symbol",...ot(t)})}i(fA,"F3");function cA(e,t){return new e({type:"undefined",...ot(t)})}i(cA,"a3");function dA(e,t){return new e({type:"null",...ot(t)})}i(dA,"Q3");function hA(e){return new e({type:"any"})}i(hA,"e3");function pA(e){return new e({type:"unknown"})}i(pA,"s3");function mA(e,t){return new e({type:"never",...ot(t)})}i(mA,"$v");function gA(e,t){return new e({type:"void",...ot(t)})}i(gA,"qv");function vA(e,t){return new e({type:"date",...ot(t)})}i(vA,"Kv");function bA(e,t){return new e({type:"date",coerce:!0,...ot(t)})}i(bA,"_v");function yA(e,t){return new e({type:"nan",...ot(t)})}i(yA,"Pv");function Ca(e,t){return new o1({check:"less_than",...ot(t),value:e,inclusive:!1})}i(Ca,"_K");function ki(e,t){return new o1({check:"less_than",...ot(t),value:e,inclusive:!0})}i(ki,"W8");function Ra(e,t){return new l1({check:"greater_than",...ot(t),value:e,inclusive:!1})}i(Ra,"PK");function Xr(e,t){return new l1({check:"greater_than",...ot(t),value:e,inclusive:!0})}i(Xr,"lq");function wA(e){return Ra(0,e)}i(wA,"jv");function xA(e){return Ca(0,e)}i(xA,"Ov");function _A(e){return ki(0,e)}i(_A,"Yv");function SA(e){return Xr(0,e)}i(SA,"vv");function Fo(e,t){return new lE({check:"multiple_of",...ot(t),value:e})}i(Fo,"Y_");function sc(e,t){return new cE({check:"max_size",...ot(t),maximum:e})}i(sc,"Y4");function $o(e,t){return new dE({check:"min_size",...ot(t),minimum:e})}i($o,"v_");function z1(e,t){return new hE({check:"size_equals",...ot(t),size:e})}i(z1,"oP");function oc(e,t){return new pE({check:"max_length",...ot(t),maximum:e})}i(oc,"v4");function hs(e,t){return new mE({check:"min_length",...ot(t),minimum:e})}i(hs,"uK");function lc(e,t){return new gE({check:"length_equals",...ot(t),length:e})}i(lc,"z4");function U1(e,t){return new vE({check:"string_format",format:"regex",...ot(t),pattern:e})}i(U1,"rP");function F1(e){return new bE({check:"string_format",format:"lowercase",...ot(e)})}i(F1,"nP");function $1(e){return new yE({check:"string_format",format:"uppercase",...ot(e)})}i($1,"iP");function G1(e,t){return new wE({check:"string_format",format:"includes",...ot(t),includes:e})}i(G1,"tP");function V1(e,t){return new xE({check:"string_format",format:"starts_with",...ot(t),prefix:e})}i(V1,"BP");function Z1(e,t){return new _E({check:"string_format",format:"ends_with",...ot(t),suffix:e})}i(Z1,"UP");function MA(e,t,r){return new SE({check:"property",property:e,schema:t,...ot(r)})}i(MA,"zv");function H1(e,t){return new ME({check:"mime_type",mime:e,...ot(t)})}i(H1,"FP");function Da(e){return new EE({check:"overwrite",tx:e})}i(Da,"jK");function J1(e){return Da(t=>t.normalize(e))}i(J1,"aP");function q1(){return Da(e=>e.trim())}i(q1,"QP");function K1(){return Da(e=>e.toLowerCase())}i(K1,"eP");function X1(){return Da(e=>e.toUpperCase())}i(X1,"sP");function EA(e,t,r){return new e({type:"array",element:t,...ot(r)})}i(EA,"Wv");function YG(e,t,r){return new e({type:"union",options:t,...ot(r)})}i(YG,"RD");function eV(e,t,r,a){return new e({type:"union",options:r,discriminator:t,...ot(a)})}i(eV,"ID");function tV(e,t,r){return new e({type:"intersection",left:t,right:r})}i(tV,"DD");function rV(e,t,r,a){let n=r instanceof kt;return new e({type:"tuple",items:t,rest:n?r:null,...ot(n?a:r)})}i(rV,"gD");function iV(e,t,r,a){return new e({type:"record",keyType:t,valueType:r,...ot(a)})}i(iV,"LD");function nV(e,t,r,a){return new e({type:"map",keyType:t,valueType:r,...ot(a)})}i(nV,"bD");function aV(e,t,r){return new e({type:"set",valueType:t,...ot(r)})}i(aV,"uD");function sV(e,t,r){let a=Array.isArray(t)?Object.fromEntries(t.map(n=>[n,n])):t;return new e({type:"enum",entries:a,...ot(r)})}i(sV,"yD");function oV(e,t,r){return new e({type:"enum",entries:t,...ot(r)})}i(oV,"pD");function lV(e,t,r){return new e({type:"literal",values:Array.isArray(t)?t:[t],...ot(r)})}i(lV,"xD");function kA(e,t){return new e({type:"file",...ot(t)})}i(kA,"Hv");function uV(e,t){return new e({type:"transform",transform:t})}i(uV,"cD");function fV(e,t){return new e({type:"optional",innerType:t})}i(fV,"mD");function cV(e,t){return new e({type:"nullable",innerType:t})}i(cV,"dD");function dV(e,t,r){return new e({type:"default",innerType:t,get defaultValue(){return typeof r=="function"?r():gM(r)}})}i(dV,"lD");function hV(e,t,r){return new e({type:"nonoptional",innerType:t,...ot(r)})}i(hV,"oD");function pV(e,t){return new e({type:"success",innerType:t})}i(pV,"rD");function mV(e,t,r){return new e({type:"catch",innerType:t,catchValue:typeof r=="function"?r:()=>r})}i(mV,"nD");function gV(e,t,r){return new e({type:"pipe",in:t,out:r})}i(gV,"iD");function vV(e,t){return new e({type:"readonly",innerType:t})}i(vV,"tD");function bV(e,t,r){return new e({type:"template_literal",parts:t,...ot(r)})}i(bV,"BD");function yV(e,t){return new e({type:"lazy",getter:t})}i(yV,"UD");function wV(e,t){return new e({type:"promise",innerType:t})}i(wV,"FD");function AA(e,t,r){let a=ot(r);return a.abort??(a.abort=!0),new e({type:"custom",check:"custom",fn:t,...a})}i(AA,"Jv");function jA(e,t,r){return new e({type:"custom",check:"custom",fn:t,...ot(r)})}i(jA,"Tv");function NA(e){let t=IA(r=>(r.addIssue=a=>{if(typeof a=="string")r.issues.push(ef(a,r.value,t._zod.def));else{let n=a;n.fatal&&(n.continue=!1),n.code??(n.code="custom"),n.input??(n.input=r.value),n.inst??(n.inst=t),n.continue??(n.continue=!t._zod.def.abort),r.issues.push(ef(n))}},e(r.value,r)));return t}i(NA,"wv");function IA(e,t){let r=new ur({check:"custom",...ot(t)});return r._zod.check=e,r}i(IA,"eX");function CA(e,t){let r=ot(t),a=r.truthy??["true","1","yes","on","y","enabled"],n=r.falsy??["false","0","no","off","n","disabled"];r.case!=="sensitive"&&(a=a.map(y=>typeof y=="string"?y.toLowerCase():y),n=n.map(y=>typeof y=="string"?y.toLowerCase():y));let s=new Set(a),o=new Set(n),h=e.Codec??m1,p=e.Boolean??c1,v=new(e.String??bl)({type:"string",error:r.error}),c=new p({type:"boolean",error:r.error}),d=new h({type:"pipe",in:v,out:c,transform:i((y,b)=>{let x=y;return r.case!=="sensitive"&&(x=x.toLowerCase()),s.has(x)?!0:o.has(x)?!1:(b.issues.push({code:"invalid_value",expected:"stringbool",values:[...s,...o],input:b.value,inst:d,continue:!1}),{})},"transform"),reverseTransform:i((y,b)=>y===!0?a[0]||"true":n[0]||"false","reverseTransform"),error:r.error});return d}i(CA,"Zv");function yl(e,t,r,a={}){let n=ot(a),s={...ot(a),check:"string_format",type:"string",format:t,fn:typeof r=="function"?r:o=>r.test(o),...n};return r instanceof RegExp&&(s.pattern=r),new e(s)}i(yl,"W4");class Ag{static{i(this,"m9")}constructor(t){this.counter=0,this.metadataRegistry=t?.metadata??ha,this.target=t?.target??"draft-2020-12",this.unrepresentable=t?.unrepresentable??"throw",this.override=t?.override??(()=>{}),this.io=t?.io??"output",this.seen=new Map}process(t,r={path:[],schemaPath:[]}){var a;let n=t._zod.def,s={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},o=this.seen.get(t);if(o)return o.count++,r.schemaPath.includes(t)&&(o.cycle=r.path),o.schema;let h={schema:{},count:1,cycle:void 0,path:r.path};this.seen.set(t,h);let p=t._zod.toJSONSchema?.();if(p)h.schema=p;else{let c={...r,schemaPath:[...r.schemaPath,t],path:r.path},d=t._zod.parent;if(d)h.ref=d,this.process(d,c),this.seen.get(d).isParent=!0;else{let y=h.schema;switch(n.type){case"string":{let b=y;b.type="string";let{minimum:x,maximum:k,format:N,patterns:C,contentEncoding:R}=t._zod.bag;if(typeof x=="number"&&(b.minLength=x),typeof k=="number"&&(b.maxLength=k),N&&(b.format=s[N]??N,b.format===""&&delete b.format),R&&(b.contentEncoding=R),C&&C.size>0){let O=[...C];O.length===1?b.pattern=O[0].source:O.length>1&&(h.schema.allOf=[...O.map(T=>({...this.target==="draft-7"||this.target==="draft-4"||this.target==="openapi-3.0"?{type:"string"}:{},pattern:T.source}))])}break}case"number":{let b=y,{minimum:x,maximum:k,format:N,multipleOf:C,exclusiveMaximum:R,exclusiveMinimum:O}=t._zod.bag;typeof N=="string"&&N.includes("int")?b.type="integer":b.type="number",typeof O=="number"&&(this.target==="draft-4"||this.target==="openapi-3.0"?(b.minimum=O,b.exclusiveMinimum=!0):b.exclusiveMinimum=O),typeof x=="number"&&(b.minimum=x,typeof O=="number"&&this.target!=="draft-4"&&(O>=x?delete b.minimum:delete b.exclusiveMinimum)),typeof R=="number"&&(this.target==="draft-4"||this.target==="openapi-3.0"?(b.maximum=R,b.exclusiveMaximum=!0):b.exclusiveMaximum=R),typeof k=="number"&&(b.maximum=k,typeof R=="number"&&this.target!=="draft-4"&&(R<=k?delete b.maximum:delete b.exclusiveMaximum)),typeof C=="number"&&(b.multipleOf=C);break}case"boolean":{let b=y;b.type="boolean";break}case"bigint":{if(this.unrepresentable==="throw")throw Error("BigInt cannot be represented in JSON Schema");break}case"symbol":{if(this.unrepresentable==="throw")throw Error("Symbols cannot be represented in JSON Schema");break}case"null":{this.target==="openapi-3.0"?(y.type="string",y.nullable=!0,y.enum=[null]):y.type="null";break}case"any":break;case"unknown":break;case"undefined":{if(this.unrepresentable==="throw")throw Error("Undefined cannot be represented in JSON Schema");break}case"void":{if(this.unrepresentable==="throw")throw Error("Void cannot be represented in JSON Schema");break}case"never":{y.not={};break}case"date":{if(this.unrepresentable==="throw")throw Error("Date cannot be represented in JSON Schema");break}case"array":{let b=y,{minimum:x,maximum:k}=t._zod.bag;typeof x=="number"&&(b.minItems=x),typeof k=="number"&&(b.maxItems=k),b.type="array",b.items=this.process(n.element,{...c,path:[...c.path,"items"]});break}case"object":{let b=y;b.type="object",b.properties={};let x=n.shape;for(let C in x)b.properties[C]=this.process(x[C],{...c,path:[...c.path,"properties",C]});let k=new Set(Object.keys(x)),N=new Set([...k].filter(C=>{let R=n.shape[C]._zod;return this.io==="input"?R.optin===void 0:R.optout===void 0}));N.size>0&&(b.required=Array.from(N)),n.catchall?._zod.def.type==="never"?b.additionalProperties=!1:n.catchall?n.catchall&&(b.additionalProperties=this.process(n.catchall,{...c,path:[...c.path,"additionalProperties"]})):this.io==="output"&&(b.additionalProperties=!1);break}case"union":{let b=y,x=n.options.map((k,N)=>this.process(k,{...c,path:[...c.path,"anyOf",N]}));b.anyOf=x;break}case"intersection":{let b=y,x=this.process(n.left,{...c,path:[...c.path,"allOf",0]}),k=this.process(n.right,{...c,path:[...c.path,"allOf",1]}),N=i(R=>"allOf"in R&&Object.keys(R).length===1,"R"),C=[...N(x)?x.allOf:[x],...N(k)?k.allOf:[k]];b.allOf=C;break}case"tuple":{let b=y;b.type="array";let x=this.target==="draft-2020-12"?"prefixItems":"items",k=this.target==="draft-2020-12"||this.target==="openapi-3.0"?"items":"additionalItems",N=n.items.map((T,P)=>this.process(T,{...c,path:[...c.path,x,P]})),C=n.rest?this.process(n.rest,{...c,path:[...c.path,k,...this.target==="openapi-3.0"?[n.items.length]:[]]}):null;this.target==="draft-2020-12"?(b.prefixItems=N,C&&(b.items=C)):this.target==="openapi-3.0"?(b.items={anyOf:N},C&&b.items.anyOf.push(C),b.minItems=N.length,!C&&(b.maxItems=N.length)):(b.items=N,C&&(b.additionalItems=C));let{minimum:R,maximum:O}=t._zod.bag;typeof R=="number"&&(b.minItems=R),typeof O=="number"&&(b.maxItems=O);break}case"record":{let b=y;b.type="object",(this.target==="draft-7"||this.target==="draft-2020-12")&&(b.propertyNames=this.process(n.keyType,{...c,path:[...c.path,"propertyNames"]})),b.additionalProperties=this.process(n.valueType,{...c,path:[...c.path,"additionalProperties"]});break}case"map":{if(this.unrepresentable==="throw")throw Error("Map cannot be represented in JSON Schema");break}case"set":{if(this.unrepresentable==="throw")throw Error("Set cannot be represented in JSON Schema");break}case"enum":{let b=y,x=Jv(n.entries);x.every(k=>typeof k=="number")&&(b.type="number"),x.every(k=>typeof k=="string")&&(b.type="string"),b.enum=x;break}case"literal":{let b=y,x=[];for(let k of n.values)if(k===void 0){if(this.unrepresentable==="throw")throw Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof k=="bigint"){if(this.unrepresentable==="throw")throw Error("BigInt literals cannot be represented in JSON Schema");x.push(Number(k))}else x.push(k);if(x.length!==0)if(x.length===1){let k=x[0];b.type=k===null?"null":typeof k,this.target==="draft-4"||this.target==="openapi-3.0"?b.enum=[k]:b.const=k}else x.every(k=>typeof k=="number")&&(b.type="number"),x.every(k=>typeof k=="string")&&(b.type="string"),x.every(k=>typeof k=="boolean")&&(b.type="string"),x.every(k=>k===null)&&(b.type="null"),b.enum=x;break}case"file":{let b=y,x={type:"string",format:"binary",contentEncoding:"binary"},{minimum:k,maximum:N,mime:C}=t._zod.bag;k!==void 0&&(x.minLength=k),N!==void 0&&(x.maxLength=N),C?C.length===1?(x.contentMediaType=C[0],Object.assign(b,x)):b.anyOf=C.map(R=>({...x,contentMediaType:R})):Object.assign(b,x);break}case"transform":{if(this.unrepresentable==="throw")throw Error("Transforms cannot be represented in JSON Schema");break}case"nullable":{let b=this.process(n.innerType,c);this.target==="openapi-3.0"?(h.ref=n.innerType,y.nullable=!0):y.anyOf=[b,{type:"null"}];break}case"nonoptional":{this.process(n.innerType,c),h.ref=n.innerType;break}case"success":{let b=y;b.type="boolean";break}case"default":{this.process(n.innerType,c),h.ref=n.innerType,y.default=JSON.parse(JSON.stringify(n.defaultValue));break}case"prefault":{this.process(n.innerType,c),h.ref=n.innerType,this.io==="input"&&(y._prefault=JSON.parse(JSON.stringify(n.defaultValue)));break}case"catch":{this.process(n.innerType,c),h.ref=n.innerType;let b;try{b=n.catchValue(void 0)}catch{throw Error("Dynamic catch values are not supported in JSON Schema")}y.default=b;break}case"nan":{if(this.unrepresentable==="throw")throw Error("NaN cannot be represented in JSON Schema");break}case"template_literal":{let b=y,x=t._zod.pattern;if(!x)throw Error("Pattern not found in template literal");b.type="string",b.pattern=x.source;break}case"pipe":{let b=this.io==="input"?n.in._zod.def.type==="transform"?n.out:n.in:n.out;this.process(b,c),h.ref=b;break}case"readonly":{this.process(n.innerType,c),h.ref=n.innerType,y.readOnly=!0;break}case"promise":{this.process(n.innerType,c),h.ref=n.innerType;break}case"optional":{this.process(n.innerType,c),h.ref=n.innerType;break}case"lazy":{let b=t._zod.innerType;this.process(b,c),h.ref=b;break}case"custom":{if(this.unrepresentable==="throw")throw Error("Custom types cannot be represented in JSON Schema");break}case"function":{if(this.unrepresentable==="throw")throw Error("Function types cannot be represented in JSON Schema");break}}}}let v=this.metadataRegistry.get(t);return v&&Object.assign(h.schema,v),this.io==="input"&&br(t)&&(delete h.schema.examples,delete h.schema.default),this.io==="input"&&h.schema._prefault&&((a=h.schema).default??(a.default=h.schema._prefault)),delete h.schema._prefault,this.seen.get(t).schema}emit(t,r){let a={cycles:r?.cycles??"ref",reused:r?.reused??"inline",external:r?.external??void 0},n=this.seen.get(t);if(!n)throw Error("Unprocessed schema. This is a bug in Zod.");let s=i(c=>{let d=this.target==="draft-2020-12"?"$defs":"definitions";if(a.external){let x=a.external.registry.get(c[0])?.id,k=a.external.uri??(C=>C);if(x)return{ref:k(x)};let N=c[1].defId??c[1].schema.id??`schema${this.counter++}`;return c[1].defId=N,{defId:N,ref:`${k("__shared")}#/${d}/${N}`}}if(c[1]===n)return{ref:"#"};let y=`#/${d}/`,b=c[1].schema.id??`__schema${this.counter++}`;return{defId:b,ref:y+b}},"_"),o=i(c=>{if(c[1].schema.$ref)return;let d=c[1],{ref:y,defId:b}=s(c);d.def={...d.schema},b&&(d.defId=b);let x=d.schema;for(let k in x)delete x[k];x.$ref=y},"O");if(a.cycles==="throw")for(let c of this.seen.entries()){let d=c[1];if(d.cycle)throw Error(`Cycle detected: #/${d.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(let c of this.seen.entries()){let d=c[1];if(t===c[0]){o(c);continue}if(a.external){let y=a.external.registry.get(c[0])?.id;if(t!==c[0]&&y){o(c);continue}}if(this.metadataRegistry.get(c[0])?.id){o(c);continue}if(d.cycle){o(c);continue}if(d.count>1&&a.reused==="ref"){o(c);continue}}let h=i((c,d)=>{let y=this.seen.get(c),b=y.def??y.schema,x={...b};if(y.ref===null)return;let k=y.ref;if(y.ref=null,k){h(k,d);let N=this.seen.get(k).schema;N.$ref&&(d.target==="draft-7"||d.target==="draft-4"||d.target==="openapi-3.0")?(b.allOf=b.allOf??[],b.allOf.push(N)):(Object.assign(b,N),Object.assign(b,x))}y.isParent||this.override({zodSchema:c,jsonSchema:b,path:y.path??[]})},"j");for(let c of[...this.seen.entries()].reverse())h(c[0],{target:this.target});let p={};if(this.target==="draft-2020-12"?p.$schema="https://json-schema.org/draft/2020-12/schema":this.target==="draft-7"?p.$schema="http://json-schema.org/draft-07/schema#":this.target==="draft-4"?p.$schema="http://json-schema.org/draft-04/schema#":this.target==="openapi-3.0"||console.warn(`Invalid target: ${this.target}`),a.external?.uri){let c=a.external.registry.get(t)?.id;if(!c)throw Error("Schema is missing an `id` property");p.$id=a.external.uri(c)}Object.assign(p,n.def);let v=a.external?.defs??{};for(let c of this.seen.entries()){let d=c[1];d.def&&d.defId&&(v[d.defId]=d.def)}a.external||Object.keys(v).length>0&&(this.target==="draft-2020-12"?p.$defs=v:p.definitions=v);try{return JSON.parse(JSON.stringify(p))}catch{throw Error("Error converting schema to JSON.")}}}function RA(e,t){if(e instanceof v1){let a=new Ag(t),n={};for(let h of e._idmap.entries()){let[p,v]=h;a.process(v)}let s={},o={registry:e,uri:t?.uri,defs:n};for(let h of e._idmap.entries()){let[p,v]=h;s[p]=a.emit(v,{...t,external:o})}if(Object.keys(n).length>0){let h=a.target==="draft-2020-12"?"$defs":"definitions";s.__shared={[h]:n}}return{schemas:s}}let r=new Ag(t);return r.process(e),r.emit(e,t)}i(RA,"Xv");function br(e,t){let r=t??{seen:new Set};if(r.seen.has(e))return!1;r.seen.add(e);let a=e._zod.def;switch(a.type){case"string":case"number":case"bigint":case"boolean":case"date":case"symbol":case"undefined":case"null":case"any":case"unknown":case"never":case"void":case"literal":case"enum":case"nan":case"file":case"template_literal":return!1;case"array":return br(a.element,r);case"object":{for(let n in a.shape)if(br(a.shape[n],r))return!0;return!1}case"union":{for(let n of a.options)if(br(n,r))return!0;return!1}case"intersection":return br(a.left,r)||br(a.right,r);case"tuple":{for(let n of a.items)if(br(n,r))return!0;return!!(a.rest&&br(a.rest,r))}case"record":return br(a.keyType,r)||br(a.valueType,r);case"map":return br(a.keyType,r)||br(a.valueType,r);case"set":return br(a.valueType,r);case"promise":case"optional":case"nonoptional":case"nullable":case"readonly":return br(a.innerType,r);case"lazy":return br(a.getter(),r);case"default":return br(a.innerType,r);case"prefault":return br(a.innerType,r);case"custom":return!1;case"transform":return!0;case"pipe":return br(a.in,r)||br(a.out,r);case"success":return!1;case"catch":return!1;case"function":return!1}throw Error(`Unknown schema type: ${a.type}`)}i(br,"Kq");var xV={},OA={};$r(OA,{time:i(()=>DA,"time"),duration:i(()=>LA,"duration"),datetime:i(()=>TA,"datetime"),date:i(()=>PA,"date"),ZodISOTime:i(()=>Y1,"ZodISOTime"),ZodISODuration:i(()=>eb,"ZodISODuration"),ZodISODateTime:i(()=>W1,"ZodISODateTime"),ZodISODate:i(()=>Q1,"ZodISODate")});var W1=Ve("ZodISODateTime",(e,t)=>{zE.init(e,t),nr.init(e,t)});function TA(e){return Jk(W1,e)}i(TA,"fv");var Q1=Ve("ZodISODate",(e,t)=>{UE.init(e,t),nr.init(e,t)});function PA(e){return qk(Q1,e)}i(PA,"kv");var Y1=Ve("ZodISOTime",(e,t)=>{FE.init(e,t),nr.init(e,t)});function DA(e){return Kk(Y1,e)}i(DA,"Av");var eb=Ve("ZodISODuration",(e,t)=>{$E.init(e,t),nr.init(e,t)});function LA(e){return Xk(eb,e)}i(LA,"Gv");var BA=i((e,t)=>{Kv.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:i(r=>Wv(e,r),"value")},flatten:{value:i(r=>Xv(e,r),"value")},addIssue:{value:i(r=>{e.issues.push(r),e.message=JSON.stringify(e.issues,Qu,2)},"value")},addIssues:{value:i(r=>{e.issues.push(...r),e.message=JSON.stringify(e.issues,Qu,2)},"value")},isEmpty:{get(){return e.issues.length===0}}})},"qf"),_V=Ve("ZodError",BA),ii=Ve("ZodError",BA,{Parent:Error}),zA=cl(ii),UA=dl(ii),FA=hl(ii),$A=pl(ii),GA=Qv(ii),VA=Yv(ii),ZA=e1(ii),HA=t1(ii),JA=r1(ii),qA=i1(ii),KA=n1(ii),XA=a1(ii),Ot=Ve("ZodType",(e,t)=>(kt.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...r)=>e.clone(Kt.mergeDefs(t,{checks:[...t.checks??[],...r.map(a=>typeof a=="function"?{_zod:{check:a,def:{check:"custom"},onattach:[]}}:a)]})),e.clone=(r,a)=>hi(e,r,a),e.brand=()=>e,e.register=(r,a)=>(r.add(e,a),e),e.parse=(r,a)=>zA(e,r,a,{callee:e.parse}),e.safeParse=(r,a)=>FA(e,r,a),e.parseAsync=async(r,a)=>UA(e,r,a,{callee:e.parseAsync}),e.safeParseAsync=async(r,a)=>$A(e,r,a),e.spa=e.safeParseAsync,e.encode=(r,a)=>GA(e,r,a),e.decode=(r,a)=>VA(e,r,a),e.encodeAsync=async(r,a)=>ZA(e,r,a),e.decodeAsync=async(r,a)=>HA(e,r,a),e.safeEncode=(r,a)=>JA(e,r,a),e.safeDecode=(r,a)=>qA(e,r,a),e.safeEncodeAsync=async(r,a)=>KA(e,r,a),e.safeDecodeAsync=async(r,a)=>XA(e,r,a),e.refine=(r,a)=>e.check(Dj(r,a)),e.superRefine=r=>e.check(Lj(r)),e.overwrite=r=>e.check(Da(r)),e.optional=()=>af(e),e.nullable=()=>sf(e),e.nullish=()=>af(sf(e)),e.nonoptional=r=>Mj(e,r),e.array=()=>pc(e),e.or=r=>_b([e,r]),e.and=r=>fj(e,r),e.transform=r=>of(e,Eb(r)),e.default=r=>xj(e,r),e.prefault=r=>Sj(e,r),e.catch=r=>Aj(e,r),e.pipe=r=>of(e,r),e.readonly=()=>Ij(e),e.describe=r=>{let a=e.clone();return ha.add(a,{description:r}),a},Object.defineProperty(e,"description",{get(){return ha.get(e)?.description},configurable:!0}),e.meta=(...r)=>{if(r.length===0)return ha.get(e);let a=e.clone();return ha.add(a,r[0]),a},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),tb=Ve("_ZodString",(e,t)=>{bl.init(e,t),Ot.init(e,t);let r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...a)=>e.check(U1(...a)),e.includes=(...a)=>e.check(G1(...a)),e.startsWith=(...a)=>e.check(V1(...a)),e.endsWith=(...a)=>e.check(Z1(...a)),e.min=(...a)=>e.check(hs(...a)),e.max=(...a)=>e.check(oc(...a)),e.length=(...a)=>e.check(lc(...a)),e.nonempty=(...a)=>e.check(hs(1,...a)),e.lowercase=a=>e.check(F1(a)),e.uppercase=a=>e.check($1(a)),e.trim=()=>e.check(q1()),e.normalize=(...a)=>e.check(J1(...a)),e.toLowerCase=()=>e.check(K1()),e.toUpperCase=()=>e.check(X1())}),uc=Ve("ZodString",(e,t)=>{bl.init(e,t),tb.init(e,t),e.email=r=>e.check(y1(rb,r)),e.url=r=>e.check(ac(fc,r)),e.jwt=r=>e.check(B1(vb,r)),e.emoji=r=>e.check(M1(ib,r)),e.guid=r=>e.check(rf(nf,r)),e.uuid=r=>e.check(w1(wn,r)),e.uuidv4=r=>e.check(x1(wn,r)),e.uuidv6=r=>e.check(_1(wn,r)),e.uuidv7=r=>e.check(S1(wn,r)),e.nanoid=r=>e.check(E1(nb,r)),e.guid=r=>e.check(rf(nf,r)),e.cuid=r=>e.check(k1(ab,r)),e.cuid2=r=>e.check(A1(sb,r)),e.ulid=r=>e.check(j1(ob,r)),e.base64=r=>e.check(P1(pb,r)),e.base64url=r=>e.check(D1(mb,r)),e.xid=r=>e.check(N1(lb,r)),e.ksuid=r=>e.check(I1(ub,r)),e.ipv4=r=>e.check(C1(fb,r)),e.ipv6=r=>e.check(R1(cb,r)),e.cidrv4=r=>e.check(O1(db,r)),e.cidrv6=r=>e.check(T1(hb,r)),e.e164=r=>e.check(L1(gb,r)),e.datetime=r=>e.check(TA(r)),e.date=r=>e.check(PA(r)),e.time=r=>e.check(DA(r)),e.duration=r=>e.check(LA(r))});function jg(e){return Vk(uc,e)}i(jg,"bv");var nr=Ve("ZodStringFormat",(e,t)=>{ir.init(e,t),tb.init(e,t)}),rb=Ve("ZodEmail",(e,t)=>{IE.init(e,t),nr.init(e,t)});function SV(e){return y1(rb,e)}i(SV,"sD");var nf=Ve("ZodGUID",(e,t)=>{jE.init(e,t),nr.init(e,t)});function MV(e){return rf(nf,e)}i(MV,"$g");var wn=Ve("ZodUUID",(e,t)=>{NE.init(e,t),nr.init(e,t)});function EV(e){return w1(wn,e)}i(EV,"qg");function kV(e){return x1(wn,e)}i(kV,"Kg");function AV(e){return _1(wn,e)}i(AV,"_g");function jV(e){return S1(wn,e)}i(jV,"Pg");var fc=Ve("ZodURL",(e,t)=>{CE.init(e,t),nr.init(e,t)});function NV(e){return ac(fc,e)}i(NV,"jg");function IV(e){return ac(fc,{protocol:/^https?$/,hostname:Pa.domain,...Kt.normalizeParams(e)})}i(IV,"Og");var ib=Ve("ZodEmoji",(e,t)=>{RE.init(e,t),nr.init(e,t)});function CV(e){return M1(ib,e)}i(CV,"Yg");var nb=Ve("ZodNanoID",(e,t)=>{OE.init(e,t),nr.init(e,t)});function RV(e){return E1(nb,e)}i(RV,"vg");var ab=Ve("ZodCUID",(e,t)=>{TE.init(e,t),nr.init(e,t)});function OV(e){return k1(ab,e)}i(OV,"zg");var sb=Ve("ZodCUID2",(e,t)=>{PE.init(e,t),nr.init(e,t)});function TV(e){return A1(sb,e)}i(TV,"Wg");var ob=Ve("ZodULID",(e,t)=>{DE.init(e,t),nr.init(e,t)});function PV(e){return j1(ob,e)}i(PV,"Hg");var lb=Ve("ZodXID",(e,t)=>{LE.init(e,t),nr.init(e,t)});function DV(e){return N1(lb,e)}i(DV,"Jg");var ub=Ve("ZodKSUID",(e,t)=>{BE.init(e,t),nr.init(e,t)});function LV(e){return I1(ub,e)}i(LV,"Tg");var fb=Ve("ZodIPv4",(e,t)=>{GE.init(e,t),nr.init(e,t)});function BV(e){return C1(fb,e)}i(BV,"wg");var cb=Ve("ZodIPv6",(e,t)=>{VE.init(e,t),nr.init(e,t)});function zV(e){return R1(cb,e)}i(zV,"Zg");var db=Ve("ZodCIDRv4",(e,t)=>{ZE.init(e,t),nr.init(e,t)});function UV(e){return O1(db,e)}i(UV,"Xg");var hb=Ve("ZodCIDRv6",(e,t)=>{HE.init(e,t),nr.init(e,t)});function FV(e){return T1(hb,e)}i(FV,"fg");var pb=Ve("ZodBase64",(e,t)=>{JE.init(e,t),nr.init(e,t)});function $V(e){return P1(pb,e)}i($V,"kg");var mb=Ve("ZodBase64URL",(e,t)=>{KE.init(e,t),nr.init(e,t)});function GV(e){return D1(mb,e)}i(GV,"Ag");var gb=Ve("ZodE164",(e,t)=>{XE.init(e,t),nr.init(e,t)});function VV(e){return L1(gb,e)}i(VV,"Gg");var vb=Ve("ZodJWT",(e,t)=>{QE.init(e,t),nr.init(e,t)});function ZV(e){return B1(vb,e)}i(ZV,"Vg");var wl=Ve("ZodCustomStringFormat",(e,t)=>{YE.init(e,t),nr.init(e,t)});function HV(e,t,r={}){return yl(wl,e,t,r)}i(HV,"Sg");function JV(e){return yl(wl,"hostname",Pa.hostname,e)}i(JV,"Mg");function qV(e){return yl(wl,"hex",Pa.hex,e)}i(qV,"Ng");function KV(e,t){let r=t?.enc??"hex",a=`${e}_${r}`,n=Pa[a];if(!n)throw Error(`Unrecognized hash format: ${a}`);return yl(wl,a,n,t)}i(KV,"Cg");var cc=Ve("ZodNumber",(e,t)=>{f1.init(e,t),Ot.init(e,t),e.gt=(a,n)=>e.check(Ra(a,n)),e.gte=(a,n)=>e.check(Xr(a,n)),e.min=(a,n)=>e.check(Xr(a,n)),e.lt=(a,n)=>e.check(Ca(a,n)),e.lte=(a,n)=>e.check(ki(a,n)),e.max=(a,n)=>e.check(ki(a,n)),e.int=a=>e.check(Ng(a)),e.safe=a=>e.check(Ng(a)),e.positive=a=>e.check(Ra(0,a)),e.nonnegative=a=>e.check(Xr(0,a)),e.negative=a=>e.check(Ca(0,a)),e.nonpositive=a=>e.check(ki(0,a)),e.multipleOf=(a,n)=>e.check(Fo(a,n)),e.step=(a,n)=>e.check(Fo(a,n)),e.finite=()=>e;let r=e._zod.bag;e.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),e.isFinite=!0,e.format=r.format??null});function WA(e){return Wk(cc,e)}i(WA,"Kf");var Ss=Ve("ZodNumberFormat",(e,t)=>{ek.init(e,t),cc.init(e,t)});function Ng(e){return Yk(Ss,e)}i(Ng,"uv");function XV(e){return eA(Ss,e)}i(XV,"Eg");function WV(e){return tA(Ss,e)}i(WV,"hg");function QV(e){return rA(Ss,e)}i(QV,"Rg");function YV(e){return iA(Ss,e)}i(YV,"Ig");var dc=Ve("ZodBoolean",(e,t)=>{c1.init(e,t),Ot.init(e,t)});function QA(e){return nA(dc,e)}i(QA,"_f");var hc=Ve("ZodBigInt",(e,t)=>{d1.init(e,t),Ot.init(e,t),e.gte=(a,n)=>e.check(Xr(a,n)),e.min=(a,n)=>e.check(Xr(a,n)),e.gt=(a,n)=>e.check(Ra(a,n)),e.gte=(a,n)=>e.check(Xr(a,n)),e.min=(a,n)=>e.check(Xr(a,n)),e.lt=(a,n)=>e.check(Ca(a,n)),e.lte=(a,n)=>e.check(ki(a,n)),e.max=(a,n)=>e.check(ki(a,n)),e.positive=a=>e.check(Ra(BigInt(0),a)),e.negative=a=>e.check(Ca(BigInt(0),a)),e.nonpositive=a=>e.check(ki(BigInt(0),a)),e.nonnegative=a=>e.check(Xr(BigInt(0),a)),e.multipleOf=(a,n)=>e.check(Fo(a,n));let r=e._zod.bag;e.minValue=r.minimum??null,e.maxValue=r.maximum??null,e.format=r.format??null});function eZ(e){return sA(hc,e)}i(eZ,"Dg");var bb=Ve("ZodBigIntFormat",(e,t)=>{tk.init(e,t),hc.init(e,t)});function tZ(e){return lA(bb,e)}i(tZ,"gg");function rZ(e){return uA(bb,e)}i(rZ,"Lg");var YA=Ve("ZodSymbol",(e,t)=>{rk.init(e,t),Ot.init(e,t)});function iZ(e){return fA(YA,e)}i(iZ,"bg");var ej=Ve("ZodUndefined",(e,t)=>{ik.init(e,t),Ot.init(e,t)});function nZ(e){return cA(ej,e)}i(nZ,"ug");var tj=Ve("ZodNull",(e,t)=>{nk.init(e,t),Ot.init(e,t)});function rj(e){return dA(tj,e)}i(rj,"Yf");var ij=Ve("ZodAny",(e,t)=>{ak.init(e,t),Ot.init(e,t)});function aZ(){return hA(ij)}i(aZ,"yg");var nj=Ve("ZodUnknown",(e,t)=>{sk.init(e,t),Ot.init(e,t)});function ps(){return pA(nj)}i(ps,"H4");var aj=Ve("ZodNever",(e,t)=>{ok.init(e,t),Ot.init(e,t)});function yb(e){return mA(aj,e)}i(yb,"sv");var sj=Ve("ZodVoid",(e,t)=>{lk.init(e,t),Ot.init(e,t)});function sZ(e){return gA(sj,e)}i(sZ,"pg");var wb=Ve("ZodDate",(e,t)=>{uk.init(e,t),Ot.init(e,t),e.min=(a,n)=>e.check(Xr(a,n)),e.max=(a,n)=>e.check(ki(a,n));let r=e._zod.bag;e.minDate=r.minimum?new Date(r.minimum):null,e.maxDate=r.maximum?new Date(r.maximum):null});function oZ(e){return vA(wb,e)}i(oZ,"xg");var oj=Ve("ZodArray",(e,t)=>{fk.init(e,t),Ot.init(e,t),e.element=t.element,e.min=(r,a)=>e.check(hs(r,a)),e.nonempty=r=>e.check(hs(1,r)),e.max=(r,a)=>e.check(oc(r,a)),e.length=(r,a)=>e.check(lc(r,a)),e.unwrap=()=>e.element});function pc(e,t){return EA(oj,e,t)}i(pc,"Q9");function lZ(e){let t=e._zod.def.shape;return Mb(Object.keys(t))}i(lZ,"cg");var mc=Ve("ZodObject",(e,t)=>{pk.init(e,t),Ot.init(e,t),Kt.defineLazy(e,"shape",()=>t.shape),e.keyof=()=>Mb(Object.keys(e._zod.def.shape)),e.catchall=r=>e.clone({...e._zod.def,catchall:r}),e.passthrough=()=>e.clone({...e._zod.def,catchall:ps()}),e.loose=()=>e.clone({...e._zod.def,catchall:ps()}),e.strict=()=>e.clone({...e._zod.def,catchall:yb()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=r=>Kt.extend(e,r),e.safeExtend=r=>Kt.safeExtend(e,r),e.merge=r=>Kt.merge(e,r),e.pick=r=>Kt.pick(e,r),e.omit=r=>Kt.omit(e,r),e.partial=(...r)=>Kt.partial(kb,e,r[0]),e.required=(...r)=>Kt.required(Ab,e,r[0])});function uZ(e,t){let r={type:"object",shape:e??{},...Kt.normalizeParams(t)};return new mc(r)}i(uZ,"mg");function fZ(e,t){return new mc({type:"object",shape:e,catchall:yb(),...Kt.normalizeParams(t)})}i(fZ,"dg");function cZ(e,t){return new mc({type:"object",shape:e,catchall:ps(),...Kt.normalizeParams(t)})}i(cZ,"lg");var xb=Ve("ZodUnion",(e,t)=>{h1.init(e,t),Ot.init(e,t),e.options=t.options});function _b(e,t){return new xb({type:"union",options:e,...Kt.normalizeParams(t)})}i(_b,"qz");var lj=Ve("ZodDiscriminatedUnion",(e,t)=>{xb.init(e,t),mk.init(e,t)});function dZ(e,t,r){return new lj({type:"union",options:t,discriminator:e,...Kt.normalizeParams(r)})}i(dZ,"og");var uj=Ve("ZodIntersection",(e,t)=>{gk.init(e,t),Ot.init(e,t)});function fj(e,t){return new uj({type:"intersection",left:e,right:t})}i(fj,"Zf");var cj=Ve("ZodTuple",(e,t)=>{p1.init(e,t),Ot.init(e,t),e.rest=r=>e.clone({...e._zod.def,rest:r})});function dj(e,t,r){let a=t instanceof kt,n=a?r:t;return new cj({type:"tuple",items:e,rest:a?t:null,...Kt.normalizeParams(n)})}i(dj,"ff");var Sb=Ve("ZodRecord",(e,t)=>{vk.init(e,t),Ot.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType});function hj(e,t,r){return new Sb({type:"record",keyType:e,valueType:t,...Kt.normalizeParams(r)})}i(hj,"kf");function hZ(e,t,r){let a=hi(e);return a._zod.values=void 0,new Sb({type:"record",keyType:a,valueType:t,...Kt.normalizeParams(r)})}i(hZ,"rg");var pj=Ve("ZodMap",(e,t)=>{bk.init(e,t),Ot.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType});function pZ(e,t,r){return new pj({type:"map",keyType:e,valueType:t,...Kt.normalizeParams(r)})}i(pZ,"ng");var mj=Ve("ZodSet",(e,t)=>{yk.init(e,t),Ot.init(e,t),e.min=(...r)=>e.check($o(...r)),e.nonempty=r=>e.check($o(1,r)),e.max=(...r)=>e.check(sc(...r)),e.size=(...r)=>e.check(z1(...r))});function mZ(e,t){return new mj({type:"set",valueType:e,...Kt.normalizeParams(t)})}i(mZ,"ig");var Go=Ve("ZodEnum",(e,t)=>{wk.init(e,t),Ot.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);let r=new Set(Object.keys(t.entries));e.extract=(a,n)=>{let s={};for(let o of a)if(r.has(o))s[o]=t.entries[o];else throw Error(`Key ${o} not found in enum`);return new Go({...t,checks:[],...Kt.normalizeParams(n),entries:s})},e.exclude=(a,n)=>{let s={...t.entries};for(let o of a)if(r.has(o))delete s[o];else throw Error(`Key ${o} not found in enum`);return new Go({...t,checks:[],...Kt.normalizeParams(n),entries:s})}});function Mb(e,t){let r=Array.isArray(e)?Object.fromEntries(e.map(a=>[a,a])):e;return new Go({type:"enum",entries:r,...Kt.normalizeParams(t)})}i(Mb,"_z");function gZ(e,t){return new Go({type:"enum",entries:e,...Kt.normalizeParams(t)})}i(gZ,"tg");var gj=Ve("ZodLiteral",(e,t)=>{xk.init(e,t),Ot.init(e,t),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function vZ(e,t){return new gj({type:"literal",values:Array.isArray(e)?e:[e],...Kt.normalizeParams(t)})}i(vZ,"Bg");var vj=Ve("ZodFile",(e,t)=>{_k.init(e,t),Ot.init(e,t),e.min=(r,a)=>e.check($o(r,a)),e.max=(r,a)=>e.check(sc(r,a)),e.mime=(r,a)=>e.check(H1(Array.isArray(r)?r:[r],a))});function bZ(e){return kA(vj,e)}i(bZ,"Ug");var bj=Ve("ZodTransform",(e,t)=>{Sk.init(e,t),Ot.init(e,t),e._zod.parse=(r,a)=>{if(a.direction==="backward")throw new tc(e.constructor.name);r.addIssue=s=>{if(typeof s=="string")r.issues.push(Kt.issue(s,r.value,t));else{let o=s;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=r.value),o.inst??(o.inst=e),r.issues.push(Kt.issue(o))}};let n=t.transform(r.value,r);return n instanceof Promise?n.then(s=>(r.value=s,r)):(r.value=n,r)}});function Eb(e){return new bj({type:"transform",transform:e})}i(Eb,"Pz");var kb=Ve("ZodOptional",(e,t)=>{Mk.init(e,t),Ot.init(e,t),e.unwrap=()=>e._zod.def.innerType});function af(e){return new kb({type:"optional",innerType:e})}i(af,"t9");var yj=Ve("ZodNullable",(e,t)=>{Ek.init(e,t),Ot.init(e,t),e.unwrap=()=>e._zod.def.innerType});function sf(e){return new yj({type:"nullable",innerType:e})}i(sf,"B9");function yZ(e){return af(sf(e))}i(yZ,"Fg");var wj=Ve("ZodDefault",(e,t)=>{kk.init(e,t),Ot.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function xj(e,t){return new wj({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():Kt.shallowClone(t)}})}i(xj,"Ef");var _j=Ve("ZodPrefault",(e,t)=>{Ak.init(e,t),Ot.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Sj(e,t){return new _j({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():Kt.shallowClone(t)}})}i(Sj,"Rf");var Ab=Ve("ZodNonOptional",(e,t)=>{jk.init(e,t),Ot.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Mj(e,t){return new Ab({type:"nonoptional",innerType:e,...Kt.normalizeParams(t)})}i(Mj,"If");var Ej=Ve("ZodSuccess",(e,t)=>{Nk.init(e,t),Ot.init(e,t),e.unwrap=()=>e._zod.def.innerType});function wZ(e){return new Ej({type:"success",innerType:e})}i(wZ,"ag");var kj=Ve("ZodCatch",(e,t)=>{Ik.init(e,t),Ot.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function Aj(e,t){return new kj({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}i(Aj,"Lf");var jj=Ve("ZodNaN",(e,t)=>{Ck.init(e,t),Ot.init(e,t)});function xZ(e){return yA(jj,e)}i(xZ,"Qg");var jb=Ve("ZodPipe",(e,t)=>{Rk.init(e,t),Ot.init(e,t),e.in=t.in,e.out=t.out});function of(e,t){return new jb({type:"pipe",in:e,out:t})}i(of,"U9");var Nb=Ve("ZodCodec",(e,t)=>{jb.init(e,t),m1.init(e,t)});function _Z(e,t,r){return new Nb({type:"pipe",in:e,out:t,transform:r.decode,reverseTransform:r.encode})}i(_Z,"eg");var Nj=Ve("ZodReadonly",(e,t)=>{Ok.init(e,t),Ot.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Ij(e){return new Nj({type:"readonly",innerType:e})}i(Ij,"yf");var Cj=Ve("ZodTemplateLiteral",(e,t)=>{Tk.init(e,t),Ot.init(e,t)});function SZ(e,t){return new Cj({type:"template_literal",parts:e,...Kt.normalizeParams(t)})}i(SZ,"sg");var Rj=Ve("ZodLazy",(e,t)=>{Lk.init(e,t),Ot.init(e,t),e.unwrap=()=>e._zod.def.getter()});function Oj(e){return new Rj({type:"lazy",getter:e})}i(Oj,"cf");var Tj=Ve("ZodPromise",(e,t)=>{Dk.init(e,t),Ot.init(e,t),e.unwrap=()=>e._zod.def.innerType});function MZ(e){return new Tj({type:"promise",innerType:e})}i(MZ,"$L");var Pj=Ve("ZodFunction",(e,t)=>{Pk.init(e,t),Ot.init(e,t)});function H4(e){return new Pj({type:"function",input:Array.isArray(e?.input)?dj(e?.input):e?.input??pc(ps()),output:e?.output??ps()})}i(H4,"qL");var gc=Ve("ZodCustom",(e,t)=>{Bk.init(e,t),Ot.init(e,t)});function EZ(e){let t=new ur({check:"custom"});return t._zod.check=e,t}i(EZ,"KL");function kZ(e,t){return AA(gc,e??(()=>!0),t)}i(kZ,"_L");function Dj(e,t={}){return jA(gc,e,t)}i(Dj,"lf");function Lj(e){return NA(e)}i(Lj,"of");function AZ(e,t={error:`Input not instance of ${e.name}`}){let r=new gc({type:"custom",check:"custom",fn:i(a=>a instanceof e,"fn"),abort:!0,...Kt.normalizeParams(t)});return r._zod.bag.Class=e,r}i(AZ,"PL");var jZ=i((...e)=>CA({Codec:Nb,Boolean:dc,String:uc},...e),"jL");function NZ(e){let t=Oj(()=>_b([jg(e),WA(),QA(),rj(),pc(t),hj(jg(),t)]));return t}i(NZ,"OL");function IZ(e,t){return of(Eb(e),t)}i(IZ,"YL");var CZ={invalid_type:"invalid_type",too_big:"too_big",too_small:"too_small",invalid_format:"invalid_format",not_multiple_of:"not_multiple_of",unrecognized_keys:"unrecognized_keys",invalid_union:"invalid_union",invalid_key:"invalid_key",invalid_element:"invalid_element",invalid_value:"invalid_value",custom:"custom"};function RZ(e){Tr({customError:e})}i(RZ,"zL");function OZ(){return Tr().customError}i(OZ,"WL");var Ig;Ig||(Ig={});var Bj={};$r(Bj,{string:i(()=>TZ,"string"),number:i(()=>PZ,"number"),date:i(()=>BZ,"date"),boolean:i(()=>DZ,"boolean"),bigint:i(()=>LZ,"bigint")});function TZ(e){return Zk(uc,e)}i(TZ,"HL");function PZ(e){return Qk(cc,e)}i(PZ,"JL");function DZ(e){return aA(dc,e)}i(DZ,"TL");function LZ(e){return oA(hc,e)}i(LZ,"wL");function BZ(e){return bA(wb,e)}i(BZ,"ZL");Tr(zk());new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");var zZ=ti(ML(),1),UZ=Object.defineProperty,FZ=i((e,t,r)=>t in e?UZ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,"rL"),$Z=i((e,t,r)=>(FZ(e,t+"",r),r),"nL");function GZ(e,t){let r=Array.from({length:e.length},(a,n)=>({start:n,end:n+1}));for(;r.length>1;){let a=null;for(let n=0;n<r.length-1;n++){let s=e.slice(r[n].start,r[n+1].end),o=t.get(s.join(","));o!=null&&(a==null||o<a[0])&&(a=[o,n])}if(a!=null){let n=a[1];r[n]={start:r[n].start,end:r[n+1].end},r.splice(n+1,1)}else break}return r}i(GZ,"iL");function VZ(e,t){return e.length===1?[t.get(e.join(","))]:GZ(e,t).map(r=>t.get(e.slice(r.start,r.end).join(","))).filter(r=>r!=null)}i(VZ,"tL");function ZZ(e){return e.replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")}i(ZZ,"BL");var Cg=class{static{i(this,"Mz")}specialTokens;inverseSpecialTokens;patStr;textEncoder=new TextEncoder;textDecoder=new TextDecoder("utf-8");rankMap=new Map;textMap=new Map;constructor(e,t){this.patStr=e.pat_str;let r=e.bpe_ranks.split(`
`).filter(Boolean).reduce((a,n)=>{let[s,o,...h]=n.split(" "),p=Number.parseInt(o,10);return h.forEach((v,c)=>a[v]=p+c),a},{});for(let[a,n]of Object.entries(r)){let s=zZ.default.toByteArray(a);this.rankMap.set(s.join(","),n),this.textMap.set(n,s)}this.specialTokens={...e.special_tokens,...t},this.inverseSpecialTokens=Object.entries(this.specialTokens).reduce((a,[n,s])=>(a[s]=this.textEncoder.encode(n),a),{})}encode(e,t=[],r="all"){let a=new RegExp(this.patStr,"ug"),n=Cg.specialTokenRegex(Object.keys(this.specialTokens)),s=[],o=new Set(t==="all"?Object.keys(this.specialTokens):t),h=new Set(r==="all"?Object.keys(this.specialTokens).filter(v=>!o.has(v)):r);if(h.size>0){let v=Cg.specialTokenRegex([...h]),c=e.match(v);if(c!=null)throw Error(`The text contains a special token that is not allowed: ${c[0]}`)}let p=0;for(;;){let v=null,c=p;for(;n.lastIndex=c,v=n.exec(e),!(v==null||o.has(v[0]));)c=v.index+1;let d=v?.index??e.length;for(let b of e.substring(p,d).matchAll(a)){let x=this.textEncoder.encode(b[0]),k=this.rankMap.get(x.join(","));if(k!=null){s.push(k);continue}s.push(...VZ(x,this.rankMap))}if(v==null)break;let y=this.specialTokens[v[0]];s.push(y),p=v.index+v[0].length}return s}decode(e){let t=[],r=0;for(let s=0;s<e.length;++s){let o=e[s],h=this.textMap.get(o)??this.inverseSpecialTokens[o];h!=null&&(t.push(h),r+=h.length)}let a=new Uint8Array(r),n=0;for(let s of t)a.set(s,n),n+=s.length;return this.textDecoder.decode(a)}},HZ=Cg;$Z(HZ,"specialTokenRegex",e=>new RegExp(e.map(t=>ZZ(t)).join("|"),"g"));ti(tB(),1);function zj(){return typeof process<"u"&&process.versions&&process.versions.node?"node":typeof globalThis<"u"&&typeof globalThis.window<"u"&&typeof globalThis.window.document<"u"?"browser":"unknown"}i(zj,"rG");class JZ{static{i(this,"nG")}store={};constructor(){typeof globalThis<"u"&&globalThis.window&&globalThis.window.ENV&&(this.store={...globalThis.window.ENV}),typeof globalThis<"u"&&globalThis.__ENV__&&(this.store={...this.store,...globalThis.__ENV__})}get(t){let r=this.store[t];return r!==void 0?String(r):void 0}set(t,r){this.store[t]=r}has(t){return t in this.store}getAll(){return{...this.store}}}class qZ{static{i(this,"iG")}runtime;browserStore;cache=new Map;constructor(){this.runtime=zj(),this.runtime==="browser"&&(this.browserStore=new JZ)}getRuntime(){return this.runtime}isNode(){return this.runtime==="node"}isBrowser(){return this.runtime==="browser"}get(t,r){if(this.cache.has(t)){let n=this.cache.get(t);return n===void 0&&r!==void 0?r:n}let a;switch(this.runtime){case"node":typeof process<"u"&&gn&&(a=gn[t]);break;case"browser":this.browserStore&&(a=this.browserStore.get(t));break;default:a=void 0}return this.cache.set(t,a),a===void 0&&r!==void 0?r:a}set(t,r){let a=String(r);switch(this.cache.delete(t),this.runtime){case"node":typeof process<"u"&&gn&&(gn[t]=a);break;case"browser":this.browserStore&&this.browserStore.set(t,r);break}}has(t){return this.get(t)!==void 0}getAll(){switch(this.runtime){case"node":if(typeof process<"u"&&gn)return{...gn};break;case"browser":if(this.browserStore)return this.browserStore.getAll();break}return{}}getBoolean(t,r=!1){let a=this.get(t);return a===void 0?r:["true","1","yes","on"].includes(a.toLowerCase())}getNumber(t,r){let a=this.get(t);if(a===void 0)return r;let n=Number(a);return isNaN(n)?r:n}clearCache(){this.cache.clear()}}var Mp=null;function KZ(){return Mp||(Mp=new qZ),Mp}i(KZ,"N4");function vc(e,t){return KZ().get(e,t)}i(vc,"xK");zj();class XZ{static{i(this,"Sj")}globalStore;constructor(t){this.globalStore=t}clear(){console.clear()}filterByLabel(t){pH(t,this.globalStore.cache).forEach(r=>{su(r)})}filterByNamespace(...t){mH(t,this.globalStore.cache).forEach(r=>{su(r)})}filterByLevel(t){gH(t,this.globalStore.cache).forEach(r=>{su(r)})}renderAll(){this.globalStore.cache.forEach(t=>{su(t)})}}class Ib{static{i(this,"C4")}config;pidCounter=1;labels=new Map;_listenerCounter=0;_levelsToListeners=new Map;_cache=[];constructor(t={}){this.config=t}get cache(){return this._cache}get configuration(){return this.config}get pid(){let t=this.pidCounter;return this.pidCounter++,t}get tools(){return new XZ(this)}addLogToCache(t){this._cache.length<(this.config.cacheSize??300)&&this._cache.push(t)}clearCache(){this._cache=[]}getLabel(t){return this.labels.get(t)}setLabel(t,r){this.labels.set(t,r)}addListener(t,r){let a=this._listenerCounter+=1;return Ob({...bi.levels,...this.config.levels??{}},t).forEach(n=>{this._levelsToListeners.has(n)?this._levelsToListeners.get(n).set(a,r):this._levelsToListeners.set(n,new Map([[a,r]]))}),a}removeListener(t){this._levelsToListeners.forEach(r=>{r.delete(t)})}getListeners(t){return Array.from(this._levelsToListeners.get(t)?.values()??[])}}function WZ(e){return globalThis.$adzeGlobal=new Ib(e),globalThis.$adzeGlobal}i(WZ,"wW");function Uj(e){let t=globalThis.$adzeGlobal;if(QZ(t))return t;let r=new Ib(e);return globalThis.$adzeGlobal=r,r}i(Uj,"Mj");function QZ(e){return e instanceof Ib}i(QZ,"bc");function Cb(){return typeof window<"u"&&typeof window.location<"u"&&typeof window.navigator.userAgent<"u"&&!YZ()}i(Cb,"TK");function YZ(){return typeof Deno<"u"}i(YZ,"uc");function eH(e){return Cb()}i(eH,"aG");function tH(){let e=!1;return Cb()&&(e=new URLSearchParams(globalThis.location.search).get("ADZE_ENV")==="test"),globalThis.$ADZE_ENV==="test"||e}i(tH,"QG");function rH(){let e=globalThis;return eH()?e.navigator.userAgent.includes("Firefox"):!1}i(rH,"eG");function lf(e){return Object.prototype.toString.call(e)==="[object String]"}i(lf,"E4");function Rb(e){return e!==null&&typeof e=="number"&&!isNaN(Number(e))}i(Rb,"h4");function Fj(e){return PH.includes(e)}i(Fj,"Nj");function iH(e){return LH.includes(e)}i(iH,"sG");function nH(e){return Jj.includes(e)}i(nH,"$V");function J4(e){return e.every(t=>lf(t))}i(J4,"ZW");function aH(e){return Array.isArray(e)&&e.length===3&&e[1]==="-"}i(aH,"qV");function sH(){return Error().stack?.replace(/^Error\n/,`
`)}i(sH,"_V");function oH(e){return Rb(e.activeLevel)?e.activeLevel:e.levels[e.activeLevel].level}i(oH,"PV");var q4=ti(rB(),1),lH=q4.default??q4;function uH(e){return e.charAt(0).toUpperCase()+e.slice(1)}i(uH,"VW");function K4(e){return Object.values(e).map(t=>t.level)}i(K4,"SW");function X4(e,t,r){return e.filter(a=>a>=t&&a<=r)}i(X4,"MW");function fH(e,t=!1,r){let a=(t&&r?9+r.length:9)-e.length,n=e;for(let s=0;s<=a;s+=1)n+=" ";return n}i(fH,"NW");function cH(e,t){return t.reduce((r,a)=>lH[a](r),e)}i(cH,"CW");function su(e){e.data&&console[e.data.method](...e.data.message)}i(su,"G7");function dH(e){return e.filter(t=>t!=="")}i(dH,"vV");function hH(e){return typeof e=="object"&&e!==null}i(hH,"zV");function Ob(e,t){if(t==="*")return Object.values(e).map(r=>r.level);if(lf(t))return[e[t].level];if(Rb(t))return[t];if(aH(t)){if(J4(t)){let r=e[t[0]].level,a=e[t[2]].level;return X4(K4(e),r,a)}return X4(K4(e),t[0],t[2])}return Array.isArray(t)&&J4(t)?t.map(r=>e[r].level):t}i(Ob,"V7");function $j(e,t,r){return t.length===0?!1:e==="include"?!t.includes(r):t.includes(r)}i($j,"EW");function W4(e,t){return e.length===0?!1:e.length>0&&t.length===0?!0:!t.map(r=>e.includes(r)).includes(!0)}i(W4,"hW");function Q4(e,t){return e.length===0?!1:e.length>0&&t.length===0?!0:t.map(r=>e.includes(r)).includes(!0)}i(Q4,"RW");function pH(e,t){return t.filter(r=>r.data?.label?.name===e)}i(pH,"BG");function mH(e,t){return t.filter(r=>r.data?.namespace?r.data.namespace.map(a=>e.includes(a)).includes(!0):!1)}i(mH,"UG");function gH(e,t){return t.filter(r=>{let a=Ob(r.configuration.levels,e);return r.data?.level===void 0?!1:$j("exclude",a,r.data.level)})}i(gH,"FG");function vH(e){return e&&e.length>0?e.reduce((t,r)=>`${t}#${r} `,""):""}i(vH,"IW");function bH(e){return e?`[${e.name}] `:""}i(bH,"DW");function yH(e){return e!==void 0?`(Count: ${e}) `:""}i(yH,"gW");function wH(e,t){return e!==void 0&&!e?`${t?" ":""}Assertion failed:`:""}i(wH,"LW");function xH(e,t){return e!==void 0&&e?`${t?" ":""}Expression passed:`:""}i(xH,"bW");var Gj=-1,bc=0,uf=1,ff=2,Tb=3,Pb=4,Db=5,Lb=6,Vj=7,Zj=8,Y4=typeof self=="object"?self:globalThis,_H=i((e,t)=>{let r=i((n,s)=>(e.set(s,n),n),"K"),a=i(n=>{if(e.has(n))return e.get(n);let[s,o]=t[n];switch(s){case bc:case Gj:return r(o,n);case uf:{let h=r([],n);for(let p of o)h.push(a(p));return h}case ff:{let h=r({},n);for(let[p,v]of o)h[a(p)]=a(v);return h}case Tb:return r(new Date(o),n);case Pb:{let{source:h,flags:p}=o;return r(new RegExp(h,p),n)}case Db:{let h=r(new Map,n);for(let[p,v]of o)h.set(a(p),a(v));return h}case Lb:{let h=r(new Set,n);for(let p of o)h.add(a(p));return h}case Vj:{let{name:h,message:p}=o;return r(new Y4[h](p),n)}case Zj:return r(BigInt(o),n);case"BigInt":return r(Object(BigInt(o)),n)}return r(new Y4[s](o),n)},"P");return a},"yc"),e3=i(e=>_H(new Map,e)(0),"uW"),Za="",{toString:SH}={},{keys:MH}=Object,Ls=i(e=>{let t=typeof e;if(t!=="object"||!e)return[bc,t];let r=SH.call(e).slice(8,-1);switch(r){case"Array":return[uf,Za];case"Object":return[ff,Za];case"Date":return[Tb,Za];case"RegExp":return[Pb,Za];case"Map":return[Db,Za];case"Set":return[Lb,Za]}return r.includes("Array")?[uf,r]:r.includes("Error")?[Vj,r]:[ff,r]},"E7"),ou=i(([e,t])=>e===bc&&(t==="function"||t==="symbol"),"Rj"),EH=i((e,t,r,a)=>{let n=i((o,h)=>{let p=a.push(o)-1;return r.set(h,p),p},"_"),s=i(o=>{if(r.has(o))return r.get(o);let[h,p]=Ls(o);switch(h){case bc:{let c=o;switch(p){case"bigint":h=Zj,c=o.toString();break;case"function":case"symbol":if(e)throw TypeError("unable to serialize "+p);c=null;break;case"undefined":return n([Gj],o)}return n([h,c],o)}case uf:{if(p)return n([p,[...o]],o);let c=[],d=n([h,c],o);for(let y of o)c.push(s(y));return d}case ff:{if(p)switch(p){case"BigInt":return n([p,o.toString()],o);case"Boolean":case"Number":case"String":return n([p,o.valueOf()],o)}if(t&&"toJSON"in o)return s(o.toJSON());let c=[],d=n([h,c],o);for(let y of MH(o))(e||!ou(Ls(o[y])))&&c.push([s(y),s(o[y])]);return d}case Tb:return n([h,o.toISOString()],o);case Pb:{let{source:c,flags:d}=o;return n([h,{source:c,flags:d}],o)}case Db:{let c=[],d=n([h,c],o);for(let[y,b]of o)(e||!(ou(Ls(y))||ou(Ls(b))))&&c.push([s(y),s(b)]);return d}case Lb:{let c=[],d=n([h,c],o);for(let y of o)(e||!ou(Ls(y)))&&c.push(s(y));return d}}let{message:v}=o;return n([h,{name:p,message:v}],o)},"O");return s},"cc"),t3=i((e,{json:t,lossy:r}={})=>{let a=[];return EH(!(t||r),!!t,new Map,a)(e),a},"yW"),r3=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?e3(t3(e,t)):structuredClone(e):(e,t)=>e3(t3(e,t));function i3(e,t,r,a){let{formatters:n,middleware:s=[],...o}=t.exportValues();return class extends e{_cfg=new Og({...r3(o),formatters:{...n},middleware:[...s]});_modifierData=r3(r);modifierQueue=[...a]}}i(i3,"xW");function Hj([e,t]){return`${e}s ${t/1e6}ms`}i(Hj,"cW");function kH(){return Hj(Rg())}i(kH,"HV");function Rg(e){let t=performance.now()*.001,r=Math.floor(t),a=Math.floor(t%1*1e9);if(e===void 0)return[r,a];let n=r-e[0],s=a-e[1];return s<0&&(n-=1,s+=1e9),[n,s]}i(Rg,"Ij");function Bb(e){let t=i(n=>`${Math.floor(Math.abs(n))}`.padStart(2,"0"),"q"),r=-e.getTimezoneOffset(),a=`${r>=0?"+":"-"}${t(r/60)}:${t(r%60)}`;return`${e.getFullYear()}-${t(e.getMonth()+1)}-${t(e.getDate())}T${t(e.getHours())}:${t(e.getMinutes())}:${t(e.getSeconds())}${a}`}i(Bb,"b4");function AH(e){let t=i((x,k=2)=>String(x).padStart(k,"0"),"q"),r=t(e.getDate()),a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.getMonth()],n=e.getFullYear(),s=t(e.getHours()),o=t(e.getMinutes()),h=t(e.getSeconds()),p=-e.getTimezoneOffset(),v=p>=0?"+":"-",c=Math.abs(p),d=t(Math.floor(c/60)),y=t(c%60),b=`${v}${d}${y}`;return`${r}/${a}/${n}:${s}:${o}:${h} ${b}`}i(AH,"JV");class yc{static{i(this,"E8")}cfg;level;timestampFormatFunction=i(t=>Bb(t),"timestampFormatFunction");constructor(t,r){this.cfg=t,this.level=r}get timestampFormatter(){return this.cfg.timestampFormatter?this.cfg.timestampFormatter:this.timestampFormatFunction}print(t,r,a){if(this.level.level>oH(this.cfg))return[];if(this.failsFilters(t))return[];if(t.assertion===!0)return[];if(t.if===!1)return[];if(t.method&&!nH(t.method)&&iH(t.method)&&Fj(t.method))return a;let n=Cb()?this.formatBrowser(t,r,a):this.formatServer(t,r,a);return t.stacktrace&&n.push(t.stacktrace),n}failsFilters(t){return!!(this.failsLevelSelector()||this.failsNamespacesFilter(t)||this.failsLabelsFilter(t))}failsLevelSelector(){if(this.cfg.filters?.levels===void 0)return!1;let t=Ob(this.cfg.levels,this.cfg.filters.levels.values);return!!$j(this.cfg.filters.levels.type,t,this.level.level)}failsNamespacesFilter(t){if(this.cfg.filters?.namespaces===void 0)return!1;if(this.cfg.filters.namespaces.values.length>0&&t.namespace===void 0)return!0;if(this.cfg.filters.namespaces.type==="include"){let a=t.namespace??[];return W4(this.cfg.filters.namespaces.values,a)}let r=t.namespace??[];return Q4(this.cfg.filters.namespaces.values,r)}failsLabelsFilter(t){if(this.cfg.filters?.labels===void 0)return!1;if(this.cfg.filters.labels.values.length>0&&t.label===void 0)return!0;let r=t.label?[t.label.name]:[];return this.cfg.filters.labels.type==="include"?W4(this.cfg.filters.labels.values,r):Q4(this.cfg.filters.labels.values,r)}}class jH extends yc{static{i(this,"Dj")}timestampFormatFunction=i(t=>AH(t),"timestampFormatFunction");formatBrowser(t,r,a){return this.formatMessage(t,r,a)}formatServer(t,r,a){return this.formatMessage(t,r,a)}formatMessage(t,r,a){this.cfg.meta.hostname===void 0&&console.warn(Error("Adze: 'hostname' is required for the common log format. Please provide this value in your log's meta data."));let n=this.cfg.meta.hostname,s=this.cfg.meta.ident??"-",o=this.cfg.meta.user??"-",h=a[0];return[`${n} ${s} ${o} [${r}] ${h}`]}}var NH=jH;function IH(e){return typeof e.name=="string"&&typeof e.hostname=="string"}i(IH,"wV");class CH extends yc{static{i(this,"gj")}timestampFormatFunction=i(t=>Bb(t),"timestampFormatFunction");formatBrowser(t,r,a){return this.formatMessage(t,r,a)}formatServer(t,r,a){return this.formatMessage(t,r,a)}formatMessage(t,r,a){let n=Uj(),s=[...a],o=s.shift();if(IH(this.cfg.meta)){let{src:h,err:p,req_id:v,req:c,res:d,latency:y,hostname:b,name:x,...k}=this.cfg.meta,{namespace:N,label:C}=t,R={v:1,level:this.level.level,levelName:this.level.levelName,name:x,hostname:b,msg:o,args:s,pid:n.pid,time:r,meta:Object.keys(k).length>0?k:void 0,namespace:N,label:C?.name,src:h,err:p,req_id:v,req:c,res:d,latency:y};return[JSON.stringify(R)]}return console.warn(Error("Adze: Required fields are missing from the log meta for generating a JSON log.")),[...s]}}var RH=CH;class OH extends yc{static{i(this,"Lj")}formatBrowser(t,r,a){let n=this.formatLeader(),s=this.formatMeta(t,r);return this.cfg.withEmoji?[n,"font-size: 12px;",this.level.style,s,...a]:[n,this.level.style,s,...a]}formatServer(t,r,a){let n=`${fH(this.formatLeader(!1),this.cfg.withEmoji,this.level.emoji)} `,s=this.formatMeta(t,r);return[cH(n,this.level.terminalStyle),s,...a]}formatLeader(t=!0){let r=t?"%c":"",a=" "+uH(this.level.levelName);return this.cfg.withEmoji?`${r}${this.formatEmoji(t)}${r}${a}`:`${r}${a}`}formatEmoji(t){let r=t?" ":"";return this.level.emoji?`${this.level.emoji}${r}`:""}formatMeta(t,r){let a=this.cfg.showTimestamp?`${r} `:"",n=vH(t.namespace),s=bH(t.label),o=this.formatTime(t),h=yH(t.label?.count),p=wH(t.assertion,this.cfg.withEmoji),v=xH(t.if,this.cfg.withEmoji),c=p!==""?p:v!==""?v:"";return a+n+s+o+h+c}formatTime(t){let r=this.cfg.withEmoji?" ":"Time elapsed: ";return t.timeNow?`(${r}${t.timeNow})`:t.label?.timeElapsed?`(${r}${t.label.timeElapsed})`:""}}var n3=OH;class TH extends yc{static{i(this,"h7")}timestampFormatFunction=i(t=>Bb(t),"timestampFormatFunction");formatBrowser(t,r,a){return this.formatMessage(r,t,a)}formatServer(t,r,a){return this.formatMessage(r,t,a)}formatMessage(t,r,a){let n="",{appname:s,hostname:o,port:h}=this.cfg.meta,p=Rb(h)?`/${h}`:"",v=lf(s)?`${s}${p}`:"",c=lf(o)?` on ${o}: `:"",d=this.formatNamespace(r.namespace),y=r.label?`[${r.label.name}] `:"";return n=`${v}${c}${d}${y}`,[`[${t}] ${this.level.levelName.toUpperCase()}: ${n}${a[0]} `,a.map(b=>hH(b)?JSON.stringify(b):b).slice(1).join(" ")]}formatNamespace(t){return t&&t.length>0?`${t.reduce((r,a,n)=>n===t.length-1?`${r}${a}`:`${r}${a}/`,"")} `:""}}var Jj=["group","groupCollapsed"],qj=["dir","dirxml","table",...Jj],PH=["error","warn","info","log","debug",...qj],DH=["clear","groupEnd"],LH=[...qj,...DH],bi={activeLevel:"log",cache:!1,cacheSize:300,dump:!1,format:"pretty",showTimestamp:!1,silent:!1,withEmoji:!1,levels:{alert:BH(),error:zH(),warn:UH(),info:FH(),fail:$H(),success:GH(),log:VH(),debug:ZH(),verbose:HH()},formatters:{default:n3,pretty:n3,standard:TH,common:NH,json:RH}};function BH(e={}){return{levelName:"alert",level:0,style:"padding-right: 24px; font-size: 12px; border-radius: 4px; background: linear-gradient(to right, #fc8585, #fc2323); color: #fff; border-color: #b70101;",terminalStyle:["white","bold","bgRed"],method:"error",emoji:"",...e}}i(BH,"mc");function zH(e={}){return{levelName:"error",level:1,style:"padding-right: 24px; font-size: 12px; border-radius: 4px; background: linear-gradient(to right, #fff, #ffd1d1); color: #a4000f; border-color: #e3bbbb;",terminalStyle:["white","bgRed"],method:"error",emoji:"",...e}}i(zH,"dc");function UH(e={}){return{levelName:"warn",level:2,style:`font-size: 12px; border-radius: 4px;  background: linear-gradient(to right, #fff, #fff0a8); color: #715100; border-color: #e3d696; padding-right: ${rH()?"44px":"30px"};`,terminalStyle:["white","bgYellow"],method:"warn",emoji:"",...e}}i(UH,"lc");function FH(e={}){return{levelName:"info",level:3,style:"padding-right: 44px; font-size: 12px; border-radius: 4px; background: linear-gradient(to right, #d8ebff, #b2d7ff); color: #465464; border-color: #96b5d7;",terminalStyle:["white","bgBlue"],method:"info",emoji:"",...e}}i(FH,"oc");function $H(e={}){return{levelName:"fail",level:4,style:"padding-right: 44px; font-size: 12px; border-radius: 4px; background: linear-gradient(to right, #ffe8e8, #ffd1d1); color: #a4000f; border-color: #e3bbbb;",terminalStyle:["white","bgRed"],method:"info",emoji:"",...e}}i($H,"rc");function GH(e={}){return{levelName:"success",level:5,style:"font-size: 12px; border-radius: 4px; padding-right: 22px; background: linear-gradient(to right, #e6f6e4, #ceedc9); color: #4e594d; border-color: #b7d1b3;",terminalStyle:["white","bgGreen"],method:"info",emoji:"",...e}}i(GH,"nc");function VH(e={}){return{levelName:"log",level:6,style:"font-size: 12px; border-radius: 4px; padding-right: 51px; background: linear-gradient(to right, #ecedef, #d9dce0); color: #333435; border-color: #bfc1c5;",terminalStyle:["white","bgBlackBright"],method:"log",emoji:"",...e}}i(VH,"ic");function ZH(e={}){return{levelName:"debug",level:7,style:"font-size: 12px; padding-right: 36px; border-right: 1px solid #d9dce0; color: #465464; border-color: #999999;",terminalStyle:["white","bgBlack"],method:"debug",emoji:"",...e}}i(ZH,"tc");function HH(e={}){return{levelName:"verbose",level:8,style:"font-size: 12px; padding-right: 22px; color: #999999;",terminalStyle:["black","italic"],method:"debug",emoji:"",...e}}i(HH,"Bc");class Og{static{i(this,"L4")}logCfg;glblCfg;constructor(t){this.logCfg=t??{},this.glblCfg=globalThis.$adzeGlobal?.configuration}updateConfiguration(t){this.logCfg=t}get activeLevel(){return this.glblCfg?.activeLevel??this.logCfg.activeLevel??bi.activeLevel}set activeLevel(t){this.logCfg.activeLevel=t}get cache(){return this.glblCfg?.cache??this.logCfg.cache??bi.cache}set cache(t){this.logCfg.cache=t}get cacheSize(){return this.glblCfg?.cacheSize??this.logCfg.cacheSize??bi.cacheSize}set cacheSize(t){this.logCfg.cacheSize=t}get dump(){return this.glblCfg?.dump??this.logCfg.dump??bi.dump}set dump(t){this.logCfg.dump=t}get meta(){return{...this.logCfg.meta,...this.glblCfg?.meta}}set meta(t){this.logCfg.meta=t}get silent(){return this.glblCfg?.silent??this.logCfg.silent??bi.silent}set silent(t){this.logCfg.silent=t}get showTimestamp(){return this.glblCfg?.showTimestamp??this.logCfg.showTimestamp??bi.showTimestamp}set showTimestamp(t){this.logCfg.showTimestamp=t}get withEmoji(){return this.glblCfg?.withEmoji??this.logCfg.withEmoji??bi.withEmoji}set withEmoji(t){this.logCfg.withEmoji=t}get format(){return this.glblCfg?.format??this.logCfg.format??bi.format}set format(t){this.logCfg.format=t}get levels(){return{...bi.levels,...this.logCfg.levels??{},...this.glblCfg?.levels??{}}}set levels(t){this.logCfg.levels=t}get middleware(){return[...this.glblCfg?.middleware??[],...this.logCfg.middleware??[]]}set middleware(t){this.logCfg.middleware=t}get filters(){return this.glblCfg?.filters??this.logCfg.filters}set filters(t){this.logCfg.filters=t}get timestampFormatter(){return this.glblCfg?.timestampFormatter??this.logCfg.timestampFormatter}set timestampFormatter(t){this.logCfg.timestampFormatter=t}get formatters(){return{...bi.formatters,...this.logCfg.formatters??{},...this.glblCfg?.formatters??{}}}set formatters(t){this.logCfg.formatters=t}exportValues(){return{activeLevel:this.logCfg.activeLevel,cache:this.logCfg.cache,cacheSize:this.logCfg.cacheSize,dump:this.logCfg.dump,meta:this.logCfg.meta,silent:this.logCfg.silent,showTimestamp:this.logCfg.showTimestamp,withEmoji:this.logCfg.withEmoji,format:this.logCfg.format,levels:this.logCfg.levels,middleware:this.logCfg.middleware,filters:this.logCfg.filters,timestampFormatter:this.logCfg.timestampFormatter,formatters:this.logCfg.formatters}}}function JH(e){return typeof e=="function"}i(JH,"Uc");class cf{static{i(this,"u4")}globalStore;_cfg;_modifierData;_data;modifierQueue=[];constructor(t,r){this.globalStore=Uj(t),this._modifierData=r??{},this._cfg=new Og(t),this.doHook(a=>{a.constructed&&a.constructed(this)})}get data(){return this._data}get modifierData(){return this._modifierData}get configuration(){return this._cfg}alert(...t){this.terminate("alert",t)}static alert(...t){new this().alert(...t)}error(...t){this.terminate("error",t)}static error(...t){new this().error(...t)}warn(...t){this.terminate("warn",t)}static warn(...t){new this().warn(...t)}info(...t){this.terminate("info",t)}static info(...t){new this().info(...t)}fail(...t){this.terminate("fail",t)}static fail(...t){new this().fail(...t)}success(...t){this.terminate("success",t)}static success(...t){new this().success(...t)}log(...t){this.terminate("log",t)}static log(t,...r){new this().log(t,...r)}debug(...t){this.terminate("debug",t)}static debug(...t){new this().debug(...t)}verbose(...t){this.terminate("verbose",t)}static verbose(...t){new this().verbose(...t)}clear(){console.clear()}static clear(){console.clear()}clr(){console.clear()}static clr(){console.clear()}custom(t,...r){return this._cfg.levels[t]?(this.terminate(t,r),this):(console.warn(Error("Custom log level not found in configuration.")),this)}static custom(t,...r){return new this().custom(t,...r)}seal(t){return t&&this._cfg.updateConfiguration(t),i3(cf,this._cfg,this.modifierData,this.modifierQueue)}static seal(t){return new this().seal(t)}sealTag(t,r){return this._cfg=new Og({...this._cfg.exportValues(),...r}),(a,...n)=>{let s=String.raw({raw:a},...n),o=i3(cf,this._cfg,this.modifierData,this.modifierQueue),h=t;JH(o[h])&&o[h](s)}}static sealTag(t,r){return new this().sealTag(t,r)}thread(t,r){this.runModifierQueue(),this._modifierData.label&&(this._modifierData.label.context||(this._modifierData.label.context={}),this._modifierData.label.context={...this._modifierData.label.context,[t]:r})}static thread(t,r){new this().thread(t,r)}assert(t){return this.modifierQueue.push(["assert",r=>(r.assertion=t,r)]),this}static assert(t){return new this().assert(t)}get closeThread(){return this.modifierQueue.push(["closeThread",t=>(t.label?.context&&(t.label.context=void 0),t)]),this}static get closeThread(){return new this().closeThread}get count(){return this.modifierQueue.push(["count",t=>(t.label&&(t.label.count=t.label.count!==void 0?t.label.count+1:1),t)]),this}static get count(){return new this().count}get countClear(){return this.modifierQueue.push(["countClear",t=>(t.label&&delete t.label.count,t)]),this}static get countClear(){return new this().countClear}get countReset(){return this.modifierQueue.push(["countReset",t=>(t.label&&(t.label.count=0),t)]),this}static get countReset(){return new this().countReset}get dir(){return this.modifierQueue.push(["dir",t=>(t.method="dir",t)]),this}static get dir(){return new this().dir}get dirxml(){return this.modifierQueue.push(["dirxml",t=>(t.method="dirxml",t)]),this}static get dirxml(){return new this().dirxml}get dump(){return this.modifierQueue.push(["dump",(t,r)=>(r._cfg.dump=!0,t)]),this}static get dump(){return new this().dump}format(t){return this.modifierQueue.push(["format",(r,a)=>Object.keys(a._cfg.formatters).includes(t)?(a._cfg.format=t,r):(console.warn(Error(`Adze: Formatter "${t}" not found in configuration.`)),r)]),this}static format(t){return new this().format(t)}get group(){return this.modifierQueue.push(["group",t=>(t.method="group",t)]),this}static get group(){return new this().group}get groupCollapsed(){return this.modifierQueue.push(["groupCollapsed",t=>(t.method="groupCollapsed",t)]),this}static get groupCollapsed(){return new this().groupCollapsed}get groupEnd(){return this.modifierQueue.push(["groupEnd",t=>(t.method="groupEnd",t)]),this}static get groupEnd(){return new this().groupEnd}if(t){return this.modifierQueue.push(["if",r=>(r.if=t,r)]),this}static if(t){return new this().if(t)}test(t){return this.if(t)}static test(t){return new this().if(t)}label(t){return this.modifierQueue.unshift(["label",r=>{let a=this.globalStore.getLabel(t)??{name:t};return r.label=a,this.globalStore.setLabel(t,a),r}]),this}static label(t){return new this().label(t)}meta(t){return this.modifierQueue.push(["meta",(r,a)=>(a._cfg.meta={...a._cfg.meta,...t},r)]),this}static meta(t){return new this().meta(t)}namespace(...t){return this.modifierQueue.push(["namespace",r=>{let a=r.namespace??[];return r.namespace=a.length>0?[...a,...t]:t,r}]),this}static namespace(...t){return new this().namespace(...t)}ns(...t){return this.namespace(...t)}static ns(...t){return new this().namespace(...t)}get silent(){return this.modifierQueue.push(["silent",(t,r)=>(r._cfg.silent=!0,t)]),this}static get silent(){return new this().silent}get table(){return this.modifierQueue.push(["table",t=>(t.method="table",t)]),this}static get table(){return new this().table}get time(){return this.modifierQueue.push(["time",t=>{let r=Rg();return t.label&&(t.label.timeStart=r),t}]),this}static get time(){return new this().time}get timeEnd(){return this.modifierQueue.push(["timeEnd",t=>(t.label?.timeStart&&(t.label.timeElapsed=Hj(Rg(t.label.timeStart))),t)]),this}static get timeEnd(){return new this().timeEnd}get timeNow(){return this.modifierQueue.push(["timeNow",t=>(t.timeNow=kH(),t)]),this}static get timeNow(){return new this().timeNow}get timestamp(){return this.modifierQueue.push(["timestamp",(t,r)=>(r._cfg.showTimestamp=!0,t)]),this}static get timestamp(){return new this().timestamp}get trace(){return this.modifierQueue.push(["trace",t=>(t.stacktrace=sH(),t)]),this}static get trace(){return new this().trace}get withEmoji(){return this.modifierQueue.push(["withEmoji",(t,r)=>(r._cfg.withEmoji=!0,t)]),this}static get withEmoji(){return new this().withEmoji}print(t){tH()||t.silent||t.message.length<1||(Fj(t.method)?console[t.method](...t.message):console[t.method]())}terminate(t,r){this.doHook(C=>{C.beforeTerminated&&C.beforeTerminated(this,t,r)}),this.runModifierQueue();let a=this.getLevelConfig(t),n=new(this.selectFormatter(this._cfg.format))(this._cfg,a),s=n.timestampFormatter(new Date),o=dH(n.print(this.modifierData,s,r));this._cfg.dump&&this.modifierData.label?.context&&o.push(this.modifierData.label.context),this.doHook(C=>{C.beforeFormatApplied&&(o=C.beforeFormatApplied(this,this._cfg.format,o))});let{activeLevel:h,cache:p,cacheSize:v,dump:c,format:d,meta:y,showTimestamp:b,silent:x,withEmoji:k}=this._cfg,N={activeLevel:h,cache:p,cacheSize:v,dump:c,format:d,meta:y,showTimestamp:b,silent:x,withEmoji:k,...a,...this._modifierData,terminator:t,args:r,timestamp:s,message:o};this.doHook(C=>{C.afterFormatApplied&&C.afterFormatApplied(this,this._cfg.format,o)}),this._data=N,this._cfg.cache&&this.globalStore.addLogToCache(this),this.doHook(C=>{C.beforePrint&&C.beforePrint(this)}),this.print(this._data),this.doHook(C=>{C.afterTerminated&&C.afterTerminated(this,t,r)}),this.globalStore.getListeners(a.level).forEach(C=>{C(this)})}selectFormatter(t){return this._cfg.formatters[t]}getLevelConfig(t){return this._cfg.levels[t]}runModifierQueue(){this.modifierQueue.forEach(([t,r])=>{let a=r(this.modifierData,this);this.doHook(n=>{n.beforeModifierApplied&&n.beforeModifierApplied(this,t,a)}),this._modifierData=a,this.doHook(n=>{n.afterModifierApplied&&n.afterModifierApplied(this,t,a)})})}doHook(t){this._cfg.middleware?.forEach(r=>{t(r)})}}var qH=cf,df={trace:10,verbose:10,debug:20,success:27,progress:28,log:29,info:30,warn:40,error:50,fatal:60,alert:60},KH={10:"trace",20:"debug",27:"success",28:"progress",29:"log",30:"info",40:"warn",50:"error",60:"fatal"};function a3(e,t){let r=df[e.toLowerCase()]||30,a=df[t.toLowerCase()]||30;return r>=a}i(a3,"MV");function Tg(e){try{let t=new WeakSet;return JSON.stringify(e,(r,a)=>{if(typeof a=="object"&&a!==null){if(t.has(a))return"[Circular]";t.add(a)}return a})}catch{return String(e)}}i(Tg,"dW");function Kj(e){if(!e)return!1;let t=e.toLowerCase().trim();return t==="true"||t==="1"||t==="yes"||t==="on"}i(Kj,"NV");var XH="info",hf=vc("LOG_LEVEL")||XH,Pg=Kj(vc("LOG_JSON_FORMAT")),zb=Kj(vc("LOG_TIMESTAMPS")??"true");function WH(e=100){let t=[];return{write(r){t.push(r),t.length>e&&t.shift()},clear(){t.length=0},recentLogs(){return t.map(r=>{let a=zb?new Date(r.time).toISOString():"",n=KH[r.level??30]||"info";return`${a} ${n} ${r.msg}`.trim()}).join(`
`)}}}i(WH,"wm");var Iu=WH(),Xj=i(()=>{let e=hf.toLowerCase();return e==="trace"?"verbose":e==="debug"?"debug":e==="log"?"log":e==="info"?"info":e==="warn"?"warn":e==="error"?"error":e==="fatal"?"alert":"info"},"CV"),QH=Xj(),Wj={alert:{levelName:"alert",level:0,style:"font-size: 12px; color: #ff0000;",terminalStyle:["bgRed","white","bold"],method:"error",emoji:""},error:{levelName:"error",level:1,style:"font-size: 12px; color: #ff0000;",terminalStyle:["bgRed","whiteBright","bold"],method:"error",emoji:""},warn:{levelName:"warn",level:2,style:"font-size: 12px; color: #ffaa00;",terminalStyle:["bgYellow","black","bold"],method:"warn",emoji:""},info:{levelName:"info",level:3,style:"font-size: 12px; color: #0099ff;",terminalStyle:["cyan"],method:"info",emoji:""},fail:{levelName:"fail",level:4,style:"font-size: 12px; color: #ff6600;",terminalStyle:["red","underline"],method:"error",emoji:""},success:{levelName:"success",level:5,style:"font-size: 12px; color: #00cc00;",terminalStyle:["green"],method:"log",emoji:""},log:{levelName:"log",level:6,style:"font-size: 12px; color: #888888;",terminalStyle:["white"],method:"log",emoji:""},debug:{levelName:"debug",level:7,style:"font-size: 12px; color: #9b59b6;",terminalStyle:["gray","dim"],method:"debug",emoji:""},verbose:{levelName:"verbose",level:8,style:"font-size: 12px; color: #666666;",terminalStyle:["gray","dim","italic"],method:"debug",emoji:""}},YH=WZ({activeLevel:QH,format:Pg?"json":"pretty",timestampFormatter:zb?void 0:()=>"",withEmoji:!1,levels:Wj});YH.addListener("*",e=>{try{let t=e.data,r=Array.isArray(t?.message)?t.message.map(n=>typeof n=="string"?n:Tg(n)).join(" "):typeof t?.message=="string"?t.message:"",a={time:Date.now(),level:typeof t?.level=="number"?t.level:void 0,msg:r};Iu.write(a)}catch{}});function eJ(e){let t=qH,r=[];typeof e.namespace=="string"&&r.push(e.namespace),Array.isArray(e.namespaces)&&r.push(...e.namespaces),r.length>0&&(t=t.ns(...r));let a={...e};if(delete a.namespace,delete a.namespaces,Pg&&(a.name||(a.name="elizaos"),!a.hostname)){let s="unknown";if(typeof process<"u"&&process.platform)try{s=(gB(),$t(l9)).hostname()}catch{s="localhost"}else typeof window<"u"&&window.location&&(s=window.location.hostname||"browser");a.hostname=s}let n={activeLevel:Xj(),format:Pg?"json":"pretty",timestampFormatter:zb?void 0:()=>"",withEmoji:!1,levels:Wj};return t.meta(a).seal(n)}i(eJ,"fm");function tJ(e){let t=hf,r={},a;if(typeof e=="object"&&e!==null){"level"in e&&(t=e.level),"maxMemoryLogs"in e&&typeof e.maxMemoryLogs=="number"&&(a=e.maxMemoryLogs);let{level:n,maxMemoryLogs:s,...o}=e;r=o}return{level:t,base:r,maxMemoryLogs:a}}i(tJ,"km");function Dg(e=!1){let{level:t,base:r,maxMemoryLogs:a}=tJ(e);if(typeof a=="number"&&a>0&&Iu.clear(),typeof e=="object"&&e&&"__forceType"in e&&e.__forceType==="browser"){let p=(typeof t=="number"?"info":t||hf).toLowerCase(),v=i((...y)=>y.map(b=>typeof b=="string"?b:b instanceof Error?b.message:Tg(b)).join(" "),"q$"),c=i((y,...b)=>{if(!a3(y,p))return;let x=v(...b),k=y==="fatal"?"error":y==="trace"||y==="verbose"?"debug":y==="success"||y==="progress"?"info":y==="log"?"log":console[y]?y:"log";typeof console[k]=="function"&&console[k](x)},"e"),d=i((y,b,...x)=>typeof y=="string"?b!==void 0?[y,b,...x]:[y,...x]:y instanceof Error?b!==void 0?[y.message,b,...x]:[y.message,...x]:b!==void 0?[b,y,...x]:[y,...x],"l");return{level:p,trace:i((y,b,...x)=>c("trace",...d(y,b,...x)),"trace"),debug:i((y,b,...x)=>c("debug",...d(y,b,...x)),"debug"),info:i((y,b,...x)=>c("info",...d(y,b,...x)),"info"),warn:i((y,b,...x)=>c("warn",...d(y,b,...x)),"warn"),error:i((y,b,...x)=>c("error",...d(y,b,...x)),"error"),fatal:i((y,b,...x)=>c("fatal",...d(y,b,...x)),"fatal"),success:i((y,b,...x)=>c("success",...d(y,b,...x)),"success"),progress:i((y,b,...x)=>c("progress",...d(y,b,...x)),"progress"),log:i((y,b,...x)=>c("log",...d(y,b,...x)),"log"),clear:i(()=>{typeof console.clear=="function"&&console.clear()},"clear"),child:i(y=>Dg({level:p,...r,...y,__forceType:"browser"}),"child")}}let n=eJ(r),s=(typeof t=="number"?"info":t||hf).toLowerCase(),o=i((p,...v)=>{if(!a3(p,s))return;try{let y="";v.length>0&&(y=v.map(x=>typeof x=="string"?x:x instanceof Error?x.message:Tg(x)).join(" ")),r.namespace&&(y=`#${r.namespace}  ${y}`);let b={time:Date.now(),level:df[p.toLowerCase()]||df.info,msg:y};Iu.write(b)}catch{}let c=p,d=v;p==="fatal"?c="alert":p==="progress"?(c="info",d=["[PROGRESS]",...v]):p==="success"?(c="info",d=["[SUCCESS]",...v]):p==="trace"&&(c="verbose");try{n[c](...d)}catch{console.log(`[${p.toUpperCase()}]`,...v)}},"w"),h=i((p,v,...c)=>typeof p=="string"?v!==void 0?[p,v,...c]:[p,...c]:p instanceof Error?v!==void 0?[p.message,{error:p},v,...c]:[p.message,{error:p},...c]:v!==void 0?[v,p,...c]:[p,...c],"G");return{level:s,trace:i((p,v,...c)=>o("verbose",...h(p,v,...c)),"trace"),debug:i((p,v,...c)=>o("debug",...h(p,v,...c)),"debug"),info:i((p,v,...c)=>o("info",...h(p,v,...c)),"info"),warn:i((p,v,...c)=>o("warn",...h(p,v,...c)),"warn"),error:i((p,v,...c)=>o("error",...h(p,v,...c)),"error"),fatal:i((p,v,...c)=>o("fatal",...h(p,v,...c)),"fatal"),success:i((p,v,...c)=>o("success",...h(p,v,...c)),"success"),progress:i((p,v,...c)=>o("progress",...h(p,v,...c)),"progress"),log:i((p,v,...c)=>o("log",...h(p,v,...c)),"log"),clear:i(()=>{try{typeof console?.clear=="function"&&console.clear()}catch{}Iu.clear()},"clear"),child:i(p=>Dg({level:s,...r,...p}),"child")}}i(Dg,"I7");var mo=Dg(),lu=mo,rJ=ct.string().regex(/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i,"Invalid UUID format");function Vo(e){let t=rJ.safeParse(e);return t.success?t.data:null}i(Vo,"Vm");var Ep=i(e=>{if(e.startsWith("image/"))return"image";if(e.startsWith("video/"))return"video";if(e.startsWith("audio/"))return"audio";if(e.includes("pdf")||e.includes("document")||e.startsWith("text/"))return"document"},"L_$"),Qj=ct.string().regex(/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i,"Invalid UUID format"),iJ=ct.object({text:ct.string().optional(),thought:ct.string().optional(),actions:ct.array(ct.string()).optional(),providers:ct.array(ct.string()).optional(),source:ct.string().optional(),target:ct.string().optional(),url:ct.string().optional(),inReplyTo:Qj.optional(),attachments:ct.array(ct.any()).optional(),channelType:ct.nativeEnum(bt).optional()}).passthrough(),nJ=ct.object({name:ct.string(),content:iJ}),aJ=ct.object({directory:ct.string(),shared:ct.boolean().optional()}),sJ=ct.union([ct.string(),ct.object({path:ct.string(),shared:ct.boolean().optional()}),aJ]),oJ=ct.union([ct.string(),ct.function().optional()]),lJ=ct.object({all:ct.array(ct.string()).optional(),chat:ct.array(ct.string()).optional(),post:ct.array(ct.string()).optional()}).optional(),uJ=ct.record(ct.string(),ct.union([ct.string(),ct.boolean(),ct.number(),ct.any()])).optional(),fJ=ct.record(ct.string(),ct.union([ct.string(),ct.boolean(),ct.number()])).optional();ct.object({id:Qj.optional(),name:ct.string().min(1,"Character name is required"),username:ct.string().optional(),system:ct.string().optional(),templates:ct.record(ct.string(),oJ).optional(),bio:ct.union([ct.string(),ct.array(ct.string())]),messageExamples:ct.array(ct.array(nJ)).optional(),postExamples:ct.array(ct.string()).optional(),topics:ct.array(ct.string()).optional(),adjectives:ct.array(ct.string()).optional(),knowledge:ct.array(sJ).optional(),plugins:ct.array(ct.string()).optional(),settings:uJ,secrets:fJ,style:lJ}).strict();function Yi(){return typeof Buffer<"u"&&typeof Buffer.from=="function"}i(Yi,"B8");function cJ(e){let t=e.replace(/[^0-9a-fA-F]/g,"");if(Yi())return Buffer.from(t,"hex");let r=new Uint8Array(t.length/2);for(let a=0;a<r.length;a++)r[a]=parseInt(t.substr(a*2,2),16);return r}i(cJ,"Uo");function dJ(e,t="utf8"){if(Yi()){let r=t==="utf-8"?"utf8":t;return Buffer.from(e,r)}if(t==="base64"){let r=atob(e),a=new Uint8Array(r.length);for(let n=0;n<r.length;n++)a[n]=r.charCodeAt(n);return a}return new TextEncoder().encode(e)}i(dJ,"Fo");function Yj(e){if(Yi()&&Buffer.isBuffer(e))return e.toString("hex");let t=e instanceof Uint8Array?e:new Uint8Array(e),r="";for(let a=0;a<t.length;a++){let n=t[a].toString(16);r+=n.length===1?"0"+n:n}return r}i(Yj,"PM");function hJ(e,t="utf8"){if(Yi()&&Buffer.isBuffer(e)){let a=t==="utf-8"?"utf8":t;return e.toString(a)}let r=e instanceof Uint8Array?e:new Uint8Array(e);if(t==="hex")return Yj(r);if(t==="base64"){let a="";for(let n=0;n<r.length;n++)a+=String.fromCharCode(r[n]);return btoa(a)}return new TextDecoder().decode(r)}i(hJ,"ao");function pJ(e){return e?Yi()&&Buffer.isBuffer(e)?!0:e instanceof Uint8Array||e instanceof ArrayBuffer||typeof e=="object"&&e.buffer instanceof ArrayBuffer&&typeof e.byteLength=="number"&&!Array.isArray(e):!1}i(pJ,"Qo");function mJ(e){return Yi()?Buffer.alloc(e):new Uint8Array(e)}i(mJ,"eo");function gJ(e){return Yi()?Buffer.from(e):new Uint8Array(e)}i(gJ,"so");function vJ(e){if(Yi()&&e.every(n=>Buffer.isBuffer(n)))return Buffer.concat(e);let t=0;for(let n of e)t+=n.length;let r=new Uint8Array(t),a=0;for(let n of e){let s=n instanceof Uint8Array?n:new Uint8Array(n);r.set(s,a),a+=s.length}return r}i(vJ,"$r");function bJ(e,t,r){return Yi()&&Buffer.isBuffer(e)?e.slice(t,r):(e instanceof Uint8Array?e:new Uint8Array(e)).slice(t,r)}i(bJ,"qr");function yJ(e,t){if(e.length!==t.length)return!1;let r=e instanceof Uint8Array?e:new Uint8Array(e),a=t instanceof Uint8Array?t:new Uint8Array(t);for(let n=0;n<r.length;n++)if(r[n]!==a[n])return!1;return!0}i(yJ,"Kr");function wJ(e){return e.length}i(wJ,"_r");function xJ(e){if(Yi())try{return(qr(),$t(Ur)).randomBytes(e)}catch{}let t=new Uint8Array(e);if(typeof globalThis<"u"&&globalThis.crypto&&globalThis.crypto.getRandomValues)globalThis.crypto.getRandomValues(t);else for(let r=0;r<e;r++)t[r]=Math.floor(Math.random()*256);return t}i(xJ,"Pr");var _J={fromHex:cJ,fromString:dJ,fromBytes:gJ,toHex:Yj,toString:hJ,isBuffer:pJ,alloc:mJ,concat:vJ,slice:bJ,equals:yJ,byteLength:wJ,randomBytes:xJ},SJ=[];for(let e=0;e<256;++e)SJ.push((e+256).toString(16).slice(1));typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var Bs=null,s3=!1,MJ=3e5;function EJ(){let e=vc("SECRET_SALT","secretsalt")||"secretsalt",t=Date.now();return Bs!==null&&t-Bs.timestamp<MJ&&Bs.value===e?Bs.value:(e==="secretsalt"&&!s3&&(mo.warn("SECRET_SALT is not set or using default value"),s3=!0),Bs={value:e,timestamp:t},e)}i(EJ,"C_");function kJ(e,t){try{if(e==null||typeof e=="boolean"||typeof e=="number")return e;if(typeof e!="string")return mo.debug(`Value is not a string (type: ${typeof e}), returning as is`),e;let r=e.split(":");if(r.length!==2)return e;let a=_J.fromHex(r[0]),n=r[1];if(a.length!==16)return a.length&&mo.debug(`Invalid IV length (${a.length}) - expected 16 bytes`),e;let s=hx.createHash("sha256").update(t).digest().slice(0,32),o=hx.createDecipheriv("aes-256-cbc",s,a),h=o.update(n,"hex","utf8");return h+=o.final("utf8"),h}catch(r){return mo.error(`Error decrypting value: ${r}`),e}}i(kJ,"Qj");function AJ(e,t){let r={};for(let[a,n]of Object.entries(e))typeof n=="string"&&n?r[a]=kJ(n,t):r[a]=n;return r}i(AJ,"vM");const qe={info:i((e,...t)=>{lu.info({source:"client"},e,...t)},"info"),error:i((e,...t)=>{lu.error({source:"client"},e,...t)},"error"),warn:i((e,...t)=>{lu.warn({source:"client"},e,...t)},"warn"),debug:i((e,...t)=>{lu.debug({source:"client"},e,...t)},"debug")},jJ="elizaos-plugins",NJ="registry",IJ=`https://raw.githubusercontent.com/${jJ}/${NJ}/refs/heads/main/generated-registry.json`,CJ=["@elizaos/plugin-bootstrap","@elizaos/plugin-sql"];async function RJ(){try{const e=await fetch(IJ);if(!e.ok)throw new Error(`Failed to fetch registry: ${e.status}`);return await e.json()}catch(e){return qe.error("Failed to fetch plugin registry:",e),null}}i(RJ,"fetchPluginRegistry");function OJ(e){return e.startsWith("@elizaos-plugins/")?e:e.replace("@elizaos/","@elizaos-plugins/")}i(OJ,"getRegistryPluginName");function Zo(e){return CJ.includes(e)}i(Zo,"isCorePlugin");function TJ(e,t){if(Zo(e))return null;if(!t)return qe.warn(`No registry data available for ${e}`),null;const r=OJ(e),a=e;qe.debug(`Looking for ${e} in registry as ${r} or ${a}`);let n=t.registry[r];if(!n&&r!==a&&(n=t.registry[a],n&&qe.debug(`Found plugin under alternative name: ${a}`)),!n?.git?.repo)return qe.warn(`No GitHub repo found in registry for plugin: ${e} (tried ${r} and ${a})`),null;qe.debug(`Found repo info for ${e}: ${n.git.repo}`);const s=n.git.v1.branch?n.git.v1:n.git.v0,o=s?.branch||"main";s?.branch?qe.debug(`Branch for ${e}: ${o}`):qe.warn(`No branch information found for plugin: ${e}`);let h;const p=n.git.repo.match(/github\.com[:/]([^/]+\/[^/.]+)(\.git)?$/);if(p)h=p[1];else{const c=n.git.repo.match(/^([^/]+\/[^/.]+)$/);if(c)h=c[1];else return qe.warn(`Could not parse GitHub repo URL: ${n.git.repo}`),null}qe.debug(`Parsed owner/repo for ${e}: ${h}`);const v=`${h}/${o}`;return qe.debug(`Initial path for ${e}: ${v}`),v}i(TJ,"getGitHubRepoPath");async function PJ(e,t){if(Zo(e))return null;if(!t)return qe.warn(`No repo path available for plugin: ${e}`),null;qe.debug(`Starting package.json fetch for ${e} with initial path: ${t}`);const r=t.split("/"),a=r[0],n=r[1],s=r[2]||"main",o=e.replace("@elizaos/","");qe.debug(`Extracted parts - owner: ${a}, repo: ${n}, branch: ${s}, packageName: ${o}`);const h=[`${a}/${n}/${s}`,`${a}/${n}/main`,`${a}/${n}/master`,`${a}/${n}/1.x`,`${a}/${n}/v1`,`${a}/${n}/v2`,`${a}/${n}/${s}/packages/${o}`,`${a}/${n}/main/packages/${o}`,`${a}/${n}/master/packages/${o}`],p=[...new Set(h)];qe.debug(`Will try ${p.length} unique paths for ${e}:`,p);for(const v of p)try{const c=`https://raw.githubusercontent.com/${v}/package.json`;qe.debug(`Trying URL for ${e}: ${c}`);const d=await fetch(c);if(d.ok){const y=await d.json();return qe.debug(` Found package.json for ${e} at ${c}`),y}else qe.debug(` Failed to fetch ${e} from ${c}: HTTP ${d.status}`)}catch(c){qe.debug(` Error fetching ${e} from ${v}: ${c instanceof Error?c.message:String(c)}`)}return qe.warn(`Could not find package.json for ${e} in any of the expected locations`),null}i(PJ,"fetchPluginPackageJson");function DJ(e,t){if(Zo(e))return[];if(!t)return[];if(t?.agentConfig?.pluginParameters){const r=[];for(const[a,n]of Object.entries(t.agentConfig.pluginParameters))n.required===!0&&r.push({name:a,description:n.description,required:!0,example:n.example});return r}return t?.elizaos?.secrets?t.elizaos.secrets.filter(r=>r.required):t?.elizaos?.requiredSecrets?t.elizaos.requiredSecrets.map(r=>({name:r,required:!0})):[]}i(DJ,"extractRequiredSecrets");function LJ(e){const t=J.useMemo(()=>[...e].sort().join(","),[e]);return jr({queryKey:["plugin-details",t],queryFn:i(async()=>{qe.debug("[usePluginDetails] Starting fetch for plugins:",e);const r=[],a=e.filter(Zo),n=e.filter(s=>!Zo(s));if(qe.debug("[usePluginDetails] Core plugins:",a),qe.debug("[usePluginDetails] External plugins:",n),a.forEach(s=>{r.push({name:s,requiredSecrets:[]})}),n.length>0){const s=await RJ();if(qe.debug("[usePluginDetails] Registry data fetched:",s?"success":"failed"),s){const p=Object.keys(s.registry);qe.debug("[usePluginDetails] Available plugins in registry:",p)}const o=n.map(async p=>{const v=TJ(p,s),c=await PJ(p,v);return{name:p,packageJson:c}}),h=await Promise.all(o);for(const{name:p,packageJson:v}of h){const c=DJ(p,v);r.push({name:p,requiredSecrets:c})}}return qe.debug("[usePluginDetails] Final details:",r),r},"queryFn"),enabled:e.length>0,staleTime:300*1e3,retry:2,refetchOnMount:!1,refetchOnWindowFocus:!1})}i(LJ,"usePluginDetails");function eN(e){const{data:t,isLoading:r,error:a}=LJ(e);return{requiredSecrets:J.useMemo(()=>t?t.reduce((s,o)=>(o.requiredSecrets.forEach(h=>{s.find(p=>p.name===h.name)||s.push({...h,plugin:o.name})}),s),[]):[],[t]),isLoading:r,error:a}}i(eN,"useRequiredSecrets");class ra extends Error{static{i(this,"ApiError")}code;details;status;constructor(t,r,a,n){super(r),this.code=t,this.details=a,this.status=n,this.name="ApiError"}}class kn{static{i(this,"BaseApiClient")}baseUrl;apiKey;timeout;defaultHeaders;constructor(t){this.baseUrl=t.baseUrl.replace(/\/$/,""),this.apiKey=t.apiKey,this.timeout=t.timeout||3e4,this.defaultHeaders={"Content-Type":"application/json",...t.headers},this.apiKey&&(this.defaultHeaders["X-API-KEY"]=this.apiKey)}createNoContentResponse(){return{success:!0}}async request(t,r,a){let n;this.baseUrl?n=new URL(`${this.baseUrl}${r}`):typeof window<"u"&&window.location?n=new URL(r,window.location.origin):n=new URL(r,"http://localhost:3000"),a?.params&&Object.entries(a.params).forEach(([h,p])=>{p!=null&&n.searchParams.append(h,String(p))});const s=new AbortController,o=setTimeout(()=>s.abort(),this.timeout);try{const h={...this.defaultHeaders,...a?.config?.headers,...a?.headers};a?.body instanceof FormData&&delete h["Content-Type"];const p=await fetch(n.toString(),{method:t,headers:h,body:a?.body instanceof FormData?a.body:a?.body?JSON.stringify(a.body):void 0,signal:s.signal});if(clearTimeout(o),p.status===204||p.headers.get("content-length")==="0")return this.createNoContentResponse();let v;try{v=await p.json()}catch{if(p.ok)return this.createNoContentResponse();throw new ra("PARSE_ERROR","Failed to parse response as JSON",void 0,p.status)}if(!p.ok){const c=v?.error||{code:"HTTP_ERROR",message:`HTTP ${p.status}: ${p.statusText}`};throw new ra(c.code,c.message,c.details,p.status)}if(v&&typeof v=="object"&&"success"in v){const c=v;if(!c.success){const d="error"in c?c.error:{code:"UNKNOWN_ERROR",message:"An unknown error occurred"};throw new ra(d.code,d.message,d.details,p.status)}return c.data}else return v}catch(h){throw clearTimeout(o),h instanceof ra?h:h instanceof Error?h.name==="AbortError"?new ra("TIMEOUT","Request timed out"):new ra("NETWORK_ERROR",h.message):new ra("UNKNOWN_ERROR","An unknown error occurred")}}async get(t,r){return this.request("GET",t,r)}async post(t,r,a){return this.request("POST",t,{...a,body:r})}async put(t,r,a){return this.request("PUT",t,{...a,body:r})}async patch(t,r,a){return this.request("PATCH",t,{...a,body:r})}async delete(t,r){return this.request("DELETE",t,r)}}class BJ extends kn{static{i(this,"AgentsService")}async listAgents(){return this.get("/api/agents")}async getAgent(t){return this.get(`/api/agents/${t}`)}async createAgent(t){return this.post("/api/agents",t)}async updateAgent(t,r){return this.patch(`/api/agents/${t}`,r)}async deleteAgent(t){return this.delete(`/api/agents/${t}`)}async startAgent(t){return this.post(`/api/agents/${t}/start`)}async stopAgent(t){return this.post(`/api/agents/${t}/stop`)}async getWorlds(){return this.get("/api/agents/worlds")}async addAgentToWorld(t,r){return this.post(`/api/agents/${t}/worlds`,{worldId:r})}async updateAgentWorldSettings(t,r,a){return this.patch(`/api/agents/${t}/worlds/${r}`,{settings:a})}async getAgentPanels(t){const r=await this.get(`/api/agents/${t}/panels`);return{panels:(Array.isArray(r)?r:[]).map((n,s)=>({id:`${n.name}-${s}`,name:n.name,url:n.path,type:"plugin"}))}}async getAgentLogs(t,r){return this.get(`/api/agents/${t}/logs`,{params:r})}async deleteAgentLog(t,r){return this.delete(`/api/agents/${t}/logs/${r}`)}async getAgentsForServer(t){return this.get(`/api/messaging/servers/${t}/agents`)}async addAgentToServer(t,r){return this.post(`/api/messaging/servers/${t}/agents`,{agentId:r})}async removeAgentFromServer(t,r){return this.delete(`/api/messaging/servers/${t}/agents/${r}`)}async getServersForAgent(t){return this.get(`/api/messaging/agents/${t}/servers`)}}class zJ extends kn{static{i(this,"MessagingService")}async submitMessage(t){return this.post("/api/messaging/submit",t)}async completeMessage(t){return this.post("/api/messaging/complete",t)}async ingestExternalMessages(t){return this.post("/api/messaging/ingest-external",t)}async createChannel(t){const r={name:t.name,type:t.type,server_id:t.serverId||"00000000-0000-0000-0000-000000000000",metadata:t.metadata};return this.post("/api/messaging/central-channels",r)}async createGroupChannel(t){const r="00000000-0000-0000-0000-000000000000";let a,n,s;if(t.metadata){const h={...t.metadata};"server_id"in h&&(n=h.server_id,delete h.server_id),"type"in h&&(s=h.type,delete h.type),Object.keys(h).length>0&&(a=h)}const o={name:t.name,server_id:n||r,participantCentralUserIds:t.participantIds,...s?{type:s}:{},...a?{metadata:a}:{}};return this.post("/api/messaging/central-channels",o)}async getOrCreateDmChannel(t){const[r,a]=t.participantIds,n={currentUserId:r,targetUserId:a,dmServerId:"00000000-0000-0000-0000-000000000000"};return this.get("/api/messaging/dm-channel",{params:n})}async getChannelDetails(t){return this.get(`/api/messaging/central-channels/${t}/details`)}async getChannelParticipants(t){return this.get(`/api/messaging/central-channels/${t}/participants`)}async addAgentToChannel(t,r){return this.post(`/api/messaging/central-channels/${t}/agents`,{agentId:r})}async removeAgentFromChannel(t,r){return this.delete(`/api/messaging/central-channels/${t}/agents/${r}`)}async deleteChannel(t){return this.delete(`/api/messaging/central-channels/${t}`)}async clearChannelHistory(t){return this.delete(`/api/messaging/central-channels/${t}/messages`)}async postMessage(t,r,a){return this.post(`/api/messaging/central-channels/${t}/messages`,{content:r,metadata:a})}async getChannelMessages(t,r){return this.get(`/api/messaging/central-channels/${t}/messages`,{params:r})}async getMessage(t){return this.get(`/api/messaging/messages/${t}`)}async deleteMessage(t,r){return this.delete(`/api/messaging/central-channels/${t}/messages/${r}`)}async updateMessage(t,r){return this.patch(`/api/messaging/messages/${t}`,{content:r})}async searchMessages(t){return this.post("/api/messaging/messages/search",t)}async listServers(){return this.get("/api/messaging/central-servers")}async getServerChannels(t){return this.get(`/api/messaging/central-servers/${t}/channels`)}async createServer(t){return this.post("/api/messaging/servers",t)}async syncServerChannels(t,r){return this.post(`/api/messaging/servers/${t}/sync-channels`,r)}async deleteServer(t){return this.delete(`/api/messaging/servers/${t}`)}async updateChannel(t,r){return this.patch(`/api/messaging/central-channels/${t}`,r)}async generateChannelTitle(t,r){return this.post(`/api/messaging/central-channels/${t}/generate-title`,{agentId:r})}async addUserToChannel(t,r){const a=await this.getChannelDetails(t),n=a.metadata?.participantCentralUserIds||[];if(!n.includes(r)){const s=[...n,r];return this.updateChannel(t,{participantCentralUserIds:s})}return{success:!0,data:a}}async addUsersToChannel(t,r){const s=[...(await this.getChannelDetails(t)).metadata?.participantCentralUserIds||[]];for(const o of r)s.includes(o)||s.push(o);return this.updateChannel(t,{participantCentralUserIds:s})}async removeUserFromChannel(t,r){const s=((await this.getChannelDetails(t)).metadata?.participantCentralUserIds||[]).filter(o=>o!==r);return this.updateChannel(t,{participantCentralUserIds:s})}}class UJ extends kn{static{i(this,"MemoryService")}async getAgentMemories(t,r){return this.get(`/api/memory/${t}/memories`,{params:r})}async getRoomMemories(t,r,a){return this.get(`/api/memory/${t}/rooms/${r}/memories`,{params:a})}async updateMemory(t,r,a){return this.patch(`/api/memory/${t}/memories/${r}`,a)}async clearAgentMemories(t){return this.delete(`/api/memory/${t}/memories`)}async clearRoomMemories(t,r){return this.delete(`/api/memory/${t}/memories/all/${r}`)}async listAgentRooms(t){return this.get(`/api/memory/${t}/rooms`)}async getRoom(t,r){return this.get(`/api/memory/${t}/rooms/${r}`)}async createRoom(t,r){return this.post(`/api/memory/${t}/rooms`,r)}async createWorldFromServer(t,r){return this.post(`/api/memory/groups/${t}`,r)}async deleteWorld(t){return this.delete(`/api/memory/groups/${t}`)}async clearWorldMemories(t){return this.delete(`/api/memory/groups/${t}/memories`)}async deleteMemory(t,r){return this.delete(`/api/memory/${t}/memories/${r}`)}async getAgentInternalMemories(t,r,a){return this.get(`/api/memory/${t}/rooms/${r}/memories`,{params:{includeEmbedding:a}})}async deleteAgentInternalMemory(t,r){return this.delete(`/api/memory/${t}/memories/${r}`)}async deleteAllAgentInternalMemories(t,r){return this.delete(`/api/memory/${t}/memories/all/${r}`)}async updateAgentInternalMemory(t,r,a){return this.patch(`/api/memory/${t}/memories/${r}`,a)}async deleteGroupMemory(t,r){return this.delete(`/api/messaging/central-channels/${t}/messages/${r}`)}async clearGroupChat(t){return this.delete(`/api/messaging/central-channels/${t}/messages`)}}class FJ extends kn{static{i(this,"AudioService")}async requestBinary(t,r,a){let n;this.baseUrl?n=new URL(`${this.baseUrl}${r}`):typeof window<"u"&&window.location?n=new URL(r,window.location.origin):n=new URL(r,"http://localhost:3000"),a?.params&&Object.entries(a.params).forEach(([h,p])=>{p!=null&&n.searchParams.append(h,String(p))});const s=new AbortController,o=setTimeout(()=>s.abort(),this.timeout);try{const h={...this.defaultHeaders,...a?.headers};a?.body instanceof FormData&&delete h["Content-Type"];const p=await fetch(n.toString(),{method:t,headers:h,body:a?.body instanceof FormData?a.body:a?.body?JSON.stringify(a.body):void 0,signal:s.signal});if(clearTimeout(o),!p.ok)throw new Error(`HTTP error! status: ${p.status}`);return await p.arrayBuffer()}catch(h){throw clearTimeout(o),h instanceof Error?h.name==="AbortError"?new Error("Request timed out"):h:new Error("An unknown error occurred")}}processAudioInput(t){if(t instanceof Blob)return t;if(typeof t=="string"){if(t.startsWith("data:"))try{const[a,n]=t.split(","),s=a.match(/data:([^;]+)/),o=s?s[1]:"audio/wav",h=atob(n),p=new Uint8Array(h.length);for(let v=0;v<h.length;v++)p[v]=h.charCodeAt(v);return new Blob([p],{type:o})}catch(a){throw new Error(`Invalid base64 data URL: ${a instanceof Error?a.message:"Unknown error"}`)}if(this.isBase64String(t))try{const a=atob(t),n=new Uint8Array(a.length);for(let s=0;s<a.length;s++)n[s]=a.charCodeAt(s);return new Blob([n],{type:"audio/wav"})}catch{return t}return t}if(this.isBuffer(t))return new Blob([new Uint8Array(t)],{type:"audio/wav"});const r=t;if(r instanceof ArrayBuffer)return new Blob([r],{type:"audio/wav"});if(r&&typeof r=="object"&&"buffer"in r&&r.buffer instanceof ArrayBuffer)return new Blob([r.buffer],{type:"audio/wav"});throw new Error(`Unsupported audio input type: ${typeof t}. Expected Blob, Buffer, ArrayBuffer, or string.`)}isBase64String(t){const r=/^[A-Za-z0-9+/]*={0,2}$/;return t.length<4||t.length%4!==0?!1:r.test(t)}isBuffer(t){return t!=null&&typeof t=="object"&&typeof t.constructor=="function"&&t.constructor.name==="Buffer"&&typeof t.readUInt8=="function"}async speechConversation(t,r){const a=new FormData,n=this.processAudioInput(r.audio);return n instanceof Blob,a.append("file",n),r.format&&a.append("format",r.format),r.language&&a.append("language",r.language),r.metadata&&a.append("metadata",JSON.stringify(r.metadata)),this.request("POST",`/api/audio/${t}/speech/conversation`,{body:a})}async generateSpeech(t,r){const a=await this.requestBinary("POST",`/api/audio/${t}/speech/generate`,{body:r}),n=new Uint8Array(a);let s="";for(let p=0;p<n.byteLength;p++)s+=String.fromCharCode(n[p]);return{audio:btoa(s),format:"mpeg"}}async synthesizeAudioMessage(t,r){return this.post(`/api/audio/${t}/audio-messages/synthesize`,r)}async transcribe(t,r){const a=new FormData,n=this.processAudioInput(r.audio);return n instanceof Blob,a.append("file",n),r.format&&a.append("format",r.format),r.language&&a.append("language",r.language),this.request("POST",`/api/audio/${t}/transcriptions`,{body:a})}async processSpeech(t,r,a){const n=new FormData,s=this.processAudioInput(r);return s instanceof Blob,n.append("file",s),a&&n.append("metadata",JSON.stringify(a)),this.request("POST",`/api/audio/${t}/speech`,{body:n})}}class $J extends kn{static{i(this,"MediaService")}async uploadAgentMedia(t,r){const a=new FormData;return a.append("file",r.file,r.filename),r.contentType&&a.append("contentType",r.contentType),r.metadata&&a.append("metadata",JSON.stringify(r.metadata)),this.request("POST",`/api/media/agents/${t}/upload-media`,{body:a})}async uploadChannelMedia(t,r){const a=new FormData;return a.append("file",r),this.request("POST",`/api/messaging/central-channels/${t}/upload-media`,{body:a})}}class GJ extends kn{static{i(this,"ServerService")}async checkHealth(){return this.get("/api/server/health")}async ping(){return this.get("/api/server/ping")}async hello(){return this.get("/api/server/hello")}async getStatus(){return this.get("/api/server/status")}async stopServer(){return this.post("/api/server/stop")}async getDebugInfo(){return this.get("/api/server/debug/servers")}async submitLogs(t){return this.post("/api/server/logs",{logs:t})}async clearLogs(){return this.delete("/api/server/logs")}}class VJ extends kn{static{i(this,"SystemService")}async getEnvironment(){return this.get("/api/system/env/local")}async updateLocalEnvironment(t){if(!t||typeof t!="object")throw new Error("updateLocalEnvironment requires a configuration object");let r;return"variables"in t?r={content:t.variables}:"content"in t?r={content:t.content}:r={content:t},this.post("/api/system/env/local",r)}async getGlobalLogs(t){const r=await fetch(this.buildUrl("/api/server/logs",{params:t}),{method:"GET",headers:this.getHeaders()});if(!r.ok)throw new Error(`HTTP ${r.status}: ${r.statusText}`);const a=await r.json();return{logs:a.logs||[],count:a.count||0,total:a.total||0,level:a.requestedLevel||a.level||"all",levels:a.levels||[]}}buildUrl(t,r){const a=new URL(`${this.baseUrl}${t}`);return r?.params&&Object.entries(r.params).forEach(([n,s])=>{s!=null&&a.searchParams.append(n,String(s))}),a.toString()}getHeaders(){return{...this.defaultHeaders}}async deleteGlobalLogs(){return this.delete("/api/server/logs")}async deleteLog(t){throw new Error("Individual log deletion is not supported. Use deleteGlobalLogs() to clear all logs.")}}function o3(e,t){if(!e)return;let r;if(e instanceof Date)r=e.getTime();else if(typeof e=="string"){if(r=new Date(e).getTime(),isNaN(r)){console.warn(`Invalid date string for ${t}: ${e}`);return}}else if(typeof e=="number")r=e;else{console.warn(`Invalid type for ${t}: ${typeof e}`);return}return r.toString()}i(o3,"toTimestampString");function zs(e,t){if(!e||e.trim()==="")throw new Error(`${t} is required and cannot be empty`)}i(zs,"validateRequiredParam");class ZJ extends kn{static{i(this,"SessionsService")}async checkHealth(){return this.get("/api/messaging/sessions/health")}async createSession(t){return this.post("/api/messaging/sessions",t)}async getSession(t){return zs(t,"sessionId"),this.get(`/api/messaging/sessions/${t}`)}async sendMessage(t,r){return zs(t,"sessionId"),zs(r?.content,"content"),this.post(`/api/messaging/sessions/${t}/messages`,r)}async getMessages(t,r){zs(t,"sessionId");const a={};r?.limit&&(a.limit=r.limit.toString());const n=o3(r?.before,"before");n&&(a.before=n);const s=o3(r?.after,"after");return s&&(a.after=s),this.get(`/api/messaging/sessions/${t}/messages`,{params:a})}async deleteSession(t){return zs(t,"sessionId"),this.delete(`/api/messaging/sessions/${t}`)}async listSessions(){return this.get("/api/messaging/sessions")}}class HJ extends kn{static{i(this,"RunsService")}async listRuns(t,r){return this.get(`/api/agents/${t}/runs`,{params:r})}async getRun(t,r,a){return this.get(`/api/agents/${t}/runs/${r}`,{params:a?{roomId:a}:void 0})}}class Ub{static{i(this,"ElizaClient")}agents;messaging;memory;audio;media;server;system;sessions;runs;constructor(t){this.agents=new BJ(t),this.messaging=new zJ(t),this.memory=new UJ(t),this.audio=new FJ(t),this.media=new $J(t),this.server=new GJ(t),this.system=new VJ(t),this.sessions=new ZJ(t),this.runs=new HJ(t)}static create(t){return new Ub(t)}}function JJ(){const e=i(()=>`eliza-api-key-${window.location.origin}`,"getLocalStorageApiKey"),t=localStorage.getItem(e()),r={baseUrl:window.location.origin,timeout:3e4,headers:{Accept:"application/json"}};return t&&(r.apiKey=t),r}i(JJ,"createApiClientConfig");let Cu=null;function Yt(){return Cu||(Cu=Ub.create(JJ())),Cu}i(Yt,"createElizaClient");function qJ(){Cu=null}i(qJ,"resetElizaClient");function KJ(e){const t=i(()=>`eliza-api-key-${window.location.origin}`,"getLocalStorageApiKey");e?localStorage.setItem(t(),e):localStorage.removeItem(t()),qJ()}i(KJ,"updateApiClientApiKey");const XJ="elizaos-plugins",WJ="registry",QJ=`https://raw.githubusercontent.com/${XJ}/${WJ}/refs/heads/main/generated-registry.json`;function tN(){return jr({queryKey:["plugins"],queryFn:i(async()=>{try{const e=Yt(),[t,r]=await Promise.all([fetch(QJ),e.agents.listAgents()]),a=await t.json(),n=Object.entries(a.registry||{}).filter(([h,p])=>{const v=h.includes("plugin"),c=p.supports.v1===!0,d=p.npm.v1!==null||p.git.v1.version!==null&&p.git.v1.branch!==null;return v&&c&&d}).map(([h])=>h.replace(/^@elizaos-plugins\//,"@elizaos/")).sort();let s=[];try{const h=r?.agents||[];if(h.length>0){const p=h.find(v=>v.status==="active");if(p&&p.id){const c=(await e.agents.getAgent(p.id))?.plugins;Array.isArray(c)&&(s=c)}}}catch(h){qe.warn("Could not fetch agent plugins:",h)}return[...new Set([...n,...s])].sort()}catch(e){return qe.error("Failed to fetch from registry, falling back to basic list:",e),["@elizaos/plugin-bootstrap","@elizaos/plugin-evm","@elizaos/plugin-discord","@elizaos/plugin-elevenlabs","@elizaos/plugin-anthropic","@elizaos/plugin-browser","@elizaos/plugin-farcaster","@elizaos/plugin-groq"].filter(t=>t.includes("plugin")).sort()}},"queryFn")})}i(tN,"usePlugins");const YJ={google:"@elizaos/plugin-google-genai",llama_local:"@elizaos/plugin-ollama"},eq={},tq=["@elizaos/plugin-sql","@elizaos/plugin-bootstrap"];function rq(){const{data:e=[]}=tN(),t=i(n=>{const s=new Set;if(Array.isArray(n.clients))for(const h of n.clients){const p=h.toLowerCase(),v=eq[p];if(v&&e.includes(v))s.add(v);else{const c=`@elizaos/plugin-${p}`;e.includes(c)&&s.add(c)}}let o=!1;if(typeof n.modelProvider=="string"){const h=n.modelProvider.toLowerCase(),p=YJ[h];if(p&&e.includes(p))s.add(p),o=!0;else{const v=`@elizaos/plugin-${h}`;e.includes(v)&&(s.add(v),o=!0)}o||e.includes("@elizaos/plugin-openai")&&s.add("@elizaos/plugin-openai")}else e.includes("@elizaos/plugin-openai")&&s.add("@elizaos/plugin-openai");for(const h of tq)e.includes(h)&&s.add(h);return Array.from(s).sort()},"matchPlugins");function r(n){return typeof n=="object"&&n!==null&&"user"in n}return i(r,"isV1MessageExampleFormat"),{convertCharacter:i(n=>{const s=[...Array.isArray(n.bio)?n.bio:n.bio?[n.bio]:[],...n.lore??[]],o=(n.messageExamples??[]).map(v=>v.map(c=>r(c)?{name:c.user,content:c.content}:c))??[],h=t(n);return{name:n.name,username:n.username,system:n.system,settings:n.settings,plugins:h,bio:s,topics:n.topics,style:n.style,adjectives:n.adjectives,messageExamples:o,postExamples:n.postExamples}},"convertCharacter")}}i(rq,"useConvertCharacter");const iq=i((e=768)=>{const t=J.useRef(null),[r,a]=J.useState(!0),n=J.useRef(null),s=J.useRef(0);return J.useEffect(()=>{const o=t.current;if(!o)return;const h=i(v=>{n.current&&clearTimeout(n.current),n.current=setTimeout(()=>{const c=v>=e;a(d=>d!==c?c:d),s.current=v},150)},"handleResize"),p=new ResizeObserver(v=>{for(const c of v){const{width:d}=c.contentRect;Math.abs(d-s.current)>5&&h(d)}});return p.observe(o),setTimeout(()=>{const{width:v}=o.getBoundingClientRect();s.current=v,a(v>=e)},0),()=>{p.disconnect(),n.current&&clearTimeout(n.current)}},[e]),{containerRef:t,showLabels:r}},"useContainerWidth");function rN({characterValue:e,setCharacterValue:t,title:r,description:a,onSubmit:n,onDelete:s,onReset:o,onStopAgent:h,isDeleting:p=!1,isStopping:v=!1,customComponents:c=[],onTemplateChange:d,secretPanelRef:y}){const{toast:b}=rr(),{data:x,isLoading:k}=uT(),[N,C]=J.useState(!1),[R,O]=J.useState("none"),[T,P]=J.useState("basic"),z=J.useRef(null),[V,Z]=J.useState(!1),[ee,$]=J.useState(!1),[F,u]=J.useState(!1),[g,l]=J.useState(null),[m,w]=J.useState({}),M=J.useMemo(()=>e?.plugins||[],[e?.plugins]),{requiredSecrets:A}=eN(M),{convertCharacter:S}=rq();J.useEffect(()=>{i(async()=>{try{const te=await Yt().system.getEnvironment();w(te||{})}catch(Y){console.error("Failed to fetch global environment variables:",Y),w({})}},"fetchGlobalEnvs")()},[]);const{containerRef:f,showLabels:_}=iq(640),E=J.useCallback(()=>{const Q=z.current;if(!Q)return;const{scrollLeft:Y,scrollWidth:te,clientWidth:he}=Q;Z(Y>0),$(Y+he<te-1)},[]);J.useEffect(()=>{const Q=z.current;if(Q)return E(),Q.addEventListener("scroll",E),window.addEventListener("resize",E),()=>{Q.removeEventListener("scroll",E),window.removeEventListener("resize",E)}},[E,c.length]);const I=i(Q=>{const Y=z.current;if(!Y)return;const te=Y.clientWidth*.8;Y.scrollBy({left:Q==="left"?-te:te,behavior:"smooth"})},"scrollTabs"),D=J.useMemo(()=>{const Q=Q_();return x&&!k?[...Q.filter(te=>te.provider!=="elevenlabs"),...x]:Q},[x,k]),L=J.useMemo(()=>[{sectionTitle:"Basic Info",sectionValue:"basic",sectionType:"input",fields:[{title:"Name",name:"name",description:"The primary identifier for this agent",fieldType:"text",getValue:i(Q=>Q.name||"","getValue"),tooltip:"Display name that will be visible to users. Required for identification purposes."},{title:"Username",name:"username",description:"Used in URLs and API endpoints",fieldType:"text",getValue:i(Q=>Q.username||"","getValue"),tooltip:"Unique identifier for your agent. Used in APIs/URLs and Rooms."},{title:"System",name:"system",description:"System prompt defining agent behavior",fieldType:"textarea",getValue:i(Q=>Q.system||"","getValue"),tooltip:"Instructions for the AI model that establish core behavior patterns and personality traits."},{title:"Voice Model",name:"settings.voice.model",description:"Voice model for audio synthesis",fieldType:"select",getValue:i(Q=>Q.settings?.voice?.model||"","getValue"),options:D.map(Q=>({value:Q.value,label:Q.label})),tooltip:"Select a voice that aligns with the agent's intended persona."}]},{sectionTitle:"Content",sectionValue:"content",sectionType:"array",fields:[{title:"Bio",description:"Bio data for this agent",path:"bio",getData:i(Q=>Array.isArray(Q.bio)?Q.bio:[],"getData"),tooltip:"Biographical details that establish the agent's background and context."},{title:"Topics",description:"Topics this agent can talk about",path:"topics",getData:i(Q=>Q.topics||[],"getData"),tooltip:"Subject domains the agent can discuss with confidence."},{title:"Adjectives",description:"Descriptive personality traits",path:"adjectives",getData:i(Q=>Q.adjectives||[],"getData"),tooltip:"Key personality attributes that define the agent's character."}]},{sectionTitle:"Style",sectionValue:"style",sectionType:"array",fields:[{title:"All Styles",description:"Writing style for all content types",path:"style.all",getData:i(Q=>Q.style?.all||[],"getData"),tooltip:"Core writing style guidelines applied across all content formats."},{title:"Chat Style",description:"Style specific to chat interactions",path:"style.chat",getData:i(Q=>Q.style?.chat||[],"getData"),tooltip:"Writing style specific to conversational exchanges."},{title:"Post Style",description:"Style for long-form content",path:"style.post",getData:i(Q=>Q.style?.post||[],"getData"),tooltip:"Writing style for structured content such as articles or posts."}]}],[D]),U=i(Q=>{const{name:Y,value:te,type:he}=Q.target,oe=Q.target.checked;if(he==="checkbox")t.updateField(Y,oe);else if(Y.startsWith("settings.")){const ue=Y.substring(9);t.updateSetting?t.updateSetting(ue,te):t.updateField(Y,te)}else t.updateField(Y,te)},"handleChange"),B=i((Q,Y)=>{if(Y.startsWith("settings.")){const te=Y.substring(9);if(t.updateSetting){if(t.updateSetting(te,Q),te==="voice.model"&&Q){const he=Km(Q);if(he){const oe=Array.isArray(e.plugins)?[...e.plugins]:[],ue=Km(e.settings?.voice?.model),ze=X_[he.provider],we=[...oe];ze&&!oe.includes(ze)&&we.push(ze),t.setPlugins?t.setPlugins(we):t.updateField&&t.updateField("plugins",we),ue?.provider!==he.provider&&b({title:"Plugin Updated",description:`${ze} plugin has been set for the selected voice model.`})}}}else t.updateField(Y,Q)}else t.updateField(Y,Q)},"handleVoiceModelChange"),G=i((Q,Y)=>{if(!Q.includes(".")){t.updateField(Q,Y);return}const te=Q.split(".");if(te.length===2&&te[0]==="style"){t.setStyleArray?t.setStyleArray(te[1],Y):t.updateField(Q,Y);return}t.updateField(Q,Y)},"updateArray"),H=i(async Q=>{if(Q.settings?.avatar){const Y=new Image;if(Y.src=Q.settings.avatar,await new Promise(te=>Y.onload=te),Y.width>bo||Y.height>bo){const he=await(await fetch(Q.settings.avatar)).blob(),oe=new File([he],"avatar.jpg",{type:he.type}),ue=await B_(oe);return{...Q,settings:{...Q.settings,avatar:ue}}}}return Q},"ensureAvatarSize"),K=i(async Q=>{Q.preventDefault(),C(!0);try{const Y=await H(e);let te=[];if(y?.current)te=y.current.validateSecrets().missingSecrets;else{const he=Y.settings?.secrets,oe=he&&typeof he=="object"&&!Array.isArray(he)?he:{};te=A.filter(ue=>{const ze=oe[ue.name];if(ze&&typeof ze=="string"&&ze.trim()!=="")return!1;const we=m[ue.name];return!(we&&we.trim()!=="")}).map(ue=>ue.name)}if(te.length>0){C(!1),l(Y),u(!0);return}await n(Y)}catch(Y){b({title:"Error",description:Y instanceof Error?Y.message:"Failed to update agent",variant:"destructive"})}finally{C(!1)}},"handleFormSubmit"),_e=i(async()=>{if(u(!1),g){C(!0);try{await n(g)}catch(Q){b({title:"Error",description:Q instanceof Error?Q.message:"Failed to update agent",variant:"destructive"})}finally{C(!1),l(null)}}},"handleConfirmSaveWithMissingSecrets"),ae=i(()=>{u(!1),l(null),P("custom-Secret")},"handleCancelSaveWithMissingSecrets"),se=i(Q=>j.jsxs("div",{className:`w-full ${Q.name==="name"?"agent-form-name":""} ${Q.name==="system"?"agent-form-system-prompt":""}`,children:[j.jsxs(ts,{htmlFor:Q.name,className:"text-sm font-normal block mb-2",children:[Q.title,Q.name in Ua&&Ua[Q.name]===yu.REQUIRED&&j.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),Q.fieldType==="textarea"?j.jsx(Wo,{id:Q.name,name:Q.name,value:Q.getValue(e),onChange:U,className:"min-h-[120px] resize-y"}):Q.fieldType==="checkbox"?j.jsx(hr,{id:Q.name,name:Q.name,type:"checkbox",checked:e[Q.name]==="true",onChange:U}):Q.fieldType==="select"?j.jsxs(xn,{name:Q.name,value:Q.getValue(e),onValueChange:i(Y=>B(Y,Q.name),"onValueChange"),children:[j.jsx(Gi,{children:j.jsx(_n,{placeholder:Q.name.includes("voice.model")&&k?"Loading voice models...":"Select a voice model"})}),j.jsx(Vi,{children:Q.name==="settings.voice.model"?j.jsxs(j.Fragment,{children:[j.jsx(Xc,{children:j.jsx(Qt,{value:"none",children:"No Voice"})}),j.jsx(qm,{}),j.jsxs(Xc,{children:[j.jsx(Jm,{children:"OpenAI Voices"}),W_.map(Y=>j.jsx(Qt,{value:Y.value,children:Y.label.replace("OpenAI - ","")},Y.value))]}),j.jsx(qm,{}),j.jsxs(Xc,{children:[j.jsx(Jm,{children:"ElevenLabs Voices"}),pv.map(Y=>j.jsx(Qt,{value:Y.value,children:Y.label.replace("ElevenLabs - ","")},Y.value)),x&&x.length>0&&x.map(Y=>j.jsx(Qt,{value:Y.value,children:Y.label.replace("ElevenLabs - ","")},Y.value))]})]}):Q.options?.map(Y=>j.jsx(Qt,{value:Y.value,children:Y.label},Y.value))})]}):j.jsx(hr,{id:Q.name,name:Q.name,type:Q.fieldType,value:Q.getValue(e),onChange:U}),Q.description&&j.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:Q.description})]},Q.name),"renderInputField"),ye=i(Q=>j.jsxs("div",{className:"w-full",children:[j.jsxs(ts,{htmlFor:Q.path,className:"text-sm font-normal block mb-2",children:[Q.title,Q.path in Ua&&Ua[Q.path]===yu.REQUIRED&&j.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),j.jsx(WO,{data:Q.getData(e),onChange:i(Y=>G(Q.path,Y),"onChange")}),Q.description&&j.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:Q.description})]},Q.path),"renderArrayField"),q=i(()=>{hv(e,b)},"handleExportJSON");function re(Q){return typeof Q=="object"&&Q!==null&&("lore"in Q||"clients"in Q||"modelProvider"in Q)}i(re,"isV1Character");const X=i(async Q=>{const Y=Q.target.files?.[0];if(Y)try{const te=await Y.text();let he=JSON.parse(te);re(he)&&(he=S(he));const oe=Object.keys(Ua).filter(ue=>{if(Ua[ue]!==yu.REQUIRED)return!1;const ze=ue.split(".");let we=he;for(const Be of ze)if(we=we?.[Be],we===void 0)return!0;return!1});if(oe.length>0){b({title:"Import Failed",description:`Missing required fields: ${oe.join(", ")}`,variant:"destructive"});return}t.importAgent?t.importAgent(he):console.warn("Missing importAgent method"),b({title:"Agent Imported",description:"Agent data has been successfully loaded."})}catch(te){b({title:"Import Failed",description:te instanceof Error?te.message:"Invalid JSON file",variant:"destructive"})}finally{Q.target.value=""}},"handleImportJSON"),W=J.useRef(null),le=i(()=>{W.current?.click()},"handleImportClick"),ke=J.useMemo(()=>{const Q=[];return h&&Q.push({label:"Stop Agent",description:"Stop running",onClick:h}),s&&Q.push({label:"Delete Agent",description:"Delete permanently",onClick:i(()=>s(),"onClick")}),Q},[h,s]),pe=J.useCallback(Q=>{if(O(Q),Q==="none"&&o){o();return}const Y=e7(Q);Y&&t.importAgent&&(t.importAgent(Y.template),d?.())},[o,t,d]),fe=[...L.map(Q=>({value:Q.sectionValue,label:Q.sectionTitle,shortLabel:Q.sectionTitle.split(" ")[0]})),...c.map(Q=>({value:`custom-${Q.name}`,label:Q.name,shortLabel:Q.shortLabel||Q.name.split(" ")[0]}))];return j.jsxs("div",{ref:f,className:"w-full max-w-full mx-auto p-6 sm:p-8 h-full overflow-y-auto",children:[(r||a)&&j.jsxs("div",{className:"mb-8",children:[r&&j.jsx("h1",{className:"text-2xl font-semibold mb-2",children:r}),a&&j.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-line",children:a})]}),j.jsxs("div",{className:"mb-8",children:[j.jsx(ts,{htmlFor:"template-selector",className:"text-sm",children:"Start with a template"}),j.jsxs(xn,{value:R,onValueChange:pe,children:[j.jsx(Gi,{className:"w-full mt-1",children:j.jsx(_n,{placeholder:"None (blank start)"})}),j.jsx(Vi,{children:Y_.map(Q=>j.jsx(Qt,{value:Q.id,children:j.jsx(es,{children:j.jsxs(cr,{children:[j.jsx(dr,{asChild:!0,children:j.jsx("span",{className:"w-full text-left",children:Q.label})}),j.jsx(lr,{side:"right",children:j.jsx("p",{className:"max-w-xs",children:Q.description})})]})})},Q.id))})]})]}),j.jsxs("form",{onSubmit:K,children:[j.jsxs(dv,{value:T,onValueChange:P,className:"w-full",children:[j.jsxs("div",{className:"relative mb-4",children:[V&&j.jsx(et,{type:"button",variant:"ghost",size:"sm",className:"absolute left-0 top-1/2 -translate-y-1/2 z-10 h-8 w-8 p-0 bg-background/80 backdrop-blur-sm shadow-md",onClick:i(()=>I("left"),"onClick"),children:j.jsx(kC,{className:"h-4 w-4"})}),j.jsx("div",{ref:z,className:"overflow-x-auto scrollbar-hide",children:j.jsx(If,{className:"inline-flex h-10 items-center justify-start text-muted-foreground w-full",children:fe.map(Q=>j.jsx(xo,{value:Q.value,className:Le("whitespace-nowrap",!_&&"px-2 text-xs"),children:_?Q.label:Q.shortLabel},Q.value))})}),ee&&j.jsx(et,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-1/2 -translate-y-1/2 z-10 h-8 w-8 p-0 bg-background/80 backdrop-blur-sm shadow-md",onClick:i(()=>I("right"),"onClick"),children:j.jsx(Q5,{className:"h-4 w-4"})})]}),j.jsxs("div",{className:"max-h-[100vh] overflow-y-auto pb-4 px-1",children:[L.map(Q=>j.jsx(wi,{value:Q.sectionValue,className:"space-y-6 mt-0 focus:outline-none",children:Q.sectionType==="input"?Q.fields.map(se):Q.fields.map(ye)},Q.sectionValue)),c.map(Q=>j.jsx(wi,{value:`custom-${Q.name}`,className:"mt-0 focus:outline-none",children:j.jsx("div",{className:"h-full",children:Q.component})},`custom-${Q.name}`))]})]}),j.jsxs("div",{className:"flex items-center justify-between w-full mt-6",children:[j.jsxs(_o,{children:[j.jsx(So,{asChild:!0,children:j.jsxs(et,{type:"button",variant:"outline",size:"icon",className:"flex-shrink-0 p-2.5",children:[j.jsx(Y5,{className:"h-4 w-4"}),j.jsx("span",{className:"sr-only",children:"More options"})]})}),j.jsxs(Mo,{align:"start",side:"top",children:[j.jsxs(Fi,{onClick:le,children:[j.jsx(AC,{className:"h-4 w-4 mr-2"}),"Import"]}),j.jsxs(Fi,{onClick:q,children:[j.jsx(e_,{className:"h-4 w-4 mr-2"}),"Export"]}),ke.length>0&&j.jsx(Uu,{}),ke.length>0&&ke.map(Q=>{const Y=Q.label==="Stop Agent",te=Q.label==="Delete Agent",he=Y?v:te?p:!1;return j.jsxs(Fi,{onClick:Q.onClick,disabled:he,className:te?"text-destructive focus:text-destructive hover:bg-red-50 dark:hover:bg-red-950/50":"",children:[he?j.jsx(kr,{className:"h-4 w-4 animate-spin mr-2"}):Y?j.jsx(Wg,{className:"h-4 w-4 mr-2"}):j.jsx(qo,{className:"h-4 w-4 mr-2"}),he?`${Y?"Stopping":"Deleting"}...`:Q.label]},Q.label)})]})]}),j.jsxs("div",{className:"flex items-center gap-3",children:[j.jsx(es,{children:j.jsxs(cr,{children:[j.jsx(dr,{asChild:!0,children:j.jsxs(et,{type:"button",variant:"outline",onClick:i(()=>{o?.()},"onClick"),children:[j.jsx(t_,{className:"h-4 w-4"}),j.jsx("span",{className:"ml-2",children:"Reset"})]})}),j.jsx(lr,{children:j.jsx("p",{children:"Reset all form fields to their original values"})})]})}),j.jsx(es,{children:j.jsxs(cr,{children:[j.jsx(dr,{asChild:!0,children:j.jsx(et,{type:"submit",disabled:N,className:"agent-form-submit",children:N?j.jsxs(j.Fragment,{children:[j.jsx(kr,{className:"h-4 w-4 animate-spin"}),j.jsx("span",{className:"ml-2",children:"Saving..."})]}):j.jsxs(j.Fragment,{children:[j.jsx(r_,{className:"h-4 w-4"}),j.jsx("span",{className:"ml-2",children:"Save"})]})})}),j.jsx(lr,{children:j.jsx("p",{children:"Save all changes to the agent configuration"})})]})})]}),j.jsx("input",{ref:W,type:"file",accept:".json",onChange:X,className:"hidden"})]})]}),j.jsx(dT,{open:F,onOpenChange:u,missingSecrets:(()=>{let Q=[];if(y?.current)Q=y.current.validateSecrets().missingSecrets;else{const Y=e.settings?.secrets,te=Y&&typeof Y=="object"&&!Array.isArray(Y)?Y:{};Q=A.filter(he=>{const oe=te[he.name];if(oe&&typeof oe=="string"&&oe.trim()!=="")return!1;const ue=m[he.name];return!(ue&&ue.trim()!=="")}).map(he=>he.name)}return Q.map(Y=>{const te=A.find(he=>he.name===Y);return{name:Y,plugin:te?.plugin,description:te?.description}})})(),onConfirm:_e,onCancel:ae})]})}i(rN,"CharacterForm");function iN({characterValue:e,setCharacterValue:t}){const r=i(()=>{const d=e?.settings?.avatar;return typeof d=="string"?d:null},"getAvatarUrl"),[a,n]=J.useState(r()),[s,o]=J.useState(!1),h=J.useRef(null);J.useEffect(()=>{n(r()),o(!1)},[e.id]);const p=i(async d=>{const y=d.target.files?.[0];if(y)try{const b=await B_(y);n(b),o(!0),c(b)}catch(b){console.error("Error compressing image:",b)}},"handleFileUpload"),v=i(()=>{a&&(n(null),o(!0),c(""))},"handleRemoveAvatar"),c=i(d=>{t.updateAvatar?t.updateAvatar(d):t.updateSetting?t.updateSetting("avatar",d):t.updateField&&t.updateField("settings.avatar",d)},"updateCharacterAvatar");return j.jsxs("div",{className:"rounded-lg w-full",children:[j.jsx("h2",{className:"text-xl font-bold mb-4 pb-5 ml-1",children:"Avatar Settings"}),j.jsxs("div",{className:"flex flex-col items-center gap-4 pb-4 max-w-sm mx-auto",children:[a?j.jsx("div",{className:"w-64 h-64 mb-2",children:j.jsx("img",{src:a,alt:"Agent Avatar",className:"object-cover w-full h-full rounded-lg border"})}):j.jsx("div",{className:"w-64 h-64 flex items-center justify-center border border-dashed rounded-lg text-gray-500 mb-2 cursor-pointer hover:bg-gray-50 transition-colors",onClick:i(()=>h.current?.click(),"onClick"),children:j.jsxs("div",{className:"flex flex-col items-center gap-2",children:[j.jsx(jC,{className:"w-10 h-10"}),j.jsx("span",{className:"text-sm",children:"Click to upload"})]})}),j.jsxs("div",{className:"flex flex-col gap-3 w-64",children:[j.jsx("input",{type:"file",accept:"image/*",className:"hidden",ref:h,onChange:p}),j.jsxs("div",{className:"flex gap-2",children:[j.jsxs(et,{type:"button",className:"flex items-center gap-2 flex-1",onClick:i(()=>h.current?.click(),"onClick"),children:[j.jsx(NC,{className:"w-5 h-5"}),a?"Replace":"Upload"]}),a&&j.jsx(et,{type:"button",variant:"outline",className:"flex items-center",onClick:v,children:j.jsx(Fr,{className:"w-5 h-5"})})]}),j.jsxs("div",{className:"flex items-center justify-center gap-1 text-xs text-muted-foreground mt-1",children:[j.jsx(Qg,{className:"w-3.5 h-3.5"}),j.jsxs("span",{children:["Images greater than ",bo,"x",bo," will be resized"]})]})]})]})]})}i(iN,"AvatarPanel");const Fb=I5,nq=C5,aq=R5,nN=J.forwardRef(({className:e,...t},r)=>j.jsx(bf,{ref:r,className:Le("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));nN.displayName=bf.displayName;const wc=J.forwardRef(({className:e,children:t,...r},a)=>j.jsxs(aq,{children:[j.jsx(nN,{}),j.jsxs(vf,{ref:a,className:Le("fixed left-[50%] top-[50%] z-50 bg-card grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,j.jsxs(O5,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[j.jsx(Fr,{className:"h-4 w-4"}),j.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));wc.displayName=vf.displayName;const xc=i(({className:e,...t})=>j.jsx("div",{className:Le("flex flex-col space-y-1.5 text-center sm:text-left",e),...t}),"DialogHeader");xc.displayName="DialogHeader";const $b=i(({className:e,...t})=>j.jsx("div",{className:Le("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t}),"DialogFooter");$b.displayName="DialogFooter";const _c=J.forwardRef(({className:e,...t},r)=>j.jsx(yf,{ref:r,className:Le("text-lg font-semibold leading-none tracking-tight",e),...t}));_c.displayName=yf.displayName;const Gb=J.forwardRef(({className:e,...t},r)=>j.jsx(wf,{ref:r,className:Le("text-sm text-muted-foreground",e),...t}));Gb.displayName=wf.displayName;const Cn={"@elizaos/plugin-sql":{title:"Essential Plugin: SQL",description:"Provides memory and state storage. If removed, replace with an adapter plugin or your agent may lose conversation history and memory capabilities."},"@elizaos/plugin-openai":{title:"Essential Plugin: OpenAI",description:"Provides language model access. If removed, replace with another LLM plugin or your agent may fail to function properly."},"@elizaos/plugin-bootstrap":{title:"Essential Plugin: Bootstrap",description:"Provides default message processing, event handling, and attachment workflows for your agent. If removed, ensure you have a custom plugin handling these responsibilities, or your agent may not process events or respond to messages as expected."}};function aN({characterValue:e,setCharacterValue:t,initialPlugins:r}){const{data:a,error:n}=tN(),{toast:s}=rr(),[o,h]=J.useState(""),[p,v]=J.useState(!1),[c,d]=J.useState(null),[y,b]=J.useState(!1),x=J.useMemo(()=>Array.isArray(e?.plugins)?e.plugins:[],[e?.plugins]),k=J.useMemo(()=>{const Z=["@elizaos/plugin-sql"];return a?[...Z,...(Array.isArray(a)?a:Object.keys(a)).filter(ee=>!Z.includes(ee))]:Z},[a]),N=J.useMemo(()=>{const Z=e?.settings;if(!Z||typeof Z!="object"||Array.isArray(Z))return null;const ee=Z.voice;if(!ee||typeof ee!="object"||Array.isArray(ee))return null;const $=ee.model;if(!$||typeof $!="string")return null;const F=Km($);if(!F)return null;const u=X_[F.provider],g=x.includes(u);return{provider:F.provider,requiredPlugin:u,isPluginEnabled:g}},[e?.settings,x]),C=J.useMemo(()=>r?r.length!==x.length?!0:!r?.every(Z=>x.includes(Z)):!1,[x,r]),R=J.useMemo(()=>k.filter(Z=>!x.includes(Z)).filter(Z=>Z.toLowerCase().includes(o.toLowerCase())),[k,x,o]),O=i(Z=>{if(!x.includes(Z)){if(t.addPlugin)t.addPlugin(Z);else if(t.updateField){const ee=Array.isArray(e.plugins)?[...e.plugins]:[];t.updateField("plugins",[...ee,Z])}}},"handlePluginAdd"),T=i(Z=>{if(Object.keys(Cn).includes(Z)){d(Z),b(!0);return}P(Z)},"handlePluginRemove"),P=i(Z=>{const ee=x.indexOf(Z);if(ee!==-1){if(t.removePlugin)t.removePlugin(ee);else if(t.updateField){const $=[...x];$.splice(ee,1),t.updateField("plugins",$)}}},"removePlugin"),z=i(()=>{c&&(P(c),d(null)),b(!1)},"handleConfirmRemoval"),V=i(()=>{d(null),b(!1)},"handleCancelRemoval");return j.jsx("div",{className:"space-y-6",children:j.jsx("div",{className:"space-y-4",children:j.jsxs("div",{children:[j.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Plugins"}),n?j.jsxs("p",{className:"text-destructive",children:["Failed to load plugins: ",n.message]}):j.jsxs("div",{className:"space-y-4",children:[j.jsx(mv,{open:y,onOpenChange:b,children:j.jsxs(Cf,{children:[j.jsxs(Rf,{children:[j.jsx(Tf,{children:c&&Object.keys(Cn).includes(c)?Cn[c].title:"Warning: Essential Plugin"}),j.jsx(Pf,{children:c&&Object.keys(Cn).includes(c)?Cn[c].description:"This plugin provides essential functionality for your agent."})]}),j.jsxs(Of,{children:[j.jsx(Lf,{onClick:V,children:"Cancel"}),j.jsx(Df,{onClick:z,children:"Confirm Removal"})]})]})}),N&&j.jsxs("div",{className:"rounded-md border p-4 mb-4 flex items-center gap-2",children:[j.jsx(fi,{className:"h-4 w-4 text-yellow-500"}),j.jsx("p",{className:"text-xs text-white",children:(()=>{switch(N.provider){case"elevenlabs":return"ElevenLabs plugin is required for the selected voice model.";case"openai":return"OpenAI plugin is required for the selected voice model.";case"none":return'No voice plugin required for "No Voice" option.';default:return`${N.provider} plugin is required for the selected voice model.`}})()})]}),x.length>0&&j.jsxs("div",{className:"rounded-md bg-muted p-4",children:[j.jsx("h4",{className:"text-sm font-medium mb-2",children:"Currently Enabled"}),j.jsx("div",{className:"flex flex-wrap gap-2",children:[...x].sort((Z,ee)=>{const $=Object.keys(Cn).includes(Z),F=Object.keys(Cn).includes(ee);return $===F?0:$?-1:1}).map(Z=>{const ee=N?.requiredPlugin===Z,$=Object.keys(Cn).includes(Z);return j.jsxs(et,{type:"button",variant:"ghost",size:"sm",className:`inline-flex items-center rounded-full ${$?"bg-blue-800 text-blue-700 hover:bg-blue-600":"bg-primary/10 text-primary hover:bg-primary/20"} px-2.5 py-0.5 text-xs font-medium h-auto`,title:ee?"Required by voice model":$?"Essential plugin for agent functionality":"",children:[$&&j.jsx("span",{className:"w-2 h-2 rounded-full bg-white inline-block"}),j.jsx("span",{className:"text-white font-semibold",children:Z}),j.jsx("span",{className:ov("ml-1 opacity-70 hover:opacity-100",$&&"text-white"),onClick:i(()=>{if(ee){s({title:"Can't Remove Plugin",description:"This plugin is required by the selected voice model.",variant:"destructive"});return}T(Z)},"onClick"),children:""})]},Z)})}),j.jsx("div",{className:"mt-3 text-xs text-muted-foreground",children:j.jsxs("span",{className:"inline-flex items-center",children:[j.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-600 mr-1"}),"Essential plugins provide core functionality"]})})]}),j.jsx("div",{className:"space-y-2",children:j.jsxs(Fb,{open:p,onOpenChange:v,children:[j.jsx(nq,{asChild:!0,children:j.jsx(et,{variant:"outline",className:"w-full justify-start",children:"Search and add plugins..."})}),j.jsxs(wc,{className:"max-w-[400px]",children:[j.jsx(xc,{children:j.jsx(_c,{children:"Add Plugins"})}),j.jsxs("div",{className:"space-y-4 py-4",children:[j.jsx("div",{className:"space-y-2",children:j.jsx(hr,{type:"search",placeholder:"Search plugins...",value:o,onChange:i(Z=>h(Z.target.value),"onChange")})}),j.jsx("div",{className:"max-h-[300px] overflow-y-auto space-y-2",children:R.length===0?j.jsx("p",{className:"text-sm text-muted-foreground",children:"No plugins found."}):R.map(Z=>j.jsx(et,{variant:"ghost",className:"w-full justify-start font-normal",onClick:i(()=>{O(Z),h(""),v(!1)},"onClick"),children:Z},Z))})]})]})]})}),C&&j.jsx("p",{className:"text-xs text-yellow-500",children:"Plugins configuration has been changed"})]})]})})})}i(aN,"PluginsPanel");const sN=J.forwardRef(({className:e,children:t,...r},a)=>j.jsxs(i_,{ref:a,className:Le("relative overflow-hidden",e),...r,children:[j.jsx(IC,{className:"h-full w-full rounded-[inherit]",children:t}),j.jsx(oN,{}),j.jsx(CC,{})]}));sN.displayName=i_.displayName;const oN=J.forwardRef(({className:e,orientation:t="vertical",...r},a)=>j.jsx(n_,{ref:a,orientation:t,className:Le("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:j.jsx(RC,{className:"relative flex-1 rounded-full bg-border"})}));oN.displayName=n_.displayName;const sq=En("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Lg=J.forwardRef(({className:e,variant:t,...r},a)=>j.jsx("div",{ref:a,role:"alert",className:Le(sq({variant:t}),e),...r}));Lg.displayName="Alert";const oq=J.forwardRef(({className:e,...t},r)=>j.jsx("h5",{ref:r,className:Le("mb-1 font-medium leading-none tracking-tight",e),...t}));oq.displayName="AlertTitle";const Bg=J.forwardRef(({className:e,...t},r)=>j.jsx("div",{ref:r,className:Le("text-sm [&_p]:leading-relaxed",e),...t}));Bg.displayName="AlertDescription";const Vb=J.forwardRef(({characterValue:e,onChange:t},r)=>{const[a,n]=J.useState([]),[s,o]=J.useState(""),[h,p]=J.useState(""),[v,c]=J.useState(!1),[d,y]=J.useState(null),[b,x]=J.useState(""),[k,N]=J.useState(!1),[C,R]=J.useState([]),[O,T]=J.useState(new Set),[P,z]=J.useState({}),[V,Z]=J.useState(!0),[ee,$]=J.useState(!1),[F,u]=J.useState(""),g=J.useRef(null),l=J.useRef(""),m=J.useRef(null),w=J.useRef(""),M=J.useMemo(()=>e?.plugins||[],[e?.plugins]),{requiredSecrets:A,isLoading:S}=eN(M);J.useEffect(()=>{i(async()=>{try{Z(!0);const le=await Yt().system.getEnvironment();z(le||{})}catch(W){console.error("Failed to fetch global environment variables:",W),z({})}finally{Z(!1)}},"fetchGlobalEnvs")()},[]);const f=J.useCallback(()=>{const X={};return a.forEach(({name:W,value:le})=>{X[W]=le}),C.forEach(W=>{X[W]=null}),X},[a,C]),_=J.useCallback(()=>{const X=f(),le=(S?a.filter(ke=>ke.isRequired):A).filter(ke=>{const pe=typeof ke=="object"&&"name"in ke?ke.name:ke,fe=X[pe];return!(fe&&fe.trim()!==""||P[pe]&&P[pe].trim()!=="")}).map(ke=>typeof ke=="object"&&"name"in ke?ke.name:ke);return{isValid:le.length===0,missingSecrets:le}},[f,A,S,a,P]);J.useImperativeHandle(r,()=>({getSecrets:f,validateSecrets:_}),[f,_]);const E=i(X=>{T(W=>{const le=new Set(W);return le.has(X)?le.delete(X):le.add(X),le})},"toggleSecretVisibility"),I=J.useCallback(()=>{const X=[];X.push("# Environment Variables"),X.push("");const W=a.filter(ke=>ke.isRequired),le=a.filter(ke=>!ke.isRequired&&ke.value&&ke.value.trim()!=="");return W.length>0&&(X.push("# Required Secrets"),W.forEach(ke=>{ke.plugin&&X.push(`# Required by ${ke.plugin}`),ke.description&&X.push(`# ${ke.description}`),X.push(`${ke.name}=${ke.value||""}`),X.push("")})),le.length>0&&(X.push("# Optional Variables"),le.forEach(ke=>{X.push(`${ke.name}=${ke.value}`)})),X.join(`
`)},[a]),D=J.useCallback(X=>{const W=X.split(`
`),le={};for(const ke of W){const pe=ke.trim();if(!pe||pe.startsWith("#"))continue;const[fe,...Q]=pe.split("="),Y=Q.join("=").trim().replace(/^['"]|['"]$/g,"");fe&&fe.trim()&&(le[fe.trim()]=Y)}return le},[]),L=i(()=>{const X=D(F),W=a.map(le=>{if(X.hasOwnProperty(le.name)){const ke=X[le.name].startsWith("process.env.")?"":X[le.name];return{...le,value:ke,isModified:le.value!==ke}}return le.isRequired?{...le,value:"",isModified:le.value!==""}:null}).filter(Boolean);Object.entries(X).forEach(([le,ke])=>{if(!W.some(fe=>fe.name===le)){const fe=ke.startsWith("process.env.")?"":ke,Q=A.find(Y=>Y.name===le);W.push({name:le,value:fe,isNew:!0,isModified:!1,isDeleted:!1,isRequired:Q?.required||!1,description:Q?.description,example:Q?.example,plugin:Q?.plugin})}}),W.sort((le,ke)=>le.isRequired&&!ke.isRequired?-1:!le.isRequired&&ke.isRequired?1:le.name.localeCompare(ke.name)),n(W),$(!1)},"handleRawEditorSave"),U=i(()=>{u(I()),$(!0)},"openRawEditor"),B=i(()=>{navigator.clipboard.writeText(F)},"copyEnvContent");J.useEffect(()=>{if(!(S||V)&&(e.id!==g.current||!g.current||a.length===0)){const X=EJ(),W=e?.settings?.secrets||{},le=typeof W=="object"&&!Array.isArray(W)&&W!==null?AJ(W,X):{},ke=Object.entries(le).map(([Y,te])=>{const he=String(te),oe=he.startsWith("process.env.")?"":he;return{name:Y,value:oe,isNew:!1,isModified:!1,isDeleted:!1,isRequired:!1,description:void 0,example:void 0,plugin:void 0}}),pe=new Map(ke.map(Y=>[Y.name,Y])),fe=[...ke];A.forEach(Y=>{if(!pe.has(Y.name))fe.push({name:Y.name,value:"",isNew:!0,isModified:!1,isDeleted:!1,isRequired:!0,description:Y.description,example:Y.example,plugin:Y.plugin});else{const te=fe.findIndex(he=>he.name===Y.name);te!==-1&&(fe[te]={...fe[te],isRequired:!0,description:Y.description,example:Y.example,plugin:Y.plugin})}}),fe.sort((Y,te)=>Y.isRequired&&!te.isRequired?-1:!Y.isRequired&&te.isRequired?1:Y.name.localeCompare(te.name)),n(fe),R([]),g.current=e.id||"new-agent";const Q=A.map(Y=>Y.name).sort().join(",");w.current=Q}},[e.id,e.settings?.secrets,A,S,P,V]),J.useEffect(()=>{if(S)return;const X=A.map(le=>le.name).sort().join(",");if(X===w.current)return;w.current=X;const W=new Set(A.map(le=>le.name));n(le=>{const ke=le.map(fe=>{const Q=W.has(fe.name),Y=A.find(te=>te.name===fe.name);return fe.isRequired&&!Q?(setTimeout(()=>{R(te=>te.includes(fe.name)?te:[...te,fe.name])},0),null):Q&&Y?{...fe,isRequired:!0,description:Y.description,example:Y.example,plugin:Y.plugin}:{...fe,isRequired:Q,description:Q?fe.description:void 0,example:Q?fe.example:void 0,plugin:Q?fe.plugin:void 0}}).filter(Boolean),pe=new Set(ke.map(fe=>fe.name));return A.forEach(fe=>{pe.has(fe.name)||ke.push({name:fe.name,value:"",isNew:!0,isModified:!1,isDeleted:!1,isRequired:!0,description:fe.description,example:fe.example,plugin:fe.plugin})}),ke.sort((fe,Q)=>fe.isRequired&&!Q.isRequired?-1:!fe.isRequired&&Q.isRequired?1:fe.name.localeCompare(Q.name)),ke})},[A,S,P]),J.useEffect(()=>{const X=new Set(A.map(W=>W.name));n(W=>W.filter(ke=>{const pe=X.has(ke.name)||!ke.isRequired&&ke.value&&ke.value.trim()!=="";return!pe&&ke.isRequired&&R(fe=>fe.includes(ke.name)?fe:[...fe,ke.name]),pe}))},[A]),J.useEffect(()=>{if(!t)return;const X=setTimeout(()=>{const W=f(),le=new Set(a.map(Q=>Q.name)),ke=e?.settings?.secrets||{};Object.keys(ke).forEach(Q=>{!le.has(Q)&&!C.includes(Q)&&(W[Q]=null)});const pe=Object.keys(W).sort().reduce((Q,Y)=>(Q[Y]=W[Y],Q),{}),fe=JSON.stringify(pe);fe!==l.current&&(l.current=fe,t(W))},100);return()=>clearTimeout(X)},[a,C,t,e?.settings?.secrets,f]);const G=J.useCallback(X=>{const W=new FileReader;W.onload=le=>{const pe=(le.target?.result).split(`
`),fe={};for(const Q of pe){const Y=Q.trim();if(!Y||Y.startsWith("#"))continue;const[te,...he]=Y.split("="),oe=he.join("=").trim().replace(/^['"]|['"]$/g,"");te&&(fe[te.trim()]=oe)}n(Q=>{const Y=new Map(Q.map(({name:he,value:oe,...ue})=>[he,{value:oe,...ue}]));for(const[he,oe]of Object.entries(fe)){const ue=oe.startsWith("process.env.")?"":oe,ze=Y.get(he);if(ze)Y.set(he,{...ze,value:ue,isModified:!0});else{const we=A.find(Be=>Be.name===he);Y.set(he,{value:ue,isNew:!0,isModified:!1,isRequired:we?.required||!1,description:we?.description,example:we?.example,plugin:we?.plugin})}}const te=Array.from(Y.entries()).map(([he,oe])=>({name:he,...oe}));return te.sort((he,oe)=>he.isRequired&&!oe.isRequired?-1:!he.isRequired&&oe.isRequired?1:he.name.localeCompare(oe.name)),te}),C.length>0&&R(Q=>Q.filter(Y=>!Object.keys(fe).includes(Y)))},W.readAsText(X)},[A,C]);J.useEffect(()=>{const X=m.current;if(!X)return;const W=i(fe=>{fe.preventDefault(),fe.stopPropagation()},"preventDefaults"),le=i(()=>{N(!0)},"highlight"),ke=i(()=>{N(!1)},"unhighlight"),pe=i(fe=>{W(fe),ke();const Q=fe.dataTransfer?.files?.[0];Q&&Q.name.endsWith(".env")&&G(Q)},"handleDrop");return["dragenter","dragover"].forEach(fe=>X.addEventListener(fe,le)),["dragleave","drop"].forEach(fe=>X.addEventListener(fe,ke)),["dragenter","dragover","dragleave","drop"].forEach(fe=>X.addEventListener(fe,W)),X.addEventListener("drop",pe),()=>{["dragenter","dragover","dragleave","drop"].forEach(fe=>X.removeEventListener(fe,W)),["dragenter","dragover"].forEach(fe=>X.removeEventListener(fe,le)),["dragleave","drop"].forEach(fe=>X.removeEventListener(fe,ke)),X.removeEventListener("drop",pe)}},[G]);const H=i(()=>{if(s&&h){const X=a.some(le=>le.name===s),W=h.startsWith("process.env.")?"":h;if(X)n(a.map(le=>le.name===s?{...le,value:W,isModified:!0}:le)),o(""),p("");else{C.includes(s)&&R(C.filter(fe=>fe!==s));const le=A.find(fe=>fe.name===s),ke={name:s,value:W,isNew:!0,isRequired:le?.required||!1,description:le?.description,example:le?.example,plugin:le?.plugin},pe=[...a,ke];pe.sort((fe,Q)=>fe.isRequired&&!Q.isRequired?-1:!fe.isRequired&&Q.isRequired?1:fe.name.localeCompare(Q.name)),n(pe),o(""),p("")}}},"addEnv"),K=i(X=>{d!==null&&d!==X&&y(null),y(X),x(a[X].value),T(W=>new Set(W).add(X))},"startEditing"),_e=i(X=>{const W=[...a],le=b.startsWith("process.env.")?"":b;W[X].value!==le&&(W[X].value=le,W[X].isModified=!0),n(W),y(null),x(""),T(ke=>{const pe=new Set(ke);return pe.delete(X),pe})},"saveEdit"),ae=i(()=>{const X=d;y(null),x(""),X!==null&&T(W=>{const le=new Set(W);return le.delete(X),le})},"cancelEdit"),se=i(X=>{const W=a[X].name;R([...C,W]),n(a.filter((le,ke)=>ke!==X)),y(null)},"removeEnv"),ye=A.filter(X=>{const W=a.find(pe=>pe.name===X.name),le=W&&W.value&&W.value.trim()!=="",ke=P[X.name]&&P[X.name].trim()!=="";return!le&&!ke}),q=J.useCallback(X=>P[X]&&P[X].trim()!=="",[P]),re="scrollbar-visible";return j.jsxs("div",{className:"w-full h-full flex flex-col",children:[j.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[j.jsxs("div",{className:"flex items-center gap-2",children:[j.jsx("h2",{className:"text-lg font-semibold",children:"Variables"}),j.jsxs(xi,{variant:"secondary",className:"text-xs",children:[a.filter(X=>X.value&&X.value.trim()!=="").length," Service Variables"]})]}),j.jsxs(et,{type:"button",variant:"outline",size:"sm",onClick:U,className:"flex items-center gap-2",children:[j.jsx(ma,{className:"w-4 h-4"}),"Raw Editor"]})]}),j.jsx(sN,{className:"flex-1",children:j.jsxs("div",{className:"p-4 space-y-4",children:[(S||V)&&j.jsxs("div",{className:"space-y-2",children:[j.jsx(wo,{className:"h-4 w-48"}),j.jsx(wo,{className:"h-4 w-64"})]}),!S&&!V&&ye.length>0&&j.jsxs(Lg,{children:[j.jsx(fi,{className:"h-4 w-4"}),j.jsxs(Bg,{children:[j.jsx("strong",{children:"Missing required secrets:"}),j.jsx("ul",{className:"mt-2 space-y-1",children:ye.map(X=>j.jsxs("li",{className:"text-sm",children:[" ",j.jsx("code",{className:"font-mono",children:X.name}),X.plugin&&j.jsxs("span",{className:"text-muted-foreground ml-1",children:["(required by ",X.plugin,")"]})]},X.name))})]})]}),!S&&!V&&A.some(X=>q(X.name)&&!a.find(W=>W.name===X.name)?.value)&&j.jsxs(Lg,{className:"border-blue-200 bg-blue-50 dark:border-blue-800 dark:bg-blue-900/20",children:[j.jsx($c,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"}),j.jsxs(Bg,{className:"text-blue-800 dark:text-blue-200",children:[j.jsx("strong",{children:"Global environment variables detected:"}),j.jsx("p",{className:"text-sm mt-1",children:"Some required secrets are automatically using values from your global environment settings. To override any of these for this specific agent, simply enter a new value in the field."})]})]}),j.jsxs("div",{className:"space-y-2",children:[j.jsxs("div",{className:"hidden md:grid md:grid-cols-[minmax(200px,1fr)_2fr_auto] gap-2 items-end",children:[j.jsxs("div",{className:"space-y-1",children:[j.jsx("label",{htmlFor:"new-secret-name",className:"text-xs font-medium text-muted-foreground uppercase",children:"Name"}),j.jsx(hr,{id:"new-secret-name",placeholder:"VARIABLE_NAME",value:s,onChange:i(X=>o(X.target.value),"onChange"),className:"font-mono text-sm",onKeyDown:i(X=>{X.key==="Enter"&&(X.preventDefault(),H())},"onKeyDown")})]}),j.jsxs("div",{className:"space-y-1",children:[j.jsx("label",{htmlFor:"new-secret-value",className:"text-xs font-medium text-muted-foreground uppercase",children:"Value"}),j.jsxs("div",{className:"relative",children:[j.jsx("div",{className:`rounded border ${re}`,children:j.jsx(hr,{id:"new-secret-value",type:v?"text":"password",placeholder:"Enter value...",value:h,onChange:i(X=>p(X.target.value),"onChange"),className:"font-mono text-sm pr-10 border-0 focus-visible:ring-0 w-auto min-w-full rounded",style:{minWidth:"100%"},onKeyDown:i(X=>{X.key==="Enter"&&(X.preventDefault(),H())},"onKeyDown")})}),j.jsx(et,{type:"button",variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7 p-0",onClick:i(()=>c(!v),"onClick"),children:v?j.jsx(mn,{className:"w-4 h-4"}):j.jsx(zi,{className:"w-4 h-4"})})]})]}),j.jsx(et,{type:"button",onClick:H,size:"sm",children:"Add"})]}),j.jsxs("div",{className:"md:hidden space-y-3",children:[j.jsxs("div",{className:"space-y-1",children:[j.jsx("label",{htmlFor:"new-secret-name-mobile",className:"text-xs font-medium text-muted-foreground uppercase",children:"Name"}),j.jsx(hr,{id:"new-secret-name-mobile",placeholder:"VARIABLE_NAME",value:s,onChange:i(X=>o(X.target.value),"onChange"),className:"font-mono text-sm w-full",onKeyDown:i(X=>{X.key==="Enter"&&(X.preventDefault(),document.getElementById("new-secret-value-mobile")?.focus())},"onKeyDown")})]}),j.jsxs("div",{className:"space-y-1",children:[j.jsx("label",{htmlFor:"new-secret-value-mobile",className:"text-xs font-medium text-muted-foreground uppercase",children:"Value"}),j.jsxs("div",{className:"relative",children:[j.jsx("div",{className:`rounded border ${re}`,children:j.jsx(hr,{id:"new-secret-value-mobile",type:v?"text":"password",placeholder:"Enter value...",value:h,onChange:i(X=>p(X.target.value),"onChange"),className:"font-mono text-sm pr-10 border-0 focus-visible:ring-0 w-auto min-w-full rounded",style:{minWidth:"100%"},onKeyDown:i(X=>{X.key==="Enter"&&(X.preventDefault(),H())},"onKeyDown")})}),j.jsx(et,{type:"button",variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7 p-0",onClick:i(()=>c(!v),"onClick"),children:v?j.jsx(mn,{className:"w-4 h-4"}):j.jsx(zi,{className:"w-4 h-4"})})]})]}),j.jsx(et,{type:"button",onClick:H,size:"sm",className:"w-full",children:"Add Variable"})]})]}),a.length>0&&j.jsxs(es,{children:[j.jsxs("div",{className:"hidden md:block border rounded-lg overflow-hidden relative",children:[j.jsx("div",{className:"bg-muted/50 px-4 py-2 border-b",children:j.jsxs("div",{className:"grid grid-cols-[minmax(200px,1fr)_2fr_auto] gap-4 text-xs font-medium text-muted-foreground uppercase",children:[j.jsx("div",{children:"Name"}),j.jsx("div",{children:"Value"}),j.jsx("div",{className:"text-center",children:"Actions"})]})}),j.jsx("div",{className:"max-h-[400px] overflow-y-auto",children:a.map((X,W)=>j.jsxs("div",{className:`grid grid-cols-[minmax(200px,1fr)_2fr_auto] gap-4 items-center px-4 py-3 border-b last:border-b-0 hover:bg-muted/10 transition-colors ${X.isRequired&&(!X.value||X.value.trim()==="")&&!q(X.name)?"bg-red-500/5":""}`,children:[j.jsxs("div",{className:"pr-2",children:[j.jsxs("div",{className:"flex items-start gap-2 flex-wrap",children:[j.jsx("code",{className:"font-mono text-sm font-medium break-words cursor-default",children:X.name}),X.isRequired&&j.jsx(xi,{variant:"outline",className:"text-xs shrink-0",children:"Required"}),q(X.name)&&j.jsxs(cr,{children:[j.jsx(dr,{asChild:!0,children:j.jsxs(xi,{variant:"secondary",className:"text-xs shrink-0 flex items-center gap-1",children:[j.jsx($c,{className:"w-3 h-3"}),"Global"]})}),j.jsx(lr,{children:j.jsx("p",{children:X.value?"Overriding global value":"Value pulled from global environment. Add new value to override."})})]})]}),X.description&&j.jsx("div",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:X.description}),X.plugin&&j.jsxs("div",{className:"text-xs text-muted-foreground truncate",children:["Required by: ",X.plugin]})]}),j.jsx("div",{className:"min-w-0",children:d===W?j.jsxs("div",{className:"flex items-center gap-2",children:[j.jsx("div",{className:"relative flex-1",children:j.jsx("div",{className:`rounded border ${re}`,children:j.jsx(hr,{value:b,onChange:i(le=>x(le.target.value),"onChange"),className:"font-mono text-sm border-0 focus-visible:ring-0 w-auto min-w-full rounded",style:{minWidth:"100%"},type:O.has(W)?"text":"password",placeholder:q(X.name)&&!X.value?"Using global (enter to override)":X.example||"Enter value...",autoFocus:!0,onKeyDown:i(le=>{le.key==="Enter"?(le.preventDefault(),_e(W)):le.key==="Escape"&&ae()},"onKeyDown")})})}),j.jsxs("div",{className:"flex items-center gap-1",children:[j.jsx(et,{type:"button",variant:"ghost",size:"sm",onClick:i(()=>E(W),"onClick"),className:"h-8 w-8 p-0",children:O.has(W)?j.jsx(mn,{className:"w-4 h-4"}):j.jsx(zi,{className:"w-4 h-4"})}),j.jsx(et,{type:"button",variant:"ghost",size:"sm",onClick:i(()=>_e(W),"onClick"),className:"h-8 w-8 p-0 text-green-600 hover:text-green-700",children:j.jsx(Sn,{className:"w-4 h-4"})}),j.jsx(et,{type:"button",variant:"ghost",size:"sm",onClick:ae,className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",children:j.jsx(Fr,{className:"w-4 h-4"})})]})]}):j.jsxs("div",{className:"flex items-center gap-2 group",children:[j.jsxs(cr,{children:[j.jsx(dr,{asChild:!0,children:j.jsx("div",{className:`flex-1 border rounded px-3 py-1 ${re}`,children:O.has(W)?j.jsx("code",{className:"font-mono text-sm whitespace-nowrap block",children:X.value||j.jsx("span",{className:"text-muted-foreground italic",children:q(X.name)?"Using global value":X.example?`e.g. ${X.example}`:"Not set"})}):X.value?j.jsx("code",{className:"font-mono text-sm text-muted-foreground block",children:""}):j.jsx("span",{className:"text-muted-foreground italic text-sm block",children:q(X.name)?"Using global value":"Not set"})})}),q(X.name)&&j.jsx(lr,{className:"max-w-xs",children:j.jsxs("div",{className:"space-y-1",children:[j.jsx("p",{className:"font-semibold",children:"Global Environment Variable"}),j.jsx("p",{className:"text-sm",children:X.value?"You've entered a custom value for this agent. This overrides the global environment setting. Clear the field to use the global value.":"This secret is currently using the value from your global environment settings. The actual value is hidden for security. Enter a value here if you want to override it for this agent only."})]})})]}),j.jsx(et,{type:"button",variant:"ghost",size:"sm",onClick:i(()=>E(W),"onClick"),className:"h-8 w-8 p-0 opacity-0 group-hover:opacity-100 transition-opacity",children:O.has(W)?j.jsx(mn,{className:"w-4 h-4"}):j.jsx(zi,{className:"w-4 h-4"})})]})}),j.jsxs("div",{className:"flex items-center justify-center gap-1",children:[j.jsx(et,{type:"button",variant:"ghost",size:"sm",onClick:i(()=>K(W),"onClick"),disabled:d!==null&&d!==W,className:"h-8 w-8 p-0",children:j.jsx(_y,{className:"w-4 h-4"})}),j.jsx(et,{type:"button",variant:"ghost",size:"sm",onClick:i(()=>se(W),"onClick"),disabled:d!==null,className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",children:j.jsx(xa,{className:"w-4 h-4"})})]})]},`${X.name}-${W}`))})]}),j.jsx("div",{className:"md:hidden space-y-3",children:a.map((X,W)=>j.jsxs("div",{className:`border rounded-lg p-4 space-y-3 ${X.isRequired&&(!X.value||X.value.trim()==="")?"border-red-500/50 bg-red-500/5":""}`,children:[j.jsx("div",{className:"space-y-1",children:j.jsxs("div",{className:"flex items-start justify-between gap-2",children:[j.jsxs("div",{className:"flex-1 min-w-0",children:[j.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[j.jsx("code",{className:"font-mono text-sm font-medium break-all",children:X.name}),X.isRequired&&j.jsx(xi,{variant:"outline",className:"text-xs",children:"Required"}),q(X.name)&&j.jsxs(xi,{variant:"secondary",className:"text-xs flex items-center gap-1",children:[j.jsx($c,{className:"w-3 h-3"}),"Global"]})]}),X.description&&j.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:X.description}),X.plugin&&j.jsxs("div",{className:"text-xs text-muted-foreground",children:["Required by: ",X.plugin]})]}),j.jsxs("div",{className:"flex items-center gap-1",children:[j.jsx(et,{type:"button",variant:"ghost",size:"sm",onClick:i(()=>K(W),"onClick"),disabled:d!==null&&d!==W,className:"h-8 w-8 p-0",children:j.jsx(_y,{className:"w-4 h-4"})}),j.jsx(et,{type:"button",variant:"ghost",size:"sm",onClick:i(()=>se(W),"onClick"),disabled:d!==null,className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",children:j.jsx(xa,{className:"w-4 h-4"})})]})]})}),j.jsxs("div",{className:"space-y-1",children:[j.jsx("div",{className:"text-xs font-medium text-muted-foreground uppercase",children:"Value"}),d===W?j.jsxs("div",{className:"space-y-2",children:[j.jsxs("div",{className:"relative",children:[j.jsx("div",{className:`rounded border ${re}`,children:j.jsx(hr,{value:b,onChange:i(le=>x(le.target.value),"onChange"),className:"font-mono text-sm pr-10 border-0 focus-visible:ring-0 w-auto min-w-full rounded",style:{minWidth:"100%"},type:O.has(W)?"text":"password",placeholder:q(X.name)&&!X.value?"Using global (enter to override)":X.example||"Enter value...",autoFocus:!0,onKeyDown:i(le=>{le.key==="Enter"?(le.preventDefault(),_e(W)):le.key==="Escape"&&ae()},"onKeyDown")})}),j.jsx(et,{type:"button",variant:"ghost",size:"sm",onClick:i(()=>E(W),"onClick"),className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7 p-0",children:O.has(W)?j.jsx(mn,{className:"w-4 h-4"}):j.jsx(zi,{className:"w-4 h-4"})})]}),j.jsxs("div",{className:"flex items-center gap-2",children:[j.jsxs(et,{type:"button",variant:"outline",size:"sm",onClick:i(()=>_e(W),"onClick"),className:"flex-1",children:[j.jsx(Sn,{className:"w-4 h-4 mr-2"}),"Save"]}),j.jsxs(et,{type:"button",variant:"ghost",size:"sm",onClick:ae,className:"flex-1",children:[j.jsx(Fr,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]}):j.jsxs("div",{className:"flex items-center gap-2",children:[j.jsxs(cr,{children:[j.jsx(dr,{asChild:!0,children:j.jsx("div",{className:`flex-1 border rounded px-3 py-1 ${re}`,children:O.has(W)?j.jsx("code",{className:"font-mono text-sm whitespace-nowrap block",children:X.value||j.jsx("span",{className:"text-muted-foreground italic",children:q(X.name)?"Using global value":X.example?`e.g. ${X.example}`:"Not set"})}):X.value?j.jsx("code",{className:"font-mono text-sm text-muted-foreground block",children:""}):j.jsx("span",{className:"text-muted-foreground italic text-sm block",children:q(X.name)?"Using global value":"Not set"})})}),q(X.name)&&j.jsx(lr,{className:"max-w-xs",children:j.jsxs("div",{className:"space-y-1",children:[j.jsx("p",{className:"font-semibold",children:"Global Environment Variable"}),j.jsx("p",{className:"text-sm",children:X.value?"You've entered a custom value for this agent. This overrides the global environment setting. Clear the field to use the global value.":"This secret is currently using the value from your global environment settings. The actual value is hidden for security. Enter a value here if you want to override it for this agent only."})]})})]}),j.jsx(et,{type:"button",variant:"ghost",size:"sm",onClick:i(()=>E(W),"onClick"),className:"h-8 w-8 p-0",children:O.has(W)?j.jsx(mn,{className:"w-4 h-4"}):j.jsx(zi,{className:"w-4 h-4"})})]})]})]},`${X.name}-${W}-mobile`))})]}),j.jsxs("div",{ref:m,className:`border-2 border-dashed rounded-lg p-6 text-center cursor-pointer transition-colors ${k?"border-primary bg-primary/5":"border-muted-foreground/25 hover:border-muted-foreground/50"}`,onClick:i(()=>document.getElementById("env-upload")?.click(),"onClick"),children:[j.jsx(OC,{className:"w-8 h-8 mx-auto mb-2 text-muted-foreground"}),j.jsxs("div",{className:"text-sm text-muted-foreground",children:["Drag & drop ",j.jsx("code",{className:"bg-muted px-1 rounded",children:".env"})," file or click to select"]}),j.jsx("input",{id:"env-upload",type:"file",accept:"*/*",className:"hidden",onChange:i(X=>{const W=X.target.files?.[0];W&&W.name.endsWith(".env")&&G(W)},"onChange")})]})]})}),j.jsx(Fb,{open:ee,onOpenChange:$,children:j.jsxs(wc,{className:"max-w-3xl h-[600px] flex flex-col",children:[j.jsxs(xc,{children:[j.jsx(_c,{children:"Raw Editor"}),j.jsx(Gb,{children:"Add, edit, or delete your project variables in .env format"})]}),j.jsx("div",{className:"flex-1 border rounded-lg overflow-hidden",children:j.jsx(Wo,{value:F,onChange:i(X=>u(X.target.value),"onChange"),placeholder:`# Environment Variables

# Required Secrets
API_KEY=your_api_key_here

# Optional Variables
DEBUG=true

# Comments are supported`,className:"w-full h-full resize-none border-0 font-mono text-sm focus-visible:ring-0"})}),j.jsxs($b,{children:[j.jsxs(et,{variant:"outline",size:"sm",onClick:B,children:[j.jsx(Ui,{className:"w-4 h-4 mr-2"}),"Copy ENV"]}),j.jsx(et,{variant:"outline",size:"sm",onClick:i(()=>$(!1),"onClick"),children:"Cancel"}),j.jsx(et,{size:"sm",onClick:L,children:"Update Variables"})]})]})})]})});Vb.displayName="SecretPanel";function lq(e){const[t,r]=J.useState(e),a=J.useCallback((d,y)=>{r(b=>{if(!d.includes("."))return{...b,[d]:y};const x=d.split("."),k=x[0],N=x.slice(1).join(".");if(!isNaN(Number(x[1]))){const O=x[0],T=Number(x[1]),P=b[O],z=Array.isArray(P)?[...P]:[];if(x.length===2)z[T]=y;else{const V=x.slice(2).join(".");z[T]=n(z[T],V,y)}return{...b,[O]:z}}if(d.startsWith("settings.secrets.")){const O=d.split(".")[2],T=b.settings||{},z={...T.secrets||{},[O]:y};return{...b,settings:{...T,secrets:z}}}return{...b,[k]:n(b[k],N,y)}})},[]),n=i((d,y,b)=>{if(!y.includes("."))return{...d,[y]:b};const[x,...k]=y.split("."),N=k.join(".");return{...d,[x]:n(d[x]||{},N,b)}},"updateNestedObject"),s=J.useCallback((d,y)=>{r(b=>{const x=d.split(".");if(x.length===1){const R=x[0],O=Array.isArray(b[R])?[...b[R]]:[];return{...b,[R]:[...O,y]}}const k=d,N=h(b,k),C=Array.isArray(N)?[...N]:[];return p(b,k,[...C,y])})},[]),o=J.useCallback((d,y)=>{r(b=>{const x=d.split(".");if(x.length===1){const R=x[0],O=Array.isArray(b[R])?[...b[R]]:[];return y<0||y>=O.length?b:{...b,[R]:[...O.slice(0,y),...O.slice(y+1)]}}const k=d,N=h(b,k);if(!Array.isArray(N)||y<0||y>=N.length)return b;const C=[...N.slice(0,y),...N.slice(y+1)];return p(b,k,C)})},[]),h=i((d,y)=>{const b=y.split(".");let x=d;for(const k of b){if(x==null)return;x=x[k]}return x},"getNestedValue"),p=i((d,y,b)=>{const x=y.split(".");if(x.length===1)return{...d,[x[0]]:b};const[k,...N]=x,C=d[k]||{};return{...d,[k]:p(C,N.join("."),b)}},"setNestedValue"),v=J.useCallback(()=>{r(e)},[e]),c=J.useCallback(d=>{r(y=>{const{secrets:b,avatar:x,...k}=d,N={...y.settings,...k};if(typeof x=="string"&&(N.avatar=x),b){const R={};Object.entries(b).forEach(([O,T])=>{T!==null&&(R[O]=T)}),N.secrets=R}return{...y,settings:N}})},[]);return{value:t,updateField:a,addArrayItem:s,removeArrayItem:o,reset:v,updateSettings:c}}i(lq,"usePartialUpdate");function lN(e){const t=J.useRef(JSON.parse(JSON.stringify(e))),{value:r,updateField:a,addArrayItem:n,removeArrayItem:s,reset:o,updateSettings:h}=lq(e),p=J.useCallback($=>{Object.entries($).forEach(([F,u])=>{F==="settings"&&u?h({...r.settings,...u}):F==="style"&&u?a("style",{all:u.all||[],chat:u.chat||[],post:u.post||[]}):Array.isArray(u)?a(F,[...u]):a(F,u)})},[r.settings,a,h]),v=J.useCallback(($,F)=>{a(`settings.${$}`,F)},[a]),c=J.useCallback($=>{h($)},[h]),d=J.useCallback($=>{a("system",$)},[a]),y=J.useCallback(($,F)=>{const u=r.settings||{},g=u.secrets||{},m={...typeof g=="object"&&g!==null&&!Array.isArray(g)?g:{},[$]:F};h({...u,secrets:m})},[r.settings,h]),b=J.useCallback($=>{const F=r.settings||{},u=F.secrets||{},l={...typeof u=="object"&&u!==null&&!Array.isArray(u)?u:{}};delete l[$];const m={...F,secrets:l};h(m)},[r.settings,h]),x=J.useCallback(($,F)=>{n($,F)},[n]),k=J.useCallback(($,F)=>{s($,F)},[s]),N=J.useCallback(($,F,u)=>{a(`${$}.${F}`,u)},[a]),C=J.useCallback(($,F)=>{n(`style.${$}`,F)},[n]),R=J.useCallback(($,F)=>{s(`style.${$}`,F)},[s]),O=J.useCallback(($,F,u)=>{a(`style.${$}.${F}`,u)},[a]),T=J.useCallback(($,F)=>{a(`style.${$}`,F)},[a]),P=J.useCallback($=>{n("plugins",$)},[n]),z=J.useCallback($=>{s("plugins",$)},[s]),V=J.useCallback($=>{a("plugins",$)},[a]),Z=J.useCallback($=>{v("avatar",$)},[v]),ee=J.useCallback(()=>{const $={},F=r,u=t.current;["name","username","system"].forEach(w=>{F[w]!==u[w]&&($[w]=F[w])}),F.enabled!==u.enabled&&($.enabled=F.enabled),JSON.stringify(F.bio)!==JSON.stringify(u.bio)&&($.bio=F.bio),JSON.stringify(F.topics)!==JSON.stringify(u.topics)&&($.topics=F.topics),JSON.stringify(F.adjectives)!==JSON.stringify(u.adjectives)&&($.adjectives=F.adjectives),JSON.stringify(F.plugins)!==JSON.stringify(u.plugins)&&($.plugins=F.plugins),JSON.stringify(F.style)!==JSON.stringify(u.style)&&($.style=F.style);const l=u.settings||{},m=F.settings||{};if(JSON.stringify(m)!==JSON.stringify(l)){if($.settings={},m.avatar!==l.avatar&&($.settings.avatar=m.avatar),JSON.stringify(m.voice)!==JSON.stringify(l.voice)&&($.settings.voice=m.voice),JSON.stringify(m.secrets)!==JSON.stringify(l.secrets)){const w=l.secrets||{},M=m.secrets||{},A=typeof w=="object"&&w!==null&&!Array.isArray(w)?w:{},S=typeof M=="object"&&M!==null&&!Array.isArray(M)?M:{},f={};let _=!1;Object.entries(S).forEach(([E,I])=>{A[E]!==I&&(f[E]=I,_=!0)}),Object.keys(A).forEach(E=>{S[E]===void 0&&(f[E]=null,_=!0)}),_&&($.settings||($.settings={}),$.settings.secrets=f)}Object.keys($.settings).length===0&&delete $.settings}return $},[r]);return{agent:r,updateField:a,reset:o,updateSettings:h,setSettings:c,getChangedFields:ee,updateSetting:v,updateSystemPrompt:d,updateSecret:y,removeSecret:b,addContentItem:x,removeContentItem:k,updateContentItem:N,addStyleRule:C,removeStyleRule:R,updateStyleRule:O,setStyleArray:T,addPlugin:P,removePlugin:z,setPlugins:V,updateAvatar:Z,importAgent:p}}i(lN,"useAgentUpdate");const uq=e7("none")?.template||{name:"",username:"",system:"",bio:[],topics:[],adjectives:[],plugins:["@elizaos/plugin-sql","@elizaos/plugin-openai","@elizaos/plugin-bootstrap"],settings:{secrets:{}}};function uN(){const e=Ar(),{toast:t}=rr(),r=xr(),[a]=J.useState({...uq}),n=J.useRef(null),[s,o]=J.useState({}),h=lN(a),p=i(c=>({...c,bio:c.bio??[],messageExamples:c.messageExamples??[],postExamples:c.postExamples??[],topics:c.topics??[],adjectives:c.adjectives??[],plugins:c.plugins??[],style:{all:c.style?.all??[],chat:c.style?.chat??[],post:c.style?.post??[]},settings:c.settings??{secrets:{}}}),"ensureRequiredFields"),v=i(async c=>{try{const d=p(c),y=s||n.current?.getSecrets()||{};y&&Object.keys(y).length>0&&(d.settings={...d.settings,secrets:y}),await Yt().agents.createAgent({agent:d}),r.invalidateQueries({queryKey:["characters"]}),t({title:"Success",description:"Agent created successfully!"}),r.invalidateQueries({queryKey:["agents"]}),e("/")}catch(d){t({title:"Error",description:d instanceof Error?d.message:"Failed to create agent",variant:"destructive"})}},"handleSubmit");return j.jsx("div",{className:"h-full w-full",children:j.jsx(rN,{characterValue:h.agent,setCharacterValue:h,title:"Create Agent",description:"Configure your AI agent's behavior and capabilities.",onSubmit:v,onReset:i(()=>{h.reset(),o({})},"onReset"),onDelete:i(()=>{e("/")},"onDelete"),onTemplateChange:i(()=>{o({})},"onTemplateChange"),isAgent:!0,secretPanelRef:n,customComponents:[{name:"Plugins",component:j.jsx(aN,{characterValue:h.agent,setCharacterValue:h})},{name:"Secret",component:j.jsx(Vb,{characterValue:h.agent,ref:n,onChange:i(c=>{o(c)},"onChange")})},{name:"Avatar",component:j.jsx(iN,{characterValue:h.agent,setCharacterValue:h})}]})})}i(uN,"AgentCreator");function La({open:e,onOpenChange:t,title:r,description:a,confirmText:n="Confirm",cancelText:s="Cancel",onConfirm:o,variant:h="destructive"}){const p=i(()=>{o(),t(!1)},"handleConfirm");return j.jsx(mv,{open:e,onOpenChange:t,children:j.jsxs(Cf,{children:[j.jsxs(Rf,{children:[j.jsx(Tf,{children:r}),j.jsx(Pf,{children:a})]}),j.jsxs(Of,{children:[j.jsx(Lf,{children:s}),j.jsx(Df,{onClick:p,className:h==="destructive"?"bg-destructive text-destructive-foreground":void 0,children:n})]})]})})}i(La,"ConfirmationDialog");const fq=i(()=>typeof window>"u"?"eliza-api-key":`eliza-api-key-${window.location.origin}`,"getLocalStorageApiKey");function fN({open:e,onOpenChange:t,onApiKeySaved:r}){const[a,n]=J.useState(""),[s,o]=J.useState(!1),{toast:h}=rr(),p=fq();J.useEffect(()=>{if(e)try{const c=localStorage.getItem(p);c&&n(c)}catch(c){console.error("Unable to access localStorage",c)}},[e,p]);const v=i(()=>{if(!a.trim()){h({title:"API Key Required",description:"Please enter a valid API key.",variant:"destructive"});return}try{localStorage.setItem(p,a)}catch{h({title:"Storage Error",description:"Unable to save the API key (browser storage blocked).",variant:"destructive"});return}r(),h({title:"API Key Saved",description:"The API key has been stored locally."}),t(!1)},"handleSave");return j.jsx(Fb,{open:e,onOpenChange:t,children:j.jsxs(wc,{className:"sm:max-w-[425px]",children:[j.jsxs(xc,{children:[j.jsx(_c,{children:"API Key Required"}),j.jsx(Gb,{children:"Please enter the API key required to connect to the Eliza server. This key will be stored locally in your browser."})]}),j.jsx("div",{className:"grid gap-4 py-4",children:j.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[j.jsx(ts,{htmlFor:"api-key",className:"text-right",children:"API Key"}),j.jsxs("div",{className:"col-span-3 relative",children:[j.jsx(hr,{id:"api-key",type:s?"text":"password",value:a,onChange:i(c=>n(c.target.value),"onChange"),className:"pr-10"}),j.jsx(et,{type:"button",variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 h-7 w-7 -translate-y-1/2 text-muted-foreground",onClick:i(()=>o(!s),"onClick"),"aria-label":s?"Hide API key":"Show API key",children:s?j.jsx(mn,{className:"h-4 w-4"}):j.jsx(zi,{className:"h-4 w-4"})})]})]})}),j.jsx($b,{children:j.jsx(et,{type:"button",onClick:v,children:"Save Key"})})]})})}i(fN,"ApiKeyDialog");const cN=J.createContext(void 0),cq=i(({children:e})=>{const t=xr(),[r,a]=J.useState(!1),n=J.useCallback(()=>{a(!0)},[]),s=J.useCallback(()=>{a(!1),qe.info("API key saved via dialog, invalidating ping query."),t.invalidateQueries({queryKey:["ping"]})},[t]);return j.jsxs(cN.Provider,{value:{openApiKeyDialog:n},children:[e,j.jsx(fN,{open:r,onOpenChange:a,onApiKeySaved:s})]})},"AuthProvider"),dq=i(()=>{const e=J.useContext(cN);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},"useAuth");var ia={},gi={},kp={},l3;function hq(){return l3||(l3=1,Object.defineProperty(kp,"__esModule",{value:!0})),kp}i(hq,"requireHelper");var na={},Ap={},uu={},u3;function xl(){if(u3)return uu;u3=1,Object.defineProperty(uu,"__esModule",{value:!0}),uu.typeGuard=e;function e(t,r){return r}return i(e,"typeGuard$1"),uu}i(xl,"requireTypeGuard");var f3;function dN(){return f3||(f3=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CtxLike=void 0;var t=xl();(function(r){function a(n){return(0,t.typeGuard)(n,!0)&&n instanceof Object&&typeof n.done=="function"&&typeof n.abort=="function"&&typeof n.zz__addHandler=="function"&&typeof n.zz__removeHandler=="function"}i(a,"match"),r.match=a})(e.CtxLike||(e.CtxLike={}))})(Ap)),Ap}i(dN,"requireCtxLike");var c3;function pq(){return c3||(c3=1,(function(e){var t=na&&na.__createBinding||(Object.create?(function(a,n,s,o){o===void 0&&(o=s);var h=Object.getOwnPropertyDescriptor(n,s);(!h||("get"in h?!n.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:i(function(){return n[s]},"get")}),Object.defineProperty(a,o,h)}):(function(a,n,s,o){o===void 0&&(o=s),a[o]=n[s]})),r=na&&na.__exportStar||function(a,n){for(var s in a)s!=="default"&&!Object.prototype.hasOwnProperty.call(n,s)&&t(n,a,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(dN(),e)})(na)),na}i(pq,"requireInterfaces");var Us={},d3;function mq(){if(d3)return Us;d3=1,Object.defineProperty(Us,"__esModule",{value:!0}),Us.__hack=void 0;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0
 
THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.
 
See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */return Us.__hack="NOT TYPE ONLY",Us}i(mq,"requireLib_dom");var jp={},h3;function hN(){return h3||(h3=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.EventTargetLike=void 0;var t=xl();(function(r){var a;(function(p){function v(c){return(0,t.typeGuard)(c,!0)&&c instanceof Object&&typeof c.subscribe=="function"}i(v,"match"),p.match=v})(a=r.RxJSSubject||(r.RxJSSubject={}));var n;(function(p){function v(c){return(0,t.typeGuard)(c,!0)&&c instanceof Object&&typeof c.addListener=="function"&&typeof c.removeListener=="function"}i(v,"match"),p.match=v})(n=r.NodeStyleEventEmitter||(r.NodeStyleEventEmitter={}));var s;(function(p){function v(c){return(0,t.typeGuard)(c,!0)&&c instanceof Object&&typeof c.on=="function"&&typeof c.off=="function"}i(v,"match"),p.match=v})(s=r.JQueryStyleEventEmitter||(r.JQueryStyleEventEmitter={}));var o;(function(p){function v(c){return(0,t.typeGuard)(c,!0)&&c instanceof Object&&typeof c.addEventListener=="function"&&typeof c.removeEventListener=="function"}i(v,"match"),p.match=v})(o=r.HasEventTargetAddRemove||(r.HasEventTargetAddRemove={}));function h(p){try{return o.match(p)||n.match(p)||s.match(p)||a.match(p)}catch{return!1}}i(h,"canBe"),r.canBe=h})(e.EventTargetLike||(e.EventTargetLike={}))})(jp)),jp}i(hN,"requireEventTargetLike");var an={},p3;function pN(){if(p3)return an;p3=1;var e=an&&an.__extends||(function(){var a=i(function(n,s){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,h){o.__proto__=h}||function(o,h){for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(o[p]=h[p])},a(n,s)},"extendStatics");return function(n,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");a(n,s);function o(){this.constructor=n}i(o,"__"),n.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}})();Object.defineProperty(an,"__esModule",{value:!0}),an.DetachedEvtError=an.TimeoutEvtError=void 0;var t=(function(a){e(n,a);function n(s){var o=this.constructor,h=a.call(this,"Evt timeout after ".concat(s,"ms"))||this;return h.timeout=s,Object.setPrototypeOf(h,o.prototype),h}return i(n,"TimeoutEvtError"),n})(Error);an.TimeoutEvtError=t;var r=(function(a){e(n,a);function n(){var s=this.constructor,o=a.call(this,"Evt handler detached")||this;return Object.setPrototypeOf(o,s.prototype),o}return i(n,"DetachedEvtError"),n})(Error);return an.DetachedEvtError=r,an}i(pN,"requireEvtError");var Np={},m3;function gq(){return m3||(m3=1,Object.defineProperty(Np,"__esModule",{value:!0})),Np}i(gq,"requireOperator");var g3;function vq(){return g3||(g3=1,(function(e){var t=gi&&gi.__createBinding||(Object.create?(function(s,o,h,p){p===void 0&&(p=h);var v=Object.getOwnPropertyDescriptor(o,h);(!v||("get"in v?!o.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:i(function(){return o[h]},"get")}),Object.defineProperty(s,p,v)}):(function(s,o,h,p){p===void 0&&(p=h),s[p]=o[h]})),r=gi&&gi.__setModuleDefault||(Object.create?(function(s,o){Object.defineProperty(s,"default",{enumerable:!0,value:o})}):function(s,o){s.default=o}),a=gi&&gi.__exportStar||function(s,o){for(var h in s)h!=="default"&&!Object.prototype.hasOwnProperty.call(o,h)&&t(o,s,h)},n=gi&&gi.__importStar||function(s){if(s&&s.__esModule)return s;var o={};if(s!=null)for(var h in s)h!=="default"&&Object.prototype.hasOwnProperty.call(s,h)&&t(o,s,h);return r(o,s),o};Object.defineProperty(e,"__esModule",{value:!0}),e.dom=void 0,a(hq(),e),a(pq(),e),e.dom=n(mq()),a(hN(),e),a(pN(),e),a(gq(),e)})(gi)),gi}i(vq,"requireTypes");var Ip={},sn={},Cp={},v3;function mN(){return v3||(v3=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.convertOperatorToStatelessF=void 0;function t(n){var s=n[1];return function(o,h){var p=n[0](o,s,h);return p!==null&&h(function(){return s=p[0]}),p}}i(t,"encapsulateOpState");function r(n){return function(s,o){var h=n(s,o);return h instanceof Object&&!("input"in h)&&h.length===1?h:h?[s]:null}}i(r,"statelessOpToStatelessF");function a(n){return typeof n!="function"?t(n):r(n)}i(a,"convertOperatorToStatelessF"),e.convertOperatorToStatelessF=a})(Cp)),Cp}i(mN,"requireConvertOperatorToStatelessFLambda");var Fs={},b3;function Sc(){if(b3)return Fs;b3=1,Object.defineProperty(Fs,"__esModule",{value:!0}),Fs.id=void 0;var e=i(function(t){return t},"id$1");return Fs.id=e,Fs}i(Sc,"requireId");var y3;function Mc(){if(y3)return sn;y3=1;var e=sn&&sn.__read||function(o,h){var p=typeof Symbol=="function"&&o[Symbol.iterator];if(!p)return o;var v=p.call(o),c,d=[],y;try{for(;(h===void 0||h-- >0)&&!(c=v.next()).done;)d.push(c.value)}catch(b){y={error:b}}finally{try{c&&!c.done&&(p=v.return)&&p.call(v)}finally{if(y)throw y.error}}return d},t=sn&&sn.__spreadArray||function(o,h,p){if(p||arguments.length===2)for(var v=0,c=h.length,d;v<c;v++)(d||!(v in h))&&(d||(d=Array.prototype.slice.call(h,0,v)),d[v]=h[v]);return o.concat(d||Array.prototype.slice.call(h))};Object.defineProperty(sn,"__esModule",{value:!0}),sn.compose=void 0;var r=mN(),a=Sc();function n(o,h){var p=(0,r.convertOperatorToStatelessF)(o),v=(0,r.convertOperatorToStatelessF)(h);return(0,a.id)(function(c,d){var y=p(c,d);if(!y)return null;var b=e(y,1),x=b[0],k=v(x,d);return k&&[k[0]]})}i(n,"f_o_g");function s(){for(var o=[],h=0;h<arguments.length;h++)o[h]=arguments[h];if(o.length===1){var p=e(o,1),v=p[0];return(0,r.convertOperatorToStatelessF)(v)}var c=e(o),d=c[0],y=c[1],b=c.slice(2),x=n(d,y);return b.length===0?x:s.apply(void 0,t([x],e(b),!1))}return i(s,"compose$1"),sn.compose=s,sn}i(Mc,"requireCompose");var w3;function bq(){return w3||(w3=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.compose=void 0;var t=Mc();Object.defineProperty(e,"compose",{enumerable:!0,get:i(function(){return t.compose},"get")})})(Ip)),Ip}i(bq,"requireUtil");var aa={},sa={},oa={},x3;function Zb(){if(x3)return oa;x3=1,oa.__esModule=!0,oa.Polyfill=oa.LightMapImpl=void 0;var e=(function(){function t(){this.record=[]}return i(t,"LightMapImpl"),t.prototype.has=function(r){return this.record.map(function(a){var n=a[0];return n}).indexOf(r)>=0},t.prototype.get=function(r){var a=this.record.filter(function(n){var s=n[0];return s===r})[0];if(a!==void 0)return a[1]},t.prototype.set=function(r,a){var n=this.record.filter(function(s){var o=s[0];return o===r})[0];return n===void 0?this.record.push([r,a]):n[1]=a,this},t.prototype.delete=function(r){var a=this.record.map(function(n){var s=n[0];return s}).indexOf(r);return a<0?!1:(this.record.splice(a,1),!0)},t.prototype.keys=function(){return this.record.map(function(r){var a=r[0];return a})},t})();return oa.LightMapImpl=e,oa.Polyfill=typeof Map<"u"?Map:e,oa}i(Zb,"require_Map");var _3;function yq(){if(_3)return sa;_3=1,sa.__esModule=!0,sa.Polyfill=sa.LightSetImpl=void 0;var e=Zb(),t=(function(){function r(a){if(this.map=new e.Polyfill,a!==void 0)for(var n=0,s=a;n<s.length;n++){var o=s[n];this.add(o)}}return i(r,"LightSetImpl"),r.prototype.has=function(a){return this.map.has(a)},r.prototype.add=function(a){return this.map.set(a,!0),this},r.prototype.values=function(){return this.map.keys()},r.prototype.delete=function(a){return this.map.delete(a)},r})();return sa.LightSetImpl=t,sa.Polyfill=typeof Set<"u"?Set:t,sa}i(yq,"require_Set");var $s={},S3;function Ec(){if(S3)return $s;S3=1,$s.__esModule=!0,$s.Polyfill=void 0;var e=Zb();return $s.Polyfill=typeof WeakMap<"u"?WeakMap:e.Polyfill,$s}i(Ec,"require_WeakMap");var vi={},Ha={},M3;function Ms(){if(M3)return Ha;M3=1;var e=Ha&&Ha.__assign||function(){return e=Object.assign||function(r){for(var a,n=1,s=arguments.length;n<s;n++){a=arguments[n];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},e.apply(this,arguments)};Object.defineProperty(Ha,"__esModule",{value:!0}),Ha.overwriteReadonlyProp=t;function t(r,a,n){try{r[a]=n}catch{}if(r[a]===n)return n;var s=void 0,o=Object.getOwnPropertyDescriptor(r,a)||{enumerable:!0,configurable:!0};if(o.get)throw new Error("Probably a wrong idea to overwrite ".concat(String(a)," getter"));try{Object.defineProperty(r,a,e(e({},o),{value:n}))}catch(h){s=h}if(r[a]!==n)throw s||new Error("Can't assign");return n}return i(t,"overwriteReadonlyProp$1"),Ha}i(Ms,"requireOverwriteReadonlyProp");var E3;function Hb(){if(E3)return vi;E3=1;var e=vi&&vi.__extends||(function(){var p=i(function(v,c){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,y){d.__proto__=y}||function(d,y){for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&(d[b]=y[b])},p(v,c)},"extendStatics");return function(v,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");p(v,c);function d(){this.constructor=v}i(d,"__"),v.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}})(),t=vi&&vi.__read||function(p,v){var c=typeof Symbol=="function"&&p[Symbol.iterator];if(!c)return p;var d=c.call(p),y,b=[],x;try{for(;(v===void 0||v-- >0)&&!(y=d.next()).done;)b.push(y.value)}catch(k){x={error:k}}finally{try{y&&!y.done&&(c=d.return)&&c.call(d)}finally{if(x)throw x.error}}return b};Object.defineProperty(vi,"__esModule",{value:!0}),vi.AssertionError=void 0,vi.assert=s,vi.is=h;var r=Ms(),a=(function(p){e(v,p);function v(c){var d=this.constructor,y=p.call(this,"Wrong assertion encountered"+(c?': "'.concat(c,'"'):""))||this;if(y.originalMessage=c,Object.setPrototypeOf(y,d.prototype),!y.stack)return y;try{(0,r.overwriteReadonlyProp)(y,"stack",y.stack.split(`
`).filter(function(){for(var b=[],x=0;x<arguments.length;x++)b[x]=arguments[x];var k=t(b,2),N=k[1];return N!==1&&N!==2}).join(`
`))}catch{}return y}return i(v,"AssertionError"),v})(Error);vi.AssertionError=a;var n=void 0;function s(p,v){if(arguments.length===0&&(p=!0),n!==void 0){n=void 0;return}if(!p)throw new a(typeof v=="function"?v():v)}i(s,"assert$1");var o="Wrong usage of the `is` function refer to https://docs.tsafe.dev/is";function h(p){var v={};if(n!==void 0)throw n=void 0,new Error(o);return n=v,Promise.resolve().then(function(){if(n===v)throw new Error(o)}),null}return i(h,"is"),vi}i(Hb,"requireAssert");var Gs={},Vs={},k3;function Ti(){return k3||(k3=1,Object.defineProperty(Vs,"__esModule",{value:!0}),Vs.importProxy=void 0,Vs.importProxy={}),Vs}i(Ti,"requireImportProxy");var A3;function Jb(){if(A3)return Gs;A3=1,Object.defineProperty(Gs,"__esModule",{value:!0}),Gs.LazyEvt=void 0;var e=Ms(),t=Ti(),r=(function(){function a(){this.initialPostCount=0}return i(a,"LazyEvt"),Object.defineProperty(a.prototype,"evt",{get:i(function(){return this.__evt===void 0&&(this.__evt=new t.importProxy.Evt,(0,e.overwriteReadonlyProp)(this.__evt,"postCount",this.initialPostCount)),this.__evt},"get"),enumerable:!1,configurable:!0}),a.prototype.__post=function(n,s){return this.__evt===void 0?++this.initialPostCount:this.__evt[s?"postAndWait":"post"](n)},a.prototype.post=function(n){return this.__post(n,!1)},a.prototype.postAndWait=function(n){return this.__post(n,!0)},a})();return Gs.LazyEvt=r,Gs}i(Jb,"requireLazyEvt");var j3;function wq(){return j3||(j3=1,(function(e){var t=aa&&aa.__assign||function(){return t=Object.assign||function(c){for(var d,y=1,b=arguments.length;y<b;y++){d=arguments[y];for(var x in d)Object.prototype.hasOwnProperty.call(d,x)&&(c[x]=d[x])}return c},t.apply(this,arguments)},r=aa&&aa.__values||function(c){var d=typeof Symbol=="function"&&Symbol.iterator,y=d&&c[d],b=0;if(y)return y.call(c);if(c&&typeof c.length=="number")return{next:i(function(){return c&&b>=c.length&&(c=void 0),{value:c&&c[b++],done:!c}},"next")};throw new TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.Ctx=void 0;var a=yq(),n=Ec(),s=Hb(),o=Jb(),h=Ti(),p=Ms(),v=(function(){function c(){this.lazyEvtAttach=new o.LazyEvt,this.lazyEvtDetach=new o.LazyEvt,this.lazyEvtDoneOrAborted=new o.LazyEvt,this.handlers=new a.Polyfill,this.evtByHandler=new n.Polyfill}return i(c,"CtxImpl"),Object.defineProperty(c.prototype,"evtDoneOrAborted",{get:i(function(){return this.lazyEvtDoneOrAborted.evt},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"evtAttach",{get:i(function(){return this.lazyEvtAttach.evt},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"evtDetach",{get:i(function(){return this.lazyEvtDetach.evt},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"completionStatus",{get:i(function(){return this.__completionStatus},"get"),enumerable:!1,configurable:!0}),c.prototype.onDoneOrAborted=function(d){this.__completionStatus=d,this.lazyEvtDoneOrAborted.post(d)},c.prototype.waitFor=function(d){var y=this;return this.evtDoneOrAborted.waitFor(d).then(function(b){if(b.type==="ABORTED")throw b.error;return b.result},function(b){throw y.abort(b),b})},c.prototype.abort=function(d){return this.__done(d)},c.prototype.done=function(d){return this.__done(void 0,d)},c.prototype.__done=function(d,y){var b,x,k=[];try{for(var N=r(this.handlers.values()),C=N.next();!C.done;C=N.next()){var R=C.value,O=this.evtByHandler.get(R),T=R.detach();T&&k.push({handler:R,evt:O})}}catch(P){b={error:P}}finally{try{C&&!C.done&&(x=N.return)&&x.call(N)}finally{if(b)throw b.error}}return this.onDoneOrAborted(t(t({},d?{type:"ABORTED",error:d}:{type:"DONE",result:y}),{handlers:k})),k},c.prototype.getHandlers=function(){var d=this;return Array.from(this.handlers.values()).map(function(y){return{handler:y,evt:d.evtByHandler.get(y)}})},c.prototype.zz__addHandler=function(d,y){if((0,s.assert)(d.ctx===this),(0,s.assert)((0,s.is)(d)),this.completionStatus!==void 0){d.detach();return}this.handlers.add(d),this.evtByHandler.set(d,y),this.lazyEvtAttach.post({handler:d,evt:y})},c.prototype.zz__removeHandler=function(d){(0,s.assert)(d.ctx===this),(0,s.assert)((0,s.is)(d)),this.lazyEvtDetach.post({handler:d,evt:this.evtByHandler.get(d)}),this.handlers.delete(d)},c})();e.Ctx=v;try{(0,p.overwriteReadonlyProp)(e.Ctx,"name","Ctx")}catch{}h.importProxy.Ctx=e.Ctx})(aa)),aa}i(wq,"requireCtx");var fr={},Rp={},N3;function xq(){return N3||(N3=1,Rp.__esModule=!0,Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:i(function(e){if(this==null)throw new TypeError('"this" is null or not defined');var t=Object(this),r=t.length>>>0;if(typeof e!="function")throw new TypeError("predicate must be a function");for(var a=arguments[1],n=0;n<r;){var s=t[n];if(e.call(a,s,n,t))return s;n++}},"value"),configurable:!0,writable:!0})),Rp}i(xq,"requireArray_prototype_find");var Zs={},I3;function _q(){if(I3)return Zs;I3=1,Object.defineProperty(Zs,"__esModule",{value:!0}),Zs.create=void 0;var e=Ti();function t(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];return r.length===0?new e.importProxy.Evt:new e.importProxy.StatefulEvt(r[0])}return i(t,"create"),Zs.create=t,Zs}i(_q,"requireEvt_create");var Hs={},C3;function Sq(){if(C3)return Hs;C3=1,Object.defineProperty(Hs,"__esModule",{value:!0}),Hs.getCtxFactory=void 0;var e=Ec(),t=Ti();function r(){var a=new e.Polyfill;function n(s){var o=a.get(s);return o===void 0&&(o=new t.importProxy.Ctx,a.set(s,o)),o}return i(n,"getCtx"),n}return i(r,"getCtxFactory"),Hs.getCtxFactory=r,Hs}i(Sq,"requireEvt_getCtx");var Js={},R3;function Mq(){if(R3)return Js;R3=1,Object.defineProperty(Js,"__esModule",{value:!0}),Js.factorize=void 0;function e(t){return t}return i(e,"factorize"),Js.factorize=e,Js}i(Mq,"requireEvt_factorize");var la={},O3;function gN(){if(O3)return la;O3=1,Object.defineProperty(la,"__esModule",{value:!0}),la.merge=la.mergeImpl=void 0;var e=Ti();function t(a,n){var s=new e.importProxy.Evt,o=i(function(h){return s.post(h)},"callback");return n.forEach(function(h){a===void 0?h.attach(o):h.attach(a,o)}),s}i(t,"mergeImpl"),la.mergeImpl=t;function r(a,n){return"length"in a?t(void 0,a):t(a,n)}return i(r,"merge"),la.merge=r,la}i(gN,"requireEvt_merge");var Hr={},T3;function Eq(){if(T3)return Hr;T3=1;var e=Hr&&Hr.__createBinding||(Object.create?(function(x,k,N,C){C===void 0&&(C=N);var R=Object.getOwnPropertyDescriptor(k,N);(!R||("get"in R?!k.__esModule:R.writable||R.configurable))&&(R={enumerable:!0,get:i(function(){return k[N]},"get")}),Object.defineProperty(x,C,R)}):(function(x,k,N,C){C===void 0&&(C=N),x[C]=k[N]})),t=Hr&&Hr.__setModuleDefault||(Object.create?(function(x,k){Object.defineProperty(x,"default",{enumerable:!0,value:k})}):function(x,k){x.default=k}),r=Hr&&Hr.__importStar||function(x){if(x&&x.__esModule)return x;var k={};if(x!=null)for(var N in x)N!=="default"&&Object.prototype.hasOwnProperty.call(x,N)&&e(k,x,N);return t(k,x),k},a=Hr&&Hr.__read||function(x,k){var N=typeof Symbol=="function"&&x[Symbol.iterator];if(!N)return x;var C=N.call(x),R,O=[],T;try{for(;(k===void 0||k-- >0)&&!(R=C.next()).done;)O.push(R.value)}catch(P){T={error:P}}finally{try{R&&!R.done&&(N=C.return)&&N.call(C)}finally{if(T)throw T.error}}return O};Object.defineProperty(Hr,"__esModule",{value:!0}),Hr.from=void 0;var n=Sc(),s=Hb(),o=xl(),h=gN(),p=Ti(),v=r(hN()),c=v.EventTargetLike;function d(x,k,N,C){var R=i(function(ee){return c.canBe(ee)},"matchEventTargetLike");if(!R(k)){if("then"in k){var O=new p.importProxy.Evt,T=(function(){var ee=i(function(){return x?.evtDoneOrAborted.postCount},"getEvtDonePostCount"),$=ee();return function(){return $!==ee()}})();return k.then(function(ee){T()||O.post(ee)}),O}return(0,h.mergeImpl)(x,Array.from(k).map(function(ee){return d(x,ee,N,C)}))}var P;if(c.HasEventTargetAddRemove.match(k))P={on:i(function(ee,$,F){return k.addEventListener($,ee,F)},"on"),off:i(function(ee,$,F){return k.removeEventListener($,ee,F)},"off")};else if(c.NodeStyleEventEmitter.match(k))P={on:i(function(ee,$){return k.addListener($,ee)},"on"),off:i(function(ee,$){return k.removeListener($,ee)},"off")};else if(c.JQueryStyleEventEmitter.match(k))P={on:i(function(ee,$){return k.on($,ee)},"on"),off:i(function(ee,$){return k.off($,ee)},"off")};else if(c.RxJSSubject.match(k)){var z;P={on:i(function(ee){return z=k.subscribe(function($){return ee($)})},"on"),off:i(function(){return z.unsubscribe()},"off")}}else(0,n.id)(k),(0,s.assert)(!1);var V=new p.importProxy.Evt,Z=i(function(ee){return V.post(ee)},"listener");return x?.evtDoneOrAborted.attachOnce(function(){return P.off(Z,N,C)}),P.on(Z,N,C),V}i(d,"fromImplForTargetEventLike");function y(x,k,N){var C=p.importProxy.Evt.create(),R=i(function(T){var P=a(T,1),z=P[0];return C.post(z)},"listener"),O=new k(R);return O.observe(N),x?.evtDoneOrAborted.attachOnce(function(){return O.disconnect()}),C}i(y,"fromImplForObserver");function b(x,k,N,C){return"evtDoneOrAborted"in x?((0,s.assert)((0,o.typeGuard)(k,!0)&&(0,o.typeGuard)(N,!0)&&(0,o.typeGuard)(C,!0)),typeof k=="function"?((0,s.assert)((0,o.typeGuard)(N,!0)&&(0,o.typeGuard)(C,!0)),y(x,k,N)):((0,s.assert)((0,o.typeGuard)(N,!0)),d(x,k,N,C))):((0,s.assert)((0,o.typeGuard)(x,!0)&&(0,o.typeGuard)(k,!0)&&(0,o.typeGuard)(N,!0)),typeof x=="function"?((0,s.assert)((0,o.typeGuard)(k,!0)&&(0,o.typeGuard)(N,!0)),y(void 0,x,k)):((0,s.assert)((0,o.typeGuard)(k,!0)),d(void 0,x,k,N)))}return i(b,"from"),Hr.from=b,Hr}i(Eq,"requireEvt_from");var qs={},P3;function kq(){if(P3)return qs;P3=1,Object.defineProperty(qs,"__esModule",{value:!0}),qs.asPostable=void 0;function e(t){return t}return i(e,"asPostable"),qs.asPostable=e,qs}i(kq,"requireEvt_asPostable");var on={},D3;function Aq(){if(D3)return on;D3=1;var e=on&&on.__awaiter||function(n,s,o,h){function p(v){return v instanceof o?v:new o(function(c){c(v)})}return i(p,"adopt"),new(o||(o=Promise))(function(v,c){function d(x){try{b(h.next(x))}catch(k){c(k)}}i(d,"fulfilled");function y(x){try{b(h.throw(x))}catch(k){c(k)}}i(y,"rejected");function b(x){x.done?v(x.value):p(x.value).then(d,y)}i(b,"step"),b((h=h.apply(n,s||[])).next())})},t=on&&on.__generator||function(n,s){var o={label:0,sent:i(function(){if(v[0]&1)throw v[1];return v[1]},"sent"),trys:[],ops:[]},h,p,v,c;return c={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function d(b){return function(x){return y([b,x])}}function y(b){if(h)throw new TypeError("Generator is already executing.");for(;o;)try{if(h=1,p&&(v=b[0]&2?p.return:b[0]?p.throw||((v=p.return)&&v.call(p),0):p.next)&&!(v=v.call(p,b[1])).done)return v;switch(p=0,v&&(b=[b[0]&2,v.value]),b[0]){case 0:case 1:v=b;break;case 4:return o.label++,{value:b[1],done:!1};case 5:o.label++,p=b[1],b=[0];continue;case 7:b=o.ops.pop(),o.trys.pop();continue;default:if(v=o.trys,!(v=v.length>0&&v[v.length-1])&&(b[0]===6||b[0]===2)){o=0;continue}if(b[0]===3&&(!v||b[1]>v[0]&&b[1]<v[3])){o.label=b[1];break}if(b[0]===6&&o.label<v[1]){o.label=v[1],v=b;break}if(v&&o.label<v[2]){o.label=v[2],o.ops.push(b);break}v[2]&&o.ops.pop(),o.trys.pop();continue}b=s.call(n,o)}catch(x){b=[6,x],p=0}finally{h=v=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}};Object.defineProperty(on,"__esModule",{value:!0}),on.asyncPipe=void 0;var r=Ti();function a(n,s){var o=this,h="state"in n?r.importProxy.Evt.create(void 0):r.importProxy.Evt.create(),p=0;return n.attach(function(v){return e(o,void 0,void 0,function(){var c,d,y;return t(this,function(b){switch(b.label){case 0:return p++,c=p,d=s(v),d!==null&&"then"in d?[4,d]:[3,2];case 1:return y=b.sent(),"state"in n&&c!==p?[2]:[3,3];case 2:y=d,b.label=3;case 3:return y?(h.post(y[0]),[2]):[2]}})})}),h}return i(a,"asyncPipe"),on.asyncPipe=a,on}i(Aq,"requireEvt_asyncPipe");var Ks={},L3;function jq(){if(L3)return Ks;L3=1,Object.defineProperty(Ks,"__esModule",{value:!0}),Ks.asNonPostable=void 0;function e(t){return t}return i(e,"asNonPostable"),Ks.asNonPostable=e,Ks}i(jq,"requireEvt_asNonPostable");var Jr={},B3;function Nq(){if(B3)return Jr;B3=1;var e=Jr&&Jr.__assign||function(){return e=Object.assign||function(c){for(var d,y=1,b=arguments.length;y<b;y++){d=arguments[y];for(var x in d)Object.prototype.hasOwnProperty.call(d,x)&&(c[x]=d[x])}return c},e.apply(this,arguments)},t=Jr&&Jr.__read||function(c,d){var y=typeof Symbol=="function"&&c[Symbol.iterator];if(!y)return c;var b=y.call(c),x,k=[],N;try{for(;(d===void 0||d-- >0)&&!(x=b.next()).done;)k.push(x.value)}catch(C){N={error:C}}finally{try{x&&!x.done&&(y=b.return)&&y.call(b)}finally{if(N)throw N.error}}return k},r=Jr&&Jr.__spreadArray||function(c,d,y){if(y||arguments.length===2)for(var b=0,x=d.length,k;b<x;b++)(k||!(b in d))&&(k||(k=Array.prototype.slice.call(d,0,b)),k[b]=d[b]);return c.concat(k||Array.prototype.slice.call(d))};Object.defineProperty(Jr,"__esModule",{value:!0}),Jr.parsePropsFromArgs=Jr.matchAll=void 0;var a=Sc(),n=Mc(),s=xl();function o(){return!0}i(o,"matchAll"),Jr.matchAll=o;var h=i(function(c){return c!==void 0&&(0,s.typeGuard)(c,!0)&&(typeof c=="function"||typeof c[0]=="function")},"canBeOperator"),p={op:o,ctx:void 0,timeout:void 0,callback:void 0};function v(c,d){switch(d){case"pipe":{var y=i(function(u){return u.length===0?{}:{op:u.length===1?u[0]:n.compose.apply(void 0,r([],t(u),!1))}},"getOpWrap");if(h(c[0]))return(0,a.id)(e(e({},p),y(c)));var b=t(c),x=b[0],k=b.slice(1);return(0,a.id)(e(e(e({},p),x!==void 0?{ctx:x}:{}),y(k)))}case"waitFor":return v(r(r([],t(c.filter(function(u,g){return!(g===c.length-1&&u===void 0)})),!1),[p.callback],!1),"attach*");case"attach*":{var N=c.length;switch(N){case 4:{var C=t(c,4),R=C[0],O=C[1],T=C[2],P=C[3];return(0,a.id)(e(e({},p),{op:R,ctx:O,timeout:T,callback:P}))}case 3:{var z=t(c,3),R=z[0],O=z[1],T=z[2];if(typeof O=="number"){var V=O,Z=T;return h(R)?(0,a.id)(e(e({},p),{timeout:V,callback:Z,op:R})):(0,a.id)(e(e({},p),{timeout:V,callback:Z,ctx:R}))}else return(0,a.id)(e(e({},p),{op:R,ctx:O,callback:T}))}case 2:{var ee=t(c,2),R=ee[0],O=ee[1];if(typeof R=="number")return(0,a.id)(e(e({},p),{timeout:R,callback:O}));var Z=O;return h(R)?(0,a.id)(e(e({},p),{callback:Z,op:R})):(0,a.id)(e(e({},p),{callback:Z,ctx:R}))}case 1:{var $=t(c,1),F=$[0];return(0,a.id)(e(e({},p),{callback:F}))}case 0:return(0,a.id)(e({},p))}}break}}return i(v,"parsePropsFromArgs"),Jr.parsePropsFromArgs=v,Jr}i(Nq,"requireEvt_parsePropsFromArgs");var Xs={},z3;function Iq(){if(z3)return Xs;z3=1,Object.defineProperty(Xs,"__esModule",{value:!0}),Xs.newCtx=void 0;var e=Ti();function t(){return new e.importProxy.Ctx}return i(t,"newCtx"),Xs.newCtx=t,Xs}i(Iq,"requireEvt_newCtx");var ar={},U3;function Cq(){if(U3)return ar;U3=1;var e=ar&&ar.__spreadArrays||function(){for(var O=0,T=0,P=arguments.length;T<P;T++)O+=arguments[T].length;for(var z=Array(O),V=0,T=0;T<P;T++)for(var Z=arguments[T],ee=0,$=Z.length;ee<$;ee++,V++)z[V]=Z[ee];return z};ar.__esModule=!0,ar.buildMethodCb=ar.buildCb=ar.getPrComplete=ar.isRunning=ar.cancelAllQueuedCalls=ar.getQueuedCallCount=ar.buildMethod=ar.build=ar.createGroupRef=void 0;var t=Ec(),r=(function(){function O(){this.queuedCalls=[],this.isRunning=!1,this.prComplete=Promise.resolve()}return i(O,"ExecQueue2"),O.prototype.cancelAllQueuedCalls=function(){var T;return this.queuedCalls.splice(0,T=this.queuedCalls.length),T},O})(),a={},n=new t.Polyfill;function s(O,T){var P=n.get(O);P||(P=new t.Polyfill,n.set(O,P));var z=P.get(T);return z||(z=new r,P.set(T,z)),z}i(s,"getOrCreateExecQueue");function o(){return new Array(0)}i(o,"createGroupRef"),ar.createGroupRef=o;function h(){for(var O=[],T=0;T<arguments.length;T++)O[T]=arguments[T];switch(O.length){case 1:return k(!0,o(),O[0]);case 2:return k(!0,O[0],O[1])}}i(h,"build"),ar.build=h;function p(){for(var O=[],T=0;T<arguments.length;T++)O[T]=arguments[T];switch(O.length){case 1:return k(!1,o(),O[0]);case 2:return k(!1,O[0],O[1])}}i(p,"buildMethod"),ar.buildMethod=p;function v(O,T){var P=x(O,T);return P?P.queuedCalls.length:0}i(v,"getQueuedCallCount"),ar.getQueuedCallCount=v;function c(O,T){var P=x(O,T);return P?P.cancelAllQueuedCalls():0}i(c,"cancelAllQueuedCalls"),ar.cancelAllQueuedCalls=c;function d(O,T){var P=x(O,T);return P?P.isRunning:!1}i(d,"isRunning"),ar.isRunning=d;function y(O,T){var P=x(O,T);return P?P.prComplete:Promise.resolve()}i(y,"getPrComplete"),ar.getPrComplete=y;var b=new t.Polyfill;function x(O,T){T===void 0&&(T=a);var P=b.get(O);if(!P)throw Error("Not a run exclusiveFunction");var z=n.get(T);if(z)return z.get(P)}i(x,"getExecQueueByFunctionAndContext");function k(O,T,P){var z,V=i((function(){for(var Z=this,ee=[],$=0;$<arguments.length;$++)ee[$]=arguments[$];if(!O){if(!(this instanceof Object))throw new Error("Run exclusive, <this> should be an object");z=s(this,T)}return new Promise(function(F,u){var g;z.prComplete=new Promise(function(m){return g=i(function(){return m()},"onPrCompleteResolve")});var l=i(function(m){g(),z.isRunning=!1,z.queuedCalls.length&&z.queuedCalls.shift()(),"data"in m?F(m.data):u(m.reason)},"onComplete");i((function m(){for(var w=this,M=[],A=0;A<arguments.length;A++)M[A]=arguments[A];if(z.isRunning){z.queuedCalls.push(function(){return m.apply(w,M)});return}z.isRunning=!0;try{P.apply(this,M).then(function(S){return l({data:S})}).catch(function(S){return l({reason:S})})}catch(S){l({reason:S})}}),"callee").apply(Z,ee)})}),"runExclusiveFunction");return O&&(z=s(a,T)),b.set(V,T),V}i(k,"buildFnPromise");function N(){for(var O=[],T=0;T<arguments.length;T++)O[T]=arguments[T];switch(O.length){case 1:return R(!0,o(),O[0]);case 2:return R(!0,O[0],O[1])}}i(N,"buildCb"),ar.buildCb=N;function C(){for(var O=[],T=0;T<arguments.length;T++)O[T]=arguments[T];switch(O.length){case 1:return R(!1,o(),O[0]);case 2:return R(!1,O[0],O[1])}}i(C,"buildMethodCb"),ar.buildMethodCb=C;function R(O,T,P){var z,V=i((function(){for(var Z=this,ee=[],$=0;$<arguments.length;$++)ee[$]=arguments[$];if(!O){if(!(this instanceof Object))throw new Error("Run exclusive, <this> should be an object");z=s(this,T)}var F=void 0;ee.length&&typeof ee[ee.length-1]=="function"&&(F=ee.pop());var u;z.prComplete=new Promise(function(l){return u=i(function(){return l()},"onPrCompleteResolve")});var g=i(function(){for(var l=[],m=0;m<arguments.length;m++)l[m]=arguments[m];u(),z.isRunning=!1,z.queuedCalls.length&&z.queuedCalls.shift()(),F&&F.apply(Z,l)},"onComplete");g.hasCallback=!!F,i((function l(){for(var m=this,w=[],M=0;M<arguments.length;M++)w[M]=arguments[M];if(z.isRunning){z.queuedCalls.push(function(){return l.apply(m,w)});return}z.isRunning=!0;try{P.apply(this,e(w,[g]))}catch(A){throw A.message+=" ( This exception should not have been thrown, miss use of run-exclusive buildCb )",A}}),"callee").apply(this,ee)}),"runExclusiveFunction");return O&&(z=s(a,T)),b.set(V,T),V}return i(R,"buildFnCallback"),ar}i(Cq,"requireRunExclusive");var ln={},F3;function Rq(){if(F3)return ln;F3=1;var e=ln&&ln.__extends||(function(){var n=i(function(s,o){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(h[v]=p[v])},n(s,o)},"extendStatics");return function(s,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");n(s,o);function h(){this.constructor=s}i(h,"__"),s.prototype=o===null?Object.create(o):(h.prototype=o.prototype,new h)}})();Object.defineProperty(ln,"__esModule",{value:!0}),ln.VoidDeferred=ln.Deferred=void 0;var t=Ms(),r=(function(){function n(){var s=this;this.isPending=!0;var o,h;this.pr=new Promise(function(p,v){o=i(function(c){(0,t.overwriteReadonlyProp)(s,"isPending",!1),p(c)},"resolve"),h=i(function(c){(0,t.overwriteReadonlyProp)(s,"isPending",!1),v(c)},"reject")}),this.resolve=o,this.reject=h}return i(n,"Deferred"),n})();ln.Deferred=r;var a=(function(n){e(s,n);function s(){return n!==null&&n.apply(this,arguments)||this}return i(s,"VoidDeferred"),s})(r);return ln.VoidDeferred=a,ln}i(Rq,"requireDeferred");var Ws={},$3;function Oq(){if($3)return Ws;$3=1,Object.defineProperty(Ws,"__esModule",{value:!0}),Ws.loosenType=void 0;function e(t){return t}return i(e,"loosenType"),Ws.loosenType=e,Ws}i(Oq,"requireEvt_loosenType");var ua={},G3;function Tq(){if(G3)return ua;G3=1,Object.defineProperty(ua,"__esModule",{value:!0}),ua.safeClearTimeout=ua.safeSetTimeout=void 0;var e=i(function(r,a){return setTimeout(r,a)},"safeSetTimeout$1");ua.safeSetTimeout=e;var t=i(function(r){return clearTimeout(r)},"safeClearTimeout");return ua.safeClearTimeout=t,ua}i(Tq,"requireSafeSetTimeout");var fu={},V3;function Pq(){if(V3)return fu;V3=1,Object.defineProperty(fu,"__esModule",{value:!0}),fu.isPromiseLike=e;function e(t){return typeof t=="object"&&t!==null&&"then"in t&&typeof t.then=="function"}return i(e,"isPromiseLike$1"),fu}i(Pq,"requireIsPromiseLike");var Z3;function vN(){return Z3||(Z3=1,(function(e){var t=fr&&fr.__assign||function(){return t=Object.assign||function(_){for(var E,I=1,D=arguments.length;I<D;I++){E=arguments[I];for(var L in E)Object.prototype.hasOwnProperty.call(E,L)&&(_[L]=E[L])}return _},t.apply(this,arguments)},r=fr&&fr.__createBinding||(Object.create?(function(_,E,I,D){D===void 0&&(D=I);var L=Object.getOwnPropertyDescriptor(E,I);(!L||("get"in L?!E.__esModule:L.writable||L.configurable))&&(L={enumerable:!0,get:i(function(){return E[I]},"get")}),Object.defineProperty(_,D,L)}):(function(_,E,I,D){D===void 0&&(D=I),_[D]=E[I]})),a=fr&&fr.__setModuleDefault||(Object.create?(function(_,E){Object.defineProperty(_,"default",{enumerable:!0,value:E})}):function(_,E){_.default=E}),n=fr&&fr.__importStar||function(_){if(_&&_.__esModule)return _;var E={};if(_!=null)for(var I in _)I!=="default"&&Object.prototype.hasOwnProperty.call(_,I)&&r(E,_,I);return a(E,_),E},s=fr&&fr.__awaiter||function(_,E,I,D){function L(U){return U instanceof I?U:new I(function(B){B(U)})}return i(L,"adopt"),new(I||(I=Promise))(function(U,B){function G(_e){try{K(D.next(_e))}catch(ae){B(ae)}}i(G,"fulfilled");function H(_e){try{K(D.throw(_e))}catch(ae){B(ae)}}i(H,"rejected");function K(_e){_e.done?U(_e.value):L(_e.value).then(G,H)}i(K,"step"),K((D=D.apply(_,E||[])).next())})},o=fr&&fr.__generator||function(_,E){var I={label:0,sent:i(function(){if(U[0]&1)throw U[1];return U[1]},"sent"),trys:[],ops:[]},D,L,U,B;return B={next:G(0),throw:G(1),return:G(2)},typeof Symbol=="function"&&(B[Symbol.iterator]=function(){return this}),B;function G(K){return function(_e){return H([K,_e])}}function H(K){if(D)throw new TypeError("Generator is already executing.");for(;I;)try{if(D=1,L&&(U=K[0]&2?L.return:K[0]?L.throw||((U=L.return)&&U.call(L),0):L.next)&&!(U=U.call(L,K[1])).done)return U;switch(L=0,U&&(K=[K[0]&2,U.value]),K[0]){case 0:case 1:U=K;break;case 4:return I.label++,{value:K[1],done:!1};case 5:I.label++,L=K[1],K=[0];continue;case 7:K=I.ops.pop(),I.trys.pop();continue;default:if(U=I.trys,!(U=U.length>0&&U[U.length-1])&&(K[0]===6||K[0]===2)){I=0;continue}if(K[0]===3&&(!U||K[1]>U[0]&&K[1]<U[3])){I.label=K[1];break}if(K[0]===6&&I.label<U[1]){I.label=U[1],U=K;break}if(U&&I.label<U[2]){I.label=U[2],I.ops.push(K);break}U[2]&&I.ops.pop(),I.trys.pop();continue}K=E.call(_,I)}catch(_e){K=[6,_e],L=0}finally{D=U=0}if(K[0]&5)throw K[1];return{value:K[0]?K[1]:void 0,done:!0}}},h=fr&&fr.__read||function(_,E){var I=typeof Symbol=="function"&&_[Symbol.iterator];if(!I)return _;var D=I.call(_),L,U=[],B;try{for(;(E===void 0||E-- >0)&&!(L=D.next()).done;)U.push(L.value)}catch(G){B={error:G}}finally{try{L&&!L.done&&(I=D.return)&&I.call(D)}finally{if(B)throw B.error}}return U},p=fr&&fr.__spreadArray||function(_,E,I){if(I||arguments.length===2)for(var D=0,L=E.length,U;D<L;D++)(U||!(D in E))&&(U||(U=Array.prototype.slice.call(E,0,D)),U[D]=E[D]);return _.concat(U||Array.prototype.slice.call(E))},v=fr&&fr.__values||function(_){var E=typeof Symbol=="function"&&Symbol.iterator,I=E&&_[E],D=0;if(I)return I.call(_);if(_&&typeof _.length=="number")return{next:i(function(){return _&&D>=_.length&&(_=void 0),{value:_&&_[D++],done:!_}},"next")};throw new TypeError(E?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.Evt=e.onAddHandlerByEvt=void 0,xq();var c=Zb(),d=Ec(),y=Ti(),b=_q(),x=Sq(),k=Mq(),N=gN(),C=Eq(),R=kq(),O=Aq(),T=jq(),P=Nq(),z=Iq(),V=Jb(),Z=n(Cq()),ee=Ms(),$=xl(),F=Rq(),u=Oq(),g=Tq(),l=Pq(),m=pN(),w=n(dN()),M=mN(),A=i(function(_){return _()},"runSideEffect"),S=w.CtxLike,f=(function(){function _(){this.lazyEvtAttach=new V.LazyEvt,this.lazyEvtDetach=new V.LazyEvt,this.__maxHandlers=void 0,this.postCount=0,this.traceId=null,this.handlers=[],this.handlerTriggers=new c.Polyfill,this.__currentChronologyMark=0,this.asyncHandlerCount=0}return i(_,"EvtImpl"),_.setDefaultMaxHandlers=function(E){this.__defaultMaxHandlers=isFinite(E)?E:0},_.prototype.toStateful=function(E,I){var D=S.match(E),L=D?void 0:E,U=I||(D?E:void 0),B=new y.importProxy.StatefulEvt(L),G=i(function(H){return B.post(H)},"callback");return U?this.attach(U,G):this.attach(G),B},Object.defineProperty(_.prototype,"evtAttach",{get:i(function(){return this.lazyEvtAttach.evt},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"evtDetach",{get:i(function(){return this.lazyEvtDetach.evt},"get"),enumerable:!1,configurable:!0}),_.prototype.setMaxHandlers=function(E){return this.__maxHandlers=isFinite(E)?E:0,this},_.prototype.enableTrace=function(E){var I=E.id,D=E.formatter,L=E.log;this.traceId=I,this.traceFormatter=D||(function(U){try{return JSON.stringify(U,null,2)}catch{return"".concat(U)}}),this.log=L===void 0?(function(){for(var U=[],B=0;B<arguments.length;B++)U[B]=arguments[B];return console.log.apply(console,p([],h(U),!1))}):L===!1?void 0:L},_.prototype.disableTrace=function(){return this.traceId=null,this},Object.defineProperty(_.prototype,"asyncHandlerChronologyMark",{get:i(function(){var E,I,D,L;return(I=(L=(E=(D=this)["~internal"])!==null&&E!==void 0?E:D["~internal"]={}).asyncHandlerChronologyMark)!==null&&I!==void 0?I:L.asyncHandlerChronologyMark=new d.Polyfill},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"asyncHandlerChronologyExceptionRange",{get:i(function(){var E,I,D,L;return(I=(L=(E=(D=this)["~internal"])!==null&&E!==void 0?E:D["~internal"]={}).asyncHandlerChronologyExceptionRange)!==null&&I!==void 0?I:L.asyncHandlerChronologyExceptionRange=new d.Polyfill},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"invocableOpByOp",{get:i(function(){var E,I,D,L;return(I=(L=(E=(D=this)["~internal"])!==null&&E!==void 0?E:D["~internal"]={}).invocableOpByOp)!==null&&I!==void 0?I:L.invocableOpByOp=new d.Polyfill},"get"),enumerable:!1,configurable:!0}),_.prototype.getInvocableOp=function(E){var I=this.invocableOpByOp.get(E);if(I===void 0)throw new Error(["Provided operator isn't the operator of any handler","currently attached to the Evt instance"].join(" "));return I},_.prototype.getChronologyMark=function(){return this.__currentChronologyMark++},_.prototype.detachHandler=function(E,I,D){var L=this.handlers.indexOf(E);return L<0?!1:((0,$.typeGuard)(E,!!E.ctx)&&E.ctx.zz__removeHandler(E),this.handlers.splice(L,1),E.async&&this.asyncHandlerCount--,this.handlerTriggers.delete(E),I[0]!==void 0&&((0,g.safeClearTimeout)(I[0]),D(new m.DetachedEvtError)),this.lazyEvtDetach.post(E),!0)},_.prototype.triggerHandler=function(E,I,D,L){var U=E.callback,B=E.once;I[0]!==void 0&&((0,g.safeClearTimeout)(I[0]),I[0]=void 0),B&&E.detach();var G=h(L,1),H=G[0],K=U?.call(this,H);return D?.(H),(0,l.isPromiseLike)(K)?K:void 0},_.prototype.addHandler=function(E,I){var D=this,L;this.invocableOpByOp.set(E.op,(0,M.convertOperatorToStatelessF)(E.op));var U=new F.Deferred,B=[void 0],G=t(t(t({},E),I),{detach:i(function(){return D.detachHandler(G,B,U.reject)},"detach"),promise:U.pr});typeof G.timeout=="number"&&(B[0]=(0,g.safeSetTimeout)(function(){B[0]=void 0,G.detach(),U.reject(new m.TimeoutEvtError(G.timeout))},G.timeout));var H=i(function(_e){return D.triggerHandler(G,B,U.isPending?U.resolve:void 0,_e)},"handlerTrigger");if(this.handlerTriggers.set(G,H),G.async&&this.asyncHandlerChronologyMark.set(G,this.getChronologyMark()),G.prepend){var K=void 0;for(K=0;K<this.handlers.length&&this.handlers[K].extract;K++);this.handlers.splice(K,0,G)}else this.handlers.push(G);return G.async&&this.asyncHandlerCount++,this.checkForPotentialMemoryLeak(),(0,$.typeGuard)(G,!!G.ctx)&&G.ctx.zz__addHandler(G,this),(L=e.onAddHandlerByEvt.get(this))===null||L===void 0||L(G,H),this.handlerTriggers.has(G)&&this.lazyEvtAttach.post(G),G},_.prototype.checkForPotentialMemoryLeak=function(){var E=this.__maxHandlers!==void 0?this.__maxHandlers:_.__defaultMaxHandlers;if(!(E===0||this.handlers.length%(E+1)!==0)){var I=["MaxHandlersExceededWarning: Possible Evt memory leak detected.","".concat(this.handlers.length," handlers attached").concat(this.traceId?' to "'.concat(this.traceId,'"'):"",`.
`),`Use Evt.prototype.setMaxHandlers(n) to increase limit on a specific Evt.
`,"Use Evt.setDefaultMaxHandlers(n) to change the default limit currently set to ".concat(_.__defaultMaxHandlers,`.
`)].join(""),D=new c.Polyfill;this.getHandlers().map(function(L){var U=L.ctx,B=L.async,G=L.once,H=L.prepend,K=L.extract,_e=L.op,ae=L.callback;return t(t({hasCtx:!!U,once:G,prepend:H,extract:K,isWaitFor:B},_e===P.matchAll?{}:{op:_e.toString()}),ae?{callback:ae.toString()}:{})}).map(function(L){return`{
`+Object.keys(L).map(function(U){return"  ".concat(U,": ").concat(L[U])}).join(`,
`)+`
}`}).forEach(function(L){return D.set(L,(D.has(L)?D.get(L):0)+1)}),I+=`
`+Array.from(D.keys()).map(function(L){return"".concat(D.get(L)," handler").concat(D.get(L)===1?"":"s",` like:
`).concat(L)}).join(`
`)+`
`,this.traceId===null&&(I+=`
`+["To validate the identify of the Evt instance that is triggering this warning you can call",`Evt.prototype.enableTrace({ "id": "My evt id", "log": false }) on the Evt that you suspect.
`].join(" "));try{console.warn(I)}catch{}}},_.prototype.isHandledByOp=function(E,I){var D=!1,L;try{L=this.getInvocableOp(E)}catch{return!1}var U=L(I,function(){return D=!0});return U!==null||D},_.prototype.trace=function(E){var I=this,D;if(this.traceId!==null){var L="(".concat(this.traceId,") "),U=!!this.handlers.find(function(G){var H=G.extract,K=G.op;return H&&I.isHandledByOp(K,E)});if(U)L+="extracted ";else{var B=this.handlers.filter(function(G){var H=G.extract,K=G.op;return!H&&I.isHandledByOp(K,E)}).length;L+="".concat(B," handler").concat(B>1?"s":"",", ")}(D=this.log)===null||D===void 0||D.call(this,L+this.traceFormatter(E))}},_.prototype.postSync=function(E){var I,D,L=[],U=i(function(re){return[re,Promise.all(L).then(function(){})]},"getReturnValue");try{for(var B=v(p([],h(this.handlers),!1)),G=B.next();!G.done;G=B.next()){var H=G.value,K=H.async,_e=H.op,ae=H.extract;if(!K){var se=this.handlerTriggers.get(H),ye=this.getInvocableOp(_e)(E,A);if(ye!==null&&se){var q=se(ye);if(q!==void 0&&L.push(q),ae)return U(!0)}}}}catch(re){I={error:re}}finally{try{G&&!G.done&&(D=B.return)&&D.call(B)}finally{if(I)throw I.error}}return U(!1)},_.prototype.postAsyncFactory=function(){var E=this;return Z.buildMethodCb(function(I,D,L){var U,B;if(E.asyncHandlerCount===0){L();return}var G=[],H;Promise.resolve().then(function(){return H=E.getChronologyMark()});var K=i(function(q){if(!q.async)return"continue";var re=E.getInvocableOp(q.op)(I,A);if(re===null)return"continue";var X=E.handlerTriggers.get(q);if(!X)return"continue";var W=(function(){var le=E.asyncHandlerChronologyMark.get(q);if(D>le)return!0;var ke=E.asyncHandlerChronologyExceptionRange.get(q);return ke!==void 0&&ke.lowerMark<D&&D<ke.upperMark&&le>ke.upperMark})();if(!W)return"continue";G.push(new Promise(function(le){return q.promise.then(function(){return le()}).catch(function(){return le()})})),X(re)},"_loop_1");try{for(var _e=v(p([],h(E.handlers),!1)),ae=_e.next();!ae.done;ae=_e.next()){var se=ae.value;K(se)}}catch(q){U={error:q}}finally{try{ae&&!ae.done&&(B=_e.return)&&B.call(_e)}finally{if(U)throw U.error}}if(G.length===0){L();return}var ye=p([],h(E.handlers),!1);Promise.all(G).then(function(){var q,re;try{for(var X=v(E.handlers),W=X.next();!W.done;W=X.next()){var le=W.value;le.async&&(ye.indexOf(le)>=0||E.asyncHandlerChronologyExceptionRange.set(le,{lowerMark:D,upperMark:H}))}}catch(ke){q={error:ke}}finally{try{W&&!W.done&&(re=X.return)&&re.call(X)}finally{if(q)throw q.error}}L()})})},_.prototype.isHandled=function(E){var I=this;return!!this.getHandlers().find(function(D){var L=D.op;return I.isHandledByOp(L,E)})},_.prototype.getHandlers=function(){return p([],h(this.handlers),!1)},_.prototype.detach=function(E){var I,D,L=[];try{for(var U=v(this.getHandlers()),B=U.next();!B.done;B=U.next()){var G=B.value;if(!(E!==void 0&&G.ctx!==E)){var H=G.detach();H&&L.push(G)}}}catch(K){I={error:K}}finally{try{B&&!B.done&&(D=U.return)&&D.call(U)}finally{if(I)throw I.error}}return L},_.prototype.pipe=function(){for(var E=[],I=0;I<arguments.length;I++)E[I]=arguments[I];var D=new _;return this.addHandler(t(t({},(0,P.parsePropsFromArgs)(E,"pipe")),{callback:i(function(L){return D.post(L)},"callback")}),_.propsFormMethodNames.attach),D},_.prototype.waitFor=function(){for(var E=[],I=0;I<arguments.length;I++)E[I]=arguments[I];return this.addHandler((0,P.parsePropsFromArgs)(E,"waitFor"),_.propsFormMethodNames.waitFor).promise},_.prototype[Symbol.asyncIterator]=function(){return this.iter()[Symbol.asyncIterator]()},_.prototype.iter=function(){for(var E,I,D=[],L=0;L<arguments.length;L++)D[L]=arguments[L];var U=(0,P.parsePropsFromArgs)(D,"waitFor"),B=(I=U.ctx)!==null&&I!==void 0?I:(0,z.newCtx)(),G=this;return E={ctx:B},E[Symbol.asyncIterator]=function(){var H=B.evtDoneOrAborted.postCount,K=(function(){var ye=U.timeout;if(ye!==void 0){var q=i(function(){var X=new m.TimeoutEvtError(ye);B.abort(X)},"setTimeoutCallback"),re=setTimeout(q,ye);return{timeout:ye,setTimeoutCallback:q,timer:re}}})(),_e=G.pipe(B,U.op).pipe(function(ye,q){return K!==void 0&&q(function(){clearTimeout(K.timer),K.timer=setTimeout(K.setTimeoutCallback,K.timeout)}),[ye]}),ae=[];if(_e.attach(function(ye){return ae.push([ye])}),K!==void 0){var se=K.timer;B.evtDoneOrAborted.attachOnce(function(ye){return ye.type==="DONE"},function(){return clearTimeout(se)})}return{next:i(function(){return s(this,void 0,void 0,function(){var ye,q,re,X;return o(this,function(W){switch(W.label){case 0:return ye=ae.shift(),ye!==void 0?[3,2]:(q=new F.Deferred,H<B.evtDoneOrAborted.postCount?[2,{done:!0}]:(re=(0,z.newCtx)(),B.evtDoneOrAborted.attachOnce(re,function(){return q.resolve(void 0)}),_e.attachOnceExtract(re,function(le){re.done(),q.resolve([le])}),[4,q.pr]));case 1:if(ye=W.sent(),ye===void 0)return[2,{done:!0}];W.label=2;case 2:return X={done:!1,value:ye[0]},[2,X]}})})},"next"),return:i(function(){return G.detach(B),{done:!0}},"return"),throw:i(function(ye){return G.detach(B),Promise.reject(ye)},"throw")}},E},_.prototype.$attach=function(){for(var E=[],I=0;I<arguments.length;I++)E[I]=arguments[I];return this.attach.apply(this,p([],h(E),!1))},_.prototype.attach=function(){for(var E=[],I=0;I<arguments.length;I++)E[I]=arguments[I];return this.__attachX(E,"attach")},_.prototype.$attachOnce=function(){for(var E=[],I=0;I<arguments.length;I++)E[I]=arguments[I];return this.attachOnce.apply(this,p([],h(E),!1))},_.prototype.attachOnce=function(){for(var E=[],I=0;I<arguments.length;I++)E[I]=arguments[I];return this.__attachX(E,"attachOnce")},_.prototype.$attachExtract=function(){for(var E=[],I=0;I<arguments.length;I++)E[I]=arguments[I];return this.attachExtract.apply(this,p([],h(E),!1))},_.prototype.attachExtract=function(){for(var E=[],I=0;I<arguments.length;I++)E[I]=arguments[I];return this.__attachX(E,"attachExtract")},_.prototype.$attachPrepend=function(){for(var E=[],I=0;I<arguments.length;I++)E[I]=arguments[I];return this.attachPrepend.apply(this,p([],h(E),!1))},_.prototype.attachPrepend=function(){for(var E=[],I=0;I<arguments.length;I++)E[I]=arguments[I];return this.__attachX(E,"attachPrepend")},_.prototype.$attachOncePrepend=function(){for(var E=[],I=0;I<arguments.length;I++)E[I]=arguments[I];return this.attachOncePrepend.apply(this,p([],h(E),!1))},_.prototype.attachOncePrepend=function(){for(var E=[],I=0;I<arguments.length;I++)E[I]=arguments[I];return this.__attachX(E,"attachOncePrepend")},_.prototype.$attachOnceExtract=function(){for(var E=[],I=0;I<arguments.length;I++)E[I]=arguments[I];return this.attachOnceExtract.apply(this,p([],h(E),!1))},_.prototype.attachOnceExtract=function(){for(var E=[],I=0;I<arguments.length;I++)E[I]=arguments[I];return this.__attachX(E,"attachOnceExtract")},_.prototype.__attachX=function(E,I){var D=(0,P.parsePropsFromArgs)(E,"attach*"),L=this.addHandler(D,_.propsFormMethodNames[I]);return D.timeout===void 0?this:L.promise},_.prototype.postAsyncOnceHandled=function(E){var I=this;if(this.isHandled(E))return this.post(E);var D=new F.Deferred;return this.evtAttach.attachOnce(function(L){var U=L.op;return I.isHandledByOp(U,E)},function(){return Promise.resolve().then(function(){return D.resolve(I.post(E))})}),D.pr},_.prototype.postOrPostAndWait=function(E,I){var D=this;this.trace(E),(0,ee.overwriteReadonlyProp)(this,"postCount",this.postCount+1);var L=this.getChronologyMark(),U=h(this.postSync(E),2),B=U[0],G=U[1],H=I?function(){return G}:function(){return D.postCount};if(B)return H();if(this.postAsync===void 0){if(this.asyncHandlerCount===0)return H();this.postAsync=this.postAsyncFactory()}return this.postAsync(E,L),H()},_.prototype.post=function(E){return this.postOrPostAndWait(E,!1)},_.prototype.postAndWait=function(E){return this.postOrPostAndWait(E,!0)},_.create=b.create,_.newCtx=z.newCtx,_.merge=N.merge,_.from=C.from,_.getCtx=(0,x.getCtxFactory)(),_.loosenType=u.loosenType,_.factorize=k.factorize,_.asPostable=R.asPostable,_.asyncPipe=O.asyncPipe,_.asNonPostable=T.asNonPostable,_.__defaultMaxHandlers=25,_.propsFormMethodNames={waitFor:{async:!0,extract:!1,once:!0,prepend:!1},attach:{async:!1,extract:!1,once:!1,prepend:!1},attachExtract:{async:!1,extract:!0,once:!1,prepend:!0},attachPrepend:{async:!1,extract:!1,once:!1,prepend:!0},attachOnce:{async:!1,extract:!1,once:!0,prepend:!1},attachOncePrepend:{async:!1,extract:!1,once:!0,prepend:!0},attachOnceExtract:{async:!1,extract:!0,once:!0,prepend:!0}},_})();e.onAddHandlerByEvt=new d.Polyfill,e.Evt=f;try{(0,ee.overwriteReadonlyProp)(e.Evt,"name","Evt")}catch{}y.importProxy.Evt=e.Evt})(fr)),fr}i(vN,"requireEvt");var un={},Op={},H3;function Dq(){return H3||(H3=1,Op.__esModule=!0,Object.is||(Object.is=function(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t})),Op}i(Dq,"requireObject_is");var Qs={},J3;function Lq(){if(J3)return Qs;J3=1,Object.defineProperty(Qs,"__esModule",{value:!0}),Qs.LazyStatefulEvt=void 0;var e=Ms(),t=Ti(),r=(function(){function a(n){this.initialPostCount=0,this.initialState=n}return i(a,"LazyStatefulEvt"),Object.defineProperty(a.prototype,"evt",{get:i(function(){return this.__evt===void 0&&(this.__evt=new t.importProxy.StatefulEvt(this.initialState),this.initialState=null,(0,e.overwriteReadonlyProp)(this.__evt,"postCount",this.initialPostCount)),this.__evt},"get"),enumerable:!1,configurable:!0}),a.prototype.__post=function(n,s){return this.__evt===void 0?(this.initialState=n,++this.initialPostCount):this.__evt[s?"postAndWait":"post"](n)},a.prototype.post=function(n){return this.__post(n,!1)},a.prototype.postAndWait=function(n){return this.__post(n,!0)},a})();return Qs.LazyStatefulEvt=r,Qs}i(Lq,"requireLazyStatefulEvt");var q3;function Bq(){return q3||(q3=1,(function(e){var t=un&&un.__extends||(function(){var y=i(function(b,x){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,N){k.__proto__=N}||function(k,N){for(var C in N)Object.prototype.hasOwnProperty.call(N,C)&&(k[C]=N[C])},y(b,x)},"extendStatics");return function(b,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");y(b,x);function k(){this.constructor=b}i(k,"__"),b.prototype=x===null?Object.create(x):(k.prototype=x.prototype,new k)}})(),r=un&&un.__read||function(y,b){var x=typeof Symbol=="function"&&y[Symbol.iterator];if(!x)return y;var k=x.call(y),N,C=[],R;try{for(;(b===void 0||b-- >0)&&!(N=k.next()).done;)C.push(N.value)}catch(O){R={error:O}}finally{try{N&&!N.done&&(x=k.return)&&x.call(k)}finally{if(R)throw R.error}}return C},a=un&&un.__spreadArray||function(y,b,x){if(x||arguments.length===2)for(var k=0,N=b.length,C;k<N;k++)(C||!(k in b))&&(C||(C=Array.prototype.slice.call(b,0,k)),C[k]=b[k]);return y.concat(C||Array.prototype.slice.call(b))};Object.defineProperty(e,"__esModule",{value:!0}),e.StatefulEvt=void 0,Dq();var n=Jb(),s=Lq(),o=Ti(),h=vN(),p=Hb(),v=Sc(),c=i(function(y){return y()},"runSideEffect"),d=(function(y){t(b,y);function b(x){var k=y.call(this)||this;return k.lazyEvtDiff=new n.LazyEvt,k.lazyEvtChangeDiff=new n.LazyEvt,k.__state=x,k.lazyEvtChange=new s.LazyStatefulEvt(k.__state),h.onAddHandlerByEvt.set(k,function(N,C){if(!N.extract){var R=(0,v.id)(void 0),O=k.getInvocableOp(N.op)(k.__state,k.setOpResultForPipe!==void 0?(function(T){return R=T}):c);k.setOpResultForPipe!==void 0&&(k.setOpResultForPipe(O),R!==void 0&&R()),O&&C(O)}}),k}return i(b,"StatefulEvtImpl"),Object.defineProperty(b.prototype,"state",{get:i(function(){return this.__state},"get"),set:i(function(x){this.state!==x&&this.post(x)},"set"),enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"evtDiff",{get:i(function(){return this.lazyEvtDiff.evt},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"evtChange",{get:i(function(){return this.lazyEvtChange.evt},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"evtChangeDiff",{get:i(function(){return this.lazyEvtChangeDiff.evt},"get"),enumerable:!1,configurable:!0}),b.prototype.post=function(x){return this.__post(x,!1,!1)},b.prototype.postForceChange=function(x){return this.__post(x?x[0]:this.state,!0,!1)},b.prototype.postAndWait=function(x){return this.__post(x,!1,!0)},b.prototype.__post=function(x,k,N){var C=this.state;this.__state=x;var R={prevState:C,newState:this.state},O=N?"postAndWait":"post",T=[],P=this.lazyEvtDiff[O](R);if(N&&T.push(P),k||!Object.is(C,this.state)){var z=this.lazyEvtChange[O](this.state),V=this.lazyEvtChangeDiff[O](R);N&&T.push(z,V)}var Z=y.prototype[O].call(this,x);return N?(T.push(Z),Promise.all(T).then(function(){})):Z},b.prototype.pipe=function(){for(var x=[],k=0;k<arguments.length;k++)x[k]=arguments[k];var N=void 0;this.setOpResultForPipe=function(R){return N=R};var C=y.prototype.pipe.apply(this,a([],r(x),!1));if((0,p.assert)(N!==void 0),this.setOpResultForPipe=void 0,!N)throw new Error(["Cannot pipe StatefulEvt because the operator does not match","it's current state. You would end up with evt.state === undefined","Use evt.toStateless([ctx]).pipe(op).toStatic(initialState)","to be sure the StatefulEvt does not have an undefined state"].join(" "));return C.toStateful(N[0])},b.prototype.toStateless=function(x){var k=h.onAddHandlerByEvt.get(this);h.onAddHandlerByEvt.delete(this);var N=x?y.prototype.pipe.call(this,x):y.prototype.pipe.call(this);return h.onAddHandlerByEvt.set(this,k),N},b})(h.Evt);e.StatefulEvt=d,o.importProxy.StatefulEvt=e.StatefulEvt})(un)),un}i(Bq,"requireStatefulEvt");var Tp={},K3;function zq(){return K3||(K3=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.to=void 0;var t=new Map,r=i(function(a){var n;return(n=t.get(a))!==null&&n!==void 0?n:(t.set(a,function(s){return s[0]!==a?null:[s[1]]}),(0,e.to)(a))},"to");e.to=r})(Tp)),Tp}i(zq,"requireTo");var Ys={},X3;function Uq(){if(X3)return Ys;X3=1,Object.defineProperty(Ys,"__esModule",{value:!0}),Ys.throttleTime=void 0;var e=Mc(),t=i(function(r){return(0,e.compose)([function(a,n){var s=n.lastClick,o=Date.now();return o-s<r?null:[{data:a,lastClick:o}]},{lastClick:0,data:null}],function(a){var n=a.data;return[n]})},"throttleTime$1");return Ys.throttleTime=t,Ys}i(Uq,"requireThrottleTime");var eo={},W3;function Fq(){if(W3)return eo;W3=1,Object.defineProperty(eo,"__esModule",{value:!0}),eo.nonNullable=void 0;var e=i(function(a){return a!=null},"isNonNullable"),t=i(function(a){return e(a)?[a]:null},"nonNullableImpl"),r=i(function(){return t},"nonNullable$1");return eo.nonNullable=r,eo}i(Fq,"requireNonNullable");var fn={},Q3;function $q(){if(Q3)return fn;Q3=1;var e=fn&&fn.__read||function(n,s){var o=typeof Symbol=="function"&&n[Symbol.iterator];if(!o)return n;var h=o.call(n),p,v=[],c;try{for(;(s===void 0||s-- >0)&&!(p=h.next()).done;)v.push(p.value)}catch(d){c={error:d}}finally{try{p&&!p.done&&(o=h.return)&&o.call(h)}finally{if(c)throw c.error}}return v},t=fn&&fn.__spreadArray||function(n,s,o){if(o||arguments.length===2)for(var h=0,p=s.length,v;h<p;h++)(v||!(h in s))&&(v||(v=Array.prototype.slice.call(s,0,h)),v[h]=s[h]);return n.concat(v||Array.prototype.slice.call(s))};Object.defineProperty(fn,"__esModule",{value:!0}),fn.distinct=void 0;var r=Mc(),a=i(function(n,s){var o;return(0,r.compose)(function(h){var p,v;return[{data:h,selectedKey:(p=n?.(h))!==null&&p!==void 0?p:h,currentFlushCount:(v=s?.evtDoneOrAborted.postCount)!==null&&v!==void 0?v:0}]},[function(h,p){var v=h.data,c=h.selectedKey,d=h.currentFlushCount,y=p.alreadyPostedData,b=p.previousFlushCount;return[{boxedData:d!==b||!y.has(c)?[v]:null,alreadyPostedData:new Set(t(t([],e(d!==b?[]:Array.from(y)),!1),[c],!1)),previousFlushCount:d}]},{boxedData:null,alreadyPostedData:new Set,previousFlushCount:(o=s?.evtDoneOrAborted.postCount)!==null&&o!==void 0?o:0}],function(h){var p=h.boxedData;return p})},"distinct$1");return fn.distinct=a,fn}i($q,"requireDistinct");var Y3;function Gq(){return Y3||(Y3=1,(function(e){var t=ia&&ia.__createBinding||(Object.create?(function(c,d,y,b){b===void 0&&(b=y);var x=Object.getOwnPropertyDescriptor(d,y);(!x||("get"in x?!d.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:i(function(){return d[y]},"get")}),Object.defineProperty(c,b,x)}):(function(c,d,y,b){b===void 0&&(b=y),c[b]=d[y]})),r=ia&&ia.__exportStar||function(c,d){for(var y in c)y!=="default"&&!Object.prototype.hasOwnProperty.call(d,y)&&t(d,c,y)};Object.defineProperty(e,"__esModule",{value:!0}),e.distinct=e.nonNullable=e.throttleTime=e.to=e.StatefulEvt=e.Evt=e.Ctx=void 0,r(vq(),e),r(bq(),e);var a=wq();Object.defineProperty(e,"Ctx",{enumerable:!0,get:i(function(){return a.Ctx},"get")});var n=vN();Object.defineProperty(e,"Evt",{enumerable:!0,get:i(function(){return n.Evt},"get")});var s=Bq();Object.defineProperty(e,"StatefulEvt",{enumerable:!0,get:i(function(){return s.StatefulEvt},"get")});var o=zq();Object.defineProperty(e,"to",{enumerable:!0,get:i(function(){return o.to},"get")});var h=Uq();Object.defineProperty(e,"throttleTime",{enumerable:!0,get:i(function(){return h.throttleTime},"get")});var p=Fq();Object.defineProperty(e,"nonNullable",{enumerable:!0,get:i(function(){return p.nonNullable},"get")});var v=$q();Object.defineProperty(e,"distinct",{enumerable:!0,get:i(function(){return v.distinct},"get")})})(ia)),ia}i(Gq,"requireLib");var cn=Gq();const Xi=Object.create(null);Xi.open="0";Xi.close="1";Xi.ping="2";Xi.pong="3";Xi.message="4";Xi.upgrade="5";Xi.noop="6";const Ru=Object.create(null);Object.keys(Xi).forEach(e=>{Ru[Xi[e]]=e});const zg={type:"error",data:"parser error"},bN=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",yN=typeof ArrayBuffer=="function",wN=i(e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,"isView$1"),qb=i(({type:e,data:t},r,a)=>bN&&t instanceof Blob?r?a(t):e8(t,a):yN&&(t instanceof ArrayBuffer||wN(t))?r?a(t):e8(new Blob([t]),a):a(Xi[e]+(t||"")),"encodePacket"),e8=i((e,t)=>{const r=new FileReader;return r.onload=function(){const a=r.result.split(",")[1];t("b"+(a||""))},r.readAsDataURL(e)},"encodeBlobAsBase64");function t8(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}i(t8,"toArray");let Pp;function Vq(e,t){if(bN&&e.data instanceof Blob)return e.data.arrayBuffer().then(t8).then(t);if(yN&&(e.data instanceof ArrayBuffer||wN(e.data)))return t(t8(e.data));qb(e,!1,r=>{Pp||(Pp=new TextEncoder),t(Pp.encode(r))})}i(Vq,"encodePacketToBinary");const r8="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",co=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<r8.length;e++)co[r8.charCodeAt(e)]=e;const Zq=i(e=>{let t=e.length*.75,r=e.length,a,n=0,s,o,h,p;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const v=new ArrayBuffer(t),c=new Uint8Array(v);for(a=0;a<r;a+=4)s=co[e.charCodeAt(a)],o=co[e.charCodeAt(a+1)],h=co[e.charCodeAt(a+2)],p=co[e.charCodeAt(a+3)],c[n++]=s<<2|o>>4,c[n++]=(o&15)<<4|h>>2,c[n++]=(h&3)<<6|p&63;return v},"decode$1"),Hq=typeof ArrayBuffer=="function",Kb=i((e,t)=>{if(typeof e!="string")return{type:"message",data:xN(e,t)};const r=e.charAt(0);return r==="b"?{type:"message",data:Jq(e.substring(1),t)}:Ru[r]?e.length>1?{type:Ru[r],data:e.substring(1)}:{type:Ru[r]}:zg},"decodePacket"),Jq=i((e,t)=>{if(Hq){const r=Zq(e);return xN(r,t)}else return{base64:!0,data:e}},"decodeBase64Packet"),xN=i((e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},"mapBinary"),_N="",qq=i((e,t)=>{const r=e.length,a=new Array(r);let n=0;e.forEach((s,o)=>{qb(s,!1,h=>{a[o]=h,++n===r&&t(a.join(_N))})})},"encodePayload"),Kq=i((e,t)=>{const r=e.split(_N),a=[];for(let n=0;n<r.length;n++){const s=Kb(r[n],t);if(a.push(s),s.type==="error")break}return a},"decodePayload");function Xq(){return new TransformStream({transform(e,t){Vq(e,r=>{const a=r.length;let n;if(a<126)n=new Uint8Array(1),new DataView(n.buffer).setUint8(0,a);else if(a<65536){n=new Uint8Array(3);const s=new DataView(n.buffer);s.setUint8(0,126),s.setUint16(1,a)}else{n=new Uint8Array(9);const s=new DataView(n.buffer);s.setUint8(0,127),s.setBigUint64(1,BigInt(a))}e.data&&typeof e.data!="string"&&(n[0]|=128),t.enqueue(n),t.enqueue(r)})}})}i(Xq,"createPacketEncoderStream");let Dp;function cu(e){return e.reduce((t,r)=>t+r.length,0)}i(cu,"totalLength");function du(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let a=0;for(let n=0;n<t;n++)r[n]=e[0][a++],a===e[0].length&&(e.shift(),a=0);return e.length&&a<e[0].length&&(e[0]=e[0].slice(a)),r}i(du,"concatChunks");function Wq(e,t){Dp||(Dp=new TextDecoder);const r=[];let a=0,n=-1,s=!1;return new TransformStream({transform(o,h){for(r.push(o);;){if(a===0){if(cu(r)<1)break;const p=du(r,1);s=(p[0]&128)===128,n=p[0]&127,n<126?a=3:n===126?a=1:a=2}else if(a===1){if(cu(r)<2)break;const p=du(r,2);n=new DataView(p.buffer,p.byteOffset,p.length).getUint16(0),a=3}else if(a===2){if(cu(r)<8)break;const p=du(r,8),v=new DataView(p.buffer,p.byteOffset,p.length),c=v.getUint32(0);if(c>Math.pow(2,21)-1){h.enqueue(zg);break}n=c*Math.pow(2,32)+v.getUint32(4),a=3}else{if(cu(r)<n)break;const p=du(r,n);h.enqueue(Kb(s?p:Dp.decode(p),t)),a=0}if(n===0||n>e){h.enqueue(zg);break}}}})}i(Wq,"createPacketDecoderStream");const SN=4;function mr(e){if(e)return Qq(e)}i(mr,"Emitter");function Qq(e){for(var t in mr.prototype)e[t]=mr.prototype[t];return e}i(Qq,"mixin");mr.prototype.on=mr.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};mr.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return i(r,"on"),r.fn=t,this.on(e,r),this};mr.prototype.off=mr.prototype.removeListener=mr.prototype.removeAllListeners=mr.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+e];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var a,n=0;n<r.length;n++)if(a=r[n],a===t||a.fn===t){r.splice(n,1);break}return r.length===0&&delete this._callbacks["$"+e],this};mr.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],a=1;a<arguments.length;a++)t[a-1]=arguments[a];if(r){r=r.slice(0);for(var a=0,n=r.length;a<n;++a)r[a].apply(this,t)}return this};mr.prototype.emitReserved=mr.prototype.emit;mr.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};mr.prototype.hasListeners=function(e){return!!this.listeners(e).length};const kc=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,r)=>r(t,0),li=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Yq="arraybuffer";function MN(e,...t){return t.reduce((r,a)=>(e.hasOwnProperty(a)&&(r[a]=e[a]),r),{})}i(MN,"pick");const eK=li.setTimeout,tK=li.clearTimeout;function Ac(e,t){t.useNativeTimers?(e.setTimeoutFn=eK.bind(li),e.clearTimeoutFn=tK.bind(li)):(e.setTimeoutFn=li.setTimeout.bind(li),e.clearTimeoutFn=li.clearTimeout.bind(li))}i(Ac,"installTimerFunctions");const rK=1.33;function iK(e){return typeof e=="string"?nK(e):Math.ceil((e.byteLength||e.size)*rK)}i(iK,"byteLength");function nK(e){let t=0,r=0;for(let a=0,n=e.length;a<n;a++)t=e.charCodeAt(a),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(a++,r+=4);return r}i(nK,"utf8Length");function EN(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}i(EN,"randomString");function aK(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}i(aK,"encode");function sK(e){let t={},r=e.split("&");for(let a=0,n=r.length;a<n;a++){let s=r[a].split("=");t[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return t}i(sK,"decode");class oK extends Error{static{i(this,"TransportError")}constructor(t,r,a){super(t),this.description=r,this.context=a,this.type="TransportError"}}class Xb extends mr{static{i(this,"Transport")}constructor(t){super(),this.writable=!1,Ac(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,r,a){return super.emitReserved("error",new oK(t,r,a)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const r=Kb(t,this.socket.binaryType);this.onPacket(r)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,r={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const r=aK(t);return r.length?"?"+r:""}}class lK extends Xb{static{i(this,"Polling")}constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const r=i(()=>{this.readyState="paused",t()},"pause");if(this._polling||!this.writable){let a=0;this._polling&&(a++,this.once("pollComplete",function(){--a||r()})),this.writable||(a++,this.once("drain",function(){--a||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const r=i(a=>{if(this.readyState==="opening"&&a.type==="open"&&this.onOpen(),a.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(a)},"callback");Kq(t,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=i(()=>{this.write([{type:"close"}])},"close");this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,qq(t,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=EN()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(t,r)}}let kN=!1;try{kN=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const uK=kN;function fK(){}i(fK,"empty");class cK extends lK{static{i(this,"BaseXHR")}constructor(t){if(super(t),typeof location<"u"){const r=location.protocol==="https:";let a=location.port;a||(a=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||a!==t.port}}doWrite(t,r){const a=this.request({method:"POST",data:t});a.on("success",r),a.on("error",(n,s)=>{this.onError("xhr post error",n,s)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(r,a)=>{this.onError("xhr poll error",r,a)}),this.pollXhr=t}}class Hi extends mr{static{i(this,"Request")}constructor(t,r,a){super(),this.createRequest=t,Ac(this,a),this._opts=a,this._method=a.method||"GET",this._uri=r,this._data=a.data!==void 0?a.data:null,this._create()}_create(){var t;const r=MN(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const a=this._xhr=this.createRequest(r);try{a.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){a.setDisableHeaderCheck&&a.setDisableHeaderCheck(!0);for(let n in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(n)&&a.setRequestHeader(n,this._opts.extraHeaders[n])}}catch{}if(this._method==="POST")try{a.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{a.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(a),"withCredentials"in a&&(a.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(a.timeout=this._opts.requestTimeout),a.onreadystatechange=()=>{var n;a.readyState===3&&((n=this._opts.cookieJar)===null||n===void 0||n.parseCookies(a.getResponseHeader("set-cookie"))),a.readyState===4&&(a.status===200||a.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof a.status=="number"?a.status:0)},0))},a.send(this._data)}catch(n){this.setTimeoutFn(()=>{this._onError(n)},0);return}typeof document<"u"&&(this._index=Hi.requestsCount++,Hi.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=fK,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Hi.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Hi.requestsCount=0;Hi.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",i8);else if(typeof addEventListener=="function"){const e="onpagehide"in li?"pagehide":"unload";addEventListener(e,i8,!1)}}function i8(){for(let e in Hi.requests)Hi.requests.hasOwnProperty(e)&&Hi.requests[e].abort()}i(i8,"unloadHandler");const dK=(function(){const e=AN({xdomain:!1});return e&&e.responseType!==null})();class hK extends cK{static{i(this,"XHR")}constructor(t){super(t);const r=t&&t.forceBase64;this.supportsBinary=dK&&!r}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new Hi(AN,this.uri(),t)}}function AN(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||uK))return new XMLHttpRequest}catch{}if(!t)try{return new li[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}i(AN,"newRequest");const jN=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class pK extends Xb{static{i(this,"BaseWS")}get name(){return"websocket"}doOpen(){const t=this.uri(),r=this.opts.protocols,a=jN?{}:MN(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(a.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,r,a)}catch(n){return this.emitReserved("error",n)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const a=t[r],n=r===t.length-1;qb(a,this.supportsBinary,s=>{try{this.doWrite(a,s)}catch{}n&&kc(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=EN()),this.supportsBinary||(r.b64=1),this.createUri(t,r)}}const Lp=li.WebSocket||li.MozWebSocket;class mK extends pK{static{i(this,"WS")}createSocket(t,r,a){return jN?new Lp(t,r,a):r?new Lp(t,r):new Lp(t)}doWrite(t,r){this.ws.send(r)}}class gK extends Xb{static{i(this,"WT")}get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const r=Wq(Number.MAX_SAFE_INTEGER,this.socket.binaryType),a=t.readable.pipeThrough(r).getReader(),n=Xq();n.readable.pipeTo(t.writable),this._writer=n.writable.getWriter();const s=i(()=>{a.read().then(({done:h,value:p})=>{h||(this.onPacket(p),s())}).catch(h=>{})},"read");s();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const a=t[r],n=r===t.length-1;this._writer.write(a).then(()=>{n&&kc(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const vK={websocket:mK,webtransport:gK,polling:hK},bK=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,yK=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Ug(e){if(e.length>8e3)throw"URI too long";const t=e,r=e.indexOf("["),a=e.indexOf("]");r!=-1&&a!=-1&&(e=e.substring(0,r)+e.substring(r,a).replace(/:/g,";")+e.substring(a,e.length));let n=bK.exec(e||""),s={},o=14;for(;o--;)s[yK[o]]=n[o]||"";return r!=-1&&a!=-1&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=wK(s,s.path),s.queryKey=xK(s,s.query),s}i(Ug,"parse");function wK(e,t){const r=/\/{2,9}/g,a=t.replace(r,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&a.splice(0,1),t.slice(-1)=="/"&&a.splice(a.length-1,1),a}i(wK,"pathNames");function xK(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(a,n,s){n&&(r[n]=s)}),r}i(xK,"queryKey");const Fg=typeof addEventListener=="function"&&typeof removeEventListener=="function",Ou=[];Fg&&addEventListener("offline",()=>{Ou.forEach(e=>e())},!1);class Dn extends mr{static{i(this,"SocketWithoutUpgrade")}constructor(t,r){if(super(),this.binaryType=Yq,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){const a=Ug(t);r.hostname=a.host,r.secure=a.protocol==="https"||a.protocol==="wss",r.port=a.port,a.query&&(r.query=a.query)}else r.host&&(r.hostname=Ug(r.host).host);Ac(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(a=>{const n=a.prototype.name;this.transports.push(n),this._transportsByName[n]=a}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=sK(this.opts.query)),Fg&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Ou.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=SN,r.transport=t,this.id&&(r.sid=this.id);const a=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](a)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&Dn.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",Dn.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let a=0;a<this.writeBuffer.length;a++){const n=this.writeBuffer[a].data;if(n&&(r+=iK(n)),a>0&&r>this._maxPayload)return this.writeBuffer.slice(0,a);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,kc(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,a){return this._sendPacket("message",t,r,a),this}send(t,r,a){return this._sendPacket("message",t,r,a),this}_sendPacket(t,r,a,n){if(typeof r=="function"&&(n=r,r=void 0),typeof a=="function"&&(n=a,a=null),this.readyState==="closing"||this.readyState==="closed")return;a=a||{},a.compress=a.compress!==!1;const s={type:t,data:r,options:a};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),n&&this.once("flush",n),this.flush()}close(){const t=i(()=>{this._onClose("forced close"),this.transport.close()},"close"),r=i(()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},"cleanupAndClose"),a=i(()=>{this.once("upgrade",r),this.once("upgradeError",r)},"waitForUpgrade");return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?a():t()}):this.upgrading?a():t()),this}_onError(t){if(Dn.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Fg&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const a=Ou.indexOf(this._offlineEventListener);a!==-1&&Ou.splice(a,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}Dn.protocol=SN;class _K extends Dn{static{i(this,"SocketWithUpgrade")}constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let r=this.createTransport(t),a=!1;Dn.priorWebsocketSuccess=!1;const n=i(()=>{a||(r.send([{type:"ping",data:"probe"}]),r.once("packet",d=>{if(!a)if(d.type==="pong"&&d.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;Dn.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{a||this.readyState!=="closed"&&(c(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const y=new Error("probe error");y.transport=r.name,this.emitReserved("upgradeError",y)}}))},"onTransportOpen");function s(){a||(a=!0,c(),r.close(),r=null)}i(s,"freezeTransport");const o=i(d=>{const y=new Error("probe error: "+d);y.transport=r.name,s(),this.emitReserved("upgradeError",y)},"onerror");function h(){o("transport closed")}i(h,"onTransportClose");function p(){o("socket closed")}i(p,"onclose");function v(d){r&&d.name!==r.name&&s()}i(v,"onupgrade");const c=i(()=>{r.removeListener("open",n),r.removeListener("error",o),r.removeListener("close",h),this.off("close",p),this.off("upgrading",v)},"cleanup");r.once("open",n),r.once("error",o),r.once("close",h),this.once("close",p),this.once("upgrading",v),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{a||r.open()},200):r.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const r=[];for(let a=0;a<t.length;a++)~this.transports.indexOf(t[a])&&r.push(t[a]);return r}}let SK=class extends _K{static{i(this,"Socket")}constructor(t,r={}){const a=typeof t=="object"?t:r;(!a.transports||a.transports&&typeof a.transports[0]=="string")&&(a.transports=(a.transports||["polling","websocket","webtransport"]).map(n=>vK[n]).filter(n=>!!n)),super(t,a)}};function MK(e,t="",r){let a=e;r=r||typeof location<"u"&&location,e==null&&(e=r.protocol+"//"+r.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=r.protocol+e:e=r.host+e),/^(https?|wss?):\/\//.test(e)||(typeof r<"u"?e=r.protocol+"//"+e:e="https://"+e),a=Ug(e)),a.port||(/^(http|ws)$/.test(a.protocol)?a.port="80":/^(http|ws)s$/.test(a.protocol)&&(a.port="443")),a.path=a.path||"/";const s=a.host.indexOf(":")!==-1?"["+a.host+"]":a.host;return a.id=a.protocol+"://"+s+":"+a.port+t,a.href=a.protocol+"://"+s+(r&&r.port===a.port?"":":"+a.port),a}i(MK,"url");const EK=typeof ArrayBuffer=="function",kK=i(e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,"isView"),NN=Object.prototype.toString,AK=typeof Blob=="function"||typeof Blob<"u"&&NN.call(Blob)==="[object BlobConstructor]",jK=typeof File=="function"||typeof File<"u"&&NN.call(File)==="[object FileConstructor]";function Wb(e){return EK&&(e instanceof ArrayBuffer||kK(e))||AK&&e instanceof Blob||jK&&e instanceof File}i(Wb,"isBinary");function Tu(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let r=0,a=e.length;r<a;r++)if(Tu(e[r]))return!0;return!1}if(Wb(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Tu(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&Tu(e[r]))return!0;return!1}i(Tu,"hasBinary");function NK(e){const t=[],r=e.data,a=e;return a.data=$g(r,t),a.attachments=t.length,{packet:a,buffers:t}}i(NK,"deconstructPacket");function $g(e,t){if(!e)return e;if(Wb(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}else if(Array.isArray(e)){const r=new Array(e.length);for(let a=0;a<e.length;a++)r[a]=$g(e[a],t);return r}else if(typeof e=="object"&&!(e instanceof Date)){const r={};for(const a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=$g(e[a],t));return r}return e}i($g,"_deconstructPacket");function IK(e,t){return e.data=Gg(e.data,t),delete e.attachments,e}i(IK,"reconstructPacket");function Gg(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=Gg(e[r],t);else if(typeof e=="object")for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=Gg(e[r],t));return e}i(Gg,"_reconstructPacket");const CK=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],RK=5;var qt;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(qt||(qt={}));class OK{static{i(this,"Encoder")}constructor(t){this.replacer=t}encode(t){return(t.type===qt.EVENT||t.type===qt.ACK)&&Tu(t)?this.encodeAsBinary({type:t.type===qt.EVENT?qt.BINARY_EVENT:qt.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let r=""+t.type;return(t.type===qt.BINARY_EVENT||t.type===qt.BINARY_ACK)&&(r+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(r+=t.nsp+","),t.id!=null&&(r+=t.id),t.data!=null&&(r+=JSON.stringify(t.data,this.replacer)),r}encodeAsBinary(t){const r=NK(t),a=this.encodeAsString(r.packet),n=r.buffers;return n.unshift(a),n}}function n8(e){return Object.prototype.toString.call(e)==="[object Object]"}i(n8,"isObject");class Qb extends mr{static{i(this,"Decoder")}constructor(t){super(),this.reviver=t}add(t){let r;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(t);const a=r.type===qt.BINARY_EVENT;a||r.type===qt.BINARY_ACK?(r.type=a?qt.EVENT:qt.ACK,this.reconstructor=new TK(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(Wb(t)||t.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let r=0;const a={type:Number(t.charAt(0))};if(qt[a.type]===void 0)throw new Error("unknown packet type "+a.type);if(a.type===qt.BINARY_EVENT||a.type===qt.BINARY_ACK){const s=r+1;for(;t.charAt(++r)!=="-"&&r!=t.length;);const o=t.substring(s,r);if(o!=Number(o)||t.charAt(r)!=="-")throw new Error("Illegal attachments");a.attachments=Number(o)}if(t.charAt(r+1)==="/"){const s=r+1;for(;++r&&!(t.charAt(r)===","||r===t.length););a.nsp=t.substring(s,r)}else a.nsp="/";const n=t.charAt(r+1);if(n!==""&&Number(n)==n){const s=r+1;for(;++r;){const o=t.charAt(r);if(o==null||Number(o)!=o){--r;break}if(r===t.length)break}a.id=Number(t.substring(s,r+1))}if(t.charAt(++r)){const s=this.tryParse(t.substr(r));if(Qb.isPayloadValid(a.type,s))a.data=s;else throw new Error("invalid payload")}return a}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,r){switch(t){case qt.CONNECT:return n8(r);case qt.DISCONNECT:return r===void 0;case qt.CONNECT_ERROR:return typeof r=="string"||n8(r);case qt.EVENT:case qt.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&CK.indexOf(r[0])===-1);case qt.ACK:case qt.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class TK{static{i(this,"BinaryReconstructor")}constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const r=IK(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const PK=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Qb,Encoder:OK,get PacketType(){return qt},protocol:RK},Symbol.toStringTag,{value:"Module"}));function yi(e,t,r){return e.on(t,r),i(function(){e.off(t,r)},"subDestroy")}i(yi,"on");const DK=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class IN extends mr{static{i(this,"Socket")}constructor(t,r,a){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=r,a&&a.auth&&(this.auth=a.auth),this._opts=Object.assign({},a),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[yi(t,"open",this.onopen.bind(this)),yi(t,"packet",this.onpacket.bind(this)),yi(t,"error",this.onerror.bind(this)),yi(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...r){var a,n,s;if(DK.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(r.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const o={type:qt.EVENT,data:r};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const c=this.ids++,d=r.pop();this._registerAckCallback(c,d),o.id=c}const h=(n=(a=this.io.engine)===null||a===void 0?void 0:a.transport)===null||n===void 0?void 0:n.writable,p=this.connected&&!(!((s=this.io.engine)===null||s===void 0)&&s._hasPingExpired());return this.flags.volatile&&!h||(p?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(t,r){var a;const n=(a=this.flags.timeout)!==null&&a!==void 0?a:this._opts.ackTimeout;if(n===void 0){this.acks[t]=r;return}const s=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let h=0;h<this.sendBuffer.length;h++)this.sendBuffer[h].id===t&&this.sendBuffer.splice(h,1);r.call(this,new Error("operation has timed out"))},n),o=i((...h)=>{this.io.clearTimeoutFn(s),r.apply(this,h)},"fn");o.withError=!0,this.acks[t]=o}emitWithAck(t,...r){return new Promise((a,n)=>{const s=i((o,h)=>o?n(o):a(h),"fn");s.withError=!0,r.push(s),this.emit(t,...r)})}_addToQueue(t){let r;typeof t[t.length-1]=="function"&&(r=t.pop());const a={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((n,...s)=>a!==this._queue[0]?void 0:(n!==null?a.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(n)):(this._queue.shift(),r&&r(null,...s)),a.pending=!1,this._drainQueue())),this._queue.push(a),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!t||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:qt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(a=>String(a.id)===t)){const a=this.acks[t];delete this.acks[t],a.withError&&a.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case qt.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case qt.EVENT:case qt.BINARY_EVENT:this.onevent(t);break;case qt.ACK:case qt.BINARY_ACK:this.onack(t);break;case qt.DISCONNECT:this.ondisconnect();break;case qt.CONNECT_ERROR:this.destroy();const a=new Error(t.data.message);a.data=t.data.data,this.emitReserved("connect_error",a);break}}onevent(t){const r=t.data||[];t.id!=null&&r.push(this.ack(t.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const a of r)a.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const r=this;let a=!1;return function(...n){a||(a=!0,r.packet({type:qt.ACK,id:t,data:n}))}}onack(t){const r=this.acks[t.id];typeof r=="function"&&(delete this.acks[t.id],r.withError&&t.data.unshift(null),r.apply(this,t.data))}onconnect(t,r){this.id=t,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:qt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const r=this._anyListeners;for(let a=0;a<r.length;a++)if(t===r[a])return r.splice(a,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const r=this._anyOutgoingListeners;for(let a=0;a<r.length;a++)if(t===r[a])return r.splice(a,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const a of r)a.apply(this,t.data)}}}function Es(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}i(Es,"Backoff");Es.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=(Math.floor(t*10)&1)==0?e-r:e+r}return Math.min(e,this.max)|0};Es.prototype.reset=function(){this.attempts=0};Es.prototype.setMin=function(e){this.ms=e};Es.prototype.setMax=function(e){this.max=e};Es.prototype.setJitter=function(e){this.jitter=e};class Vg extends mr{static{i(this,"Manager")}constructor(t,r){var a;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(r=t,t=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,Ac(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((a=r.randomizationFactor)!==null&&a!==void 0?a:.5),this.backoff=new Es({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=t;const n=r.parser||PK;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var r;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(r=this.backoff)===null||r===void 0||r.setMin(t),this)}randomizationFactor(t){var r;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(r=this.backoff)===null||r===void 0||r.setJitter(t),this)}reconnectionDelayMax(t){var r;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(r=this.backoff)===null||r===void 0||r.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new SK(this.uri,this.opts);const r=this.engine,a=this;this._readyState="opening",this.skipReconnect=!1;const n=yi(r,"open",function(){a.onopen(),t&&t()}),s=i(h=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",h),t?t(h):this.maybeReconnectOnOpen()},"onError"),o=yi(r,"error",s);if(this._timeout!==!1){const h=this._timeout,p=this.setTimeoutFn(()=>{n(),s(new Error("timeout")),r.close()},h);this.opts.autoUnref&&p.unref(),this.subs.push(()=>{this.clearTimeoutFn(p)})}return this.subs.push(n),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(yi(t,"ping",this.onping.bind(this)),yi(t,"data",this.ondata.bind(this)),yi(t,"error",this.onerror.bind(this)),yi(t,"close",this.onclose.bind(this)),yi(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(r){this.onclose("parse error",r)}}ondecoded(t){kc(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,r){let a=this.nsps[t];return a?this._autoConnect&&!a.active&&a.connect():(a=new IN(this,t,r),this.nsps[t]=a),a}_destroy(t){const r=Object.keys(this.nsps);for(const a of r)if(this.nsps[a].active)return;this._close()}_packet(t){const r=this.encoder.encode(t);for(let a=0;a<r.length;a++)this.engine.write(r[a],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,r){var a;this.cleanup(),(a=this.engine)===null||a===void 0||a.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const a=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(n=>{n?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",n)):t.onreconnect()}))},r);this.opts.autoUnref&&a.unref(),this.subs.push(()=>{this.clearTimeoutFn(a)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const to={};function Pu(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const r=MK(e,t.path||"/socket.io"),a=r.source,n=r.id,s=r.path,o=to[n]&&s in to[n].nsps,h=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let p;return h?p=new Vg(a,t):(to[n]||(to[n]=new Vg(a,t)),p=to[n]),r.query&&!t.query&&(t.query=r.queryKey),p.socket(r.path,t)}i(Pu,"lookup");Object.assign(Pu,{Manager:Vg,Socket:IN,io:Pu,connect:Pu});class LK{static{i(this,"EventAdapter")}events={};constructor(){this.events.messageBroadcast=cn.Evt.create(),this.events.messageComplete=cn.Evt.create(),this.events.controlMessage=cn.Evt.create(),this.events.messageDeleted=cn.Evt.create(),this.events.channelCleared=cn.Evt.create(),this.events.channelDeleted=cn.Evt.create(),this.events.logStream=cn.Evt.create()}on(t,r){return this.events[t]||(this.events[t]=cn.Evt.create()),this.events[t].attach(r),this}off(t,r){if(this.events[t]){const a=this.events[t].getHandlers();for(const n of a)n.callback===r&&n.detach()}return this}emit(t,...r){return this.events[t]&&this.events[t].post(r.length===1?r[0]:r),this}once(t,r){return this.events[t]||(this.events[t]=cn.Evt.create()),this.events[t].attachOnce(r),this}listenerCount(t){return this.events[t]?this.events[t].getHandlers().length:0}_getEvt(t){return this.events[t]}}class ui extends LK{static{i(this,"SocketIOManager")}static instance=null;socket=null;isConnected=!1;connectPromise=null;resolveConnect=null;activeChannelIds=new Set;clientEntityId=null;logStreamSubscribed=!1;get evtMessageBroadcast(){return this._getEvt("messageBroadcast")}get evtMessageComplete(){return this._getEvt("messageComplete")}get evtControlMessage(){return this._getEvt("controlMessage")}get evtMessageDeleted(){return this._getEvt("messageDeleted")}get evtChannelCleared(){return this._getEvt("channelCleared")}get evtChannelDeleted(){return this._getEvt("channelDeleted")}get evtLogStream(){return this._getEvt("logStream")}constructor(){super()}static getInstance(){return ui.instance||(ui.instance=new ui),ui.instance}static isConnected(){return ui.instance?.isConnected||!1}isChannelActive(t){return this.activeChannelIds.has(t)}initialize(t){if(this.clientEntityId=t,this.socket){qe.debug("[SocketIO] Socket already initialized");return}const r=window.location.origin+"/";qe.info("connecting to",r),this.socket=Pu(r,{autoConnect:!0,reconnection:!0}),this.connectPromise=new Promise(a=>{this.resolveConnect=a}),this.socket.on("connect",()=>{qe.info("[SocketIO] Connected to server"),this.isConnected=!0,this.resolveConnect?.(),this.emit("connect")}),this.socket.on("unauthorized",a=>{this.emit("unauthorized",a)}),this.socket.on("messageBroadcast",a=>{const n=typeof a=="string"?(()=>{try{return JSON.parse(a)}catch{return qe.warn("[SocketIO] Failed to parse string messageBroadcast payload:",a),{}}})():a;qe.info("[SocketIO] Message broadcast received:",n);const s=n&&typeof n=="object",o=s?Object.keys(n):[];qe.debug("[SocketIO] Message broadcast data structure:",{keys:o,senderId:n.senderId,senderNameType:typeof n.senderName,textType:typeof n.text,textLength:n.text?n.text.length:0,hasThought:s&&"thought"in n,hasActions:s&&"actions"in n,additionalKeys:o.filter(p=>!["senderId","senderName","text","roomId","createdAt","source","thought","actions"].includes(p))});const h=n.channelId||n.roomId;h&&this.activeChannelIds.has(h)?(qe.info(`[SocketIO] Handling message for active channel ${h}`),this.emit("messageBroadcast",{...n,channelId:h,roomId:h,name:n.senderName})):qe.warn(`[SocketIO] Received message for inactive channel ${h}, active channels:`,Array.from(this.activeChannelIds))}),this.socket.on("messageComplete",a=>{this.emit("messageComplete",a)}),this.socket.on("controlMessage",a=>{qe.info("[SocketIO] Control message received:",a);const n=a.channelId||a.roomId;n&&this.activeChannelIds.has(n)?(qe.info(`[SocketIO] Handling control message for active channel ${n}`),this.emit("controlMessage",{...a,channelId:n,roomId:n})):qe.warn(`[SocketIO] Received control message for inactive channel ${n}, active channels:`,Array.from(this.activeChannelIds))}),this.socket.on("messageDeleted",a=>{qe.debug("[SocketIO] Message deleted event received:",a);const n=a.channelId||a.roomId;n&&this.activeChannelIds.has(n)?(qe.info(`[SocketIO] Handling message deletion for active channel ${n}`),this.emit("messageDeleted",{...a,channelId:n,roomId:n})):qe.warn(`[SocketIO] Received message deleted event for inactive channel ${n}, active channels:`,Array.from(this.activeChannelIds))}),this.socket.on("channelCleared",a=>{qe.info("[SocketIO] Channel cleared event received:",a);const n=a.channelId||a.roomId;n&&this.activeChannelIds.has(n)?(qe.info(`[SocketIO] Handling channel cleared for active channel ${n}`),this.emit("channelCleared",{...a,channelId:n,roomId:n})):qe.warn(`[SocketIO] Received channel cleared event for inactive channel ${n}, active channels:`,Array.from(this.activeChannelIds))}),this.socket.on("channelDeleted",a=>{qe.info("[SocketIO] Channel deleted event received:",a);const n=a.channelId||a.roomId;n&&this.activeChannelIds.has(n)?(qe.info(`[SocketIO] Handling channel deleted for active channel ${n}`),this.emit("channelDeleted",{...a,channelId:n,roomId:n})):qe.warn(`[SocketIO] Received channel deleted event for inactive channel ${n}, active channels:`,Array.from(this.activeChannelIds))}),this.socket.on("disconnect",a=>{qe.info(`[SocketIO] Disconnected. Reason: ${a}`),this.isConnected=!1,this.emit("disconnect",a),this.connectPromise=new Promise(n=>{this.resolveConnect=n}),a==="io server disconnect"&&this.socket?.connect()}),this.socket.on("reconnect_attempt",a=>{qe.info("[SocketIO] Reconnect attempt",a),this.emit("reconnect_attempt",a)}),this.socket.on("reconnect",a=>{qe.info(`[SocketIO] Reconnected after ${a} attempts`),this.emit("reconnect",a)}),this.socket.on("connect_error",a=>{qe.error("[SocketIO] Connection error:",a),this.emit("connect_error",a)}),this.socket.on("log_stream",a=>{qe.debug("[SocketIO] Log stream data received:",a),a.type==="log_entry"&&a.payload&&this.emit("logStream",a.payload)}),this.socket.on("log_subscription_confirmed",a=>{qe.info("[SocketIO] Log subscription confirmed:",a),this.logStreamSubscribed=a.subscribed})}async joinChannel(t){if(!this.socket){qe.error("[SocketIO] Cannot join channel: socket not initialized");return}this.isConnected||await this.connectPromise,qe.info(`[SocketIO] joinChannel: Attempting to join ${t}. Current activeChannelIds before add:`,new Set(this.activeChannelIds)),this.activeChannelIds.add(t),qe.info(`[SocketIO] joinChannel: Joined ${t}. Current activeChannelIds after add:`,new Set(this.activeChannelIds)),this.socket.emit("message",{type:mg.ROOM_JOINING,payload:{channelId:t,roomId:t,entityId:this.clientEntityId}}),qe.info(`[SocketIO] Emitted ROOM_JOINING for ${t}`)}async joinRoom(t){return this.joinChannel(t)}leaveChannel(t){if(!this.socket||!this.isConnected){qe.warn(`[SocketIO] Cannot leave channel ${t}: not connected`);return}qe.info(`[SocketIO] leaveChannel: Attempting to leave ${t}. Current activeChannelIds before delete:`,new Set(this.activeChannelIds)),this.activeChannelIds.delete(t),qe.info(`[SocketIO] leaveChannel: Left ${t}. Current activeChannelIds after delete:`,new Set(this.activeChannelIds))}leaveRoom(t){return this.leaveChannel(t)}async sendMessage(t,r,a,n,s,o,h){if(!this.socket){qe.error("[SocketIO] Cannot send message: socket not initialized");return}this.isConnected||await this.connectPromise;const p=o||bn();qe.info(`[SocketIO] Sending message to central channel ${r} on server ${a}`),this.socket.emit("message",{type:mg.SEND_MESSAGE,payload:{senderId:this.clientEntityId,senderName:Xa,message:t,channelId:r,roomId:r,serverId:a,messageId:p,source:n,attachments:s,metadata:h}})}async subscribeToLogStream(){if(!this.socket){qe.error("[SocketIO] Cannot subscribe to logs: socket not initialized");return}this.isConnected||await this.connectPromise,this.socket.emit("subscribe_logs"),qe.info("[SocketIO] Subscribed to log stream")}async unsubscribeFromLogStream(){if(!this.socket){qe.error("[SocketIO] Cannot unsubscribe from logs: socket not initialized");return}this.isConnected||await this.connectPromise,this.socket.emit("unsubscribe_logs"),qe.info("[SocketIO] Unsubscribed from log stream")}async updateLogStreamFilters(t){if(!this.socket){qe.error("[SocketIO] Cannot update log filters: socket not initialized");return}this.isConnected||await this.connectPromise,this.socket.emit("update_log_filters",t),qe.info("[SocketIO] Updated log stream filters:",t)}isLogStreamSubscribed(){return this.logStreamSubscribed}disconnect(){this.socket&&(this.socket.disconnect(),this.socket=null,this.isConnected=!1,this.activeChannelIds.clear(),this.logStreamSubscribed=!1,qe.info("[SocketIO] Disconnected from server"))}}const Rn={setUnauthorized:i(e=>{console.warn("setUnauthorized called before ConnectionContext is ready",e)},"setUnauthorized"),setOfflineStatus:i(e=>{console.warn("setOfflineStatus called before ConnectionContext is ready",e)},"setOfflineStatus")},CN=J.createContext(void 0),BK=i(({children:e})=>{const{toast:t}=rr(),[r,a]=J.useState("loading"),[n,s]=J.useState(null),o=J.useRef(!0),h=ui.getInstance(),p=J.useCallback(d=>{a("unauthorized"),s(d),t({title:"Authorization Required",description:d||"Please provide a valid API Key.",variant:"destructive"})},[t]),v=J.useCallback(d=>{d?r!=="error"&&r!=="unauthorized"&&(a("error"),s("Network connection appears to be offline."),t({title:"Network Offline",description:"Please check your internet connection.",variant:"destructive"})):r==="error"&&n?.includes("offline")},[r,n,t]),c=J.useCallback(d=>{try{d!==void 0&&KJ(d),console.log("API client refreshed with new configuration")}catch(y){console.error("Failed to refresh API client:",y)}},[]);return J.useEffect(()=>{Rn.setUnauthorized=p,Rn.setOfflineStatus=v},[p,v]),J.useEffect(()=>{const d=i(()=>{a("connected"),s(null),Rn.setOfflineStatus&&Rn.setOfflineStatus(!1),o.current?o.current=!1:t({title:"Connection Restored",description:"Successfully reconnected to the Eliza server."})},"onConnect"),y=i(N=>{a("error"),s(`Connection lost: ${N}`),Rn.setOfflineStatus&&Rn.setOfflineStatus(!0),t({title:"Connection Lost",description:"Attempting to reconnect to the Eliza server",variant:"destructive"})},"onDisconnect"),b=i(()=>{a("reconnecting"),s("Reconnecting...")},"onReconnectAttempt"),x=i(N=>{a("error"),s(N.message),Rn.setOfflineStatus&&Rn.setOfflineStatus(!0)},"onConnectError"),k=i(N=>{a("unauthorized"),s(`Unauthorized: ${N}`),t({title:"Unauthorized",description:"Please log in again.",variant:"destructive"})},"onUnauthorized");return h.on("connect",d),h.on("disconnect",y),h.on("reconnect",d),h.on("reconnect_attempt",b),h.on("connect_error",x),h.on("unauthorized",k),ui.isConnected()&&d(),()=>{h.off("connect",d),h.off("disconnect",y),h.off("reconnect",d),h.off("reconnect_attempt",b),h.off("connect_error",x),h.off("unauthorized",k)}},[t,h,v]),j.jsx(CN.Provider,{value:{status:r,error:n,setUnauthorizedFromApi:p,setOfflineStatusFromProvider:v,refreshApiClient:c},children:e})},"ConnectionProvider"),Yb=i(()=>{const e=J.useContext(CN);if(!e)throw new Error("useConnection must be inside ConnectionProvider");return e},"useConnection");function zK(){const{toast:e}=rr(),[t,r]=J.useState(null),{openApiKeyDialog:a}=dq(),{status:n,error:s}=Yb(),o=n==="loading",h=n==="connected",p=n==="error",v=n==="unauthorized",c=p||v;J.useEffect(()=>{(t==="error"||t==="unauthorized"||t==="disconnected")&&h?e({title:"Connection Restored",description:j.jsxs("div",{className:"flex items-center gap-2",children:[j.jsx(a_,{className:"h-4 w-4 text-green-500"}),j.jsx("span",{children:"Successfully reconnected to the Eliza server."})]})}):t==="connected"&&(p||v)&&e({title:"Connection Lost",description:"Attempting to reconnect to the Eliza server...",variant:"destructive"}),r(n)},[n,t,h,p,v,e]),J.useEffect(()=>{v&&t!=="unauthorized"&&a()},[v,t,a]);const d=i(()=>v?"bg-yellow-500":o?"bg-muted-foreground":h?"bg-green-600":"bg-red-600","getStatusColor"),y=i(()=>v?"Unauthorized":o?"Connecting...":h?"Connected":"Disconnected","getStatusText"),b=i(()=>v?"text-yellow-500":o?"text-muted-foreground":h?"text-green-600":"text-red-600","getTextColor"),x=i(()=>s?v?"Unauthorized: Invalid or missing API Key. Check client configuration or server logs.":s.includes("NetworkError")||s.includes("Failed to fetch")?"Cannot reach server":s.includes("ECONNREFUSED")?"Connection refused":s.includes("timeout")?"Connection timeout":s.includes("404")||s.includes("not found")||s.includes("API endpoint not found")?"Endpoint not found":s:"Connection failed","getErrorMessage");return j.jsx(Ai,{"data-testid":"connection-status",children:j.jsxs(cr,{children:[j.jsx(dr,{asChild:!0,children:j.jsx(Ea,{className:"rounded",children:j.jsx("div",{className:"flex flex-col gap-1 select-none",children:j.jsxs("div",{className:"flex items-center gap-1",children:[c||v?j.jsx(fi,{className:Le("h-3.5 w-3.5",v?"text-yellow-500":"text-red-600")}):j.jsx("div",{className:Le(["h-2.5 w-2.5 rounded-full",d()])}),j.jsx("span",{className:Le("text-xs",b()),children:y()})]})})})}),c&&j.jsx(lr,{side:"top",align:"center",className:"max-w-xs",children:j.jsxs("div",{className:"flex flex-col gap-2",children:[j.jsx("div",{className:Le("font-semibold",v?"text-yellow-500":"text-red-500"),children:x()}),j.jsx("p",{className:"text-xs",children:"Please ensure the Eliza server is running and accessible."}),!v&&j.jsx("p",{className:"text-xs",children:"Try refreshing the connection or check server logs."}),v&&j.jsx("p",{className:"text-xs",children:"Check the X-API-KEY configured in your client or the ELIZA_SERVER_AUTH_TOKEN on the server."})]})})]})})}i(zK,"ConnectionStatus");const Gn=J.forwardRef(({className:e,...t},r)=>j.jsx(s_,{ref:r,className:Le("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-md",e),"data-testid":t["data-testid"]||"avatar",...t}));Gn.displayName=s_.displayName;const Oa=J.forwardRef(({className:e,...t},r)=>j.jsx(o_,{ref:r,className:Le("aspect-square h-full w-full object-cover",e),"data-testid":t["data-testid"]||"avatar-image",...t}));Oa.displayName=o_.displayName;const jc=J.forwardRef(({className:e,...t},r)=>j.jsx(l_,{ref:r,className:Le("flex h-full w-full items-center justify-center rounded-md bg-muted",e),"data-testid":t["data-testid"]||"avatar-fallback",...t}));jc.displayName=l_.displayName;function Ba(){const[e,t]=J.useState({open:!1,options:null,onConfirm:null}),r=J.useCallback((s,o)=>{t({open:!0,options:s,onConfirm:o})},[]),a=J.useCallback(s=>{s||t({open:!1,options:null,onConfirm:null})},[]),n=J.useCallback(()=>{e.onConfirm&&e.onConfirm(),a(!1)},[e.onConfirm,a]);return{confirm:r,isOpen:e.open,onOpenChange:a,onConfirm:n,options:e.options}}i(Ba,"useConfirmation");function UK(e){switch(e){case"active":return pr.ACTIVE;case"inactive":case"stopped":return pr.INACTIVE;default:return pr.INACTIVE}}i(UK,"mapApiStatusToEnum");function RN(e){return{...e,id:e.id,status:UK(e.status),createdAt:e.createdAt instanceof Date?e.createdAt.getTime():new Date(e.createdAt).getTime(),updatedAt:e.updatedAt instanceof Date?e.updatedAt.getTime():new Date(e.updatedAt).getTime()}}i(RN,"mapApiAgentToClient");function pf(e){return e instanceof Date?e.getTime():typeof e=="string"?new Date(e).getTime():e}i(pf,"apiDateToTimestamp");function mf(e){return e instanceof Date?e.toISOString():e}i(mf,"apiDateToString");function ey(e){return{...e,id:e.id,messageServerId:e.messageServerId,type:e.type,createdAt:mf(e.createdAt),updatedAt:mf(e.updatedAt)}}i(ey,"mapApiChannelToClient");function FK(e){return{...e,id:e.id,createdAt:mf(e.createdAt),updatedAt:mf(e.updatedAt)}}i(FK,"mapApiServerToClient");function $K(e){return e.map(FK)}i($K,"mapApiServersToClient");function GK(e){return e.map(ey)}i(GK,"mapApiChannelsToClient");function VK(e,t){const r=e.metadata?.attachments?.map(s=>({id:s.id||crypto.randomUUID(),url:s.url,title:s.title||s.name,source:s.source,description:s.description,text:s.text,contentType:s.contentType||s.type}))||void 0,a=e.sourceType,n=e.rawMessage;return{id:e.id,text:e.content,name:e.metadata?.authorDisplayName||e.metadata?.agentName||"Unknown",senderId:e.authorId,isAgent:!!e.metadata?.isAgent||!1,createdAt:pf(e.createdAt),channelId:e.channelId,serverId:t||e.metadata?.serverId,prompt:e.metadata?.prompt,attachments:r,thought:e.metadata?.thought,actions:e.metadata?.actions,type:a,rawMessage:n}}i(VK,"mapApiMessageToUi");function ZK(e){return{id:e.id,type:e?.type||e.body?.modelType,timestamp:e.timestamp?pf(e.timestamp):void 0,message:e.message,details:e.details,roomId:e.roomId,body:e.body,createdAt:e.createdAt?pf(e.createdAt):void 0}}i(ZK,"mapApiLogToClient");function HK(e){return{id:e.id,entityId:e.metadata?.entityId||e.metadata?.userId||e.agentId,agentId:e.agentId,content:e.content,embedding:e.embedding,roomId:e.roomId,createdAt:pf(e.createdAt),unique:e.metadata?.unique}}i(HK,"mapApiMemoryToClient");const gr=Yt(),er={FREQUENT:3e4,STANDARD:12e4,RARE:6e5,NEVER:Number.POSITIVE_INFINITY},An=i(()=>{const e=typeof navigator<"u"&&"connection"in navigator?navigator.connection:null;return{isOffline:typeof navigator<"u"&&!navigator.onLine,effectiveType:e?.effectiveType||"unknown",saveData:e?.saveData||!1}},"useNetworkStatus");function ty(e={}){const t=An();return jr({queryKey:["agents"],queryFn:i(async()=>({data:{agents:(await gr.agents.listAgents()).agents.map(n=>RN(n))}}),"queryFn"),staleTime:er.FREQUENT,refetchInterval:t.isOffline?!1:er.FREQUENT,refetchIntervalInBackground:!1,...!t.isOffline&&t.effectiveType==="slow-2g"&&{refetchInterval:er.STANDARD},...e})}i(ty,"useAgents");function _l(e,t={}){const r=An();return jr({queryKey:["agent",e],queryFn:i(async()=>{if(!e)throw new Error("Agent ID is required");const a=await gr.agents.getAgent(e);return{data:RN(a)}},"queryFn"),staleTime:er.FREQUENT,enabled:!!e,refetchInterval:!r.isOffline&&e?er.FREQUENT:!1,refetchIntervalInBackground:!1,...!r.isOffline&&r.effectiveType==="slow-2g"&&{refetchInterval:er.STANDARD},...t})}i(_l,"useAgent");function JK(e,t,r={}){const a=An(),n=void 0;return jr({queryKey:["agent",e,"runs","default"],queryFn:i(async()=>{if(!e)throw new Error("Agent ID is required");return gr.runs.listRuns(e,n)},"queryFn"),enabled:!!e,staleTime:er.FREQUENT,refetchInterval:!a.isOffline&&e?er.FREQUENT:!1,refetchIntervalInBackground:!1,...!a.isOffline&&a.effectiveType==="slow-2g"&&{refetchInterval:er.STANDARD},...r})}i(JK,"useAgentRuns");function qK(){const e=xr(),{toast:t}=rr();return Wr({mutationFn:i(async r=>{try{const a=await gr.agents.startAgent(r);return{data:{id:r,name:"Agent",status:a.status}}}catch(a){throw a instanceof Error&&a.message.includes("already running")?new Error("Agent is already running."):a}},"mutationFn"),onMutate:i(async r=>(t({title:"Starting Agent",description:"Initializing agent..."}),{}),"onMutate"),onSuccess:i((r,a)=>{e.invalidateQueries({queryKey:["agents"]}),e.invalidateQueries({queryKey:["agent",a]}),t({title:"Agent Started",description:`${r?.data?.name||"Agent"} is now running`})},"onSuccess"),onError:i(r=>{const a=r instanceof Error?r.message:"Failed to start agent";t({title:"Error Starting Agent",description:`${a}. Please try again.`,variant:"destructive"})},"onError")})}i(qK,"useStartAgent");function KK(){const e=xr(),{toast:t}=rr();return Wr({mutationFn:i(async r=>({data:{message:`Agent ${(await gr.agents.stopAgent(r)).status}`}}),"mutationFn"),onMutate:i(async r=>{const a=e.getQueryData(["agent",r]);a&&t({title:"Stopping Agent",description:`Stopping ${a.name}...`})},"onMutate"),onSuccess:i((r,a)=>{e.invalidateQueries({queryKey:["agents"]}),e.invalidateQueries({queryKey:["agent",a]}),t({title:"Agent Stopped",description:r?.data?.message||"The agent has been successfully stopped"})},"onSuccess"),onError:i((r,a)=>{e.invalidateQueries({queryKey:["agents"]}),e.invalidateQueries({queryKey:["agent",a]}),t({title:"Error",description:r instanceof Error?r.message:"Failed to stop agent",variant:"destructive"})},"onError")})}i(KK,"useStopAgent");function a8(e,t){const r=Ma(),[a,n]=J.useState([]),[s,o]=J.useState(null),[h,p]=J.useState(!0),[v,c]=J.useState(!0),[d,y]=J.useState(!1),[b,x]=J.useState(null),[k,N]=J.useState(!1),C=J.useCallback((Z,ee)=>{const $=Z.authorId!==r;let F=Date.now();if(typeof Z.createdAt=="number")F=Z.createdAt;else if(typeof Z.createdAt=="string"){const u=Date.parse(Z.createdAt);isNaN(u)?qe.warn("[transformServerMessageToUiMessage] createdAt string was not directly parsable by Date.parse():",Z.createdAt,"for message id:",Z.id):F=u}else if(Z.createdAt)try{const u=new Date(Z.createdAt).getTime();isNaN(u)||(F=u)}catch{qe.warn("[transformServerMessageToUiMessage] Could not process createdAt (unknown type):",Z.createdAt,"for message:",Z.id)}return{id:Z.id,text:Z.content,name:$?Z.metadata?.agentName||Z.metadata?.authorDisplayName||Z.authorDisplayName||"Agent":Xa,senderId:Z.authorId,isAgent:$,createdAt:F,attachments:Z.metadata?.attachments,thought:$?Z.metadata?.thought:void 0,actions:$?Z.metadata?.actions:void 0,channelId:Z.channelId,serverId:ee||Z.metadata?.serverId||Z.serverId||t,source:Z.sourceType,isLoading:!1,prompt:$?Z.metadata?.prompt:void 0}},[r,t]),R=J.useCallback(async Z=>{if(!e){n([]),c(!1);return}Z?N(!0):c(!0),y(!1),x(null);try{const $=(await gr.messaging.getChannelMessages(e,{limit:30,before:Z?new Date(Z).toISOString():void 0})).messages.map(F=>VK(F,t||F.metadata?.serverId));if(n(F=>{const u=Z?[...$,...F]:$;return Array.from(new Map(u.map(l=>[l.id,l])).values()).sort((l,m)=>l.createdAt-m.createdAt)}),$.length>0){const F=Math.min(...$.map(u=>u.createdAt));(!Z||F<(s||1/0))&&o(F)}p($.length>=30)}catch(ee){y(!0),x(ee),qe.error(`Failed to fetch messages for channel ${e}:`,ee)}finally{c(!1),N(!1)}},[e,C,t]);J.useEffect(()=>{e?(qe.info(`[useChannelMessages] ChannelId changed or became available: ${e}. Clearing messages and fetching initial set.`),n([]),o(null),p(!0),R()):(qe.info("[useChannelMessages] ChannelId is undefined. Clearing messages."),n([]),o(null),p(!0),c(!1))},[e,R]);const O=i(async()=>{h&&!k&&s&&await R(s-1)},"fetchNextPage"),T=J.useCallback(Z=>{n(ee=>{const $=ee.findIndex(F=>F.id===Z.id);if($>=0){const F=[...ee];return F[$]=Z,F.sort((u,g)=>u.createdAt-g.createdAt)}else return[...ee,Z].sort((F,u)=>F.createdAt-u.createdAt)})},[]),P=J.useCallback((Z,ee)=>{n($=>$.map(F=>F.id===Z?{...F,...ee}:F))},[]),z=J.useCallback(Z=>{n(ee=>ee.filter($=>$.id!==Z))},[]),V=J.useCallback(()=>{n([]),o(null),p(!0)},[]);return{data:a,isLoading:v&&a.length===0,isError:d,error:b,fetchNextPage:O,hasNextPage:h,isFetchingNextPage:k,addMessage:T,updateMessage:P,removeMessage:z,clearMessages:V}}i(a8,"useChannelMessages");function XK(e,t,r){return jr({queryKey:["agentActions",e,t,r],queryFn:i(async()=>{const a=await gr.agents.getAgentLogs(e,{limit:50});return a?a.map(ZK):[]},"queryFn"),refetchInterval:1e3,staleTime:1e3})}i(XK,"useAgentActions");function WK(){const e=xr(),{toast:t}=rr();return Wr({mutationFn:i(async({agentId:r,logId:a})=>(await gr.agents.deleteAgentLog(r,a),{agentId:r,logId:a}),"mutationFn"),onMutate:i(async({agentId:r,logId:a})=>{const n=e.getQueryData(["agentActions",r]);return n&&e.setQueryData(["agentActions",r],s=>s.filter(o=>o.id!==a)),{previousLogs:n,agentId:r,logId:a}},"onMutate"),onSuccess:i((r,{agentId:a})=>{e.invalidateQueries({queryKey:["agentActions",a]}),t({title:"Log Deleted",description:"The log entry has been successfully removed"})},"onSuccess"),onError:i((r,{agentId:a},n)=>{n?.previousLogs&&e.setQueryData(["agentActions",a],n.previousLogs),t({title:"Error",description:r instanceof Error?r.message:"Failed to delete log",variant:"destructive"}),e.invalidateQueries({queryKey:["agentActions",a]})},"onError")})}i(WK,"useDeleteLog");function s8(e,t,r,a=!1){return jr({queryKey:r?["agents",e,"channels",r,"memories",t,a]:["agents",e,"memories",t,a],queryFn:i(async()=>{const s={tableName:t,includeEmbedding:a},o=r?await gr.memory.getRoomMemories(e,r,s):await gr.memory.getAgentMemories(e,s);return console.log("Agent memories result:",{agentId:e,tableName:t,includeEmbedding:a,channelId:r,result:o,dataLength:o.memories?.length,firstMemory:o.memories?.[0],hasEmbeddings:(o.memories||[]).some(p=>p.embedding?.length>0)}),(o.memories||[]).map(HK)},"queryFn"),enabled:!!(e&&t),staleTime:1e3,refetchInterval:10*1e3})}i(s8,"useAgentMemories");function QK(){const e=xr();return Wr({mutationFn:i(async({agentId:t,memoryId:r})=>(await gr.memory.deleteMemory(t,r),{agentId:t,memoryId:r}),"mutationFn"),onSuccess:i(t=>{e.invalidateQueries({queryKey:["agents",t.agentId,"memories"]}),e.invalidateQueries({queryKey:["agents",t.agentId,"rooms"],predicate:i(r=>r.queryKey.length>3&&r.queryKey[4]==="memories","predicate")})},"onSuccess")})}i(QK,"useDeleteMemory");function YK(){const e=xr(),{toast:t}=rr();return Wr({mutationFn:i(async({agentId:r,memoryId:a,memoryData:n})=>{const s=await gr.memory.updateMemory(r,a,n);return{agentId:r,memoryId:a,result:s}},"mutationFn"),onSuccess:i(r=>{e.invalidateQueries({queryKey:["agents",r.agentId,"memories"]}),r.result?.roomId?e.invalidateQueries({queryKey:["agents",r.agentId,"rooms",r.result.roomId,"memories"]}):e.invalidateQueries({queryKey:["agents",r.agentId,"rooms"],predicate:i(a=>a.queryKey.length>3&&a.queryKey[4]==="memories","predicate")}),r.result?.roomId&&e.invalidateQueries({queryKey:["messages",r.agentId,r.result.roomId]}),t({title:"Memory Updated",description:"The memory has been successfully updated"})},"onSuccess"),onError:i(r=>{t({title:"Error",description:r instanceof Error?r.message:"Failed to update memory",variant:"destructive"})},"onError")})}i(YK,"useUpdateMemory");function eX(e,t={}){const r=An();return jr({queryKey:["agentPanels",e],queryFn:i(async()=>{if(!e)throw new Error("Agent ID required");return{success:!0,data:(await gr.agents.getAgentPanels(e)).panels}},"queryFn"),enabled:!!e,staleTime:er.STANDARD,refetchInterval:!r.isOffline&&e?er.RARE:!1,refetchIntervalInBackground:!1,...!r.isOffline&&r.effectiveType==="slow-2g"&&{refetchInterval:er.NEVER},...t})}i(eX,"useAgentPanels");function ks(){const e=An(),{data:t,isLoading:r}=ty(),a=t?.data?.agents?.map(v=>v.id)||[],n=u_({queries:a.map(v=>({queryKey:["agent",v],queryFn:i(async()=>({data:await gr.agents.getAgent(v)}),"queryFn"),staleTime:er.FREQUENT,enabled:!!v,refetchInterval:!e.isOffline&&v?er.FREQUENT:!1,refetchIntervalInBackground:!1,...!e.isOffline&&e.effectiveType==="slow-2g"&&{refetchInterval:er.STANDARD}}))}),s=r||n.some(v=>v.isLoading),o=n.some(v=>v.isError),h=n.find(v=>v.error)?.error;return{data:{agents:n.filter(v=>!!v.data?.data).map(v=>v.data.data)},isLoading:s,isError:o,error:h}}i(ks,"useAgentsWithDetails");function ON(e={}){const t=An();return jr({queryKey:["servers"],queryFn:i(async()=>{const r=await gr.messaging.listServers();return{data:{servers:$K(r.servers)}}},"queryFn"),staleTime:er.RARE,refetchInterval:t.isOffline?!1:er.RARE,...e})}i(ON,"useServers");function ry(e,t={}){const r=An();return jr({queryKey:["channels",e],queryFn:i(async()=>{if(!e)return Promise.resolve({data:{channels:[]}});const a=await gr.messaging.getServerChannels(e);return{data:{channels:GK(a.channels)}}},"queryFn"),enabled:!!e,staleTime:er.STANDARD,refetchInterval:!r.isOffline&&e?er.STANDARD:!1,...t})}i(ry,"useChannels");function tX(e,t={}){const r=An();return jr({queryKey:["channelDetails",e],queryFn:i(async()=>{if(!e)return Promise.resolve({success:!0,data:null});const a=await gr.messaging.getChannelDetails(e);return{success:!0,data:ey(a)}},"queryFn"),enabled:!!e,staleTime:er.STANDARD,refetchInterval:!r.isOffline&&e?er.RARE:!1,...t})}i(tX,"useChannelDetails");function iy(e,t={}){const r=An();return jr({queryKey:["channelParticipants",e],queryFn:i(async()=>{if(!e)return Promise.resolve({success:!0,data:[]});try{const a=await gr.messaging.getChannelParticipants(e);let n=[];return a&&Array.isArray(a.participants)?n=a.participants.map(s=>s.userId):a&&Array.isArray(a)&&(n=a.map(s=>s.userId||s.id||s)),{success:!0,data:n}}catch(a){return console.error("[useChannelParticipants] Error:",a),{success:!1,data:[]}}},"queryFn"),enabled:!!e,staleTime:er.STANDARD,refetchInterval:!r.isOffline&&e?er.FREQUENT:!1,...t})}i(iy,"useChannelParticipants");function rX(){xr();const{toast:e}=rr();return Wr({mutationFn:i(async({channelId:t,messageId:r})=>(await gr.messaging.deleteMessage(t,r),{channelId:t,messageId:r}),"mutationFn"),onSuccess:i((t,r)=>{e({title:"Message Deleted",description:"Message removed successfully."})},"onSuccess"),onError:i(t=>{e({title:"Error Deleting Message",description:t instanceof Error?t.message:"Failed to delete message",variant:"destructive"})},"onError")})}i(rX,"useDeleteChannelMessage");function iX(){const e=xr(),{toast:t}=rr();return Wr({mutationFn:i(async r=>(await gr.messaging.clearChannelHistory(r),{channelId:r}),"mutationFn"),onSuccess:i((r,a)=>{t({title:"Channel Cleared",description:`All messages in channel ${a} cleared.`}),e.invalidateQueries({queryKey:["messages",a]}),e.setQueryData(["messages",a],()=>[])},"onSuccess"),onError:i(r=>{t({title:"Error Clearing Channel",description:r instanceof Error?r.message:"Failed to clear messages",variant:"destructive"})},"onError")})}i(iX,"useClearChannelMessages");function TN(){return jr({queryKey:["server-version"],queryFn:i(async()=>{try{const e=await fetch("/api/system/version");if(!e.ok)throw new Error(`Failed to fetch server version: ${e.status} ${e.statusText}`);return await e.json()}catch(e){throw qe.error("Error fetching server version:",e),e}},"queryFn"),staleTime:300*1e3,retry:3,retryDelay:i(e=>Math.min(1e3*2**e,3e4),"retryDelay")})}i(TN,"useServerVersion");function nX(){const{data:e}=TN();return e?.version||"0.0.0-loading"}i(nX,"useServerVersionString");const aX=i((e,t)=>{const r=[],a=[];return e.forEach(n=>(t(n)?r:a).push(n)),[r,a]},"partition"),ny=i(({children:e,className:t=""})=>j.jsx("div",{className:Le("px-4 pt-1 pb-0 text-sm font-medium text-muted-foreground sidebar-section-header",t),children:e}),"SectionHeader"),sX=i(({title:e,children:t,className:r=""})=>j.jsxs(j.Fragment,{children:[j.jsx(ny,{className:r,children:e}),j.jsx(Af,{children:j.jsx(jf,{className:"mt-0",children:j.jsx(va,{children:t})})})]}),"SidebarSection"),oX=i(({agent:e,isOnline:t,active:r})=>j.jsx(Ai,{children:j.jsx(Sf,{to:`/chat/${e.id}`,children:j.jsxs(Ea,{isActive:r,className:"px-2 py-2 my-1 h-full rounded justify-between cursor-pointer",children:[j.jsx("span",{className:"text-base truncate max-w-36",children:e.name}),j.jsx("div",{className:"flex items-center",children:j.jsxs("div",{className:"relative",children:[j.jsxs(Gn,{className:"h-6 w-6 rounded-full",children:[j.jsx(Oa,{src:yo(e),alt:e.name||"avatar"}),j.jsx(jc,{className:"rounded-full",children:Sa(e.name||"")})]}),j.jsx("span",{className:Le("absolute bottom-0 right-0 w-[8px] h-[8px] rounded border border-white",t?"bg-green-500":"bg-muted-foreground")})]})})]})})}),"AgentRow"),lX=i(({channel:e,serverId:t,active:r})=>{const a=Ma(),{data:n}=ks(),s=n?.agents||[],{data:o}=iy(e.id),h=o?.data,p=h&&Array.isArray(h)?h:[],v=s.filter(y=>y.id&&p.includes(y.id)),c=v.slice(0,3),d=v.length>3?v.length-3:0;return j.jsx(Ai,{children:j.jsx(Sf,{to:`/group/${e.id}?serverId=${t}`,className:"flex-1",children:j.jsxs(Ea,{isActive:r,className:"px-2 py-2 my-1 h-full rounded justify-between cursor-pointer",children:[j.jsx("span",{className:"text-base truncate max-w-36",children:e.name||uv(e,e.participants||[],a)}),j.jsx("div",{className:"flex items-center gap-2",children:j.jsxs("div",{className:"flex -space-x-2",children:[c.map(y=>j.jsxs(Gn,{className:"h-6 w-6 rounded-full border border-background",children:[j.jsx(Oa,{src:typeof y.settings?.avatar=="string"?y.settings.avatar:"",alt:y.name||""}),j.jsx(jc,{className:"rounded-full text-xs",children:Sa(y.name||"")})]},y.id)),d>0&&j.jsxs("div",{className:"w-6 h-6 rounded-full bg-muted text-[10px] flex items-center justify-center border border-background",children:["+",d]})]})})]})})})},"GroupRow"),uX=i(({agents:e,activePath:t})=>j.jsxs(j.Fragment,{children:[j.jsxs("div",{className:"flex items-center px-4 pt-1 pb-0 text-muted-foreground",children:[j.jsx(ny,{className:"px-0 py-0 text-xs flex gap-1 mr-2",children:j.jsx("div",{children:"Agents"})}),j.jsx(ei,{})]}),j.jsx(Af,{children:j.jsx(jf,{className:"px-1 mt-0",children:j.jsx(va,{children:e.map(r=>j.jsx(oX,{agent:r,isOnline:r.status===pr.ACTIVE,active:t.includes(`/chat/${String(r?.id)}`)},r?.id))})})})]}),"AgentListSection"),fX=i(({servers:e,isLoadingServers:t,activePath:r})=>j.jsxs(j.Fragment,{children:[j.jsxs("div",{className:"flex items-center px-4 pt-1 pb-0 text-muted-foreground",children:[j.jsx(ny,{className:"px-0 py-0 text-xs flex gap-1 mr-2",children:j.jsx("div",{children:"Groups"})}),j.jsx(ei,{})]}),j.jsx(Af,{children:j.jsx(jf,{className:"px-1 mt-0",children:j.jsxs(va,{children:[t&&Array.from({length:3}).map((a,n)=>j.jsx(Ai,{children:j.jsx(Nf,{})},`skel-group-${n}`)),e?.map(a=>j.jsx(cX,{serverId:a.id,activePath:r},a.id)),(!e||e.length===0)&&!t&&j.jsx(Ai,{children:j.jsx("div",{className:"p-4 text-xs text-muted-foreground",children:"No groups found."})})]})})})]}),"GroupListSection"),cX=i(({serverId:e,activePath:t})=>{const{data:r,isLoading:a}=ry(e),n=J.useMemo(()=>r?.data?.channels?.filter(s=>s.type===bt.GROUP)||[],[r]);return a?j.jsx(Ai,{children:j.jsx(Nf,{})}):n.length?j.jsx(j.Fragment,{children:n.map(s=>j.jsx(lX,{channel:s,serverId:e,active:t.includes(`/group/${s.id}`)},s.id))}):null},"GroupChannelsForServer");function o8({refreshHomePage:e,isMobile:t=!1}){const r=xf(),a=Ar(),n=xr(),s=nX(),{data:o,error:h,isLoading:p}=ks(),{data:v,isLoading:c}=ON(),d=J.useMemo(()=>o?.agents||[],[o]),y=J.useMemo(()=>v?.data?.servers||[],[v]),[b,x]=J.useMemo(()=>aX(d,R=>R.status===pr.ACTIVE),[d]),k=h?"Error loading agents: NetworkError: Unable to connect to the server. Please check if the server is running.":void 0,N=i(R=>{R.preventDefault(),qe.info("[AppSidebar] handleLogoClick triggered",{currentPath:r.pathname}),n.invalidateQueries({queryKey:["agents"]}),n.invalidateQueries({queryKey:["agentsWithDetails"]}),n.invalidateQueries({queryKey:["servers"]}),n.invalidateQueries({queryKey:["channels"]}),r.pathname==="/"?(qe.info("[AppSidebar] Already on home page. Calling refreshHomePage()."),e()):(qe.info('[AppSidebar] Not on home page. Navigating to "/".'),a("/"))},"handleLogoClick");function C(){const R=Ar(),O=i(()=>{R("/create")},"handleCreateAgent"),T=i(()=>{R("/group/new")},"handleCreateGroup");return j.jsxs(_o,{children:[j.jsx(So,{asChild:!0,children:j.jsxs(et,{variant:"ghost",className:"w-full bg-sidebar-accent hover:bg-sidebar-accent/80 h-10 rounded justify-start",children:[j.jsx(_f,{className:"w-4 h-4 bg"}),"Create New"]})}),j.jsxs(Mo,{align:"start",className:"w-full min-w-[var(--radix-dropdown-menu-trigger-width)]",children:[j.jsx(Fi,{onClick:O,className:"w-full",children:"Create New Agent"}),j.jsx(Fi,{onClick:T,className:"w-full",children:"Create New Group"})]})]})}return i(C,"renderCreateNewButton"),j.jsx(j.Fragment,{children:j.jsxs(G_,{className:Le("bg-background border-r overflow-hidden",t?"p-3 pt-12 w-full h-full":"p-4 w-72 fixed left-0 top-0 z-40 h-screen",!t&&"hidden md:flex md:flex-col"),collapsible:"none","data-testid":"app-sidebar",children:[j.jsx(Z_,{children:j.jsx(va,{children:j.jsx(Ai,{children:j.jsx(Ea,{size:"lg",asChild:!0,children:j.jsx("a",{href:"/",onClick:N,className:"px-4 py-2 h-full sidebar-logo no-underline cursor-pointer",children:j.jsxs("div",{className:"flex flex-col pt-2 gap-1 items-start justify-center",children:[j.jsx("img",{alt:"elizaos-logo",src:"/elizaos-logo-light.png",className:"w-32 max-w-full"}),j.jsxs("span",{className:"text-xs font-mono text-muted-foreground",children:["v",s]})]})})})})})}),j.jsxs(J_,{className:"flex-1 overflow-y-auto",children:[k&&j.jsx("div",{className:"px-4 py-2 text-xs text-red-500",children:k}),j.jsx(va,{className:"my-2",children:j.jsx(Ai,{className:"list-none",children:C()})}),j.jsxs("div",{className:"pt-2",children:[p&&!k&&j.jsx(sX,{title:"Agents",children:j.jsx(Nf,{})}),!p&&!k&&j.jsxs(j.Fragment,{children:[j.jsx(uX,{agents:[...b,...x],activePath:r.pathname}),j.jsx(fX,{servers:y,isLoadingServers:c,activePath:r.pathname})]})]})]}),j.jsx(H_,{className:"px-2 py-4",children:j.jsxs(va,{children:[j.jsx(Bp,{to:"https://eliza.how/",Icon:TC,label:"Documentation"}),j.jsx(Bp,{to:"/logs",Icon:PC,label:"Logs"}),j.jsx(Bp,{to:"/settings",Icon:DC,label:"Settings"}),j.jsx(zK,{})]})})]})})}i(o8,"AppSidebar");const Bp=i(({to:e,Icon:t,label:r})=>e.startsWith("http://")||e.startsWith("https://")?j.jsx(Ai,{children:j.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer",children:j.jsxs(Ea,{className:"rounded cursor-pointer",children:[j.jsx(t,{className:"h-4 w-4 mr-3"}),r]})})}):j.jsx(Ai,{children:j.jsx(Sf,{to:e,children:j.jsxs(Ea,{className:"rounded cursor-pointer",children:[j.jsx(t,{className:"h-4 w-4 mr-3"}),r]})})}),"FooterLink");function dX({className:e}){const{status:t,error:r}=Yb();if(!(t==="error"||t==="unauthorized"))return null;let n="Connection Failed",s="Please ensure the Eliza server is running and accessible.";const o=t==="unauthorized";if(r){const h=r;o?(n="Unauthorized",s="Invalid or missing API Key provided."):h.includes("NetworkError")||h.includes("Failed to fetch")?(n="Network Error",s="Cannot reach the server. Please check your network connection."):h.includes("ECONNREFUSED")?(n="Connection Refused",s="The server refused the connection. Please ensure it is running."):h.includes("timeout")?(n="Connection Timeout",s="The server took too long to respond."):h.includes("404")||h.includes("not found")||h.includes("API endpoint not found")||h.includes("Endpoint not found")?(n="Endpoint Not Found",s="The server API endpoint could not be found."):s=h}return j.jsx("div",{className:Le("bg-opacity-10 border rounded-md p-3 mb-4 w-full md:max-w-4xl","flex items-center justify-between w-full mt-4",o?"bg-yellow-900/20 border-yellow-700 text-yellow-100":"bg-red-900/20 border-red-700 text-red-100",e),children:j.jsxs("div",{className:"flex items-center space-x-3",children:[j.jsx(fi,{className:Le("h-5 w-5 flex-shrink-0",o?"text-yellow-400":"text-red-400")}),j.jsxs("div",{children:[j.jsx("h4",{className:Le("font-medium text-sm",o?"text-yellow-200":"text-red-200"),children:n}),j.jsx("p",{className:Le("text-xs mt-1",o?"text-yellow-300":"text-red-300"),children:s}),j.jsx("div",{className:"mt-2 flex space-x-4",children:j.jsxs("a",{href:"https://eliza.how",target:"_blank",rel:"noopener noreferrer",className:Le("text-xs flex items-center",o?"hover:text-yellow-200 text-yellow-300":"hover:text-red-200 text-red-300"),children:[j.jsx(no,{className:"h-3 w-3 mr-1"}),"Troubleshooting Guide"]})})]})]})})}i(dX,"ConnectionErrorBanner");const Wi=J.forwardRef(({className:e,...t},r)=>j.jsx("div",{ref:r,className:Le("rounded-lg border bg-card text-card-foreground shadow-sm",e),"data-slot":"card",...t}));Wi.displayName="Card";const Nc=J.forwardRef(({className:e,...t},r)=>j.jsx("div",{ref:r,className:Le("flex flex-col space-y-1.5 bg-black/50 rounded-t-lg p-2",e),"data-slot":"card-header",...t}));Nc.displayName="CardHeader";const ay=J.forwardRef(({className:e,...t},r)=>j.jsx("h3",{ref:r,className:Le("text-2xl font-semibold leading-none tracking-tight",e),"data-slot":"card-title",...t}));ay.displayName="CardTitle";const hX=J.forwardRef(({className:e,...t},r)=>j.jsx("p",{ref:r,className:Le("text-sm text-muted-foreground",e),"data-slot":"card-description",...t}));hX.displayName="CardDescription";const za=J.forwardRef(({className:e,...t},r)=>j.jsx("div",{ref:r,className:Le("p-6 pt-0",e),"data-slot":"card-content",...t}));za.displayName="CardContent";const Ic=J.forwardRef(({className:e,...t},r)=>j.jsx("div",{ref:r,className:Le("flex items-center p-6 pt-0",e),"data-slot":"card-footer",...t}));Ic.displayName="CardFooter";function pX(){const[e,t]=J.useState(""),[r,a]=J.useState(""),[n,s]=J.useState(!1),[o,h]=J.useState(null),[p,v]=J.useState(null),[c,d]=J.useState(""),[y,b]=J.useState({}),x=J.useRef(null),[k,N]=J.useState(!1),[C,R]=J.useState(!1),{toast:O}=rr();J.useEffect(()=>{const F=i(u=>{x.current&&!x.current.contains(u.target)&&h(null)},"handleClickOutside");return document.addEventListener("mousedown",F),()=>{document.removeEventListener("mousedown",F)}},[]),J.useEffect(()=>{T()},[]);const T=i(async()=>{const u=await Yt().system.getEnvironment();b(u)},"fetchLocalEnvs"),P=i(async()=>{await T(),v(null),h(null),t(""),a("")},"handleReset"),z=i(F=>{v(o),d(y[F]),h(null)},"handleEdit"),V=i(F=>{const u={...y};delete u[F],b(u),h(null)},"handleRemove"),Z=i(F=>{b({...y,[F]:c}),v(null)},"saveEdit"),ee=i(()=>{!e||!r||(b({...y,[e]:r}),t(""),a(""),v(null))},"addEnv"),$=i(()=>{console.log("API Key was saved")},"handleApiKeySaved");return j.jsxs("div",{className:"container max-w-4xl mx-auto p-6",children:[j.jsx(fN,{open:C,onOpenChange:R,onApiKeySaved:$}),j.jsxs("div",{className:"flex items-center justify-between mb-6",children:[j.jsxs("div",{children:[j.jsx("h1",{className:"text-3xl font-bold",children:"Env settings"}),j.jsx("p",{className:"text-muted-foreground mt-1",children:"Env settings"})]}),j.jsxs(et,{onClick:i(()=>R(!0),"onClick"),"aria-label":"Manage API Key",children:[j.jsx(_a,{className:"h-5 w-5"}),"Manage API Key"]})]}),j.jsx(Wi,{children:j.jsx(za,{className:"p-6",children:j.jsx("div",{className:"space-y-6",children:j.jsxs("div",{className:"rounded-lg w-full flex flex-col gap-3",children:[j.jsx("h2",{className:"text-xl font-bold mb-4 pb-5 ml-1",children:"Environment Settings"}),j.jsxs("div",{className:"grid grid-cols-[1fr_2fr_auto] gap-4 items-end w-full pb-4",children:[j.jsxs("div",{className:"flex flex-col gap-1",children:[j.jsx("label",{htmlFor:"secret-name",className:"ml-2 text-xs font-medium text-gray-400",children:"NAME"}),j.jsx(hr,{id:"secret-name",placeholder:"VARIABLE_NAME",value:e,onChange:i(F=>t(F.target.value),"onChange")})]}),j.jsxs("div",{className:"flex flex-col gap-1 relative",children:[j.jsx("label",{htmlFor:"secret-value",className:"ml-2 text-xs font-medium text-gray-400",children:"VALUE"}),j.jsxs("div",{className:"relative",children:[j.jsx(hr,{id:"secret-value",type:n?"text":"password",placeholder:"i9ju23nfsdf56",value:r,onChange:i(F=>a(F.target.value),"onChange"),className:"pr-10"}),j.jsx("div",{className:"absolute inset-y-0 right-3 flex items-center cursor-pointer text-gray-500",onClick:i(()=>s(!n),"onClick"),children:n?j.jsx(mn,{}):j.jsx(zi,{})})]})]}),j.jsx(et,{className:"shrink-0",onClick:ee,children:"Add"})]}),Object.keys(y).length>0&&j.jsxs("div",{className:"grid grid-cols-[1fr_2fr_auto] gap-4 mt-6 font-medium text-gray-400 border-b pb-2 ml-1",children:[j.jsx("div",{children:"Name"}),j.jsx("div",{children:"Value"}),j.jsx("div",{children:"Action"})]}),j.jsx("div",{className:"mt-2",children:Object.entries(y).map(([F,u],g)=>j.jsxs("div",{className:"grid grid-cols-[1fr_2fr_auto] gap-4 items-center border-b py-2 ml-1 relative",children:[j.jsx("div",{className:"truncate max-w-48",children:F}),j.jsx("div",{children:p===g?j.jsxs("div",{className:"flex items-center gap-2",children:[j.jsx(hr,{value:c,onChange:i(l=>d(l.target.value),"onChange"),className:"w-full"}),j.jsx(et,{variant:"ghost",onClick:i(()=>Z(F),"onClick"),children:j.jsx(Sn,{className:"w-5 h-5 text-green-500"})}),j.jsx(et,{variant:"ghost",onClick:i(()=>v(null),"onClick"),children:j.jsx(Fr,{className:"w-5 h-5 text-red-500"})})]}):j.jsx("div",{className:"truncate text-gray-500",children:"Encrypted"})}),j.jsxs("div",{className:"relative",children:[j.jsx(et,{variant:"ghost",className:"p-2 text-gray-500",onClick:i(()=>h(o===g?null:g),"onClick"),children:j.jsx(Y5,{className:"h-5 w-5"})}),o===g&&j.jsx("div",{ref:x,className:"absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-card ring-1 ring-black ring-opacity-5 z-10",children:j.jsxs("div",{className:"py-1",children:[j.jsx("button",{onClick:i(()=>z(F),"onClick"),className:"w-full text-left px-4 py-2 text-sm text-muted-foreground hover:bg-accent hover:text-accent-foreground",children:"Edit"}),j.jsx("button",{onClick:i(()=>V(F),"onClick"),className:"w-full text-left px-4 py-2 text-sm text-red-500 hover:bg-accent",children:"Remove"})]})})]})]},g))})]})})})}),j.jsxs("div",{className:"flex gap-2 mt-4 justify-end",children:[j.jsx(et,{variant:"outline",onClick:P,children:"Reset"}),j.jsx(et,{type:"submit",disabled:k,onClick:i(async()=>{N(!0);try{await Yt().system.updateLocalEnvironment(y),O({title:"Success",description:"Environment variables updated successfully!"})}catch{O({title:"Error",description:"Failed to update environment variables.",variant:"destructive"})}finally{N(!1)}},"onClick"),children:"Save Changes"})]})]})}i(pX,"EnvSettings");const mX={10:"TRACE",20:"DEBUG",27:"SUCCESS",28:"PROGRESS",29:"LOG",30:"INFO",40:"WARN",50:"ERROR",60:"FATAL"};function l8(e){return mX[e]||"UNKNOWN"}i(l8,"getLevelName");function gX(e){return e>=50?"bg-red-600/80":e>=40?"bg-amber-600/80":e>=27?"bg-emerald-600/80":"bg-slate-500"}i(gX,"getLevelColor");function vX(e){return new Date(e).toLocaleDateString("en-US",{month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})}i(vX,"formatTimestamp$1");function bX(e){const t=Date.now(),r=24,a={};for(let s=r-1;s>=0;s--){const o=new Date(t-s*60*60*1e3);o.setMinutes(0,0,0);const h=o.toISOString();a[h]={info:0,errors:0}}const n=t-1440*60*1e3;return e.forEach(s=>{if(s.time>=n){const o=new Date(s.time);o.setMinutes(0,0,0);const h=o.toISOString();a[h]&&(s.level>=50?a[h].errors++:a[h].info++)}}),Object.entries(a).map(([s,o])=>({timestamp:new Date(s),...o,total:o.info+o.errors}))}i(bX,"generateLogChart");function yX({data:e}){const t=Math.max(...e.map(r=>r.total),1);return j.jsxs("div",{className:"mb-6",children:[j.jsxs("div",{className:"flex items-center justify-between mb-4",children:[j.jsxs("div",{className:"flex items-center gap-4",children:[j.jsxs("div",{className:"flex items-center gap-2",children:[j.jsx("div",{className:"w-3 h-3 rounded-full bg-slate-500"}),j.jsxs("span",{className:"text-sm text-muted-foreground",children:["Info"," ",j.jsx("span",{className:"font-mono",children:e.reduce((r,a)=>r+a.info,0).toLocaleString()})]})]}),j.jsxs("div",{className:"flex items-center gap-2",children:[j.jsx("div",{className:"w-3 h-3 rounded-full bg-red-600/80"}),j.jsxs("span",{className:"text-sm text-muted-foreground",children:["Errors"," ",j.jsx("span",{className:"font-mono",children:e.reduce((r,a)=>r+a.errors,0).toLocaleString()})]})]})]}),j.jsxs("div",{className:"text-sm text-muted-foreground",children:[e[e.length-1]?.timestamp.toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})," ","- (UTC-7)"]})]}),j.jsx("div",{className:"h-32 flex items-end gap-1 bg-muted/30 rounded p-4",children:e.map((r,a)=>j.jsxs("div",{className:"flex-1 flex flex-col justify-end",children:[j.jsx("div",{style:{height:`${r.info/t*100}%`},className:"bg-slate-500 rounded-sm min-h-[2px] transition-all duration-200",title:`${r.timestamp.toLocaleTimeString()}: ${r.info} info logs`},`${r.timestamp.getTime()}-info`),j.jsx("div",{style:{height:`${r.errors/t*100}%`},className:"bg-red-600/80 rounded-sm min-h-[2px] transition-all duration-200",title:`${r.timestamp.toLocaleTimeString()}: ${r.errors} error logs`},`${r.timestamp.getTime()}-errors`)]},a))}),j.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-2",children:[j.jsx("span",{children:e[0]?.timestamp.toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}),j.jsx("span",{children:e[e.length-1]?.timestamp.toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit"})})]})]})}i(yX,"LogChart");function wX(){return j.jsx("div",{className:"flex items-center justify-center py-8",children:j.jsxs("div",{className:"flex flex-col items-center gap-4",children:[j.jsx(go,{className:"h-8 w-8 animate-spin text-muted-foreground"}),j.jsxs("div",{className:"text-center",children:[j.jsx("h3",{className:"font-medium",children:"Loading Logs"}),j.jsx("p",{className:"text-sm text-muted-foreground",children:"Fetching system logs..."})]})]})})}i(wX,"LoadingIndicator$1");function xX({selectedLevel:e,searchQuery:t}){return j.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[j.jsx(Ln,{className:"h-16 w-16 text-muted-foreground/30 mb-4"}),j.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Logs Found"}),j.jsx("p",{className:"text-muted-foreground max-w-md",children:t?`No logs match "${t}". Try adjusting your search or filter.`:e==="all"?"No logs available. Logs will appear here as the system generates them.":`No ${e.toUpperCase()} logs found.`})]})}i(xX,"EmptyState$1");function PN({agentName:e,level:t}){const[r,a]=J.useState(t||"all"),[n,s]=J.useState(e||"all"),[o,h]=J.useState(""),[p,v]=J.useState("7 days"),[c,d]=J.useState(!0),[y,b]=J.useState(!1),[x,k]=J.useState([]),[N,C]=J.useState(!1),R=xr(),{confirm:O,isOpen:T,onOpenChange:P,onConfirm:z,options:V}=Ba(),{data:Z,isLoading:ee,error:$,refetch:F}=jr({queryKey:["logs",r,n],queryFn:i(async()=>await Yt().system.getGlobalLogs({level:r==="all"?"":r,agentName:n==="all"?void 0:n}),"queryFn"),refetchInterval:c&&!N?5e3:!1,staleTime:1e3,enabled:!0}),{data:u}=ty(),g=J.useCallback(I=>{(r==="all"||l8(I.level).toLowerCase()===r.toLowerCase())&&(n==="all"||I.agentName===n)&&k(L=>[I,...L].slice(0,1e3))},[r,n]);J.useEffect(()=>{if(c&&N){const I=ui.getInstance();return I.subscribeToLogStream().catch(console.error),I.on("logStream",g),()=>{I.off("logStream",g),I.unsubscribeFromLogStream().catch(console.error)}}},[c,N,g]),J.useEffect(()=>{c?ui.isConnected()?C(!0):C(!1):(C(!1),k([]))},[c]),J.useEffect(()=>{N&&c&&ui.getInstance().updateLogStreamFilters({agentName:n,level:r}).catch(console.error)},[n,r,N,c]);const l=Z?.logs||[];let m;N&&c&&x.length>0?m=x:m=l;const w=m.sort((I,D)=>D.time-I.time),M=Z?.levels||[],A=u?.data?.agents?.map(I=>I.name)||[],S=w.filter(I=>{if(o.trim()){const D=o.toLowerCase();return[I.msg,I.agentName,I.roomId,l8(I.level),...Object.entries(I).filter(([U])=>!Number.isNaN(Number(U))).map(([U,B])=>String(B))].filter(Boolean).join(" ").toLowerCase().includes(D)}return!0}),f=bX(S),_=i(()=>{O({title:"Clear All Logs",description:"Are you sure you want to permanently delete all system logs? This action cannot be undone.",confirmText:"Delete",variant:"destructive"},async()=>{try{b(!0),await Yt().system.deleteGlobalLogs(),R.invalidateQueries({queryKey:["logs"]}),N&&k([])}catch(I){console.error("Failed to clear logs:",I)}finally{b(!1)}})},"handleClearLogs"),E=i(()=>{N&&c?k([]):F&&F()},"handleRefresh");if(ee&&w.length===0)return j.jsx("div",{className:"flex flex-col h-[calc(100vh-100px)] min-h-[400px] w-full",children:j.jsx(wX,{})});if($){const I=$.message?.includes("404")||$.message?.includes("endpoint not found")||$.message?.includes("Not Found");return j.jsx("div",{className:"flex flex-col h-[calc(100vh-100px)] min-h-[400px] w-full",children:j.jsx("div",{className:"flex items-center justify-center flex-1",children:j.jsxs("div",{className:"text-center max-w-md",children:[j.jsx(Ln,{className:"h-12 w-12 text-destructive mx-auto mb-4"}),j.jsx("h3",{className:"font-medium mb-2",children:I?"Global Logs API Not Available":"Failed to Load Logs"}),j.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:I?"The server does not have the global logs API endpoint configured. You can still view individual agent logs from the agent details pages.":`There was an error loading the system logs: ${$.message}`}),!I&&j.jsxs(et,{variant:"outline",size:"sm",onClick:i(()=>F?.(),"onClick"),children:[j.jsx(Sy,{className:"h-4 w-4 mr-2"}),"Try Again"]})]})})})}return j.jsxs(j.Fragment,{children:[j.jsxs("div",{className:"flex flex-col h-[calc(100vh-100px)] min-h-[400px] w-full",children:[j.jsxs("div",{className:"flex items-center gap-3 mb-6 px-4 pt-4 flex-none",children:[j.jsxs(xn,{value:r,onValueChange:a,children:[j.jsxs(Gi,{className:"w-32 h-9",children:[j.jsx(LC,{className:"h-4 w-4 mr-2"}),j.jsx(_n,{placeholder:"Filter"})]}),j.jsxs(Vi,{children:[j.jsx(Qt,{value:"all",children:"ALL"}),M.map(I=>j.jsx(Qt,{value:I,children:I.toUpperCase()},I))]})]}),j.jsxs("div",{className:"relative flex-1 max-w-md",children:[j.jsx(Ko,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),j.jsx(hr,{placeholder:"Full-text log search",value:o,onChange:i(I=>h(I.target.value),"onChange"),className:"pl-10 h-9"})]}),A&&A.length>0&&!e&&j.jsxs(xn,{value:n,onValueChange:s,children:[j.jsx(Gi,{className:"w-40 h-9",children:j.jsx(_n,{placeholder:"Agent"})}),j.jsxs(Vi,{children:[j.jsx(Qt,{value:"all",children:"ALL AGENTS"}),A?.map(I=>j.jsx(Qt,{value:I,children:I},I))]})]}),j.jsxs(xn,{value:p,onValueChange:v,children:[j.jsxs(Gi,{className:"w-32 h-9",children:[j.jsx(Mf,{className:"h-4 w-4 mr-2"}),j.jsx(_n,{})]}),j.jsxs(Vi,{children:[j.jsx(Qt,{value:"1 hour",children:"1 hour"}),j.jsx(Qt,{value:"6 hours",children:"6 hours"}),j.jsx(Qt,{value:"24 hours",children:"24 hours"}),j.jsx(Qt,{value:"7 days",children:"7 days"}),j.jsx(Qt,{value:"30 days",children:"30 days"})]})]}),j.jsx(et,{variant:"outline",size:"sm",onClick:E,className:"h-9 w-9 p-0",children:j.jsx(Sy,{className:"h-4 w-4"})}),j.jsxs(et,{variant:c?"default":"outline",size:"sm",onClick:i(()=>d(!c),"onClick"),className:"h-9 px-3",title:c?N?"Live mode (WebSocket)":"Live mode (Polling)":"Live mode disabled",children:[j.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${c?"bg-emerald-500 animate-pulse":"bg-slate-400"}`}),"Live"]})]}),j.jsx("div",{className:"flex-1 overflow-hidden px-4 pb-4",children:S.length===0?j.jsx(xX,{selectedLevel:r,searchQuery:o}):j.jsxs("div",{className:"space-y-6",children:[j.jsx(yX,{data:f}),j.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[j.jsx("div",{className:"bg-muted/50 border-b px-4 py-3",children:j.jsxs("div",{className:"grid grid-cols-[200px_1fr] gap-4",children:[j.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Timestamp"}),j.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Message"})]})}),j.jsx("div",{className:"divide-y max-h-[400px] overflow-y-auto",children:S.slice(0,100).map((I,D)=>j.jsxs("div",{className:"grid grid-cols-[200px_1fr] gap-4 px-4 py-3 hover:bg-muted/30 transition-colors",children:[j.jsxs("div",{className:"flex items-center gap-3",children:[j.jsx("div",{className:`w-1 h-6 rounded-full ${gX(I.level)}`}),j.jsx("div",{className:"text-sm font-mono text-muted-foreground",children:vX(I.time)})]}),j.jsxs("div",{className:"flex items-start gap-2 min-w-0",children:[j.jsx("div",{className:"font-mono text-sm leading-relaxed break-all",children:I.msg}),I.agentName&&j.jsx(xi,{variant:"secondary",className:"text-xs flex-shrink-0",children:I.agentName})]})]},`${I.time}-${I.msg}-${D}`))}),S.length>100&&j.jsx("div",{className:"border-t bg-muted/30 px-4 py-3 text-center",children:j.jsxs("span",{className:"text-sm text-muted-foreground",children:["Showing first 100 of ",S.length.toLocaleString()," logs"]})})]})]})}),j.jsxs("div",{className:"border-t bg-muted/30 px-4 py-3 flex items-center justify-between",children:[j.jsx("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:c&&j.jsxs(j.Fragment,{children:[j.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),j.jsxs("span",{children:["Live updates enabled ",N?"(streaming)":"(polling)"]})]})}),j.jsxs(et,{variant:"destructive",size:"sm",onClick:_,disabled:y,className:"h-8 px-3 text-xs",children:[j.jsx(xa,{className:"h-3 w-3 mr-1"}),y?"Clearing...":"Clear All Logs"]})]})]}),j.jsx(La,{open:T,onOpenChange:P,title:V?.title||"",description:V?.description||"",confirmText:V?.confirmText,cancelText:V?.cancelText,variant:V?.variant,onConfirm:z})]})}i(PN,"AgentLogViewer");const u8="eliza-onboarding-completed",_X=i(()=>{const[e,t]=J.useState(()=>{try{return localStorage.getItem(u8)==="true"}catch(n){return qe.error("Error accessing localStorage:",n),!1}});return J.useEffect(()=>{try{localStorage.setItem(u8,e.toString())}catch(n){qe.error("Error writing to localStorage:",n)}},[e]),{onboardingCompleted:e,completeOnboarding:i(()=>{t(!0)},"completeOnboarding"),resetOnboarding:i(()=>{t(!1)},"resetOnboarding")}},"useOnboarding");function SX(){const{onboardingCompleted:e,completeOnboarding:t}=_X(),[r,a]=J.useState(!1),n=xf(),[s,o]=J.useState(0),h=[{target:".sidebar-logo",content:"Welcome to ElizaOS! This is your gateway to creating and managing intelligent AI agents.",disableBeacon:!0,title:"Welcome to ElizaOS"},{target:".sidebar-create-button",content:"This is your main creation button. Click here to create new agents or rooms quickly.",title:"Create Button"},{target:".sidebar-online-section, .sidebar-offline-section",content:"Your agents are organized here. Online agents (green dot) are ready to chat, while offline agents need to be activated first.",title:"Your Agents"},{target:".sidebar-groups-section",content:"Access your agent groups from here to see collaborative conversations between multiple agents.",title:"Groups Navigation"},{target:".sidebar-docs-button, .sidebar-logs-button, .sidebar-settings-button",content:"Access documentation, system logs, and global settings from these utility buttons.",title:"System Utilities"},{target:".sidebar-connection-status",content:"This indicator shows your connection status to the ElizaOS server.",title:"Connection Status"},{target:".agents-section",content:'This is your main workspace showing all your agents. Active agents have a green dot, while inactive ones appear grayed out with an "Offline" label.',title:"Agent Dashboard"},{target:".message-button, .start-button",content:'Click "Message" to chat with active agents, or "Start" to activate offline agents first.',title:"Agent Interaction"},{target:".agent-info-button, .agent-settings-button",content:"View agent details or configure settings using these buttons on each agent card.",title:"Agent Management"},{target:".groups-section",content:"This section displays your agent groups for collaborative interactions between multiple agents.",title:"Agent Groups"},{target:".groups-create-button",content:"Create a new group by clicking this button. Groups allow multiple agents to interact together.",title:"Create New Group"},{target:".create-agent-button",content:"Let's create your first agent! Click this button to get started.",title:"Create Your First Agent",spotlightClicks:!0}],p=[{target:".agent-form-name",content:"Give your agent a name that reflects its purpose or personality.",title:"Name Your Agent",disableBeacon:!0},{target:".agent-form-system-prompt",content:"The system prompt defines your agent's behavior and capabilities. This is the most important field for shaping how your agent will respond.",title:"Define Agent Behavior"},{target:".tabs-list",content:"Switch between these tabs to configure different aspects of your agent such as content, style, plugins, and appearance.",title:"Configuration Tabs"},{target:".agent-form-submit",content:"Click Save to create your agent and return to the dashboard.",title:"Save Your Agent",spotlightClicks:!0}],v=n.pathname==="/"?h:n.pathname==="/create"?p:[];J.useEffect(()=>{if(n.pathname==="/"&&!e&&s===0){const d=setTimeout(()=>{a(!0)},1e3);return()=>clearTimeout(d)}else if(n.pathname==="/create"&&!e&&s===1){const d=setTimeout(()=>{a(!0)},1e3);return()=>clearTimeout(d)}else a(!1)},[n.pathname,e,s]);const c=i(d=>{const{status:y,index:b,type:x,action:k}=d;n.pathname==="/"&&x==="step:after"&&b===h.length-1&&(o(1),a(!1)),(y===My.FINISHED||y===My.SKIPPED||k===zC.CLOSE)&&(t(),a(!1))},"handleJoyrideCallback");return e||v.length===0?null:j.jsx(BC,{callback:c,continuous:!0,run:r,scrollToFirstStep:!0,showProgress:!0,showSkipButton:!0,steps:v,floaterProps:{disableAnimation:!1,styles:{floater:{filter:"drop-shadow(0 10px 15px rgba(0, 0, 0, 0.25))"}}},styles:{options:{primaryColor:"#3b82f6",backgroundColor:"#1f2937",textColor:"#f3f4f6",overlayColor:"rgba(0, 0, 0, 0.6)",zIndex:9999,arrowColor:"#1f2937",beaconSize:36},tooltip:{fontSize:"14px",padding:"16px",borderRadius:"10px",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.3)"},tooltipContainer:{textAlign:"left"},tooltipTitle:{fontSize:"16px",fontWeight:"600",marginBottom:"8px"},tooltipContent:{padding:"5px 0",fontSize:"14px",lineHeight:"1.5"},buttonClose:{color:"#9ca3af",opacity:.8},buttonBack:{color:"#9ca3af",fontSize:"14px",fontWeight:"500",padding:"8px 12px",borderRadius:"6px",marginRight:"8px",transition:"background-color 0.2s ease"},buttonNext:{backgroundColor:"#3b82f6",fontSize:"14px",fontWeight:"500",padding:"8px 16px",borderRadius:"6px",color:"white",border:"none",boxShadow:"0 4px 6px rgba(59, 130, 246, 0.3)",transition:"all 0.2s ease"},buttonSkip:{color:"#9ca3af",fontSize:"14px",padding:"8px 12px",borderRadius:"6px",transition:"background-color 0.2s ease"},spotlight:{borderRadius:"8px",backgroundColor:"transparent"},overlay:{backgroundColor:"rgba(0, 0, 0, 0.7)"}}})}i(SX,"OnboardingTour");const MX=UC,DN=J.forwardRef(({className:e,...t},r)=>j.jsx(m_,{ref:r,className:Le("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));DN.displayName=m_.displayName;const EX=En("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),LN=J.forwardRef(({className:e,variant:t,...r},a)=>j.jsx(c_,{ref:a,className:Le(EX({variant:t}),e),...r}));LN.displayName=c_.displayName;const BN=J.forwardRef(({className:e,...t},r)=>j.jsx(f_,{ref:r,className:Le("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));BN.displayName=f_.displayName;const zN=J.forwardRef(({className:e,...t},r)=>j.jsx(p_,{ref:r,className:Le("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:j.jsx(Fr,{className:"h-4 w-4"})}));zN.displayName=p_.displayName;const UN=J.forwardRef(({className:e,...t},r)=>j.jsx(d_,{ref:r,className:Le("text-sm font-semibold [&+div]:text-xs",e),...t}));UN.displayName=d_.displayName;const FN=J.forwardRef(({className:e,...t},r)=>j.jsx(h_,{ref:r,className:Le("text-sm opacity-90",e),...t}));FN.displayName=h_.displayName;function kX(){const{toasts:e}=rr();return j.jsxs(MX,{children:[e.map(({id:t,title:r,description:a,action:n,...s})=>j.jsxs(LN,{...s,children:[j.jsxs("div",{className:"grid gap-1",children:[r&&j.jsx(UN,{children:r}),a&&j.jsx(FN,{children:a})]}),n,j.jsx(zN,{})]},t)),j.jsx(DN,{})]})}i(kX,"Toaster");var hu={exports:{}},zp,f8;function Cc(){if(f8)return zp;f8=1;const e="2.0.0",t=256,r=Number.MAX_SAFE_INTEGER||9007199254740991,a=16,n=t-6;return zp={MAX_LENGTH:t,MAX_SAFE_COMPONENT_LENGTH:a,MAX_SAFE_BUILD_LENGTH:n,MAX_SAFE_INTEGER:r,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:e,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},zp}i(Cc,"requireConstants");var Up,c8;function Rc(){if(c8)return Up;c8=1;var e={};return Up=typeof process=="object"&&e&&e.NODE_DEBUG&&/\bsemver\b/i.test(e.NODE_DEBUG)?(...r)=>console.error("SEMVER",...r):()=>{},Up}i(Rc,"requireDebug");var d8;function Sl(){return d8||(d8=1,(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:a,MAX_LENGTH:n}=Cc(),s=Rc();t=e.exports={};const o=t.re=[],h=t.safeRe=[],p=t.src=[],v=t.safeSrc=[],c=t.t={};let d=0;const y="[a-zA-Z0-9-]",b=[["\\s",1],["\\d",n],[y,a]],x=i(N=>{for(const[C,R]of b)N=N.split(`${C}*`).join(`${C}{0,${R}}`).split(`${C}+`).join(`${C}{1,${R}}`);return N},"makeSafeRegex"),k=i((N,C,R)=>{const O=x(C),T=d++;s(N,T,C),c[N]=T,p[T]=C,v[T]=O,o[T]=new RegExp(C,R?"g":void 0),h[T]=new RegExp(O,R?"g":void 0)},"createToken");k("NUMERICIDENTIFIER","0|[1-9]\\d*"),k("NUMERICIDENTIFIERLOOSE","\\d+"),k("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${y}*`),k("MAINVERSION",`(${p[c.NUMERICIDENTIFIER]})\\.(${p[c.NUMERICIDENTIFIER]})\\.(${p[c.NUMERICIDENTIFIER]})`),k("MAINVERSIONLOOSE",`(${p[c.NUMERICIDENTIFIERLOOSE]})\\.(${p[c.NUMERICIDENTIFIERLOOSE]})\\.(${p[c.NUMERICIDENTIFIERLOOSE]})`),k("PRERELEASEIDENTIFIER",`(?:${p[c.NONNUMERICIDENTIFIER]}|${p[c.NUMERICIDENTIFIER]})`),k("PRERELEASEIDENTIFIERLOOSE",`(?:${p[c.NONNUMERICIDENTIFIER]}|${p[c.NUMERICIDENTIFIERLOOSE]})`),k("PRERELEASE",`(?:-(${p[c.PRERELEASEIDENTIFIER]}(?:\\.${p[c.PRERELEASEIDENTIFIER]})*))`),k("PRERELEASELOOSE",`(?:-?(${p[c.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${p[c.PRERELEASEIDENTIFIERLOOSE]})*))`),k("BUILDIDENTIFIER",`${y}+`),k("BUILD",`(?:\\+(${p[c.BUILDIDENTIFIER]}(?:\\.${p[c.BUILDIDENTIFIER]})*))`),k("FULLPLAIN",`v?${p[c.MAINVERSION]}${p[c.PRERELEASE]}?${p[c.BUILD]}?`),k("FULL",`^${p[c.FULLPLAIN]}$`),k("LOOSEPLAIN",`[v=\\s]*${p[c.MAINVERSIONLOOSE]}${p[c.PRERELEASELOOSE]}?${p[c.BUILD]}?`),k("LOOSE",`^${p[c.LOOSEPLAIN]}$`),k("GTLT","((?:<|>)?=?)"),k("XRANGEIDENTIFIERLOOSE",`${p[c.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),k("XRANGEIDENTIFIER",`${p[c.NUMERICIDENTIFIER]}|x|X|\\*`),k("XRANGEPLAIN",`[v=\\s]*(${p[c.XRANGEIDENTIFIER]})(?:\\.(${p[c.XRANGEIDENTIFIER]})(?:\\.(${p[c.XRANGEIDENTIFIER]})(?:${p[c.PRERELEASE]})?${p[c.BUILD]}?)?)?`),k("XRANGEPLAINLOOSE",`[v=\\s]*(${p[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${p[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${p[c.XRANGEIDENTIFIERLOOSE]})(?:${p[c.PRERELEASELOOSE]})?${p[c.BUILD]}?)?)?`),k("XRANGE",`^${p[c.GTLT]}\\s*${p[c.XRANGEPLAIN]}$`),k("XRANGELOOSE",`^${p[c.GTLT]}\\s*${p[c.XRANGEPLAINLOOSE]}$`),k("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),k("COERCE",`${p[c.COERCEPLAIN]}(?:$|[^\\d])`),k("COERCEFULL",p[c.COERCEPLAIN]+`(?:${p[c.PRERELEASE]})?(?:${p[c.BUILD]})?(?:$|[^\\d])`),k("COERCERTL",p[c.COERCE],!0),k("COERCERTLFULL",p[c.COERCEFULL],!0),k("LONETILDE","(?:~>?)"),k("TILDETRIM",`(\\s*)${p[c.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",k("TILDE",`^${p[c.LONETILDE]}${p[c.XRANGEPLAIN]}$`),k("TILDELOOSE",`^${p[c.LONETILDE]}${p[c.XRANGEPLAINLOOSE]}$`),k("LONECARET","(?:\\^)"),k("CARETTRIM",`(\\s*)${p[c.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",k("CARET",`^${p[c.LONECARET]}${p[c.XRANGEPLAIN]}$`),k("CARETLOOSE",`^${p[c.LONECARET]}${p[c.XRANGEPLAINLOOSE]}$`),k("COMPARATORLOOSE",`^${p[c.GTLT]}\\s*(${p[c.LOOSEPLAIN]})$|^$`),k("COMPARATOR",`^${p[c.GTLT]}\\s*(${p[c.FULLPLAIN]})$|^$`),k("COMPARATORTRIM",`(\\s*)${p[c.GTLT]}\\s*(${p[c.LOOSEPLAIN]}|${p[c.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",k("HYPHENRANGE",`^\\s*(${p[c.XRANGEPLAIN]})\\s+-\\s+(${p[c.XRANGEPLAIN]})\\s*$`),k("HYPHENRANGELOOSE",`^\\s*(${p[c.XRANGEPLAINLOOSE]})\\s+-\\s+(${p[c.XRANGEPLAINLOOSE]})\\s*$`),k("STAR","(<|>)?=?\\s*\\*"),k("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),k("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(hu,hu.exports)),hu.exports}i(Sl,"requireRe");var Fp,h8;function sy(){if(h8)return Fp;h8=1;const e=Object.freeze({loose:!0}),t=Object.freeze({});return Fp=i(a=>a?typeof a!="object"?e:a:t,"parseOptions"),Fp}i(sy,"requireParseOptions");var $p,p8;function $N(){if(p8)return $p;p8=1;const e=/^[0-9]+$/,t=i((a,n)=>{const s=e.test(a),o=e.test(n);return s&&o&&(a=+a,n=+n),a===n?0:s&&!o?-1:o&&!s?1:a<n?-1:1},"compareIdentifiers");return $p={compareIdentifiers:t,rcompareIdentifiers:i((a,n)=>t(n,a),"rcompareIdentifiers")},$p}i($N,"requireIdentifiers");var Gp,m8;function Dr(){if(m8)return Gp;m8=1;const e=Rc(),{MAX_LENGTH:t,MAX_SAFE_INTEGER:r}=Cc(),{safeRe:a,t:n}=Sl(),s=sy(),{compareIdentifiers:o}=$N();class h{static{i(this,"SemVer")}constructor(v,c){if(c=s(c),v instanceof h){if(v.loose===!!c.loose&&v.includePrerelease===!!c.includePrerelease)return v;v=v.version}else if(typeof v!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof v}".`);if(v.length>t)throw new TypeError(`version is longer than ${t} characters`);e("SemVer",v,c),this.options=c,this.loose=!!c.loose,this.includePrerelease=!!c.includePrerelease;const d=v.trim().match(c.loose?a[n.LOOSE]:a[n.FULL]);if(!d)throw new TypeError(`Invalid Version: ${v}`);if(this.raw=v,this.major=+d[1],this.minor=+d[2],this.patch=+d[3],this.major>r||this.major<0)throw new TypeError("Invalid major version");if(this.minor>r||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>r||this.patch<0)throw new TypeError("Invalid patch version");d[4]?this.prerelease=d[4].split(".").map(y=>{if(/^[0-9]+$/.test(y)){const b=+y;if(b>=0&&b<r)return b}return y}):this.prerelease=[],this.build=d[5]?d[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(v){if(e("SemVer.compare",this.version,this.options,v),!(v instanceof h)){if(typeof v=="string"&&v===this.version)return 0;v=new h(v,this.options)}return v.version===this.version?0:this.compareMain(v)||this.comparePre(v)}compareMain(v){return v instanceof h||(v=new h(v,this.options)),o(this.major,v.major)||o(this.minor,v.minor)||o(this.patch,v.patch)}comparePre(v){if(v instanceof h||(v=new h(v,this.options)),this.prerelease.length&&!v.prerelease.length)return-1;if(!this.prerelease.length&&v.prerelease.length)return 1;if(!this.prerelease.length&&!v.prerelease.length)return 0;let c=0;do{const d=this.prerelease[c],y=v.prerelease[c];if(e("prerelease compare",c,d,y),d===void 0&&y===void 0)return 0;if(y===void 0)return 1;if(d===void 0)return-1;if(d===y)continue;return o(d,y)}while(++c)}compareBuild(v){v instanceof h||(v=new h(v,this.options));let c=0;do{const d=this.build[c],y=v.build[c];if(e("build compare",c,d,y),d===void 0&&y===void 0)return 0;if(y===void 0)return 1;if(d===void 0)return-1;if(d===y)continue;return o(d,y)}while(++c)}inc(v,c,d){if(v.startsWith("pre")){if(!c&&d===!1)throw new Error("invalid increment argument: identifier is empty");if(c){const y=`-${c}`.match(this.options.loose?a[n.PRERELEASELOOSE]:a[n.PRERELEASE]);if(!y||y[1]!==c)throw new Error(`invalid identifier: ${c}`)}}switch(v){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",c,d);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",c,d);break;case"prepatch":this.prerelease.length=0,this.inc("patch",c,d),this.inc("pre",c,d);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",c,d),this.inc("pre",c,d);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const y=Number(d)?1:0;if(this.prerelease.length===0)this.prerelease=[y];else{let b=this.prerelease.length;for(;--b>=0;)typeof this.prerelease[b]=="number"&&(this.prerelease[b]++,b=-2);if(b===-1){if(c===this.prerelease.join(".")&&d===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(y)}}if(c){let b=[c,y];d===!1&&(b=[c]),o(this.prerelease[0],c)===0?isNaN(this.prerelease[1])&&(this.prerelease=b):this.prerelease=b}break}default:throw new Error(`invalid increment argument: ${v}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return Gp=h,Gp}i(Dr,"requireSemver$1");var Vp,g8;function As(){if(g8)return Vp;g8=1;const e=Dr();return Vp=i((r,a,n=!1)=>{if(r instanceof e)return r;try{return new e(r,a)}catch(s){if(!n)return null;throw s}},"parse"),Vp}i(As,"requireParse");var Zp,v8;function AX(){if(v8)return Zp;v8=1;const e=As();return Zp=i((r,a)=>{const n=e(r,a);return n?n.version:null},"valid"),Zp}i(AX,"requireValid$1");var Hp,b8;function jX(){if(b8)return Hp;b8=1;const e=As();return Hp=i((r,a)=>{const n=e(r.trim().replace(/^[=v]+/,""),a);return n?n.version:null},"clean"),Hp}i(jX,"requireClean");var Jp,y8;function NX(){if(y8)return Jp;y8=1;const e=Dr();return Jp=i((r,a,n,s,o)=>{typeof n=="string"&&(o=s,s=n,n=void 0);try{return new e(r instanceof e?r.version:r,n).inc(a,s,o).version}catch{return null}},"inc"),Jp}i(NX,"requireInc");var qp,w8;function IX(){if(w8)return qp;w8=1;const e=As();return qp=i((r,a)=>{const n=e(r,null,!0),s=e(a,null,!0),o=n.compare(s);if(o===0)return null;const h=o>0,p=h?n:s,v=h?s:n,c=!!p.prerelease.length;if(!!v.prerelease.length&&!c){if(!v.patch&&!v.minor)return"major";if(v.compareMain(p)===0)return v.minor&&!v.patch?"minor":"patch"}const y=c?"pre":"";return n.major!==s.major?y+"major":n.minor!==s.minor?y+"minor":n.patch!==s.patch?y+"patch":"prerelease"},"diff"),qp}i(IX,"requireDiff");var Kp,x8;function CX(){if(x8)return Kp;x8=1;const e=Dr();return Kp=i((r,a)=>new e(r,a).major,"major"),Kp}i(CX,"requireMajor");var Xp,_8;function RX(){if(_8)return Xp;_8=1;const e=Dr();return Xp=i((r,a)=>new e(r,a).minor,"minor"),Xp}i(RX,"requireMinor");var Wp,S8;function OX(){if(S8)return Wp;S8=1;const e=Dr();return Wp=i((r,a)=>new e(r,a).patch,"patch"),Wp}i(OX,"requirePatch");var Qp,M8;function TX(){if(M8)return Qp;M8=1;const e=As();return Qp=i((r,a)=>{const n=e(r,a);return n&&n.prerelease.length?n.prerelease:null},"prerelease"),Qp}i(TX,"requirePrerelease");var Yp,E8;function Pi(){if(E8)return Yp;E8=1;const e=Dr();return Yp=i((r,a,n)=>new e(r,n).compare(new e(a,n)),"compare"),Yp}i(Pi,"requireCompare");var em,k8;function PX(){if(k8)return em;k8=1;const e=Pi();return em=i((r,a,n)=>e(a,r,n),"rcompare"),em}i(PX,"requireRcompare");var tm,A8;function DX(){if(A8)return tm;A8=1;const e=Pi();return tm=i((r,a)=>e(r,a,!0),"compareLoose"),tm}i(DX,"requireCompareLoose");var rm,j8;function oy(){if(j8)return rm;j8=1;const e=Dr();return rm=i((r,a,n)=>{const s=new e(r,n),o=new e(a,n);return s.compare(o)||s.compareBuild(o)},"compareBuild"),rm}i(oy,"requireCompareBuild");var im,N8;function LX(){if(N8)return im;N8=1;const e=oy();return im=i((r,a)=>r.sort((n,s)=>e(n,s,a)),"sort"),im}i(LX,"requireSort");var nm,I8;function BX(){if(I8)return nm;I8=1;const e=oy();return nm=i((r,a)=>r.sort((n,s)=>e(s,n,a)),"rsort"),nm}i(BX,"requireRsort");var am,C8;function Oc(){if(C8)return am;C8=1;const e=Pi();return am=i((r,a,n)=>e(r,a,n)>0,"gt"),am}i(Oc,"requireGt");var sm,R8;function ly(){if(R8)return sm;R8=1;const e=Pi();return sm=i((r,a,n)=>e(r,a,n)<0,"lt"),sm}i(ly,"requireLt");var om,O8;function GN(){if(O8)return om;O8=1;const e=Pi();return om=i((r,a,n)=>e(r,a,n)===0,"eq"),om}i(GN,"requireEq");var lm,T8;function VN(){if(T8)return lm;T8=1;const e=Pi();return lm=i((r,a,n)=>e(r,a,n)!==0,"neq"),lm}i(VN,"requireNeq");var um,P8;function uy(){if(P8)return um;P8=1;const e=Pi();return um=i((r,a,n)=>e(r,a,n)>=0,"gte"),um}i(uy,"requireGte");var fm,D8;function fy(){if(D8)return fm;D8=1;const e=Pi();return fm=i((r,a,n)=>e(r,a,n)<=0,"lte"),fm}i(fy,"requireLte");var cm,L8;function ZN(){if(L8)return cm;L8=1;const e=GN(),t=VN(),r=Oc(),a=uy(),n=ly(),s=fy();return cm=i((h,p,v,c)=>{switch(p){case"===":return typeof h=="object"&&(h=h.version),typeof v=="object"&&(v=v.version),h===v;case"!==":return typeof h=="object"&&(h=h.version),typeof v=="object"&&(v=v.version),h!==v;case"":case"=":case"==":return e(h,v,c);case"!=":return t(h,v,c);case">":return r(h,v,c);case">=":return a(h,v,c);case"<":return n(h,v,c);case"<=":return s(h,v,c);default:throw new TypeError(`Invalid operator: ${p}`)}},"cmp"),cm}i(ZN,"requireCmp");var dm,B8;function zX(){if(B8)return dm;B8=1;const e=Dr(),t=As(),{safeRe:r,t:a}=Sl();return dm=i((s,o)=>{if(s instanceof e)return s;if(typeof s=="number"&&(s=String(s)),typeof s!="string")return null;o=o||{};let h=null;if(!o.rtl)h=s.match(o.includePrerelease?r[a.COERCEFULL]:r[a.COERCE]);else{const b=o.includePrerelease?r[a.COERCERTLFULL]:r[a.COERCERTL];let x;for(;(x=b.exec(s))&&(!h||h.index+h[0].length!==s.length);)(!h||x.index+x[0].length!==h.index+h[0].length)&&(h=x),b.lastIndex=x.index+x[1].length+x[2].length;b.lastIndex=-1}if(h===null)return null;const p=h[2],v=h[3]||"0",c=h[4]||"0",d=o.includePrerelease&&h[5]?`-${h[5]}`:"",y=o.includePrerelease&&h[6]?`+${h[6]}`:"";return t(`${p}.${v}.${c}${d}${y}`,o)},"coerce"),dm}i(zX,"requireCoerce");var hm,z8;function UX(){if(z8)return hm;z8=1;class e{static{i(this,"LRUCache")}constructor(){this.max=1e3,this.map=new Map}get(r){const a=this.map.get(r);if(a!==void 0)return this.map.delete(r),this.map.set(r,a),a}delete(r){return this.map.delete(r)}set(r,a){if(!this.delete(r)&&a!==void 0){if(this.map.size>=this.max){const s=this.map.keys().next().value;this.delete(s)}this.map.set(r,a)}return this}}return hm=e,hm}i(UX,"requireLrucache");var pm,U8;function Di(){if(U8)return pm;U8=1;const e=/\s+/g;class t{static{i(this,"Range")}constructor(m,w){if(w=n(w),m instanceof t)return m.loose===!!w.loose&&m.includePrerelease===!!w.includePrerelease?m:new t(m.raw,w);if(m instanceof s)return this.raw=m.value,this.set=[[m]],this.formatted=void 0,this;if(this.options=w,this.loose=!!w.loose,this.includePrerelease=!!w.includePrerelease,this.raw=m.trim().replace(e," "),this.set=this.raw.split("||").map(M=>this.parseRange(M.trim())).filter(M=>M.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const M=this.set[0];if(this.set=this.set.filter(A=>!k(A[0])),this.set.length===0)this.set=[M];else if(this.set.length>1){for(const A of this.set)if(A.length===1&&N(A[0])){this.set=[A];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let m=0;m<this.set.length;m++){m>0&&(this.formatted+="||");const w=this.set[m];for(let M=0;M<w.length;M++)M>0&&(this.formatted+=" "),this.formatted+=w[M].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(m){const M=((this.options.includePrerelease&&b)|(this.options.loose&&x))+":"+m,A=a.get(M);if(A)return A;const S=this.options.loose,f=S?p[v.HYPHENRANGELOOSE]:p[v.HYPHENRANGE];m=m.replace(f,u(this.options.includePrerelease)),o("hyphen replace",m),m=m.replace(p[v.COMPARATORTRIM],c),o("comparator trim",m),m=m.replace(p[v.TILDETRIM],d),o("tilde trim",m),m=m.replace(p[v.CARETTRIM],y),o("caret trim",m);let _=m.split(" ").map(L=>R(L,this.options)).join(" ").split(/\s+/).map(L=>F(L,this.options));S&&(_=_.filter(L=>(o("loose invalid filter",L,this.options),!!L.match(p[v.COMPARATORLOOSE])))),o("range list",_);const E=new Map,I=_.map(L=>new s(L,this.options));for(const L of I){if(k(L))return[L];E.set(L.value,L)}E.size>1&&E.has("")&&E.delete("");const D=[...E.values()];return a.set(M,D),D}intersects(m,w){if(!(m instanceof t))throw new TypeError("a Range is required");return this.set.some(M=>C(M,w)&&m.set.some(A=>C(A,w)&&M.every(S=>A.every(f=>S.intersects(f,w)))))}test(m){if(!m)return!1;if(typeof m=="string")try{m=new h(m,this.options)}catch{return!1}for(let w=0;w<this.set.length;w++)if(g(this.set[w],m,this.options))return!0;return!1}}pm=t;const r=UX(),a=new r,n=sy(),s=Tc(),o=Rc(),h=Dr(),{safeRe:p,t:v,comparatorTrimReplace:c,tildeTrimReplace:d,caretTrimReplace:y}=Sl(),{FLAG_INCLUDE_PRERELEASE:b,FLAG_LOOSE:x}=Cc(),k=i(l=>l.value==="<0.0.0-0","isNullSet"),N=i(l=>l.value==="","isAny"),C=i((l,m)=>{let w=!0;const M=l.slice();let A=M.pop();for(;w&&M.length;)w=M.every(S=>A.intersects(S,m)),A=M.pop();return w},"isSatisfiable"),R=i((l,m)=>(o("comp",l,m),l=z(l,m),o("caret",l),l=T(l,m),o("tildes",l),l=Z(l,m),o("xrange",l),l=$(l,m),o("stars",l),l),"parseComparator"),O=i(l=>!l||l.toLowerCase()==="x"||l==="*","isX"),T=i((l,m)=>l.trim().split(/\s+/).map(w=>P(w,m)).join(" "),"replaceTildes"),P=i((l,m)=>{const w=m.loose?p[v.TILDELOOSE]:p[v.TILDE];return l.replace(w,(M,A,S,f,_)=>{o("tilde",l,M,A,S,f,_);let E;return O(A)?E="":O(S)?E=`>=${A}.0.0 <${+A+1}.0.0-0`:O(f)?E=`>=${A}.${S}.0 <${A}.${+S+1}.0-0`:_?(o("replaceTilde pr",_),E=`>=${A}.${S}.${f}-${_} <${A}.${+S+1}.0-0`):E=`>=${A}.${S}.${f} <${A}.${+S+1}.0-0`,o("tilde return",E),E})},"replaceTilde"),z=i((l,m)=>l.trim().split(/\s+/).map(w=>V(w,m)).join(" "),"replaceCarets"),V=i((l,m)=>{o("caret",l,m);const w=m.loose?p[v.CARETLOOSE]:p[v.CARET],M=m.includePrerelease?"-0":"";return l.replace(w,(A,S,f,_,E)=>{o("caret",l,A,S,f,_,E);let I;return O(S)?I="":O(f)?I=`>=${S}.0.0${M} <${+S+1}.0.0-0`:O(_)?S==="0"?I=`>=${S}.${f}.0${M} <${S}.${+f+1}.0-0`:I=`>=${S}.${f}.0${M} <${+S+1}.0.0-0`:E?(o("replaceCaret pr",E),S==="0"?f==="0"?I=`>=${S}.${f}.${_}-${E} <${S}.${f}.${+_+1}-0`:I=`>=${S}.${f}.${_}-${E} <${S}.${+f+1}.0-0`:I=`>=${S}.${f}.${_}-${E} <${+S+1}.0.0-0`):(o("no pr"),S==="0"?f==="0"?I=`>=${S}.${f}.${_}${M} <${S}.${f}.${+_+1}-0`:I=`>=${S}.${f}.${_}${M} <${S}.${+f+1}.0-0`:I=`>=${S}.${f}.${_} <${+S+1}.0.0-0`),o("caret return",I),I})},"replaceCaret"),Z=i((l,m)=>(o("replaceXRanges",l,m),l.split(/\s+/).map(w=>ee(w,m)).join(" ")),"replaceXRanges"),ee=i((l,m)=>{l=l.trim();const w=m.loose?p[v.XRANGELOOSE]:p[v.XRANGE];return l.replace(w,(M,A,S,f,_,E)=>{o("xRange",l,M,A,S,f,_,E);const I=O(S),D=I||O(f),L=D||O(_),U=L;return A==="="&&U&&(A=""),E=m.includePrerelease?"-0":"",I?A===">"||A==="<"?M="<0.0.0-0":M="*":A&&U?(D&&(f=0),_=0,A===">"?(A=">=",D?(S=+S+1,f=0,_=0):(f=+f+1,_=0)):A==="<="&&(A="<",D?S=+S+1:f=+f+1),A==="<"&&(E="-0"),M=`${A+S}.${f}.${_}${E}`):D?M=`>=${S}.0.0${E} <${+S+1}.0.0-0`:L&&(M=`>=${S}.${f}.0${E} <${S}.${+f+1}.0-0`),o("xRange return",M),M})},"replaceXRange"),$=i((l,m)=>(o("replaceStars",l,m),l.trim().replace(p[v.STAR],"")),"replaceStars"),F=i((l,m)=>(o("replaceGTE0",l,m),l.trim().replace(p[m.includePrerelease?v.GTE0PRE:v.GTE0],"")),"replaceGTE0"),u=i(l=>(m,w,M,A,S,f,_,E,I,D,L,U)=>(O(M)?w="":O(A)?w=`>=${M}.0.0${l?"-0":""}`:O(S)?w=`>=${M}.${A}.0${l?"-0":""}`:f?w=`>=${w}`:w=`>=${w}${l?"-0":""}`,O(I)?E="":O(D)?E=`<${+I+1}.0.0-0`:O(L)?E=`<${I}.${+D+1}.0-0`:U?E=`<=${I}.${D}.${L}-${U}`:l?E=`<${I}.${D}.${+L+1}-0`:E=`<=${E}`,`${w} ${E}`.trim()),"hyphenReplace"),g=i((l,m,w)=>{for(let M=0;M<l.length;M++)if(!l[M].test(m))return!1;if(m.prerelease.length&&!w.includePrerelease){for(let M=0;M<l.length;M++)if(o(l[M].semver),l[M].semver!==s.ANY&&l[M].semver.prerelease.length>0){const A=l[M].semver;if(A.major===m.major&&A.minor===m.minor&&A.patch===m.patch)return!0}return!1}return!0},"testSet");return pm}i(Di,"requireRange");var mm,F8;function Tc(){if(F8)return mm;F8=1;const e=Symbol("SemVer ANY");class t{static{i(this,"Comparator")}static get ANY(){return e}constructor(c,d){if(d=r(d),c instanceof t){if(c.loose===!!d.loose)return c;c=c.value}c=c.trim().split(/\s+/).join(" "),o("comparator",c,d),this.options=d,this.loose=!!d.loose,this.parse(c),this.semver===e?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(c){const d=this.options.loose?a[n.COMPARATORLOOSE]:a[n.COMPARATOR],y=c.match(d);if(!y)throw new TypeError(`Invalid comparator: ${c}`);this.operator=y[1]!==void 0?y[1]:"",this.operator==="="&&(this.operator=""),y[2]?this.semver=new h(y[2],this.options.loose):this.semver=e}toString(){return this.value}test(c){if(o("Comparator.test",c,this.options.loose),this.semver===e||c===e)return!0;if(typeof c=="string")try{c=new h(c,this.options)}catch{return!1}return s(c,this.operator,this.semver,this.options)}intersects(c,d){if(!(c instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new p(c.value,d).test(this.value):c.operator===""?c.value===""?!0:new p(this.value,d).test(c.semver):(d=r(d),d.includePrerelease&&(this.value==="<0.0.0-0"||c.value==="<0.0.0-0")||!d.includePrerelease&&(this.value.startsWith("<0.0.0")||c.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&c.operator.startsWith(">")||this.operator.startsWith("<")&&c.operator.startsWith("<")||this.semver.version===c.semver.version&&this.operator.includes("=")&&c.operator.includes("=")||s(this.semver,"<",c.semver,d)&&this.operator.startsWith(">")&&c.operator.startsWith("<")||s(this.semver,">",c.semver,d)&&this.operator.startsWith("<")&&c.operator.startsWith(">")))}}mm=t;const r=sy(),{safeRe:a,t:n}=Sl(),s=ZN(),o=Rc(),h=Dr(),p=Di();return mm}i(Tc,"requireComparator");var gm,$8;function Pc(){if($8)return gm;$8=1;const e=Di();return gm=i((r,a,n)=>{try{a=new e(a,n)}catch{return!1}return a.test(r)},"satisfies"),gm}i(Pc,"requireSatisfies");var vm,G8;function FX(){if(G8)return vm;G8=1;const e=Di();return vm=i((r,a)=>new e(r,a).set.map(n=>n.map(s=>s.value).join(" ").trim().split(" ")),"toComparators"),vm}i(FX,"requireToComparators");var bm,V8;function $X(){if(V8)return bm;V8=1;const e=Dr(),t=Di();return bm=i((a,n,s)=>{let o=null,h=null,p=null;try{p=new t(n,s)}catch{return null}return a.forEach(v=>{p.test(v)&&(!o||h.compare(v)===-1)&&(o=v,h=new e(o,s))}),o},"maxSatisfying"),bm}i($X,"requireMaxSatisfying");var ym,Z8;function GX(){if(Z8)return ym;Z8=1;const e=Dr(),t=Di();return ym=i((a,n,s)=>{let o=null,h=null,p=null;try{p=new t(n,s)}catch{return null}return a.forEach(v=>{p.test(v)&&(!o||h.compare(v)===1)&&(o=v,h=new e(o,s))}),o},"minSatisfying"),ym}i(GX,"requireMinSatisfying");var wm,H8;function VX(){if(H8)return wm;H8=1;const e=Dr(),t=Di(),r=Oc();return wm=i((n,s)=>{n=new t(n,s);let o=new e("0.0.0");if(n.test(o)||(o=new e("0.0.0-0"),n.test(o)))return o;o=null;for(let h=0;h<n.set.length;++h){const p=n.set[h];let v=null;p.forEach(c=>{const d=new e(c.semver.version);switch(c.operator){case">":d.prerelease.length===0?d.patch++:d.prerelease.push(0),d.raw=d.format();case"":case">=":(!v||r(d,v))&&(v=d);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${c.operator}`)}}),v&&(!o||r(o,v))&&(o=v)}return o&&n.test(o)?o:null},"minVersion"),wm}i(VX,"requireMinVersion");var xm,J8;function ZX(){if(J8)return xm;J8=1;const e=Di();return xm=i((r,a)=>{try{return new e(r,a).range||"*"}catch{return null}},"validRange"),xm}i(ZX,"requireValid");var _m,q8;function cy(){if(q8)return _m;q8=1;const e=Dr(),t=Tc(),{ANY:r}=t,a=Di(),n=Pc(),s=Oc(),o=ly(),h=fy(),p=uy();return _m=i((c,d,y,b)=>{c=new e(c,b),d=new a(d,b);let x,k,N,C,R;switch(y){case">":x=s,k=h,N=o,C=">",R=">=";break;case"<":x=o,k=p,N=s,C="<",R="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(n(c,d,b))return!1;for(let O=0;O<d.set.length;++O){const T=d.set[O];let P=null,z=null;if(T.forEach(V=>{V.semver===r&&(V=new t(">=0.0.0")),P=P||V,z=z||V,x(V.semver,P.semver,b)?P=V:N(V.semver,z.semver,b)&&(z=V)}),P.operator===C||P.operator===R||(!z.operator||z.operator===C)&&k(c,z.semver))return!1;if(z.operator===R&&N(c,z.semver))return!1}return!0},"outside"),_m}i(cy,"requireOutside");var Sm,K8;function HX(){if(K8)return Sm;K8=1;const e=cy();return Sm=i((r,a,n)=>e(r,a,">",n),"gtr"),Sm}i(HX,"requireGtr");var Mm,X8;function JX(){if(X8)return Mm;X8=1;const e=cy();return Mm=i((r,a,n)=>e(r,a,"<",n),"ltr"),Mm}i(JX,"requireLtr");var Em,W8;function qX(){if(W8)return Em;W8=1;const e=Di();return Em=i((r,a,n)=>(r=new e(r,n),a=new e(a,n),r.intersects(a,n)),"intersects"),Em}i(qX,"requireIntersects");var km,Q8;function KX(){if(Q8)return km;Q8=1;const e=Pc(),t=Pi();return km=i((r,a,n)=>{const s=[];let o=null,h=null;const p=r.sort((y,b)=>t(y,b,n));for(const y of p)e(y,a,n)?(h=y,o||(o=y)):(h&&s.push([o,h]),h=null,o=null);o&&s.push([o,null]);const v=[];for(const[y,b]of s)y===b?v.push(y):!b&&y===p[0]?v.push("*"):b?y===p[0]?v.push(`<=${b}`):v.push(`${y} - ${b}`):v.push(`>=${y}`);const c=v.join(" || "),d=typeof a.raw=="string"?a.raw:String(a);return c.length<d.length?c:a},"simplify"),km}i(KX,"requireSimplify");var Am,Y8;function XX(){if(Y8)return Am;Y8=1;const e=Di(),t=Tc(),{ANY:r}=t,a=Pc(),n=Pi(),s=i((d,y,b={})=>{if(d===y)return!0;d=new e(d,b),y=new e(y,b);let x=!1;e:for(const k of d.set){for(const N of y.set){const C=p(k,N,b);if(x=x||C!==null,C)continue e}if(x)return!1}return!0},"subset"),o=[new t(">=0.0.0-0")],h=[new t(">=0.0.0")],p=i((d,y,b)=>{if(d===y)return!0;if(d.length===1&&d[0].semver===r){if(y.length===1&&y[0].semver===r)return!0;b.includePrerelease?d=o:d=h}if(y.length===1&&y[0].semver===r){if(b.includePrerelease)return!0;y=h}const x=new Set;let k,N;for(const Z of d)Z.operator===">"||Z.operator===">="?k=v(k,Z,b):Z.operator==="<"||Z.operator==="<="?N=c(N,Z,b):x.add(Z.semver);if(x.size>1)return null;let C;if(k&&N){if(C=n(k.semver,N.semver,b),C>0)return null;if(C===0&&(k.operator!==">="||N.operator!=="<="))return null}for(const Z of x){if(k&&!a(Z,String(k),b)||N&&!a(Z,String(N),b))return null;for(const ee of y)if(!a(Z,String(ee),b))return!1;return!0}let R,O,T,P,z=N&&!b.includePrerelease&&N.semver.prerelease.length?N.semver:!1,V=k&&!b.includePrerelease&&k.semver.prerelease.length?k.semver:!1;z&&z.prerelease.length===1&&N.operator==="<"&&z.prerelease[0]===0&&(z=!1);for(const Z of y){if(P=P||Z.operator===">"||Z.operator===">=",T=T||Z.operator==="<"||Z.operator==="<=",k){if(V&&Z.semver.prerelease&&Z.semver.prerelease.length&&Z.semver.major===V.major&&Z.semver.minor===V.minor&&Z.semver.patch===V.patch&&(V=!1),Z.operator===">"||Z.operator===">="){if(R=v(k,Z,b),R===Z&&R!==k)return!1}else if(k.operator===">="&&!a(k.semver,String(Z),b))return!1}if(N){if(z&&Z.semver.prerelease&&Z.semver.prerelease.length&&Z.semver.major===z.major&&Z.semver.minor===z.minor&&Z.semver.patch===z.patch&&(z=!1),Z.operator==="<"||Z.operator==="<="){if(O=c(N,Z,b),O===Z&&O!==N)return!1}else if(N.operator==="<="&&!a(N.semver,String(Z),b))return!1}if(!Z.operator&&(N||k)&&C!==0)return!1}return!(k&&T&&!N&&C!==0||N&&P&&!k&&C!==0||V||z)},"simpleSubset"),v=i((d,y,b)=>{if(!d)return y;const x=n(d.semver,y.semver,b);return x>0?d:x<0||y.operator===">"&&d.operator===">="?y:d},"higherGT"),c=i((d,y,b)=>{if(!d)return y;const x=n(d.semver,y.semver,b);return x<0?d:x>0||y.operator==="<"&&d.operator==="<="?y:d},"lowerLT");return Am=s,Am}i(XX,"requireSubset");var jm,e5;function WX(){if(e5)return jm;e5=1;const e=Sl(),t=Cc(),r=Dr(),a=$N(),n=As(),s=AX(),o=jX(),h=NX(),p=IX(),v=CX(),c=RX(),d=OX(),y=TX(),b=Pi(),x=PX(),k=DX(),N=oy(),C=LX(),R=BX(),O=Oc(),T=ly(),P=GN(),z=VN(),V=uy(),Z=fy(),ee=ZN(),$=zX(),F=Tc(),u=Di(),g=Pc(),l=FX(),m=$X(),w=GX(),M=VX(),A=ZX(),S=cy(),f=HX(),_=JX(),E=qX(),I=KX(),D=XX();return jm={parse:n,valid:s,clean:o,inc:h,diff:p,major:v,minor:c,patch:d,prerelease:y,compare:b,rcompare:x,compareLoose:k,compareBuild:N,sort:C,rsort:R,gt:O,lt:T,eq:P,neq:z,gte:V,lte:Z,cmp:ee,coerce:$,Comparator:F,Range:u,satisfies:g,toComparators:l,maxSatisfying:m,minSatisfying:w,minVersion:M,validRange:A,outside:S,gtr:f,ltr:_,intersects:E,simplifyRange:I,subset:D,SemVer:r,re:e.re,src:e.src,tokens:e.t,SEMVER_SPEC_VERSION:t.SEMVER_SPEC_VERSION,RELEASE_TYPES:t.RELEASE_TYPES,compareIdentifiers:a.compareIdentifiers,rcompareIdentifiers:a.rcompareIdentifiers},jm}i(WX,"requireSemver");var QX=WX();const YX=Jo(QX);function eW(){const{toast:e}=rr(),{data:t}=TN();async function r(n){const s=`https://api.github.com/repos/${n}/releases/latest`;try{const o=await fetch(s,{headers:{Accept:"application/vnd.github.v3+json","User-Agent":"fetch-latest-release"}});if(!o.ok)throw new Error(`Failed to fetch latest release: ${o.status} ${o.statusText}`);return(await o.json()).tag_name}catch{}}i(r,"getLatestRelease");const a=J.useCallback(async()=>{try{const n=await r("elizaos/eliza"),s=t?.version;n&&s&&YX.gt(n.replace("v",""),s.replace("v",""))&&e({variant:"default",title:`New version ${n} is available.`,description:"Visit GitHub for more information.",action:j.jsx(Sf,{to:"https://github.com/elizaos/eliza/releases",target:"_blank",children:j.jsx(BN,{altText:"Update",children:"Update"})})})}catch(n){qe.error(`Unable to retrieve latest version from GitHub: ${n}`)}},[e,t?.version]);return J.useEffect(()=>{a()},[a]),null}i(eW,"useVersion");const tW=i(({text:e})=>{const[t,r]=J.useState(!1),a=i(()=>{navigator.clipboard.writeText(e).then(()=>{r(!0),setTimeout(()=>r(!1),2e3)})},"handleCopy");return j.jsxs(cr,{children:[j.jsx(dr,{asChild:!0,children:j.jsx(et,{onClick:a,variant:"ghost",size:"icon",className:"flex items-center space-x-2 text-muted-foreground",children:t?j.jsx(Sn,{className:"size-3"}):j.jsx(Ui,{className:"size-3"})})}),j.jsx(lr,{side:"bottom",children:j.jsx("p",{children:"Copy"})})]})},"CopyButton$1"),rW=i(({onClick:e})=>j.jsxs(cr,{children:[j.jsx(dr,{asChild:!0,children:j.jsx(et,{onClick:e,variant:"ghost",size:"icon",className:"text-muted-foreground",children:j.jsx(xa,{className:"size-3"})})}),j.jsx(lr,{side:"bottom",children:j.jsx("p",{children:"Delete"})})]}),"DeleteButton");function iW({onClick:e,className:t}){return j.jsxs(cr,{children:[j.jsx(dr,{asChild:!0,children:j.jsx(et,{variant:"ghost",size:"icon",className:`text-muted-foreground ${t}`,onClick:e,children:j.jsx(FC,{className:"size-3"})})}),j.jsx(lr,{side:"bottom",children:j.jsx("p",{children:"Retry message"})})]})}i(iW,"RetryButton");const nW=i(e=>{const t=[/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([^&\n?#]+)/,/youtube\.com\/watch\?.*v=([^&\n?#]+)/];for(const r of t){const a=e.match(r);if(a)return a[1]}return null},"getYouTubeId"),aW=i(e=>{const t=e.match(/spotify\.com\/(track|album|playlist|episode|show)\/([a-zA-Z0-9]+)(?:\?.*)?/);return t?{type:t[1],id:t[2]}:null},"getSpotifyId"),sW=i(e=>/\.(jpg|jpeg|png|gif|webp|svg|bmp|ico)(\?.*)?$/i.test(e),"isImageUrl$1"),oW=i(e=>/\.(mp4|webm|ogg|mov|avi|wmv|flv|mkv)(\?.*)?$/i.test(e),"isVideoUrl"),lW=i(e=>/\.(mp3|wav|ogg|aac|flac|m4a|wma)(\?.*)?$/i.test(e),"isAudioUrl"),uW=i(e=>/\.pdf(\?.*)?$/i.test(e)||e.includes("pdf"),"isPdfUrl"),fW=i(e=>/\.(pdf|doc|docx|ppt|pptx|xls|xlsx|txt)(\?.*)?$/i.test(e),"isDocumentUrl");function t5({url:e,title:t,className:r,maxWidth:a=600,maxHeight:n=400}){const[s,o]=J.useState(!0),[h,p]=J.useState(!1),v=i(()=>o(!1),"handleLoad"),c=i(()=>{o(!1),p(!0)},"handleError"),d=nW(e);if(d)return j.jsxs("div",{className:Le("relative rounded-lg overflow-hidden bg-muted",r),style:{maxWidth:a,maxHeight:n},children:[s&&j.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-muted",children:j.jsxs("div",{className:"flex items-center space-x-2 text-muted-foreground",children:[j.jsx(Yg,{className:"w-6 h-6"}),j.jsx("span",{children:"Loading video..."})]})}),j.jsx("iframe",{src:`https://www.youtube.com/embed/${d}`,title:t||"YouTube video",className:"w-full aspect-video",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,onLoad:v,onError:c})]});const y=aW(e);if(y){const b=y.type==="track"?152:y.type==="episode"?232:352;return j.jsxs("div",{className:Le("relative rounded-lg overflow-hidden bg-muted",r),style:{maxWidth:a},children:[s&&j.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-muted",children:j.jsxs("div",{className:"flex items-center space-x-2 text-muted-foreground",children:[j.jsx(Fm,{className:"w-6 h-6"}),j.jsx("span",{children:"Loading Spotify content..."})]})}),j.jsx("iframe",{src:`https://open.spotify.com/embed/${y.type}/${y.id}?utm_source=generator`,width:"100%",height:b,frameBorder:"0",allow:"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture",loading:"lazy",title:t||"Spotify content",onLoad:v,onError:c})]})}return sW(e)?j.jsxs("div",{className:Le("relative rounded-lg overflow-hidden bg-muted",r),style:{maxWidth:a,maxHeight:n},children:[s&&j.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-muted",children:j.jsx("div",{className:"animate-pulse w-full h-32 bg-muted-foreground/20 rounded"})}),h?j.jsxs("div",{className:"flex items-center justify-center p-4 text-muted-foreground",children:[j.jsx(fi,{className:"w-6 h-6 mr-2"}),j.jsx("span",{children:"Failed to load image"})]}):j.jsx("img",{src:e||"/placeholder.svg",alt:t||"Image",width:a,height:n,className:"w-full h-auto object-contain",onLoad:v,onError:c})]}):oW(e)?j.jsx("div",{className:Le("relative rounded-lg overflow-hidden bg-muted",r),style:{maxWidth:a,maxHeight:n},children:h?j.jsxs("div",{className:"flex items-center justify-center p-4 text-muted-foreground",children:[j.jsx(fi,{className:"w-6 h-6 mr-2"}),j.jsx("span",{children:"Failed to load video"})]}):j.jsxs("video",{controls:!0,preload:"metadata",className:"w-full h-auto",onLoadedData:v,onError:c,crossOrigin:"anonymous",children:[j.jsx("source",{src:e}),"Your browser does not support the video tag."]})}):lW(e)?j.jsxs("div",{className:Le("relative rounded-lg bg-card border p-4",r),style:{maxWidth:a},children:[j.jsxs("div",{className:"flex items-center space-x-3 mb-3 overflow-hidden",children:[j.jsx(Fm,{className:"w-5 h-5 text-muted-foreground"}),j.jsx("span",{className:"text-sm text-primary font-medium truncate whitespace-nowrap overflow-hidden text-ellipsis max-w-44",children:t||"Audio File"})]}),h?j.jsxs("div",{className:"flex items-center text-muted-foreground",children:[j.jsx(fi,{className:"w-4 h-4 mr-2"}),j.jsx("span",{className:"text-sm",children:"Failed to load audio"})]}):j.jsxs("audio",{controls:!0,className:"w-full",preload:"metadata",onLoadedData:v,onError:c,crossOrigin:"anonymous",children:[j.jsx("source",{src:e}),"Your browser does not support the audio tag."]})]}):uW(e)?j.jsxs("div",{className:Le("relative rounded-lg overflow-hidden bg-card border",r),style:{maxWidth:a},children:[j.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 border-b gap-10",children:[j.jsxs("div",{className:"flex items-center space-x-2 overflow-hidden",children:[j.jsx(ma,{className:"w-5 h-5 text-muted-foreground"}),j.jsx("span",{className:"text-sm text-primary font-medium truncate whitespace-nowrap overflow-hidden text-ellipsis max-w-44",children:t||"PDF Document"})]}),j.jsxs("div",{className:"flex items-center space-x-2",children:[j.jsxs("a",{href:`https://docs.google.com/viewer?url=${encodeURIComponent(e)}&embedded=true`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-1 text-primary hover:text-primary/80 text-sm",children:[j.jsx(no,{className:"w-4 h-4"}),j.jsx("span",{children:"View"})]}),j.jsxs("a",{href:e,download:!0,className:"flex items-center space-x-1 text-primary hover:text-primary/80 text-sm",children:[j.jsx(g_,{className:"w-4 h-4"}),j.jsx("span",{children:"Download"})]})]})]}),j.jsx("div",{className:"relative",style:{height:Math.min(n,500)},children:h?j.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-muted-foreground h-full",children:[j.jsx(fi,{className:"w-8 h-8 mb-2"}),j.jsx("span",{className:"text-center mb-4",children:"PDF preview not available"}),j.jsxs("div",{className:"flex space-x-2",children:[j.jsx("a",{href:`https://docs.google.com/viewer?url=${encodeURIComponent(e)}`,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-2 bg-primary text-primary-foreground rounded text-sm hover:bg-primary/90",children:"Open in Google Viewer"}),j.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-2 bg-secondary text-secondary-foreground rounded text-sm hover:bg-secondary/90",children:"Open Original"})]})]}):j.jsxs(j.Fragment,{children:[s&&j.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-muted",children:j.jsxs("div",{className:"flex items-center space-x-2 text-muted-foreground",children:[j.jsx(ma,{className:"w-6 h-6"}),j.jsx("span",{children:"Loading PDF..."})]})}),j.jsx("iframe",{src:`https://docs.google.com/viewer?url=${encodeURIComponent(e)}&embedded=true`,className:"w-full h-full border-0",title:t||"PDF Document",onLoad:v,onError:i(()=>{const b=document.createElement("iframe");b.src=`${e}#toolbar=0&navpanes=0&scrollbar=0`,b.className="w-full h-full border-0",b.title=t||"PDF Document",b.onload=v,b.onerror=c;const x=document.querySelector(`[data-pdf-container="${e}"]`);x&&(x.innerHTML="",x.appendChild(b))},"onError")}),j.jsx("div",{"data-pdf-container":e,className:"hidden"})]})}),j.jsx("div",{className:"p-2 bg-muted/50 border-t text-xs text-muted-foreground",children:j.jsx("span",{children:`PDF Document  Click "View" or "Download" if preview doesn't load`})})]}):fW(e)?j.jsx("div",{className:Le("rounded-lg bg-card border p-4",r),style:{maxWidth:a},children:j.jsxs("div",{className:"flex items-center space-x-3",children:[j.jsx(ma,{className:"w-8 h-8 text-muted-foreground"}),j.jsxs("div",{className:"flex-1 overflow-hidden mr-6",children:[j.jsx("p",{className:"text-sm text-primary font-medium truncate whitespace-nowrap overflow-hidden text-ellipsis max-w-44",children:t||"Document"}),j.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.split(".").pop()?.toUpperCase()," file"]})]}),j.jsxs("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-1 text-primary hover:text-primary/80 text-sm font-medium",children:[j.jsx(no,{className:"w-4 h-4"}),j.jsx("span",{children:"Open"})]})]})}):j.jsx("div",{className:Le("rounded-lg bg-card border p-4",r),style:{maxWidth:a},children:j.jsxs("div",{className:"flex items-center space-x-3",children:[j.jsx(no,{className:"w-8 h-8 text-muted-foreground"}),j.jsxs("div",{className:"flex-1",children:[j.jsx("p",{className:"text-sm text-primary font-medium",children:t||"External Link"}),j.jsx("p",{className:"text-xs text-muted-foreground truncate",children:e})]}),j.jsxs("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-1 text-primary hover:text-primary/80 text-sm font-medium",children:[j.jsx(no,{className:"w-4 h-4"}),j.jsx("span",{children:"Open"})]})]})})}i(t5,"MediaContent");function js(){Ar(),xr();const{toast:e}=rr(),t=qK(),r=KK(),[a,n]=J.useState([]),[s,o]=J.useState([]);return{startAgent:i(async d=>{if(!d.id){e({title:"Error",description:"Agent ID is missing",variant:"destructive"});return}const y=d.id;if(!a.includes(y))try{n(b=>[...b,y]),await t.mutateAsync(y)}catch(b){console.error("Failed to start agent:",b)}finally{n(b=>b.filter(x=>x!==y))}},"startAgent"),stopAgent:i(async d=>{if(!d.id){e({title:"Error",description:"Agent ID is missing",variant:"destructive"});return}const y=d.id;if(!s.includes(y))try{o(b=>[...b,y]),await r.mutateAsync(y),e({title:"Agent Stopped",description:`${d.name} has been stopped`})}catch(b){console.error("Failed to stop agent:",b)}finally{o(b=>b.filter(x=>x!==y))}},"stopAgent"),isAgentStarting:i(d=>d?a.includes(d):!1,"isAgentStarting"),isAgentStopping:i(d=>d?s.includes(d):!1,"isAgentStopping"),startingAgents:a,stoppingAgents:s}}i(js,"useAgentManagement");function cW({agent:e,variant:t="destructive",size:r="default",className:a="",showIcon:n=!0,redirectToHome:s=!1,onStopComplete:o}){const{stopAgent:h,isAgentStopping:p}=js(),v=Ar(),c=p(e.id),{confirm:d,isOpen:y,onOpenChange:b,onConfirm:x,options:k}=Ba(),N=i(()=>{d({title:"Stop Agent",description:`Are you sure you want to stop "${e.name}"?`,confirmText:"Stop",variant:"destructive"},async()=>{try{await h(e),o&&o(),s&&v("/")}catch(C){qe.error("Error stopping agent:",C)}})},"handleStopAgent");return j.jsxs(j.Fragment,{children:[j.jsx(et,{type:"button",variant:t,size:r,className:a,onClick:N,disabled:c,children:c?j.jsxs(j.Fragment,{children:[n&&j.jsx(kr,{className:"mr-2 h-4 w-4 animate-spin"}),"Stopping..."]}):j.jsxs(j.Fragment,{children:[n&&j.jsx($C,{className:"mr-2 h-4 w-4"}),"Stop"]})}),j.jsx(La,{open:y,onOpenChange:b,title:k?.title||"",description:k?.description||"",confirmText:k?.confirmText,cancelText:k?.cancelText,variant:k?.variant,onConfirm:x})]})}i(cW,"StopAgentButton");function HN({isOpen:e,onClose:t,agentId:r}){if(!e)return null;const{startAgent:a,isAgentStarting:n,isAgentStopping:s}=js(),{toast:o}=rr(),h=Ar(),{data:p}=_l(r),v=p?.data,c=v?.status===pr.ACTIVE,d=n(r),y=s(r),b=d||y,x={label:"Start",icon:j.jsx(Yg,{className:"w-4 h-4"})};d&&(x.label="Starting...",x.icon=j.jsx(kr,{className:"animate-spin w-4 h-4"}));const k=i(()=>{b||a(v)},"handleAgentStart"),N=i(()=>{if(!p?.data)return;const C={...p.data,createdAt:p.data.createdAt||Date.now(),updatedAt:p.data.updatedAt||Date.now()};hv(C,o)},"handleExportCharacter");return j.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4 backdrop-blur-sm",onClick:t,onKeyUp:i(C=>{(C.key==="Enter"||C.key===" ")&&t()},"onKeyUp"),children:j.jsxs(Wi,{className:"flex flex-col w-full max-w-md md:max-w-xl overflow-hidden relative",onClick:i(C=>C.stopPropagation(),"onClick"),children:[j.jsxs(Nc,{className:"p-0 space-y-0",children:[j.jsx("div",{className:"absolute top-4 right-4 z-10",children:j.jsx(et,{variant:"ghost",size:"icon",onClick:t,children:j.jsx(Fr,{className:"w-5 h-5"})})}),j.jsx("div",{className:"p-6 w-full flex items-end bg-gradient-to-b from-primary/20 to-background",children:j.jsx("div",{className:"flex w-full justify-between items-end",children:j.jsxs("div",{className:"flex flex-col gap-2",children:[j.jsxs("div",{className:"w-24 h-24 flex justify-center items-center relative",children:[j.jsx("div",{className:"text-4xl bg-muted rounded-full h-full w-full flex justify-center items-center overflow-hidden border-4 border-background",children:typeof v?.settings?.avatar=="string"?j.jsx("img",{src:v.settings.avatar,alt:"Agent Avatar",className:"w-full h-full object-cover"}):Sa(v?.name??"")}),j.jsx("div",{className:`absolute bottom-1 right-1 w-4 h-4 rounded-full border-2 border-background ${c?"bg-emerald-500":"bg-muted-foreground"}`})]}),j.jsxs("div",{className:"flex flex-col justify-center mr-4",children:[j.jsx("div",{className:"text-xl font-bold truncate max-w-48",children:v?.name}),j.jsx("div",{className:"text-xs text-muted-foreground",children:j.jsxs(cr,{children:[j.jsx(dr,{asChild:!0,children:j.jsxs("span",{className:"cursor-pointer hover:underline",onClick:i(C=>{C.stopPropagation(),v?.id&&navigator.clipboard.writeText(v.id)},"onClick"),onKeyUp:i(C=>{(C.key==="Enter"||C.key===" ")&&(C.stopPropagation(),v?.id&&navigator.clipboard.writeText(v.id))},"onKeyUp"),children:["ID: ",v?.id??"N/A"]})}),j.jsx(lr,{side:"bottom",children:j.jsx("p",{children:"Click to copy agent ID"})})]})})]})]})})})]}),j.jsxs(za,{className:"p-6 overflow-auto",children:[j.jsxs("div",{className:"rounded-md bg-muted p-4 mb-6 max-h-60 overflow-y-auto",children:[j.jsx("p",{className:"font-medium text-sm mb-2",children:"About Me"}),j.jsx("p",{className:"font-light text-sm text-gray-500",children:p?.data?.system})]}),j.jsxs("div",{className:"space-y-6",children:[j.jsxs("div",{children:[j.jsx("p",{className:"font-medium text-sm mb-2",children:"Status"}),j.jsxs("div",{className:"flex items-center",children:[j.jsx("div",{className:`w-3 h-3 rounded-full mr-2 ${c?"bg-green-500":"bg-gray-400"}`}),j.jsx("span",{className:"text-sm",children:c?"Active":"Inactive"})]})]}),j.jsxs("div",{children:[j.jsx("p",{className:"font-medium text-sm mb-2",children:"Model"}),j.jsxs("div",{className:"flex items-center gap-2",children:[j.jsx(Bu,{className:"w-4 h-4 text-muted-foreground"}),j.jsx("span",{className:"text-sm",children:typeof v?.settings?.model=="string"?v.settings.model:v?.settings?.model!==void 0?String(v.settings.model):"Default"})]})]}),j.jsxs("div",{children:[j.jsx("p",{className:"font-medium text-sm mb-2",children:"Created"}),j.jsx("p",{className:"text-sm text-gray-500",children:v?.createdAt?ga(v.createdAt).format("LLL"):ga().format("LLL")})]}),j.jsxs("div",{children:[j.jsx("p",{className:"font-medium text-sm mb-2",children:"Plugins"}),j.jsx("div",{className:"flex flex-wrap gap-2",children:v?.plugins&&v.plugins.length>0?v.plugins.map((C,R)=>{const O=C.replace("@elizaos/plugin-","").replace("@elizaos-plugins/plugin-","");return j.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-muted text-muted-foreground border border-border",children:O},R)}):j.jsx("p",{className:"text-sm text-gray-500",children:"No plugins enabled"})})]})]})]}),j.jsxs(Ic,{className:"flex justify-between items-center p-4 border-t",children:[j.jsxs("div",{className:"flex items-center gap-2",children:[c?j.jsx(cW,{agent:v,showIcon:!0,size:"default",className:"h-9"}):j.jsxs(et,{variant:"default",onClick:k,disabled:b,className:"h-9",children:[x.icon,j.jsx("span",{className:"ml-2",children:x.label})]}),j.jsxs(cr,{children:[j.jsx(dr,{asChild:!0,children:j.jsxs(et,{variant:"outline",onClick:N,disabled:!v,className:"h-9",size:"sm",children:["Export",j.jsx(g_,{size:16})]})}),j.jsx(lr,{side:"bottom",children:j.jsx("p",{children:"Export character as JSON"})})]}),j.jsxs(cr,{children:[j.jsx(dr,{asChild:!0,children:j.jsxs(et,{variant:"outline",onClick:i(()=>h(`/settings/${r}`),"onClick"),disabled:!v,className:"h-9",size:"sm",children:[j.jsx(_a,{size:16,className:"mr-1"}),"Settings"]})}),j.jsx(lr,{side:"bottom",children:j.jsx("p",{children:"Configure agent settings"})})]})]}),c&&j.jsx(et,{variant:"default",className:"h-9",onClick:i(()=>h(`/chat/${v.id}`),"onClick"),children:"Message"})]})]})})}i(HN,"ProfileOverlay");function dW(){return j.jsxs("svg",{role:"img","aria-label":"Loading animation",width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"text-foreground","data-testid":"loading",children:[j.jsx("circle",{cx:"4",cy:"12",r:"2",fill:"currentColor",children:j.jsx("animate",{id:"spinner_qFRN",begin:"0;spinner_OcgL.end+0.25s",attributeName:"cy",calcMode:"spline",dur:"0.6s",values:"12;6;12",keySplines:".33,.66,.66,1;.33,0,.66,.33"})}),j.jsx("circle",{cx:"12",cy:"12",r:"2",fill:"currentColor",children:j.jsx("animate",{begin:"spinner_qFRN.begin+0.1s",attributeName:"cy",calcMode:"spline",dur:"0.6s",values:"12;6;12",keySplines:".33,.66,.66,1;.33,0,.66,.33"})}),j.jsx("circle",{cx:"20",cy:"12",r:"2",fill:"currentColor",children:j.jsx("animate",{id:"spinner_OcgL",begin:"spinner_qFRN.begin+0.2s",attributeName:"cy",calcMode:"spline",dur:"0.6s",values:"12;6;12",keySplines:".33,.66,.66,1;.33,0,.66,.33"})})]})}i(dW,"MessageLoading");const hW=En("flex gap-2 max-w-[60%] relative group",{variants:{variant:{received:"self-start",sent:"self-end flex-row-reverse"},layout:{default:"",ai:"max-w-full w-full items-center"}},defaultVariants:{variant:"received",layout:"default"}}),JN=J.forwardRef(({className:e,variant:t,layout:r,children:a,...n},s)=>j.jsx("div",{className:Le(hW({variant:t,layout:r,className:e}),"relative group"),ref:s,...n,children:J.Children.map(a,o=>J.isValidElement(o)&&typeof o.type!="string"&&o.type!==J.Fragment?J.cloneElement(o,{variant:t,layout:r}):o)}));JN.displayName="ChatBubble";const pW=En("",{variants:{variant:{received:"text-secondary-foreground",sent:"px-5 py-2.5 bg-secondary text-secondary-foreground rounded-lg"},layout:{default:"",ai:"border-t w-full rounded-none bg-transparent"}},defaultVariants:{variant:"received",layout:"default"}}),qN=J.forwardRef(({className:e,variant:t,layout:r,isLoading:a=!1,children:n,...s},o)=>j.jsx("div",{className:Le(pW({variant:t,layout:r,className:e}),"break-words max-w-full whitespace-pre-wrap"),ref:o,...s,children:a?j.jsx("div",{className:"flex items-center space-x-2",children:j.jsx(dW,{})}):n}));qN.displayName="ChatBubbleMessage";const mW=i(({timestamp:e,className:t,...r})=>j.jsx("div",{className:Le("text-xs text-right select-none",t),...r,children:e}),"ChatBubbleTimestamp"),gW=J.forwardRef(({variant:e,className:t,children:r,...a},n)=>j.jsx("div",{ref:n,className:Le("absolute top-1/2 -translate-y-1/2 flex opacity-0 group-hover:opacity-100 transition-opacity duration-200",e==="sent"?"-left-1 -translate-x-full flex-row-reverse":"-right-1 translate-x-full",t),...a,children:r}));gW.displayName="ChatBubbleActionWrapper";let dn=null;function vW({agentId:e,text:t}){const{toast:r}=rr(),[a,n]=J.useState(!1),[s,o]=J.useState(null),[h,p]=J.useState(null),v=J.useRef(null),c=J.useRef(null),d=Yt();J.useEffect(()=>()=>{h&&URL.revokeObjectURL(h)},[h]);const y=Wr({mutationKey:["tts",t],mutationFn:i(async()=>{console.log(" Starting TTS API call..."),console.log(" agentId:",e),console.log(" text:",t);const C=await d.audio.generateSpeech(e,{text:t});console.log(" TTS API response:",C);const{audio:R,format:O}=C;let T,P;if(R.startsWith("data:")){const[Z,ee]=R.split(","),$=Z.match(/data:([^;]+)/);P=$?$[1]:`audio/${O||"mpeg"}`,T=ee}else T=R,P=`audio/${O||"mpeg"}`;const z=atob(T),V=new Uint8Array(z.length);for(let Z=0;Z<z.length;Z++)V[Z]=z.charCodeAt(Z);return new Blob([V],{type:P})},"mutationFn"),onSuccess:i(C=>{o(C),c.current=C;const R=URL.createObjectURL(C);p(R),setTimeout(()=>{b()},100)},"onSuccess"),onError:i(C=>{r({variant:"destructive",title:"Unable to read message aloud",description:C.message})},"onError")}),b=i(async()=>{if(v.current)try{dn&&dn!==v.current&&(dn.pause(),dn.currentTime=0),dn=v.current,v.current.volume=1,v.current.muted=!1,await v.current.play(),n(!0)}catch(C){r({variant:"destructive",title:"Audio playback failed",description:C.message}),n(!1)}},"play"),x=i(()=>{v.current&&(v.current.pause(),v.current.currentTime=0,dn===v.current&&(dn=null)),n(!1)},"stop"),k=i(async()=>{if(y?.isPending)return;if(a){x();return}if(s||c.current||v.current?.src&&v.current.src.startsWith("blob:")){await b();return}y.mutate()},"execute"),N="text-muted-foreground size-3";return j.jsxs(j.Fragment,{children:[s?j.jsx("audio",{crossOrigin:"anonymous",playsInline:!0,ref:v,src:h||"",onEnded:i(()=>{n(!1),dn===v.current&&(dn=null)},"onEnded"),children:"Your browser does not support the audio element."}):null,j.jsxs(cr,{children:[j.jsx(dr,{asChild:!0,children:j.jsx(et,{size:"icon",variant:"ghost",type:"button",onClick:i(()=>k(),"onClick"),disabled:y?.isPending,children:y?.isPending?j.jsx(ev,{className:N}):a?j.jsx(Wg,{className:N}):j.jsx(Fm,{className:N})})}),j.jsx(lr,{side:"bottom",children:j.jsx("p",{children:a?"Stop":"Read aloud"})})]})]})}i(vW,"ChatTtsButton");function r5(e,t){const r=String(e);if(typeof t!="string")throw new TypeError("Expected character");let a=0,n=r.indexOf(t);for(;n!==-1;)a++,n=r.indexOf(t,n+t.length);return a}i(r5,"ccount");function bW(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}i(bW,"escapeStringRegexp");function yW(e,t,r){const n=v_((r||{}).ignore||[]),s=wW(t);let o=-1;for(;++o<s.length;)GC(e,"text",h);function h(v,c){let d=-1,y;for(;++d<c.length;){const b=c[d],x=y?y.children:void 0;if(n(b,x?x.indexOf(b):void 0,y))return;y=b}if(y)return p(v,c)}i(h,"visitor");function p(v,c){const d=c[c.length-1],y=s[o][0],b=s[o][1];let x=0;const N=d.children.indexOf(v);let C=!1,R=[];y.lastIndex=0;let O=y.exec(v.value);for(;O;){const T=O.index,P={index:O.index,input:O.input,stack:[...c,v]};let z=b(...O,P);if(typeof z=="string"&&(z=z.length>0?{type:"text",value:z}:void 0),z===!1?y.lastIndex=T+1:(x!==T&&R.push({type:"text",value:v.value.slice(x,T)}),Array.isArray(z)?R.push(...z):z&&R.push(z),x=T+O[0].length,C=!0),!y.global)break;O=y.exec(v.value)}return C?(x<v.value.length&&R.push({type:"text",value:v.value.slice(x)}),d.children.splice(N,1,...R)):R=[v],N+R.length}i(p,"handler")}i(yW,"findAndReplace");function wW(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const r=!e[0]||Array.isArray(e[0])?e:[e];let a=-1;for(;++a<r.length;){const n=r[a];t.push([xW(n[0]),_W(n[1])])}return t}i(wW,"toPairs");function xW(e){return typeof e=="string"?new RegExp(bW(e),"g"):e}i(xW,"toExpression");function _W(e){return typeof e=="function"?e:function(){return e}}i(_W,"toFunction");const Nm="phrasing",Im=["autolink","link","image","label"];function SW(){return{transforms:[IW],enter:{literalAutolink:EW,literalAutolinkEmail:Cm,literalAutolinkHttp:Cm,literalAutolinkWww:Cm},exit:{literalAutolink:NW,literalAutolinkEmail:jW,literalAutolinkHttp:kW,literalAutolinkWww:AW}}}i(SW,"gfmAutolinkLiteralFromMarkdown");function MW(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Nm,notInConstruct:Im},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Nm,notInConstruct:Im},{character:":",before:"[ps]",after:"\\/",inConstruct:Nm,notInConstruct:Im}]}}i(MW,"gfmAutolinkLiteralToMarkdown");function EW(e){this.enter({type:"link",title:null,url:"",children:[]},e)}i(EW,"enterLiteralAutolink");function Cm(e){this.config.enter.autolinkProtocol.call(this,e)}i(Cm,"enterLiteralAutolinkValue");function kW(e){this.config.exit.autolinkProtocol.call(this,e)}i(kW,"exitLiteralAutolinkHttp");function AW(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];gs(t.type==="link"),t.url="http://"+this.sliceSerialize(e)}i(AW,"exitLiteralAutolinkWww");function jW(e){this.config.exit.autolinkEmail.call(this,e)}i(jW,"exitLiteralAutolinkEmail");function NW(e){this.exit(e)}i(NW,"exitLiteralAutolink");function IW(e){yW(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,CW],[/(?<=^|\s|\p{P}|\p{S})([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/gu,RW]],{ignore:["link","linkReference"]})}i(IW,"transformGfmAutolinkLiterals");function CW(e,t,r,a,n){let s="";if(!KN(n)||(/^w/i.test(t)&&(r=t+r,t="",s="http://"),!OW(r)))return!1;const o=TW(r+a);if(!o[0])return!1;const h={type:"link",title:null,url:s+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[h,{type:"text",value:o[1]}]:h}i(CW,"findUrl");function RW(e,t,r,a){return!KN(a,!0)||/[-\d_]$/.test(r)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+r,children:[{type:"text",value:t+"@"+r}]}}i(RW,"findEmail");function OW(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}i(OW,"isCorrectDomain");function TW(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let r=t[0],a=r.indexOf(")");const n=r5(e,"(");let s=r5(e,")");for(;a!==-1&&n>s;)e+=r.slice(0,a+1),r=r.slice(a+1),a=r.indexOf(")"),s++;return[e,r]}i(TW,"splitUrl");function KN(e,t){const r=e.input.charCodeAt(e.index-1);return(e.index===0||as(r)||tv(r))&&(!t||r!==47)}i(KN,"previous");XN.peek=GW;function PW(){this.buffer()}i(PW,"enterFootnoteCallString");function DW(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}i(DW,"enterFootnoteCall");function LW(){this.buffer()}i(LW,"enterFootnoteDefinitionLabelString");function BW(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}i(BW,"enterFootnoteDefinition");function zW(e){const t=this.resume(),r=this.stack[this.stack.length-1];gs(r.type==="footnoteReference"),r.identifier=Xo(this.sliceSerialize(e)).toLowerCase(),r.label=t}i(zW,"exitFootnoteCallString");function UW(e){this.exit(e)}i(UW,"exitFootnoteCall");function FW(e){const t=this.resume(),r=this.stack[this.stack.length-1];gs(r.type==="footnoteDefinition"),r.identifier=Xo(this.sliceSerialize(e)).toLowerCase(),r.label=t}i(FW,"exitFootnoteDefinitionLabelString");function $W(e){this.exit(e)}i($W,"exitFootnoteDefinition");function GW(){return"["}i(GW,"footnoteReferencePeek");function XN(e,t,r,a){const n=r.createTracker(a);let s=n.move("[^");const o=r.enter("footnoteReference"),h=r.enter("reference");return s+=n.move(r.safe(r.associationId(e),{after:"]",before:s})),h(),o(),s+=n.move("]"),s}i(XN,"footnoteReference");function VW(){return{enter:{gfmFootnoteCallString:PW,gfmFootnoteCall:DW,gfmFootnoteDefinitionLabelString:LW,gfmFootnoteDefinition:BW},exit:{gfmFootnoteCallString:zW,gfmFootnoteCall:UW,gfmFootnoteDefinitionLabelString:FW,gfmFootnoteDefinition:$W}}}i(VW,"gfmFootnoteFromMarkdown");function ZW(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:r,footnoteReference:XN},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function r(a,n,s,o){const h=s.createTracker(o);let p=h.move("[^");const v=s.enter("footnoteDefinition"),c=s.enter("label");return p+=h.move(s.safe(s.associationId(a),{before:p,after:"]"})),c(),p+=h.move("]:"),a.children&&a.children.length>0&&(h.shift(4),p+=h.move((t?`
`:" ")+s.indentLines(s.containerFlow(a,h.current()),t?WN:HW))),v(),p}i(r,"footnoteDefinition")}i(ZW,"gfmFootnoteToMarkdown");function HW(e,t,r){return t===0?e:WN(e,t,r)}i(HW,"mapExceptFirst");function WN(e,t,r){return(r?"":"    ")+e}i(WN,"mapAll");const JW=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];QN.peek=QW;function qW(){return{canContainEols:["delete"],enter:{strikethrough:XW},exit:{strikethrough:WW}}}i(qW,"gfmStrikethroughFromMarkdown");function KW(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:JW}],handlers:{delete:QN}}}i(KW,"gfmStrikethroughToMarkdown");function XW(e){this.enter({type:"delete",children:[]},e)}i(XW,"enterStrikethrough");function WW(e){this.exit(e)}i(WW,"exitStrikethrough");function QN(e,t,r,a){const n=r.createTracker(a),s=r.enter("strikethrough");let o=n.move("~~");return o+=r.containerPhrasing(e,{...n.current(),before:o,after:"~"}),o+=n.move("~~"),s(),o}i(QN,"handleDelete");function QW(){return"~"}i(QW,"peekDelete");function YW(e){return e.length}i(YW,"defaultStringLength");function eQ(e,t){const r=t||{},a=(r.align||[]).concat(),n=r.stringLength||YW,s=[],o=[],h=[],p=[];let v=0,c=-1;for(;++c<e.length;){const k=[],N=[];let C=-1;for(e[c].length>v&&(v=e[c].length);++C<e[c].length;){const R=tQ(e[c][C]);if(r.alignDelimiters!==!1){const O=n(R);N[C]=O,(p[C]===void 0||O>p[C])&&(p[C]=O)}k.push(R)}o[c]=k,h[c]=N}let d=-1;if(typeof a=="object"&&"length"in a)for(;++d<v;)s[d]=i5(a[d]);else{const k=i5(a);for(;++d<v;)s[d]=k}d=-1;const y=[],b=[];for(;++d<v;){const k=s[d];let N="",C="";k===99?(N=":",C=":"):k===108?N=":":k===114&&(C=":");let R=r.alignDelimiters===!1?1:Math.max(1,p[d]-N.length-C.length);const O=N+"-".repeat(R)+C;r.alignDelimiters!==!1&&(R=N.length+R+C.length,R>p[d]&&(p[d]=R),b[d]=R),y[d]=O}o.splice(1,0,y),h.splice(1,0,b),c=-1;const x=[];for(;++c<o.length;){const k=o[c],N=h[c];d=-1;const C=[];for(;++d<v;){const R=k[d]||"";let O="",T="";if(r.alignDelimiters!==!1){const P=p[d]-(N[d]||0),z=s[d];z===114?O=" ".repeat(P):z===99?P%2?(O=" ".repeat(P/2+.5),T=" ".repeat(P/2-.5)):(O=" ".repeat(P/2),T=O):T=" ".repeat(P)}r.delimiterStart!==!1&&!d&&C.push("|"),r.padding!==!1&&!(r.alignDelimiters===!1&&R==="")&&(r.delimiterStart!==!1||d)&&C.push(" "),r.alignDelimiters!==!1&&C.push(O),C.push(R),r.alignDelimiters!==!1&&C.push(T),r.padding!==!1&&C.push(" "),(r.delimiterEnd!==!1||d!==v-1)&&C.push("|")}x.push(r.delimiterEnd===!1?C.join("").replace(/ +$/,""):C.join(""))}return x.join(`
`)}i(eQ,"markdownTable");function tQ(e){return e==null?"":String(e)}i(tQ,"serialize");function i5(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}i(i5,"toAlignment");function rQ(e,t,r,a){const n=r.enter("blockquote"),s=r.createTracker(a);s.move("> "),s.shift(2);const o=r.indentLines(r.containerFlow(e,s.current()),iQ);return n(),o}i(rQ,"blockquote");function iQ(e,t,r){return">"+(r?"":" ")+e}i(iQ,"map$1");function nQ(e,t){return n5(e,t.inConstruct,!0)&&!n5(e,t.notInConstruct,!1)}i(nQ,"patternInScope");function n5(e,t,r){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return r;let a=-1;for(;++a<t.length;)if(e.includes(t[a]))return!0;return!1}i(n5,"listInScope");function a5(e,t,r,a){let n=-1;for(;++n<r.unsafe.length;)if(r.unsafe[n].character===`
`&&nQ(r.stack,r.unsafe[n]))return/[ \t]/.test(a.before)?"":" ";return`\\
`}i(a5,"hardBreak");function aQ(e,t){const r=String(e);let a=r.indexOf(t),n=a,s=0,o=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;a!==-1;)a===n?++s>o&&(o=s):s=1,n=a+t.length,a=r.indexOf(t,n);return o}i(aQ,"longestStreak");function sQ(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}i(sQ,"formatCodeAsIndented");function oQ(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}i(oQ,"checkFence");function lQ(e,t,r,a){const n=oQ(r),s=e.value||"",o=n==="`"?"GraveAccent":"Tilde";if(sQ(e,r)){const d=r.enter("codeIndented"),y=r.indentLines(s,uQ);return d(),y}const h=r.createTracker(a),p=n.repeat(Math.max(aQ(s,n)+1,3)),v=r.enter("codeFenced");let c=h.move(p);if(e.lang){const d=r.enter(`codeFencedLang${o}`);c+=h.move(r.safe(e.lang,{before:c,after:" ",encode:["`"],...h.current()})),d()}if(e.lang&&e.meta){const d=r.enter(`codeFencedMeta${o}`);c+=h.move(" "),c+=h.move(r.safe(e.meta,{before:c,after:`
`,encode:["`"],...h.current()})),d()}return c+=h.move(`
`),s&&(c+=h.move(s+`
`)),c+=h.move(p),v(),c}i(lQ,"code$1");function uQ(e,t,r){return(r?"":"    ")+e}i(uQ,"map");function dy(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}i(dy,"checkQuote");function fQ(e,t,r,a){const n=dy(r),s=n==='"'?"Quote":"Apostrophe",o=r.enter("definition");let h=r.enter("label");const p=r.createTracker(a);let v=p.move("[");return v+=p.move(r.safe(r.associationId(e),{before:v,after:"]",...p.current()})),v+=p.move("]: "),h(),!e.url||/[\0- \u007F]/.test(e.url)?(h=r.enter("destinationLiteral"),v+=p.move("<"),v+=p.move(r.safe(e.url,{before:v,after:">",...p.current()})),v+=p.move(">")):(h=r.enter("destinationRaw"),v+=p.move(r.safe(e.url,{before:v,after:e.title?" ":`
`,...p.current()}))),h(),e.title&&(h=r.enter(`title${s}`),v+=p.move(" "+n),v+=p.move(r.safe(e.title,{before:v,after:n,...p.current()})),v+=p.move(n),h()),o(),v}i(fQ,"definition");function cQ(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}i(cQ,"checkEmphasis");function Ho(e){return"&#x"+e.toString(16).toUpperCase()+";"}i(Ho,"encodeCharacterReference");function gf(e,t,r){const a=zu(e),n=zu(t);return a===void 0?n===void 0?r==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:n===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:a===1?n===void 0?{inside:!1,outside:!1}:n===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:n===void 0?{inside:!1,outside:!1}:n===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}i(gf,"encodeInfo");YN.peek=dQ;function YN(e,t,r,a){const n=cQ(r),s=r.enter("emphasis"),o=r.createTracker(a),h=o.move(n);let p=o.move(r.containerPhrasing(e,{after:n,before:h,...o.current()}));const v=p.charCodeAt(0),c=gf(a.before.charCodeAt(a.before.length-1),v,n);c.inside&&(p=Ho(v)+p.slice(1));const d=p.charCodeAt(p.length-1),y=gf(a.after.charCodeAt(0),d,n);y.inside&&(p=p.slice(0,-1)+Ho(d));const b=o.move(n);return s(),r.attentionEncodeSurroundingInfo={after:y.outside,before:c.outside},h+p+b}i(YN,"emphasis");function dQ(e,t,r){return r.options.emphasis||"*"}i(dQ,"emphasisPeek");function hQ(e,t){let r=!1;return VC(e,function(a){if("value"in a&&/\r?\n|\r/.test(a.value)||a.type==="break")return r=!0,ZC}),!!((!e.depth||e.depth<3)&&b_(e)&&(t.options.setext||r))}i(hQ,"formatHeadingAsSetext");function pQ(e,t,r,a){const n=Math.max(Math.min(6,e.depth||1),1),s=r.createTracker(a);if(hQ(e,r)){const c=r.enter("headingSetext"),d=r.enter("phrasing"),y=r.containerPhrasing(e,{...s.current(),before:`
`,after:`
`});return d(),c(),y+`
`+(n===1?"=":"-").repeat(y.length-(Math.max(y.lastIndexOf("\r"),y.lastIndexOf(`
`))+1))}const o="#".repeat(n),h=r.enter("headingAtx"),p=r.enter("phrasing");s.move(o+" ");let v=r.containerPhrasing(e,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(v)&&(v=Ho(v.charCodeAt(0))+v.slice(1)),v=v?o+" "+v:o,r.options.closeAtx&&(v+=" "+o),p(),h(),v}i(pQ,"heading");eI.peek=mQ;function eI(e){return e.value||""}i(eI,"html");function mQ(){return"<"}i(mQ,"htmlPeek");tI.peek=gQ;function tI(e,t,r,a){const n=dy(r),s=n==='"'?"Quote":"Apostrophe",o=r.enter("image");let h=r.enter("label");const p=r.createTracker(a);let v=p.move("![");return v+=p.move(r.safe(e.alt,{before:v,after:"]",...p.current()})),v+=p.move("]("),h(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(h=r.enter("destinationLiteral"),v+=p.move("<"),v+=p.move(r.safe(e.url,{before:v,after:">",...p.current()})),v+=p.move(">")):(h=r.enter("destinationRaw"),v+=p.move(r.safe(e.url,{before:v,after:e.title?" ":")",...p.current()}))),h(),e.title&&(h=r.enter(`title${s}`),v+=p.move(" "+n),v+=p.move(r.safe(e.title,{before:v,after:n,...p.current()})),v+=p.move(n),h()),v+=p.move(")"),o(),v}i(tI,"image");function gQ(){return"!"}i(gQ,"imagePeek");rI.peek=vQ;function rI(e,t,r,a){const n=e.referenceType,s=r.enter("imageReference");let o=r.enter("label");const h=r.createTracker(a);let p=h.move("![");const v=r.safe(e.alt,{before:p,after:"]",...h.current()});p+=h.move(v+"]["),o();const c=r.stack;r.stack=[],o=r.enter("reference");const d=r.safe(r.associationId(e),{before:p,after:"]",...h.current()});return o(),r.stack=c,s(),n==="full"||!v||v!==d?p+=h.move(d+"]"):n==="shortcut"?p=p.slice(0,-1):p+=h.move("]"),p}i(rI,"imageReference");function vQ(){return"!"}i(vQ,"imageReferencePeek");iI.peek=bQ;function iI(e,t,r){let a=e.value||"",n="`",s=-1;for(;new RegExp("(^|[^`])"+n+"([^`]|$)").test(a);)n+="`";for(/[^ \r\n]/.test(a)&&(/^[ \r\n]/.test(a)&&/[ \r\n]$/.test(a)||/^`|`$/.test(a))&&(a=" "+a+" ");++s<r.unsafe.length;){const o=r.unsafe[s],h=r.compilePattern(o);let p;if(o.atBreak)for(;p=h.exec(a);){let v=p.index;a.charCodeAt(v)===10&&a.charCodeAt(v-1)===13&&v--,a=a.slice(0,v)+" "+a.slice(p.index+1)}}return n+a+n}i(iI,"inlineCode");function bQ(){return"`"}i(bQ,"inlineCodePeek");function nI(e,t){const r=b_(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(r===e.url||"mailto:"+r===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}i(nI,"formatLinkAsAutolink");aI.peek=yQ;function aI(e,t,r,a){const n=dy(r),s=n==='"'?"Quote":"Apostrophe",o=r.createTracker(a);let h,p;if(nI(e,r)){const c=r.stack;r.stack=[],h=r.enter("autolink");let d=o.move("<");return d+=o.move(r.containerPhrasing(e,{before:d,after:">",...o.current()})),d+=o.move(">"),h(),r.stack=c,d}h=r.enter("link"),p=r.enter("label");let v=o.move("[");return v+=o.move(r.containerPhrasing(e,{before:v,after:"](",...o.current()})),v+=o.move("]("),p(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(p=r.enter("destinationLiteral"),v+=o.move("<"),v+=o.move(r.safe(e.url,{before:v,after:">",...o.current()})),v+=o.move(">")):(p=r.enter("destinationRaw"),v+=o.move(r.safe(e.url,{before:v,after:e.title?" ":")",...o.current()}))),p(),e.title&&(p=r.enter(`title${s}`),v+=o.move(" "+n),v+=o.move(r.safe(e.title,{before:v,after:n,...o.current()})),v+=o.move(n),p()),v+=o.move(")"),h(),v}i(aI,"link");function yQ(e,t,r){return nI(e,r)?"<":"["}i(yQ,"linkPeek");sI.peek=wQ;function sI(e,t,r,a){const n=e.referenceType,s=r.enter("linkReference");let o=r.enter("label");const h=r.createTracker(a);let p=h.move("[");const v=r.containerPhrasing(e,{before:p,after:"]",...h.current()});p+=h.move(v+"]["),o();const c=r.stack;r.stack=[],o=r.enter("reference");const d=r.safe(r.associationId(e),{before:p,after:"]",...h.current()});return o(),r.stack=c,s(),n==="full"||!v||v!==d?p+=h.move(d+"]"):n==="shortcut"?p=p.slice(0,-1):p+=h.move("]"),p}i(sI,"linkReference");function wQ(){return"["}i(wQ,"linkReferencePeek");function hy(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}i(hy,"checkBullet");function xQ(e){const t=hy(e),r=e.options.bulletOther;if(!r)return t==="*"?"-":"*";if(r!=="*"&&r!=="+"&&r!=="-")throw new Error("Cannot serialize items with `"+r+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(r===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+r+"`) to be different");return r}i(xQ,"checkBulletOther");function _Q(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}i(_Q,"checkBulletOrdered");function oI(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}i(oI,"checkRule");function SQ(e,t,r,a){const n=r.enter("list"),s=r.bulletCurrent;let o=e.ordered?_Q(r):hy(r);const h=e.ordered?o==="."?")":".":xQ(r);let p=t&&r.bulletLastUsed?o===r.bulletLastUsed:!1;if(!e.ordered){const c=e.children?e.children[0]:void 0;if((o==="*"||o==="-")&&c&&(!c.children||!c.children[0])&&r.stack[r.stack.length-1]==="list"&&r.stack[r.stack.length-2]==="listItem"&&r.stack[r.stack.length-3]==="list"&&r.stack[r.stack.length-4]==="listItem"&&r.indexStack[r.indexStack.length-1]===0&&r.indexStack[r.indexStack.length-2]===0&&r.indexStack[r.indexStack.length-3]===0&&(p=!0),oI(r)===o&&c){let d=-1;for(;++d<e.children.length;){const y=e.children[d];if(y&&y.type==="listItem"&&y.children&&y.children[0]&&y.children[0].type==="thematicBreak"){p=!0;break}}}}p&&(o=h),r.bulletCurrent=o;const v=r.containerFlow(e,a);return r.bulletLastUsed=o,r.bulletCurrent=s,n(),v}i(SQ,"list");function MQ(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}i(MQ,"checkListItemIndent");function EQ(e,t,r,a){const n=MQ(r);let s=r.bulletCurrent||hy(r);t&&t.type==="list"&&t.ordered&&(s=(typeof t.start=="number"&&t.start>-1?t.start:1)+(r.options.incrementListMarker===!1?0:t.children.indexOf(e))+s);let o=s.length+1;(n==="tab"||n==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);const h=r.createTracker(a);h.move(s+" ".repeat(o-s.length)),h.shift(o);const p=r.enter("listItem"),v=r.indentLines(r.containerFlow(e,h.current()),c);return p(),v;function c(d,y,b){return y?(b?"":" ".repeat(o))+d:(b?s:s+" ".repeat(o-s.length))+d}i(c,"map")}i(EQ,"listItem");function kQ(e,t,r,a){const n=r.enter("paragraph"),s=r.enter("phrasing"),o=r.containerPhrasing(e,a);return s(),n(),o}i(kQ,"paragraph");const AQ=v_(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function jQ(e,t,r,a){return(e.children.some(function(o){return AQ(o)})?r.containerPhrasing:r.containerFlow).call(r,e,a)}i(jQ,"root");function NQ(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}i(NQ,"checkStrong");lI.peek=IQ;function lI(e,t,r,a){const n=NQ(r),s=r.enter("strong"),o=r.createTracker(a),h=o.move(n+n);let p=o.move(r.containerPhrasing(e,{after:n,before:h,...o.current()}));const v=p.charCodeAt(0),c=gf(a.before.charCodeAt(a.before.length-1),v,n);c.inside&&(p=Ho(v)+p.slice(1));const d=p.charCodeAt(p.length-1),y=gf(a.after.charCodeAt(0),d,n);y.inside&&(p=p.slice(0,-1)+Ho(d));const b=o.move(n+n);return s(),r.attentionEncodeSurroundingInfo={after:y.outside,before:c.outside},h+p+b}i(lI,"strong");function IQ(e,t,r){return r.options.strong||"*"}i(IQ,"strongPeek");function CQ(e,t,r,a){return r.safe(e.value,a)}i(CQ,"text$1");function RQ(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}i(RQ,"checkRuleRepetition");function OQ(e,t,r){const a=(oI(r)+(r.options.ruleSpaces?" ":"")).repeat(RQ(r));return r.options.ruleSpaces?a.slice(0,-1):a}i(OQ,"thematicBreak");const uI={blockquote:rQ,break:a5,code:lQ,definition:fQ,emphasis:YN,hardBreak:a5,heading:pQ,html:eI,image:tI,imageReference:rI,inlineCode:iI,link:aI,linkReference:sI,list:SQ,listItem:EQ,paragraph:kQ,root:jQ,strong:lI,text:CQ,thematicBreak:OQ};function TQ(){return{enter:{table:PQ,tableData:s5,tableHeader:s5,tableRow:LQ},exit:{codeText:BQ,table:DQ,tableData:Rm,tableHeader:Rm,tableRow:Rm}}}i(TQ,"gfmTableFromMarkdown");function PQ(e){const t=e._align;this.enter({type:"table",align:t.map(function(r){return r==="none"?null:r}),children:[]},e),this.data.inTable=!0}i(PQ,"enterTable");function DQ(e){this.exit(e),this.data.inTable=void 0}i(DQ,"exitTable");function LQ(e){this.enter({type:"tableRow",children:[]},e)}i(LQ,"enterRow");function Rm(e){this.exit(e)}i(Rm,"exit");function s5(e){this.enter({type:"tableCell",children:[]},e)}i(s5,"enterCell");function BQ(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,zQ));const r=this.stack[this.stack.length-1];gs(r.type==="inlineCode"),r.value=t,this.exit(e)}i(BQ,"exitCodeText");function zQ(e,t){return t==="|"?t:e}i(zQ,"replace");function UQ(e){const t=e||{},r=t.tableCellPadding,a=t.tablePipeAlign,n=t.stringLength,s=r?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:y,table:o,tableCell:p,tableRow:h}};function o(b,x,k,N){return v(c(b,k,N),b.align)}function h(b,x,k,N){const C=d(b,k,N),R=v([C]);return R.slice(0,R.indexOf(`
`))}function p(b,x,k,N){const C=k.enter("tableCell"),R=k.enter("phrasing"),O=k.containerPhrasing(b,{...N,before:s,after:s});return R(),C(),O}function v(b,x){return eQ(b,{align:x,alignDelimiters:a,padding:r,stringLength:n})}function c(b,x,k){const N=b.children;let C=-1;const R=[],O=x.enter("table");for(;++C<N.length;)R[C]=d(N[C],x,k);return O(),R}function d(b,x,k){const N=b.children;let C=-1;const R=[],O=x.enter("tableRow");for(;++C<N.length;)R[C]=p(N[C],b,x,k);return O(),R}function y(b,x,k){let N=uI.inlineCode(b,x,k);return k.stack.includes("tableCell")&&(N=N.replace(/\|/g,"\\$&")),N}}i(UQ,"gfmTableToMarkdown");function FQ(){return{exit:{taskListCheckValueChecked:o5,taskListCheckValueUnchecked:o5,paragraph:GQ}}}i(FQ,"gfmTaskListItemFromMarkdown");function $Q(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:VQ}}}i($Q,"gfmTaskListItemToMarkdown");function o5(e){const t=this.stack[this.stack.length-2];gs(t.type==="listItem"),t.checked=e.type==="taskListCheckValueChecked"}i(o5,"exitCheck");function GQ(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const r=this.stack[this.stack.length-1];gs(r.type==="paragraph");const a=r.children[0];if(a&&a.type==="text"){const n=t.children;let s=-1,o;for(;++s<n.length;){const h=n[s];if(h.type==="paragraph"){o=h;break}}o===r&&(a.value=a.value.slice(1),a.value.length===0?r.children.shift():r.position&&a.position&&typeof a.position.start.offset=="number"&&(a.position.start.column++,a.position.start.offset++,r.position.start=Object.assign({},a.position.start)))}}this.exit(e)}i(GQ,"exitParagraphWithTaskListItem");function VQ(e,t,r,a){const n=e.children[0],s=typeof e.checked=="boolean"&&n&&n.type==="paragraph",o="["+(e.checked?"x":" ")+"] ",h=r.createTracker(a);s&&h.move(o);let p=uI.listItem(e,t,r,{...a,...h.current()});return s&&(p=p.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,v)),p;function v(c){return c+o}i(v,"check")}i(VQ,"listItemWithTaskListItem");function ZQ(){return[SW(),VW(),qW(),TQ(),FQ()]}i(ZQ,"gfmFromMarkdown");function HQ(e){return{extensions:[MW(),ZW(e),KW(),UQ(e),$Q()]}}i(HQ,"gfmToMarkdown");const JQ={tokenize:YQ,partial:!0},fI={tokenize:eY,partial:!0},cI={tokenize:tY,partial:!0},dI={tokenize:rY,partial:!0},qQ={tokenize:iY,partial:!0},hI={name:"wwwAutolink",tokenize:WQ,previous:mI},pI={name:"protocolAutolink",tokenize:QQ,previous:gI},jn={name:"emailAutolink",tokenize:XQ,previous:vI},en={};function KQ(){return{text:en}}i(KQ,"gfmAutolinkLiteral");let fa=48;for(;fa<123;)en[fa]=jn,fa++,fa===58?fa=65:fa===91&&(fa=97);en[43]=jn;en[45]=jn;en[46]=jn;en[95]=jn;en[72]=[jn,pI];en[104]=[jn,pI];en[87]=[jn,hI];en[119]=[jn,hI];function XQ(e,t,r){const a=this;let n,s;return o;function o(d){return!Zg(d)||!vI.call(a,a.previous)||py(a.events)?r(d):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),h(d))}function h(d){return Zg(d)?(e.consume(d),h):d===64?(e.consume(d),p):r(d)}function p(d){return d===46?e.check(qQ,c,v)(d):d===45||d===95||rv(d)?(s=!0,e.consume(d),p):c(d)}function v(d){return e.consume(d),n=!0,p}function c(d){return s&&n&&vo(a.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(d)):r(d)}}i(XQ,"tokenizeEmailAutolink");function WQ(e,t,r){const a=this;return n;function n(o){return o!==87&&o!==119||!mI.call(a,a.previous)||py(a.events)?r(o):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(JQ,e.attempt(fI,e.attempt(cI,s),r),r)(o))}function s(o){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(o)}}i(WQ,"tokenizeWwwAutolink");function QQ(e,t,r){const a=this;let n="",s=!1;return o;function o(d){return(d===72||d===104)&&gI.call(a,a.previous)&&!py(a.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),n+=String.fromCodePoint(d),e.consume(d),h):r(d)}function h(d){if(vo(d)&&n.length<5)return n+=String.fromCodePoint(d),e.consume(d),h;if(d===58){const y=n.toLowerCase();if(y==="http"||y==="https")return e.consume(d),p}return r(d)}function p(d){return d===47?(e.consume(d),s?v:(s=!0,p)):r(d)}function v(d){return d===null||HC(d)||Yr(d)||as(d)||tv(d)?r(d):e.attempt(fI,e.attempt(cI,c),r)(d)}function c(d){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(d)}}i(QQ,"tokenizeProtocolAutolink");function YQ(e,t,r){let a=0;return n;function n(o){return(o===87||o===119)&&a<3?(a++,e.consume(o),n):o===46&&a===3?(e.consume(o),s):r(o)}function s(o){return o===null?r(o):t(o)}}i(YQ,"tokenizeWwwPrefix");function eY(e,t,r){let a,n,s;return o;function o(v){return v===46||v===95?e.check(dI,p,h)(v):v===null||Yr(v)||as(v)||v!==45&&tv(v)?p(v):(s=!0,e.consume(v),o)}function h(v){return v===95?a=!0:(n=a,a=void 0),e.consume(v),o}function p(v){return n||a||!s?r(v):t(v)}}i(eY,"tokenizeDomain");function tY(e,t){let r=0,a=0;return n;function n(o){return o===40?(r++,e.consume(o),n):o===41&&a<r?s(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?e.check(dI,t,s)(o):o===null||Yr(o)||as(o)?t(o):(e.consume(o),n)}function s(o){return o===41&&a++,e.consume(o),n}}i(tY,"tokenizePath");function rY(e,t,r){return a;function a(h){return h===33||h===34||h===39||h===41||h===42||h===44||h===46||h===58||h===59||h===63||h===95||h===126?(e.consume(h),a):h===38?(e.consume(h),s):h===93?(e.consume(h),n):h===60||h===null||Yr(h)||as(h)?t(h):r(h)}function n(h){return h===null||h===40||h===91||Yr(h)||as(h)?t(h):a(h)}function s(h){return vo(h)?o(h):r(h)}function o(h){return h===59?(e.consume(h),a):vo(h)?(e.consume(h),o):r(h)}}i(rY,"tokenizeTrail");function iY(e,t,r){return a;function a(s){return e.consume(s),n}function n(s){return rv(s)?r(s):t(s)}}i(iY,"tokenizeEmailDomainDotTrail");function mI(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Yr(e)}i(mI,"previousWww");function gI(e){return!vo(e)}i(gI,"previousProtocol");function vI(e){return!(e===47||Zg(e))}i(vI,"previousEmail");function Zg(e){return e===43||e===45||e===46||e===95||rv(e)}i(Zg,"gfmAtext");function py(e){let t=e.length,r=!1;for(;t--;){const a=e[t][1];if((a.type==="labelLink"||a.type==="labelImage")&&!a._balanced){r=!0;break}if(a._gfmAutolinkLiteralWalkedInto){r=!1;break}}return e.length>0&&!r&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),r}i(py,"previousUnbalanced");const nY={tokenize:dY,partial:!0};function aY(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:uY,continuation:{tokenize:fY},exit:cY}},text:{91:{name:"gfmFootnoteCall",tokenize:lY},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:sY,resolveTo:oY}}}}i(aY,"gfmFootnote");function sY(e,t,r){const a=this;let n=a.events.length;const s=a.parser.gfmFootnotes||(a.parser.gfmFootnotes=[]);let o;for(;n--;){const p=a.events[n][1];if(p.type==="labelImage"){o=p;break}if(p.type==="gfmFootnoteCall"||p.type==="labelLink"||p.type==="label"||p.type==="image"||p.type==="link")break}return h;function h(p){if(!o||!o._balanced)return r(p);const v=Xo(a.sliceSerialize({start:o.end,end:a.now()}));return v.codePointAt(0)!==94||!s.includes(v.slice(1))?r(p):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),t(p))}}i(sY,"tokenizePotentialGfmFootnoteCall");function oY(e,t){let r=e.length;for(;r--;)if(e[r][1].type==="labelImage"&&e[r][0]==="enter"){e[r][1];break}e[r+1][1].type="data",e[r+3][1].type="gfmFootnoteCallLabelMarker";const a={type:"gfmFootnoteCall",start:Object.assign({},e[r+3][1].start),end:Object.assign({},e[e.length-1][1].end)},n={type:"gfmFootnoteCallMarker",start:Object.assign({},e[r+3][1].end),end:Object.assign({},e[r+3][1].end)};n.end.column++,n.end.offset++,n.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},n.end),end:Object.assign({},e[e.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},h=[e[r+1],e[r+2],["enter",a,t],e[r+3],e[r+4],["enter",n,t],["exit",n,t],["enter",s,t],["enter",o,t],["exit",o,t],["exit",s,t],e[e.length-2],e[e.length-1],["exit",a,t]];return e.splice(r,e.length-r+1,...h),e}i(oY,"resolveToPotentialGfmFootnoteCall");function lY(e,t,r){const a=this,n=a.parser.gfmFootnotes||(a.parser.gfmFootnotes=[]);let s=0,o;return h;function h(d){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),p}function p(d){return d!==94?r(d):(e.enter("gfmFootnoteCallMarker"),e.consume(d),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",v)}function v(d){if(s>999||d===93&&!o||d===null||d===91||Yr(d))return r(d);if(d===93){e.exit("chunkString");const y=e.exit("gfmFootnoteCallString");return n.includes(Xo(a.sliceSerialize(y)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):r(d)}return Yr(d)||(o=!0),s++,e.consume(d),d===92?c:v}function c(d){return d===91||d===92||d===93?(e.consume(d),s++,v):v(d)}}i(lY,"tokenizeGfmFootnoteCall");function uY(e,t,r){const a=this,n=a.parser.gfmFootnotes||(a.parser.gfmFootnotes=[]);let s,o=0,h;return p;function p(x){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(x),e.exit("gfmFootnoteDefinitionLabelMarker"),v}function v(x){return x===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(x),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",c):r(x)}function c(x){if(o>999||x===93&&!h||x===null||x===91||Yr(x))return r(x);if(x===93){e.exit("chunkString");const k=e.exit("gfmFootnoteDefinitionLabelString");return s=Xo(a.sliceSerialize(k)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(x),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),y}return Yr(x)||(h=!0),o++,e.consume(x),x===92?d:c}function d(x){return x===91||x===92||x===93?(e.consume(x),o++,c):c(x)}function y(x){return x===58?(e.enter("definitionMarker"),e.consume(x),e.exit("definitionMarker"),n.includes(s)||n.push(s),On(e,b,"gfmFootnoteDefinitionWhitespace")):r(x)}function b(x){return t(x)}}i(uY,"tokenizeDefinitionStart");function fY(e,t,r){return e.check(JC,t,e.attempt(nY,t,r))}i(fY,"tokenizeDefinitionContinuation");function cY(e){e.exit("gfmFootnoteDefinition")}i(cY,"gfmFootnoteDefinitionEnd");function dY(e,t,r){const a=this;return On(e,n,"gfmFootnoteDefinitionIndent",5);function n(s){const o=a.events[a.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?t(s):r(s)}}i(dY,"tokenizeIndent");function hY(e){let r=(e||{}).singleTilde;const a={name:"strikethrough",tokenize:s,resolveAll:n};return r==null&&(r=!0),{text:{126:a},insideSpan:{null:[a]},attentionMarkers:{null:[126]}};function n(o,h){let p=-1;for(;++p<o.length;)if(o[p][0]==="enter"&&o[p][1].type==="strikethroughSequenceTemporary"&&o[p][1]._close){let v=p;for(;v--;)if(o[v][0]==="exit"&&o[v][1].type==="strikethroughSequenceTemporary"&&o[v][1]._open&&o[p][1].end.offset-o[p][1].start.offset===o[v][1].end.offset-o[v][1].start.offset){o[p][1].type="strikethroughSequence",o[v][1].type="strikethroughSequence";const c={type:"strikethrough",start:Object.assign({},o[v][1].start),end:Object.assign({},o[p][1].end)},d={type:"strikethroughText",start:Object.assign({},o[v][1].end),end:Object.assign({},o[p][1].start)},y=[["enter",c,h],["enter",o[v][1],h],["exit",o[v][1],h],["enter",d,h]],b=h.parser.constructs.insideSpan.null;b&&Gc(y,y.length,0,qC(b,o.slice(v+1,p),h)),Gc(y,y.length,0,[["exit",d,h],["enter",o[p][1],h],["exit",o[p][1],h],["exit",c,h]]),Gc(o,v-1,p-v+3,y),p=v+y.length-2;break}}for(p=-1;++p<o.length;)o[p][1].type==="strikethroughSequenceTemporary"&&(o[p][1].type="data");return o}i(n,"resolveAllStrikethrough");function s(o,h,p){const v=this.previous,c=this.events;let d=0;return y;function y(x){return v===126&&c[c.length-1][1].type!=="characterEscape"?p(x):(o.enter("strikethroughSequenceTemporary"),b(x))}function b(x){const k=zu(v);if(x===126)return d>1?p(x):(o.consume(x),d++,b);if(d<2&&!r)return p(x);const N=o.exit("strikethroughSequenceTemporary"),C=zu(x);return N._open=!C||C===2&&!!k,N._close=!k||k===2&&!!C,h(x)}}i(s,"tokenizeStrikethrough")}i(hY,"gfmStrikethrough");class pY{static{i(this,"EditMap")}constructor(){this.map=[]}add(t,r,a){mY(this,t,r,a)}consume(t){if(this.map.sort(function(s,o){return s[0]-o[0]}),this.map.length===0)return;let r=this.map.length;const a=[];for(;r>0;)r-=1,a.push(t.slice(this.map[r][0]+this.map[r][1]),this.map[r][2]),t.length=this.map[r][0];a.push(t.slice()),t.length=0;let n=a.pop();for(;n;){for(const s of n)t.push(s);n=a.pop()}this.map.length=0}}function mY(e,t,r,a){let n=0;if(!(r===0&&a.length===0)){for(;n<e.map.length;){if(e.map[n][0]===t){e.map[n][1]+=r,e.map[n][2].push(...a);return}n+=1}e.map.push([t,r,a])}}i(mY,"addImplementation");function gY(e,t){let r=!1;const a=[];for(;t<e.length;){const n=e[t];if(r){if(n[0]==="enter")n[1].type==="tableContent"&&a.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(n[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const s=a.length-1;a[s]=a[s]==="left"?"center":"right"}}else if(n[1].type==="tableDelimiterRow")break}else n[0]==="enter"&&n[1].type==="tableDelimiterRow"&&(r=!0);t+=1}return a}i(gY,"gfmTableAlign");function vY(){return{flow:{null:{name:"table",tokenize:bY,resolveAll:yY}}}}i(vY,"gfmTable");function bY(e,t,r){const a=this;let n=0,s=0,o;return h;function h($){let F=a.events.length-1;for(;F>-1;){const l=a.events[F][1].type;if(l==="lineEnding"||l==="linePrefix")F--;else break}const u=F>-1?a.events[F][1].type:null,g=u==="tableHead"||u==="tableRow"?z:p;return g===z&&a.parser.lazy[a.now().line]?r($):g($)}function p($){return e.enter("tableHead"),e.enter("tableRow"),v($)}function v($){return $===124||(o=!0,s+=1),c($)}function c($){return $===null?r($):ao($)?s>1?(s=0,a.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume($),e.exit("lineEnding"),b):r($):Ja($)?On(e,c,"whitespace")($):(s+=1,o&&(o=!1,n+=1),$===124?(e.enter("tableCellDivider"),e.consume($),e.exit("tableCellDivider"),o=!0,c):(e.enter("data"),d($)))}function d($){return $===null||$===124||Yr($)?(e.exit("data"),c($)):(e.consume($),$===92?y:d)}function y($){return $===92||$===124?(e.consume($),d):d($)}function b($){return a.interrupt=!1,a.parser.lazy[a.now().line]?r($):(e.enter("tableDelimiterRow"),o=!1,Ja($)?On(e,x,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)($):x($))}function x($){return $===45||$===58?N($):$===124?(o=!0,e.enter("tableCellDivider"),e.consume($),e.exit("tableCellDivider"),k):P($)}function k($){return Ja($)?On(e,N,"whitespace")($):N($)}function N($){return $===58?(s+=1,o=!0,e.enter("tableDelimiterMarker"),e.consume($),e.exit("tableDelimiterMarker"),C):$===45?(s+=1,C($)):$===null||ao($)?T($):P($)}function C($){return $===45?(e.enter("tableDelimiterFiller"),R($)):P($)}function R($){return $===45?(e.consume($),R):$===58?(o=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume($),e.exit("tableDelimiterMarker"),O):(e.exit("tableDelimiterFiller"),O($))}function O($){return Ja($)?On(e,T,"whitespace")($):T($)}function T($){return $===124?x($):$===null||ao($)?!o||n!==s?P($):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t($)):P($)}function P($){return r($)}function z($){return e.enter("tableRow"),V($)}function V($){return $===124?(e.enter("tableCellDivider"),e.consume($),e.exit("tableCellDivider"),V):$===null||ao($)?(e.exit("tableRow"),t($)):Ja($)?On(e,V,"whitespace")($):(e.enter("data"),Z($))}function Z($){return $===null||$===124||Yr($)?(e.exit("data"),V($)):(e.consume($),$===92?ee:Z)}function ee($){return $===92||$===124?(e.consume($),Z):Z($)}}i(bY,"tokenizeTable");function yY(e,t){let r=-1,a=!0,n=0,s=[0,0,0,0],o=[0,0,0,0],h=!1,p=0,v,c,d;const y=new pY;for(;++r<e.length;){const b=e[r],x=b[1];b[0]==="enter"?x.type==="tableHead"?(h=!1,p!==0&&(l5(y,t,p,v,c),c=void 0,p=0),v={type:"table",start:Object.assign({},x.start),end:Object.assign({},x.end)},y.add(r,0,[["enter",v,t]])):x.type==="tableRow"||x.type==="tableDelimiterRow"?(a=!0,d=void 0,s=[0,0,0,0],o=[0,r+1,0,0],h&&(h=!1,c={type:"tableBody",start:Object.assign({},x.start),end:Object.assign({},x.end)},y.add(r,0,[["enter",c,t]])),n=x.type==="tableDelimiterRow"?2:c?3:1):n&&(x.type==="data"||x.type==="tableDelimiterMarker"||x.type==="tableDelimiterFiller")?(a=!1,o[2]===0&&(s[1]!==0&&(o[0]=o[1],d=pu(y,t,s,n,void 0,d),s=[0,0,0,0]),o[2]=r)):x.type==="tableCellDivider"&&(a?a=!1:(s[1]!==0&&(o[0]=o[1],d=pu(y,t,s,n,void 0,d)),s=o,o=[s[1],r,0,0])):x.type==="tableHead"?(h=!0,p=r):x.type==="tableRow"||x.type==="tableDelimiterRow"?(p=r,s[1]!==0?(o[0]=o[1],d=pu(y,t,s,n,r,d)):o[1]!==0&&(d=pu(y,t,o,n,r,d)),n=0):n&&(x.type==="data"||x.type==="tableDelimiterMarker"||x.type==="tableDelimiterFiller")&&(o[3]=r)}for(p!==0&&l5(y,t,p,v,c),y.consume(t.events),r=-1;++r<t.events.length;){const b=t.events[r];b[0]==="enter"&&b[1].type==="table"&&(b[1]._align=gY(t.events,r))}return e}i(yY,"resolveTable");function pu(e,t,r,a,n,s){const o=a===1?"tableHeader":a===2?"tableDelimiter":"tableData",h="tableContent";r[0]!==0&&(s.end=Object.assign({},Ka(t.events,r[0])),e.add(r[0],0,[["exit",s,t]]));const p=Ka(t.events,r[1]);if(s={type:o,start:Object.assign({},p),end:Object.assign({},p)},e.add(r[1],0,[["enter",s,t]]),r[2]!==0){const v=Ka(t.events,r[2]),c=Ka(t.events,r[3]),d={type:h,start:Object.assign({},v),end:Object.assign({},c)};if(e.add(r[2],0,[["enter",d,t]]),a!==2){const y=t.events[r[2]],b=t.events[r[3]];if(y[1].end=Object.assign({},b[1].end),y[1].type="chunkText",y[1].contentType="text",r[3]>r[2]+1){const x=r[2]+1,k=r[3]-r[2]-1;e.add(x,k,[])}}e.add(r[3]+1,0,[["exit",d,t]])}return n!==void 0&&(s.end=Object.assign({},Ka(t.events,n)),e.add(n,0,[["exit",s,t]]),s=void 0),s}i(pu,"flushCell");function l5(e,t,r,a,n){const s=[],o=Ka(t.events,r);n&&(n.end=Object.assign({},o),s.push(["exit",n,t])),a.end=Object.assign({},o),s.push(["exit",a,t]),e.add(r+1,0,s)}i(l5,"flushTableEnd");function Ka(e,t){const r=e[t],a=r[0]==="enter"?"start":"end";return r[1][a]}i(Ka,"getPoint");const wY={name:"tasklistCheck",tokenize:_Y};function xY(){return{text:{91:wY}}}i(xY,"gfmTaskListItem");function _Y(e,t,r){const a=this;return n;function n(p){return a.previous!==null||!a._gfmTasklistFirstContentOfListItem?r(p):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(p),e.exit("taskListCheckMarker"),s)}function s(p){return Yr(p)?(e.enter("taskListCheckValueUnchecked"),e.consume(p),e.exit("taskListCheckValueUnchecked"),o):p===88||p===120?(e.enter("taskListCheckValueChecked"),e.consume(p),e.exit("taskListCheckValueChecked"),o):r(p)}function o(p){return p===93?(e.enter("taskListCheckMarker"),e.consume(p),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),h):r(p)}function h(p){return ao(p)?t(p):Ja(p)?e.check({tokenize:SY},t,r)(p):r(p)}}i(_Y,"tokenizeTasklistCheck");function SY(e,t,r){return On(e,a,"whitespace");function a(n){return n===null?r(n):t(n)}}i(SY,"spaceThenNonSpace");function MY(e){return KC([KQ(),aY(),hY(e),vY(),xY()])}i(MY,"gfm");const EY={};function kY(e){const t=this,r=e||EY,a=t.data(),n=a.micromarkExtensions||(a.micromarkExtensions=[]),s=a.fromMarkdownExtensions||(a.fromMarkdownExtensions=[]),o=a.toMarkdownExtensions||(a.toMarkdownExtensions=[]);n.push(MY(r)),s.push(ZQ()),o.push(HQ(r))}i(kY,"remarkGfm");const bI=J.forwardRef(({className:e,children:t,variant:r="agent",...a},n)=>j.jsx("div",{ref:n,className:Le("not-prose relative overflow-hidden rounded-lg border border-border",e),style:{backgroundColor:"#0f172a",color:"white"},...a,children:t}));bI.displayName="CodeBlock";const AY=J.forwardRef(({className:e,children:t,...r},a)=>j.jsx("div",{ref:a,className:Le("flex items-center justify-between border-b border-border px-4 py-2 text-sm text-muted-foreground bg-muted/30 dark:bg-slate-800/50",e),...r,children:t}));AY.displayName="CodeBlockGroup";const yI=J.forwardRef(({code:e,language:t="text",className:r,variant:a="agent",...n},s)=>j.jsx("div",{ref:s,className:Le("overflow-x-auto p-4",r),style:{backgroundColor:"transparent"},...n,children:j.jsx("pre",{className:"text-sm whitespace-pre-wrap",style:{color:"white"},children:j.jsx("code",{className:"font-mono",style:{color:"white"},children:e})})}));yI.displayName="CodeBlockCode";const jY=i((e="agent")=>({pre:i(({children:t,className:r,...a})=>{if(J.Children.toArray(t).some(s=>J.isValidElement(s)&&s.props?.className&&/language-\w+/.test(s.props.className))){const s=J.Children.toArray(t).find(c=>J.isValidElement(c)&&c.props?.className&&/language-\w+/.test(c.props.className)),h=(s.props.className||"").match(/language-(\w+)/),p=h?h[1]:"text",v=String(s.props.children||"").trim();return j.jsxs(bI,{children:[p&&p!=="text"&&j.jsx("div",{className:"flex items-center justify-between px-4 py-2 text-xs bg-black/30 text-white border-b border-border",children:j.jsx("span",{className:"font-mono uppercase tracking-wide",children:p})}),j.jsx(yI,{code:v,language:p})]})}return j.jsx("pre",{className:Le("overflow-x-auto rounded-md bg-black dark:bg-black/50 border border-border p-4 text-sm font-mono text-white dark:text-white",r),...a,children:t})},"pre"),code:i(({className:t,children:r,...a})=>t&&/language-\w+/.test(t)?j.jsx("code",{className:t,...a,children:r}):j.jsx("code",{className:Le("relative rounded bg-muted/60 dark:bg-slate-800/60 px-[0.3rem] py-[0.2rem] font-mono text-sm font-semibold text-foreground dark:text-slate-100 border border-border/50",t),...a,children:r}),"code"),h1:i(({className:t,...r})=>j.jsx("h1",{className:Le("mt-2 scroll-m-20 text-xl font-bold tracking-tight",t),...r}),"h1"),h2:i(({className:t,...r})=>j.jsx("h2",{className:Le("mt-2 scroll-m-20 text-lg font-semibold tracking-tight",t),...r}),"h2"),h3:i(({className:t,...r})=>j.jsx("h3",{className:Le("mt-2 scroll-m-20 text-base font-semibold tracking-tight",t),...r}),"h3"),h4:i(({className:t,...r})=>j.jsx("h4",{className:Le("mt-2 scroll-m-20 text-sm font-semibold tracking-tight",t),...r}),"h4"),p:i(({className:t,...r})=>j.jsx("p",{className:Le("leading-7",t),...r}),"p"),ul:i(({className:t,...r})=>j.jsx("ul",{className:Le("my-2 ml-6 list-disc [&>li]:mt-1",t),...r}),"ul"),ol:i(({className:t,...r})=>j.jsx("ol",{className:Le("my-2 ml-6 list-decimal [&>li]:mt-1",t),...r}),"ol"),a:i(({className:t,...r})=>j.jsx("a",{className:Le("font-medium text-primary underline underline-offset-4",t),...r}),"a"),blockquote:i(({className:t,...r})=>j.jsx("blockquote",{className:Le("mt-2 border-l-2 border-muted-foreground/20 pl-6 italic",t),...r}),"blockquote"),table:i(({className:t,...r})=>j.jsx("div",{className:"my-2 w-full overflow-y-auto",children:j.jsx("table",{className:Le("w-full",t),...r})}),"table"),th:i(({className:t,...r})=>j.jsx("th",{className:Le("border border-muted-foreground/20 px-4 py-2 text-left font-bold [&[align=center]]:text-center [&[align=right]]:text-right",t),...r}),"th"),td:i(({className:t,...r})=>j.jsx("td",{className:Le("border border-muted-foreground/20 px-4 py-2 text-left [&[align=center]]:text-center [&[align=right]]:text-right",t),...r}),"td"),img:i(({className:t,alt:r,...a})=>j.jsx("img",{className:Le("rounded-md",t),alt:r,...a}),"img"),hr:i(({...t})=>j.jsx("hr",{className:"my-4 border-muted-foreground/20",...t}),"hr"),strong:i(({className:t,...r})=>j.jsx("strong",{className:Le("font-semibold",t),...r}),"strong"),em:i(({className:t,...r})=>j.jsx("em",{className:Le("italic",t),...r}),"em")}),"createComponents"),my=J.memo(({children:e,className:t,components:r,variant:a="agent",...n})=>{const s=J.useMemo(()=>jY(a),[a]),o=J.useMemo(()=>({...s,...r}),[s,r]);return j.jsx("div",{className:Le("markdown-content",t),...n,children:j.jsx(XC,{remarkPlugins:[kY],components:o,children:e})})});my.displayName="Markdown";const NY=i(({children:e,className:t,variant:r="agent",shouldAnimate:a=!1,messageId:n,maxDurationMs:s=1e4})=>{const[o,h]=J.useState(a?"":e);return J.useEffect(()=>{if(!a||!e.trim()){h(e);return}const p=Math.max(1e3,s);h("");const v=20,c=e.length,d=Math.ceil(p/v),y=Math.max(1,Math.ceil(c/d));let b=0;const x=setInterval(()=>{b+=y,b>=c?(h(e),clearInterval(x)):h(e.slice(0,b))},v);return()=>clearInterval(x)},[e,a,n,s]),j.jsx(my,{className:t,variant:r,children:o})},"AnimatedMarkdown");/*!---------------------------------------------------------------------------------------------
 *  Copyright (c) StackBlitz. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/const IY={damping:.7,stiffness:.05,mass:1.25},CY=70,RY=1e3/60,OY=350;let Dc=!1;globalThis.document?.addEventListener("mousedown",()=>{Dc=!0});globalThis.document?.addEventListener("mouseup",()=>{Dc=!1});globalThis.document?.addEventListener("click",()=>{Dc=!1});const TY=i((e={})=>{const[t,r]=J.useState(!1),[a,n]=J.useState(e.initial!==!1),[s,o]=J.useState(!1),h=J.useRef(null);h.current=e;const p=J.useCallback(()=>{if(!Dc)return!1;const R=window.getSelection();if(!R||!R.rangeCount)return!1;const O=R.getRangeAt(0);return O.commonAncestorContainer.contains(N.current)||N.current?.contains(O.commonAncestorContainer)},[]),v=J.useCallback(R=>{d.isAtBottom=R,n(R)},[]),c=J.useCallback(R=>{d.escapedFromLock=R,r(R)},[]),d=J.useMemo(()=>{let R;return{escapedFromLock:t,isAtBottom:a,resizeDifference:0,accumulated:0,velocity:0,listeners:new Set,get scrollTop(){return N.current?.scrollTop??0},set scrollTop(O){N.current&&(N.current.scrollTop=O,d.ignoreScrollToTop=N.current.scrollTop)},get targetScrollTop(){return!N.current||!C.current?0:N.current.scrollHeight-1-N.current.clientHeight},get calculatedTargetScrollTop(){if(!N.current||!C.current)return 0;const{targetScrollTop:O}=this;if(!e.targetScrollTop)return O;if(R?.targetScrollTop===O)return R.calculatedScrollTop;const T=Math.max(Math.min(e.targetScrollTop(O,{scrollElement:N.current,contentElement:C.current}),O),0);return R={targetScrollTop:O,calculatedScrollTop:T},requestAnimationFrame(()=>{R=void 0}),T},get scrollDifference(){return this.calculatedTargetScrollTop-this.scrollTop},get isNearBottom(){return this.scrollDifference<=CY}}},[]),y=J.useCallback((R={})=>{typeof R=="string"&&(R={animation:R}),R.preserveScrollPosition||v(!0);const O=Date.now()+(Number(R.wait)||0),T=Tm(h.current,R.animation),{ignoreEscapes:P=!1}=R;let z,V=d.calculatedTargetScrollTop;R.duration instanceof Promise?R.duration.finally(()=>{z=Date.now()}):z=O+(R.duration??0);const Z=i(async()=>{const ee=new Promise(requestAnimationFrame).then(()=>{if(!d.isAtBottom)return d.animation=void 0,!1;const{scrollTop:$}=d,F=performance.now(),u=(F-(d.lastTick??F))/RY;if(d.animation||(d.animation={behavior:T,promise:ee,ignoreEscapes:P}),d.animation.behavior===T&&(d.lastTick=F),p()||O>Date.now())return Z();if($<Math.min(V,d.calculatedTargetScrollTop)){if(d.animation?.behavior===T){if(T==="instant")return d.scrollTop=d.calculatedTargetScrollTop,Z();d.velocity=(T.damping*d.velocity+T.stiffness*d.scrollDifference)/T.mass,d.accumulated+=d.velocity*u,d.scrollTop+=d.accumulated,d.scrollTop!==$&&(d.accumulated=0)}return Z()}return z>Date.now()?(V=d.calculatedTargetScrollTop,Z()):(d.animation=void 0,d.scrollTop<d.calculatedTargetScrollTop?y({animation:Tm(h.current,h.current.resize),ignoreEscapes:P,duration:Math.max(0,z-Date.now())||void 0}):d.isAtBottom)});return ee.then($=>(requestAnimationFrame(()=>{d.animation||(d.lastTick=void 0,d.velocity=0)}),$))},"next");return R.wait!==!0&&(d.animation=void 0),d.animation?.behavior===T?d.animation.promise:Z()},[v,p,d]),b=J.useCallback(()=>{c(!0),v(!1)},[c,v]),x=J.useCallback(({target:R})=>{if(R!==N.current)return;const{scrollTop:O,ignoreScrollToTop:T}=d;let{lastScrollTop:P=O}=d;d.lastScrollTop=O,d.ignoreScrollToTop=void 0,T&&T>O&&(P=T),o(d.isNearBottom),setTimeout(()=>{if(d.resizeDifference||O===T)return;if(p()){c(!0),v(!1);return}const z=O>P,V=O<P;if(d.animation?.ignoreEscapes){d.scrollTop=P;return}V&&(c(!0),v(!1)),z&&c(!1),!d.escapedFromLock&&d.isNearBottom&&v(!0)},1)},[c,v,p,d]),k=J.useCallback(({target:R,deltaY:O})=>{let T=R;for(;!["scroll","auto"].includes(getComputedStyle(T).overflow);){if(!T.parentElement)return;T=T.parentElement}T===N.current&&O<0&&N.current.scrollHeight>N.current.clientHeight&&!d.animation?.ignoreEscapes&&(c(!0),v(!1))},[c,v,d]),N=u5(R=>{N.current?.removeEventListener("scroll",x),N.current?.removeEventListener("wheel",k),R?.addEventListener("scroll",x,{passive:!0}),R?.addEventListener("wheel",k,{passive:!0})},[]),C=u5(R=>{if(d.resizeObserver?.disconnect(),!R)return;let O;d.resizeObserver=new ResizeObserver(([T])=>{const{height:P}=T.contentRect,z=P-(O??P);if(d.resizeDifference=z,d.scrollTop>d.targetScrollTop&&(d.scrollTop=d.targetScrollTop),o(d.isNearBottom),z>=0){const V=Tm(h.current,O?h.current.resize:h.current.initial);y({animation:V,wait:!0,preserveScrollPosition:!0,duration:V==="instant"?void 0:OY})}else d.isNearBottom&&(c(!1),v(!0));O=P,requestAnimationFrame(()=>{setTimeout(()=>{d.resizeDifference===z&&(d.resizeDifference=0)},1)})}),d.resizeObserver?.observe(R)},[]);return{contentRef:C,scrollRef:N,scrollToBottom:y,stopScroll:b,isAtBottom:a||s,isNearBottom:s,escapedFromLock:t,state:d}},"useStickToBottom");function u5(e,t){const r=J.useCallback(a=>(r.current=a,e(a)),t);return r}i(u5,"useRefCallback");const Om=new Map;function Tm(...e){const t={...IY};let r=!1;for(const n of e){if(n==="instant"){r=!0;continue}typeof n=="object"&&(r=!1,t.damping=n.damping??t.damping,t.stiffness=n.stiffness??t.stiffness,t.mass=n.mass??t.mass)}const a=JSON.stringify(t);return Om.has(a)||Om.set(a,Object.freeze(t)),r?"instant":Om.get(a)}i(Tm,"mergeAnimations");function PY(e={}){const{smooth:t=!1}=e,r=J.useRef(!1),a=TY({initial:t?"smooth":"instant",resize:t?"smooth":"instant"}),[n,s]=J.useState({isAtBottom:!0,autoScrollEnabled:!0});J.useEffect(()=>{a.isAtBottom?(r.current=!1,s({isAtBottom:!0,autoScrollEnabled:!0})):s(v=>({...v,isAtBottom:!1,autoScrollEnabled:r.current?!1:v.autoScrollEnabled}))},[a.isAtBottom]);const o=J.useCallback(p=>{const v=p?"instant":t?"smooth":"instant";a.scrollToBottom({animation:v,preserveScrollPosition:!1}),s({isAtBottom:!0,autoScrollEnabled:!0}),r.current=!1},[a.scrollToBottom,t]),h=J.useCallback(()=>{a.isAtBottom||(r.current=!0,a.stopScroll(),s(p=>({...p,autoScrollEnabled:!1})))},[a.isAtBottom,a.stopScroll]);return{scrollRef:a.scrollRef,contentRef:a.contentRef,isAtBottom:n.isAtBottom,autoScrollEnabled:n.autoScrollEnabled,scrollToBottom:i(()=>o(!1),"scrollToBottom"),disableAutoScroll:h,_stickToBottom:a}}i(PY,"useAutoScroll");const DY=i(({className:e,...t})=>j.jsx(QC,{className:Le("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",e),...t}),"ResizablePanelGroup"),f5=WC,LY=i(({withHandle:e,className:t,...r})=>j.jsx(YC,{className:Le("relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90",t),...r,children:e&&j.jsx("div",{className:"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border",children:j.jsx(eR,{className:"h-2.5 w-2.5"})})}),"ResizableHandle"),Hg=J.forwardRef(({mainAction:e,actions:t,variant:r="default",size:a="default",disabled:n,className:s,mainButtonClassName:o,dropdownButtonClassName:h},p)=>{const v=J.useRef(null),[c,d]=J.useState();return J.useImperativeHandle(p,()=>v.current,[]),J.useLayoutEffect(()=>{v.current&&d(v.current.offsetWidth)},[t.length,e.label]),j.jsxs("div",{ref:v,className:Le("flex w-full",s),children:[j.jsxs(et,{type:"button",variant:r,size:a,onClick:e.onClick,disabled:n||e.disabled,className:Le("rounded-r-none flex-1",r==="destructive"?"border-r border-red-700":"border-r-0",o),children:[e.icon&&j.jsx("span",{className:"mr-2",children:e.icon}),e.label]}),j.jsxs(_o,{children:[j.jsx(So,{asChild:!0,children:j.jsxs(et,{type:"button",variant:r,size:a,disabled:n,className:Le("rounded-l-none px-2 flex-shrink-0",h),children:[j.jsx(Ji,{className:"h-4 w-4"}),j.jsx("span",{className:"sr-only",children:"More options"})]})}),j.jsx(Mo,{align:"end",style:{width:c},children:t.map((y,b)=>j.jsxs(J.Fragment,{children:[j.jsxs(Fi,{onClick:y.onClick,disabled:y.disabled,className:Le(y.variant==="destructive"&&"text-destructive focus:text-destructive hover:bg-red-50 dark:hover:bg-red-950/50"),children:[y.icon,y.label]}),b<t.length-1&&j.jsx(Uu,{})]},b))})]})]})});Hg.displayName="SplitButton";const BY=iv,zY=tR,UY=rR,FY=i(({toolPart:e,defaultOpen:t=!1,className:r})=>{const[a,n]=J.useState(t),{state:s,input:o,output:h,toolCallId:p}=e,v=i(()=>{switch(s){case"input-streaming":return j.jsx(kr,{className:"h-4 w-4 animate-spin text-blue-500"});case"input-available":return j.jsx(_a,{className:"h-4 w-4 text-orange-500"});case"output-available":return j.jsx(a_,{className:"h-4 w-4 text-green-500"});case"output-error":return j.jsx(iR,{className:"h-4 w-4 text-red-500"});default:return j.jsx(_a,{className:"text-muted-foreground h-4 w-4"})}},"getStateIcon"),c=i(()=>{const y="px-2 py-1 rounded-full text-xs font-medium";switch(s){case"input-streaming":return j.jsx("span",{className:Le(y,"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400"),children:"Processing"});case"input-available":return j.jsx("span",{className:Le(y,"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400"),children:"Ready"});case"output-available":return j.jsx("span",{className:Le(y,"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400"),children:"Completed"});case"output-error":return j.jsx("span",{className:Le(y,"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"),children:"Error"});default:return j.jsx("span",{className:Le(y,"bg-gray-100 text-gray-700 dark:bg-gray-900/30 dark:text-gray-400"),children:"Pending"})}},"getStateBadge"),d=i(y=>y===null?"null":y===void 0?"undefined":typeof y=="string"?y:typeof y=="object"?JSON.stringify(y,null,2):String(y),"formatValue");return j.jsx("div",{className:Le("border-border mt-3 overflow-hidden rounded-lg border",r),children:j.jsxs(BY,{open:a,onOpenChange:n,children:[j.jsx(zY,{asChild:!0,children:j.jsxs(et,{variant:"ghost",className:"bg-background h-auto w-full justify-between rounded-b-none px-3 py-2 font-normal",children:[j.jsxs("div",{className:"flex items-center gap-2",children:[v(),j.jsx("span",{className:"font-mono text-sm font-medium",children:e.type}),c()]}),j.jsx(Ji,{className:Le("h-4 w-4",a&&"rotate-180")})]})}),j.jsx(UY,{className:Le("border-border border-t","data-[state=closed]:animate-collapsible-up data-[state=open]:animate-collapsible-down overflow-hidden"),children:j.jsxs("div",{className:"bg-background space-y-3 p-3",children:[o&&Object.keys(o).length>0&&j.jsxs("div",{children:[j.jsx("h4",{className:"text-muted-foreground mb-2 text-sm font-medium",children:"Input"}),j.jsx("div",{className:"bg-background rounded border p-2 font-mono text-sm",children:Object.entries(o).map(([y,b])=>j.jsxs("div",{className:"mb-1",children:[j.jsxs("span",{className:"text-muted-foreground",children:[y,":"]})," ",j.jsx("span",{children:d(b)})]},y))})]}),h&&j.jsxs("div",{children:[j.jsx("h4",{className:"text-muted-foreground mb-2 text-sm font-medium",children:"Output"}),j.jsx("div",{className:"bg-background max-h-60 overflow-auto rounded border p-2 font-mono text-sm",children:j.jsx("pre",{className:"whitespace-pre-wrap",children:d(h)})})]}),s==="output-error"&&e.errorText&&j.jsxs("div",{children:[j.jsx("h4",{className:"mb-2 text-sm font-medium text-red-500",children:"Error"}),j.jsx("div",{className:"bg-background rounded border border-red-200 p-2 text-sm dark:border-red-950 dark:bg-red-900/20",children:e.errorText})]}),s==="input-streaming"&&j.jsx("div",{className:"text-muted-foreground text-sm",children:"Processing tool call..."}),p&&j.jsx("div",{className:"text-muted-foreground border-t border-blue-200 pt-2 text-xs",children:j.jsxs("span",{className:"font-mono",children:["Call ID: ",p]})})]})})]})})},"Tool");function $Y({agentId:e,channelId:t,chatType:r}){const[a,n]=J.useState([]),s=J.useRef(new Set),{toast:o}=rr(),h=Yt();J.useEffect(()=>()=>{s.current.forEach(x=>URL.revokeObjectURL(x)),s.current.clear()},[]);const p=J.useCallback(x=>{const R=Array.from(x.target.files||[]).filter(O=>O.type.startsWith("image/")||O.type.startsWith("video/")||O.type.startsWith("audio/")||O.type==="application/pdf"||O.type==="application/msword"||O.type==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"||O.type==="application/vnd.ms-excel"||O.type==="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"||O.type==="application/vnd.ms-powerpoint"||O.type==="application/vnd.openxmlformats-officedocument.presentationml.presentation"||O.type.startsWith("text/")).filter(O=>!a.some(T=>T.file.name===O.name&&T.file.size===O.size&&T.file.lastModified===O.lastModified)).map(O=>({file:O,id:bn(),isUploading:!1}));n(O=>{const T=[...O,...R];return Array.from(new Map(T.map(P=>[`${P.file.name}-${P.file.size}`,P])).values())}),x.target&&(x.target.value="")},[a]),v=J.useCallback(x=>{n(k=>{const N=k.find(C=>C.id===x);return N?.blobUrl&&(URL.revokeObjectURL(N.blobUrl),s.current.delete(N.blobUrl)),k.filter(C=>C.id!==x)})},[]),c=J.useCallback(x=>x.map(N=>{const C=URL.createObjectURL(N.file);return s.current.add(C),N.blobUrl=C,{id:N.id,url:C,title:N.file.name,contentType:Ep(N.file.type),isUploading:!0}}).filter(N=>N.contentType!==void 0),[]),d=J.useCallback(async x=>{if(!x.length)return{uploaded:[],failed:[],blobUrls:[]};const k=x.map(async T=>{try{const P=r===bt.DM&&e?await h.media.uploadAgentMedia(e,{file:T.file,filename:T.file.name}):await h.media.uploadChannelMedia(t,T.file);return{success:!0,media:{id:T.id,url:P.url,title:T.file.name,source:"file_upload",contentType:Ep(T.file.type)}}}catch(P){return qe.error(`Failed to upload ${T.file.name}:`,P),o({title:`Upload Failed: ${T.file.name}`,description:P instanceof Error?P.message:"Upload failed",variant:"destructive"}),{success:!1,file:T,error:P instanceof Error?P.message:"Upload failed"}}}),N=await Promise.allSettled(k),C=[],R=[],O=[];return N.forEach((T,P)=>{T.status==="fulfilled"?T.value.success&&"media"in T.value?C.push(T.value.media):"file"in T.value&&R.push(T.value):R.push({file:x[P],error:T.reason?.message||"Upload failed"})}),x.forEach(T=>{T.blobUrl&&O.push(T.blobUrl)}),{uploaded:C,failed:R,blobUrls:O}},[r,e,t,o]),y=J.useCallback(x=>{x.forEach(k=>{URL.revokeObjectURL(k),s.current.delete(k)})},[]),b=J.useCallback(()=>{a.forEach(x=>{x.blobUrl&&(URL.revokeObjectURL(x.blobUrl),s.current.delete(x.blobUrl))}),n([])},[a]);return{selectedFiles:a,setSelectedFiles:n,handleFileChange:p,removeFile:v,createBlobUrls:c,uploadFiles:d,cleanupBlobUrls:y,clearFiles:b,getContentTypeFromMimeType:Ep}}i($Y,"useFileUpload");function GY({channelId:e,currentUserId:t,contextId:r,chatType:a,allAgents:n,messages:s,onAddMessage:o,onUpdateMessage:h,onDeleteMessage:p,onClearMessages:v,onInputDisabledChange:c}){const d=ui.getInstance(),y=J.useRef(null),b=J.useRef(null),x=J.useCallback(async(k,N,C,R,O,T,P)=>{const z=P||e;if(!z){qe.error("[useSocketChat] Cannot send message: no channel ID available");return}const V={...T,channelType:a,...a===bt.DM&&{isDm:!0,targetUserId:r}};await d.sendMessage(k,z,N,C,R,O,V)},[e,d,a,r]);return J.useEffect(()=>{if(!e||!t){b.current&&(qe.info(`[useSocketChat] useEffect: channelId is now null/undefined, resetting joinedChannelRef from ${b.current}`),b.current=null);return}d.initialize(t),e!==b.current?(qe.info(`[useSocketChat] useEffect: Joining channel ${e}. Previous joinedChannelRef: ${b.current}`),d.joinChannel(e),b.current=e):qe.info(`[useSocketChat] useEffect: Channel ${e} already marked as joined by this instance. Skipping joinChannel call.`);const k=i(u=>{if(qe.info("[useSocketChat] Received raw messageBroadcast data:",JSON.stringify(u)),(u.channelId||u.roomId)!==e)return;const l=u.senderId===t,m=a===bt.DM?u.senderId===r:n.some(M=>M.id===u.senderId);!l&&m&&c(!1);const w=u.clientMessageId;if(w&&l)h(w,{id:u.id||bn(),isLoading:!1,createdAt:typeof u.createdAt=="number"?u.createdAt:Date.parse(u.createdAt),text:u.text,attachments:u.attachments,isAgent:!1});else{const M={id:u.id||bn(),text:u.text,name:u.senderName,senderId:u.senderId,isAgent:m,createdAt:typeof u.createdAt=="number"?u.createdAt:Date.parse(u.createdAt),channelId:u.channelId||u.roomId,serverId:u.serverId,source:u.source,attachments:u.attachments,thought:u.thought,actions:u.actions,isLoading:!1,prompt:u.prompt,rawMessage:u.rawMessage};s.some(S=>S.id===u.id)||(qe.info("[useSocketChat] Adding new UiMessage:",JSON.stringify(M)),o(M),m&&M.id?y.current=M.id:y.current=null)}},"handleMessageBroadcasting"),N=i(u=>{(u.channelId||u.roomId)===e&&c(!1)},"handleMessageComplete"),C=i(u=>{(u.channelId||u.roomId)===e&&(u.action==="disable_input"?c(!0):u.action==="enable_input"&&c(!1))},"handleControlMessage"),R=i(u=>{(u.channelId||u.roomId)===e&&u.messageId&&p(u.messageId)},"handleMessageDeleted"),O=i(u=>{(u.channelId||u.roomId)===e&&v()},"handleChannelCleared"),T=i(u=>{(u.channelId||u.roomId)===e&&v()},"handleChannelDeleted"),P=d.evtMessageBroadcast.attach(u=>(u.channelId||u.roomId)===e,k),z=d.evtMessageComplete.attach(u=>(u.channelId||u.roomId)===e,N),V=d.evtControlMessage.attach(u=>(u.channelId||u.roomId)===e,C),Z=d.evtMessageDeleted.attach(u=>(u.channelId||u.roomId)===e,R),ee=d.evtChannelCleared.attach(u=>(u.channelId||u.roomId)===e,O),$=d.evtChannelDeleted.attach(u=>(u.channelId||u.roomId)===e,T);return()=>{e&&(qe.info(`[useSocketChat] useEffect cleanup: Leaving channel ${e}. Current joinedChannelRef: ${b.current}`),d.leaveChannel(e),e===b.current&&(b.current=null,qe.info(`[useSocketChat] useEffect cleanup: Reset joinedChannelRef for ${e}`))),F([P,z,V,Z,ee,$])};function F(u){u.forEach(g=>g?.detach())}},[e,t,d]),{sendMessage:x,animatedMessageId:y.current}}i(GY,"useSocketChat");const VY=new Set(["jpg","jpeg","png","gif","webp","svg","bmp","ico","tiff","avif"]),ZY=new Set(["mp4","webm","mov","avi","mkv","flv","wmv","m4v","ogv"]),HY={youtube:{patterns:[/(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/watch\?v=|youtu\.be\/)([a-zA-Z0-9_-]{11})/,/(?:https?:\/\/)?(?:www\.)?youtube\.com\/embed\/([a-zA-Z0-9_-]{11})/],getEmbedUrl:i(e=>`https://www.youtube.com/embed/${e}`,"getEmbedUrl")},vimeo:{patterns:[/(?:https?:\/\/)?(?:www\.)?vimeo\.com\/(\d+)/],getEmbedUrl:i(e=>`https://player.vimeo.com/video/${e}`,"getEmbedUrl")}};function wI(e){try{return new URL(e).pathname.split(".").pop()?.toLowerCase()||""}catch{return""}}i(wI,"getFileExtension");function JY(e){const t=wI(e);return VY.has(t)}i(JY,"isImageUrl");function qY(e){const t=wI(e);return ZY.has(t)}i(qY,"isVideoFileUrl");function xI(e){for(const[t,r]of Object.entries(HY))for(const a of r.patterns){const n=e.match(a);if(n&&n[1])return{platform:t,id:n[1],embedUrl:r.getEmbedUrl(n[1])}}return null}i(xI,"getVideoPlatformInfo");function _I(e){if(!e)return[];const t=/(https?:\/\/[^\s]+)/g;return(e.match(t)||[]).map(a=>{const n=a.replace(/[.,!?;)]*$/,"");if(JY(n))return{url:n,type:"image",isEmbed:!1};if(qY(n))return{url:n,type:"video",isEmbed:!1};const s=xI(n);return s?{url:s.embedUrl,type:"video",isEmbed:!0}:{url:n,type:"unknown",isEmbed:!1}}).filter(a=>a.type!=="unknown")}i(_I,"parseMediaFromText");function KY(e,t){let r=e;return t.forEach(a=>{if(a.isEmbed){const n=/(https?:\/\/[^\s]+)/g,s=e.match(n)||[];for(const o of s){const h=o.replace(/[.,!?;)]*$/,""),p=xI(h);if(p&&p.embedUrl===a.url){r=r.replace(o,"").trim();break}}}else r=r.replace(a.url,"").trim()}),r}i(KY,"removeMediaUrlsFromText");const mu=15;function SI(e){return(e.includes("TEXT")||e.includes("OBJECT"))&&!e.includes("EMBEDDING")&&!e.includes("TRANSCRIPTION")?"LLM":e.includes("EMBEDDING")?"Embedding":e.includes("TRANSCRIPTION")?"Transcription":e.includes("IMAGE")?"Image":!e.includes("TEXT")&&!e.includes("IMAGE")&&!e.includes("EMBEDDING")&&!e.includes("TRANSCRIPTION")?"Other":"Unknown"}i(SI,"getModelUsageType");function XY(e){if(!e)return"Unknown date";const t=new Date(e),r=new Date,a=(r.getTime()-t.getTime())/(1e3*60*60);return a<1?`${Math.floor((r.getTime()-t.getTime())/6e4)}m ago`:a<24?`${Math.floor(a)}h ago`:a<168?t.toLocaleDateString([],{weekday:"short",hour:"2-digit",minute:"2-digit"}):t.toLocaleDateString([],{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}i(XY,"formatDate");function WY(e=""){return e==="ACTION"?nv:e.includes("TEXT_EMBEDDING")?Bu:e.includes("TRANSCRIPTION")?ma:e.includes("TEXT")||e.includes("OBJECT")?av:e.includes("IMAGE")?nR:y_}i(WY,"getModelIcon");function QY(e){if(!e)return null;const{prompt_tokens:t,completion_tokens:r,total_tokens:a}=e;return a?{prompt:t||0,completion:r||0,total:a}:null}i(QY,"formatTokenUsage");function c5(e,t=100){return e.length<=t?e:e.substring(0,t)+"..."}i(c5,"truncateText");function gu(e){navigator.clipboard.writeText(e).catch(console.error)}i(gu,"copyToClipboard");function YY(e){const t={};for(const r of e){const a=r.createdAt||r.timestamp||0,s=new Date(a).toLocaleDateString();t[s]||(t[s]=[]),t[s].push(r)}return t}i(YY,"groupActionsByDate");function eee({action:e,onDelete:t}){const[r,a]=J.useState(!1),[n,s]=J.useState(!1),[o,h]=J.useState(!1),p=e.body?.modelType||"",v=e.body?.modelKey||"",c=e.type==="action",d=e.body?.action||"",y=WY(c?"ACTION":p),b=c?"Action":SI(p),x=QY(e.body?.response?.usage||e.body?.usage),k=e.body?.prompts,N=i(()=>{const O=e.body?.params;if(!O&&!k)return null;if(p.includes("TRANSCRIPTION")&&Array.isArray(O))return j.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[j.jsx(ma,{className:"h-3 w-3"}),j.jsx("span",{children:"Audio input data"})]});const{prompt:T,...P}=O||{};return j.jsxs("div",{className:"space-y-4",children:[k&&Array.isArray(k)&&k.length>0&&j.jsxs("div",{className:"space-y-2",children:[j.jsx("div",{className:"flex items-center justify-between",children:j.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Prompts (",k.length,")"]})}),j.jsx("div",{className:"space-y-3",children:k.map((z,V)=>j.jsxs("div",{className:"space-y-1",children:[j.jsxs("div",{className:"flex items-center justify-between",children:[j.jsxs("span",{className:"text-xs text-muted-foreground",children:[z.modelType||"Prompt"," #",V+1]}),j.jsx(et,{variant:"ghost",size:"sm",onClick:i(()=>gu(z.prompt),"onClick"),className:"h-5 px-1 text-xs",title:"Copy prompt",children:j.jsx(Ui,{className:"h-3 w-3"})})]}),j.jsx("div",{className:"bg-muted/30 rounded-md p-2",children:j.jsx("pre",{className:"text-xs font-mono whitespace-pre-wrap overflow-x-auto",children:z.prompt})})]},V))})]}),!k&&T&&j.jsxs("div",{className:"space-y-2",children:[j.jsxs("div",{className:"flex items-center justify-between",children:[j.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Prompt"}),j.jsxs(et,{variant:"ghost",size:"sm",onClick:i(()=>gu(T),"onClick"),className:"h-6 px-2 text-xs",title:"Copy prompt",children:[j.jsx(Ui,{className:"h-3 w-3 mr-1"}),"Copy"]})]}),j.jsx("div",{className:"bg-muted/30 rounded-md p-3 relative",children:j.jsx("pre",{className:"text-xs font-mono whitespace-pre-wrap overflow-x-auto",children:typeof T=="string"?T:JSON.stringify(T,null,2)})})]}),Object.keys(P).length>0&&j.jsxs("div",{className:"space-y-2",children:[j.jsxs("div",{className:"flex items-center justify-between",children:[j.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Other Parameters"}),JSON.stringify(P,null,2).length>200?j.jsx(et,{variant:"ghost",size:"sm",onClick:i(()=>s(!n),"onClick"),className:"h-6 px-2 text-xs",children:n?"Show less":"Show more"}):null]}),j.jsxs("div",{className:"bg-muted/30 rounded-md p-3 relative group",children:[j.jsx("pre",{className:"text-xs font-mono whitespace-pre-wrap overflow-x-auto",children:(()=>{const z=JSON.stringify(P,null,2),V=z.length>200;return n||!V?z:c5(z,200)})()}),j.jsx(et,{variant:"ghost",size:"sm",onClick:i(()=>gu(JSON.stringify(P,null,2)),"onClick"),className:"absolute top-1 right-1 h-6 w-6 p-0 opacity-0 group-hover:opacity-100 transition-opacity",title:"Copy parameters",children:j.jsx(Ui,{className:"h-3 w-3"})})]})]})]})},"renderParams"),C=i(()=>{const O=e.body?.response;if(!O)return null;if(O==="[array]")return j.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[j.jsx(Ln,{className:"h-3 w-3"}),j.jsx("span",{children:"Array response data"})]});const T=typeof O=="object"?JSON.stringify(O,null,2):String(O),P=T.length>300;return j.jsxs("div",{className:"space-y-2",children:[j.jsxs("div",{className:"flex items-center justify-between",children:[j.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Response"}),P&&j.jsx(et,{variant:"ghost",size:"sm",onClick:i(()=>h(!o),"onClick"),className:"h-6 px-2 text-xs",children:o?"Show less":"Show more"})]}),j.jsxs("div",{className:"bg-muted/30 rounded-md p-3 relative group max-h-64 overflow-y-auto",children:[j.jsx("pre",{className:"text-xs font-mono whitespace-pre-wrap overflow-x-auto",children:o||!P?T:c5(T,300)}),j.jsx(et,{variant:"ghost",size:"sm",onClick:i(()=>gu(T),"onClick"),className:"absolute top-1 right-1 h-6 w-6 p-0 opacity-0 group-hover:opacity-100 transition-opacity",title:"Copy response",children:j.jsx(Ui,{className:"h-3 w-3"})})]})]})},"renderResponse"),R=e.body?.params||e.body?.response||e.message||e.details;return j.jsxs("div",{className:"border rounded-lg bg-card hover:shadow-sm transition-all duration-200 group",children:[j.jsx("div",{className:"p-4 pb-3",children:j.jsxs("div",{className:"flex items-start justify-between",children:[j.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[j.jsx("div",{className:"p-2 rounded-lg bg-muted",children:j.jsx(y,{className:"h-4 w-4 text-muted-foreground"})}),j.jsxs("div",{className:"flex-1 min-w-0",children:[j.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[j.jsx("h4",{className:"font-semibold text-sm",children:c?d:b}),j.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-muted text-muted-foreground",children:c?"Action":p}),e.body?.promptCount&&e.body.promptCount>1&&j.jsxs(xi,{variant:"secondary",className:"text-xs px-1.5",children:[e.body.promptCount," prompts"]})]}),j.jsxs("div",{className:"space-y-1",children:[(v||c)&&j.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[j.jsx(nv,{className:"h-3 w-3"}),j.jsx("code",{className:"font-mono",children:c?`Action ID: ${e.body?.actionId?.slice(-8)||"N/A"}`:v})]}),j.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[j.jsx(Mf,{className:"h-3 w-3"}),j.jsx("span",{children:XY(e.createdAt||e.timestamp)}),e.id&&j.jsxs(j.Fragment,{children:[j.jsx("span",{children:""}),j.jsx("code",{className:"text-[10px] bg-muted px-1 rounded",children:e.id.slice(-8)})]})]})]}),x&&j.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs",children:[j.jsxs("div",{className:"flex items-center gap-1",children:[j.jsx("span",{className:"text-muted-foreground",children:"Tokens:"}),j.jsx("span",{className:"font-mono",children:x.total.toLocaleString()})]}),x.prompt>0&&j.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[j.jsx("span",{children:"In:"}),j.jsx("span",{className:"font-mono",children:x.prompt.toLocaleString()})]}),x.completion>0&&j.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[j.jsx("span",{children:"Out:"}),j.jsx("span",{className:"font-mono",children:x.completion.toLocaleString()})]})]})]})]}),j.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[R&&j.jsx(et,{variant:"ghost",size:"sm",onClick:i(()=>a(!r),"onClick"),className:"h-8 w-8 p-0",title:r?"Collapse details":"Expand details",children:r?j.jsx(V5,{className:"h-3 w-3"}):j.jsx(Ji,{className:"h-3 w-3"})}),e.id&&t&&j.jsx(et,{variant:"ghost",size:"sm",onClick:i(()=>{typeof e.id=="string"&&t(e.id)},"onClick"),className:"h-8 w-8 p-0 text-destructive hover:text-destructive",title:"Delete log entry",children:j.jsx(xa,{className:"h-3 w-3"})})]})]})}),r&&R&&j.jsxs(j.Fragment,{children:[j.jsx(ei,{}),j.jsxs("div",{className:"p-4 pt-3 space-y-4",children:[N(),C(),(e.message||e.details)&&j.jsxs("div",{className:"space-y-2",children:[j.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Additional Info"}),j.jsxs("div",{className:"bg-muted/30 rounded-md p-3",children:[e.message&&j.jsxs("div",{className:"text-xs mb-2",children:[j.jsx("span",{className:"font-medium text-muted-foreground",children:"Message: "}),j.jsx("span",{children:e.message})]}),e.details&&j.jsxs("div",{className:"text-xs",children:[j.jsx("span",{className:"font-medium text-muted-foreground",children:"Details: "}),j.jsx("span",{children:e.details})]})]})]})]})]}),!r&&R&&j.jsxs(j.Fragment,{children:[j.jsx(ei,{}),j.jsx("div",{className:"p-4 pt-3",children:j.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[j.jsx(fi,{className:"h-3 w-3"}),j.jsx("span",{children:(()=>{const O=[];return e.body?.promptCount&&e.body.promptCount>0&&O.push(`${e.body.promptCount} prompt${e.body.promptCount>1?"s":""}`),e.body?.params&&O.push("parameters"),e.body?.response&&O.push("response data"),O.length>0?`Contains ${O.join(" and ")}`:"Contains additional data"})()}),j.jsx(et,{variant:"ghost",size:"sm",onClick:i(()=>a(!0),"onClick"),className:"h-5 px-2 text-xs ml-auto",children:"View details"})]})})]})]})}i(eee,"ActionCard");function tee({loadingMore:e,onLoadMore:t}){return j.jsx("div",{className:"flex justify-center py-6",children:e?j.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[j.jsx(go,{className:"h-4 w-4 animate-spin"}),j.jsx("span",{className:"text-sm",children:"Loading more actions..."})]}):j.jsx(et,{variant:"outline",onClick:t,className:"px-8",children:"Load More"})})}i(tee,"LoadingIndicator");function ree({selectedType:e,searchQuery:t}){return j.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 text-center p-8",children:[j.jsx(Ln,{className:"h-16 w-16 text-muted-foreground/30 mb-4"}),j.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Actions Found"}),j.jsx("p",{className:"text-muted-foreground max-w-md mb-4",children:t?`No actions match "${t}". Try adjusting your search or filter.`:e==="all"?"Actions will appear here once the agent has performed operations.":`No ${e} actions found.`}),t&&j.jsx(et,{variant:"outline",onClick:i(()=>{},"onClick"),children:"Clear Search"})]})}i(ree,"EmptyState");function iee({agentId:e,roomId:t}){const[r,a]=J.useState("all"),[n,s]=J.useState(""),[o,h]=J.useState(mu),[p,v]=J.useState(!1),c=J.useRef(null),d=["embedding","text_embedding"],{data:y=[],isLoading:b,error:x}=XK(e,t,d),{mutate:k}=WK(),{confirm:N,isOpen:C,onOpenChange:R,onConfirm:O,options:T}=Ba(),P=y.filter(u=>{if(r!=="all"){const g=u.body?.modelType||"",l=SI(g),m=u.type==="action";switch(r){case"llm":if(l!=="LLM"&&!m)return!1;break;case"transcription":if(l!=="Transcription")return!1;break;case"image":if(l!=="Image")return!1;break;case"other":if(l!=="Other"&&l!=="Unknown"&&!m)return!1;break}}if(n.trim()){const g=n.toLowerCase();return[u.body?.modelType,u.body?.modelKey,u.id,u.message,JSON.stringify(u.body?.params),JSON.stringify(u.body?.response)].filter(Boolean).join(" ").toLowerCase().includes(g)}return!0}),z=J.useCallback(()=>{if(!c.current||p||o>=P.length)return;const{scrollTop:u,scrollHeight:g,clientHeight:l}=c.current;u+l>=g-200&&(v(!0),setTimeout(()=>{h(w=>Math.min(w+mu,P.length)),v(!1)},500))},[p,o,P.length]);J.useEffect(()=>{h(mu)},[r,n]),J.useEffect(()=>{const u=c.current;if(u)return u.addEventListener("scroll",z),()=>u.removeEventListener("scroll",z)},[z]);const V=P.slice(0,o),Z=o<P.length,ee=YY(V),$=i(u=>{N({title:"Delete Log Entry",description:"Are you sure you want to permanently delete this log entry? This action cannot be undone.",confirmText:"Delete",variant:"destructive"},()=>{k({agentId:e,logId:u})})},"handleDelete"),F=i(()=>{h(u=>u+mu)},"handleLoadMore");return b&&y.length===0?j.jsx("div",{className:"flex flex-col h-[calc(100vh-100px)] min-h-[400px] w-full",children:j.jsx("div",{className:"flex items-center justify-center flex-1",children:j.jsxs("div",{className:"flex flex-col items-center gap-4",children:[j.jsx(go,{className:"h-8 w-8 animate-spin text-muted-foreground"}),j.jsxs("div",{className:"text-center",children:[j.jsx("h3",{className:"font-medium",children:"Loading Actions"}),j.jsx("p",{className:"text-sm text-muted-foreground",children:"Fetching agent action history..."})]})]})})}):x?j.jsx("div",{className:"flex flex-col h-[calc(100vh-100px)] min-h-[400px] w-full",children:j.jsx("div",{className:"flex items-center justify-center flex-1",children:j.jsxs("div",{className:"text-center",children:[j.jsx(Ln,{className:"h-12 w-12 text-destructive mx-auto mb-4"}),j.jsx("h3",{className:"font-medium text-destructive",children:"Failed to Load Actions"}),j.jsx("p",{className:"text-sm text-muted-foreground",children:"There was an error loading the agent actions."})]})})}):j.jsxs(j.Fragment,{children:[j.jsxs("div",{className:"flex flex-col h-[calc(100vh-100px)] min-h-[400px] w-full",children:[j.jsxs("div",{className:"flex justify-between items-center mb-4 px-4 pt-4 flex-none border-b pb-3",children:[j.jsxs("div",{className:"flex items-center gap-2",children:[j.jsx("h3",{className:"text-lg font-medium",children:" Actions"}),!b&&j.jsx("span",{className:"ml-2 text-xs px-2 py-1 rounded bg-muted text-muted-foreground",children:P.length})]}),j.jsxs("div",{className:"flex items-center gap-2",children:[j.jsxs("div",{className:"relative",children:[j.jsx(Ko,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),j.jsx(hr,{placeholder:"Search actions...",value:n,onChange:i(u=>s(u.target.value),"onChange"),className:"pl-10 w-64"})]}),j.jsxs(xn,{value:r,onValueChange:i(u=>a(u),"onValueChange"),children:[j.jsx(Gi,{className:"w-40",children:j.jsx(_n,{placeholder:"Filter actions"})}),j.jsxs(Vi,{children:[j.jsx(Qt,{value:"all",children:"All Actions"}),j.jsx(Qt,{value:"llm",children:"LLM Calls"}),j.jsx(Qt,{value:"transcription",children:"Transcriptions"}),j.jsx(Qt,{value:"image",children:"Image Operations"}),j.jsx(Qt,{value:"other",children:"Other"})]})]})]})]}),j.jsx("div",{ref:c,className:"flex-1 overflow-y-auto px-4",children:P.length===0?j.jsx(ree,{selectedType:r,searchQuery:n}):j.jsxs("div",{className:"space-y-4",children:[Object.entries(ee).map(([u,g])=>j.jsxs("div",{className:"space-y-3",children:[j.jsxs("div",{className:"flex items-center gap-3 py-2",children:[j.jsx(ei,{className:"flex-1"}),j.jsx("span",{className:"text-sm font-medium text-muted-foreground px-2",children:u}),j.jsx(ei,{className:"flex-1"})]}),j.jsx("div",{className:"space-y-3",children:g.map((l,m)=>j.jsx(eee,{action:l,onDelete:$},l.id||m))})]},u)),Z&&j.jsx(tee,{loadingMore:p,onLoadMore:F})]})})]}),j.jsx(La,{open:C,onOpenChange:R,title:T?.title||"",description:T?.description||"",confirmText:T?.confirmText,cancelText:T?.cancelText,variant:T?.variant,onConfirm:O})]})}i(iee,"AgentActionViewer");function nee({isOpen:e,onClose:t,memory:r,agentId:a}){const{toast:n}=rr(),{mutate:s,isPending:o}=YK(),{mutate:h,isPending:p}=QK(),[v,c]=J.useState(""),[d,y]=J.useState(!0),[b,x]=J.useState(!1),[k,N]=J.useState(!1),C=J.useRef(null),R=o||p,O=JSON.stringify(r.content,null,2),{confirm:T,isOpen:P,onOpenChange:z,onConfirm:V,options:Z}=Ba();J.useEffect(()=>{e&&(c(O),y(!0),N(!1),x(!1),setTimeout(()=>{C.current?.focus()},100))},[e,O]),J.useEffect(()=>{N(v!==O)},[v,O]),J.useEffect(()=>{if(!v.trim()){y(!1);return}try{JSON.parse(v),y(!0)}catch{y(!1)}},[v]),J.useEffect(()=>{const w=i(M=>{M.key==="Escape"&&e&&(k?T({title:"Discard Unsaved Changes?",description:"You have unsaved changes. Are you sure you want to close without saving?",confirmText:"Discard",variant:"destructive"},()=>{t()}):t())},"handleEscape");return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[e,k,t]);const ee=J.useCallback(()=>{if(!v.trim()){n({title:"Error",description:"Memory content cannot be empty",variant:"destructive"});return}if(!d){n({title:"Invalid JSON",description:"Please fix JSON syntax errors before saving",variant:"destructive"});return}try{const w=JSON.parse(v);s({agentId:a,memoryId:r.id,memoryData:{content:w}},{onSuccess:i(()=>{t(),n({title:"Memory Updated",description:"The memory content has been successfully updated"})},"onSuccess"),onError:i(M=>{n({title:"Update Failed",description:M.message||"Failed to update memory",variant:"destructive"})},"onError")})}catch{n({title:"Invalid JSON",description:"Please enter valid JSON format",variant:"destructive"})}},[v,d,s,a,r.id,t,n]),$=J.useCallback(()=>{T({title:"Delete Memory",description:"Are you sure you want to delete this memory? This action cannot be undone.",confirmText:"Delete",variant:"destructive"},()=>{h({agentId:a,memoryId:r.id},{onSuccess:i(()=>{t(),n({title:"Memory Deleted",description:"The memory has been successfully removed"})},"onSuccess"),onError:i(w=>{n({title:"Delete Failed",description:w.message||"Failed to delete memory",variant:"destructive"})},"onError")})})},[h,a,r.id,t,n]),F=J.useCallback(()=>{try{const w=JSON.parse(v);c(JSON.stringify(w,null,2)),n({title:"Formatted",description:"JSON has been formatted"})}catch{n({title:"Format Error",description:"Cannot format invalid JSON",variant:"destructive"})}},[v,n]),u=J.useCallback(()=>{T({title:"Reset Changes",description:"Reset to original content? All unsaved changes will be lost.",confirmText:"Reset",variant:"destructive"},()=>{c(O)})},[O]),g=J.useCallback(async()=>{try{await navigator.clipboard.writeText(v),n({title:"Copied",description:"Content copied to clipboard"})}catch{n({title:"Copy Failed",description:"Failed to copy to clipboard",variant:"destructive"})}},[v,n]),l=i(w=>new Date(w).toLocaleString(),"formatTimestamp"),m=i(w=>{w.target===w.currentTarget&&(k?T({title:"Discard Unsaved Changes?",description:"You have unsaved changes. Are you sure you want to close without saving?",confirmText:"Discard",variant:"destructive"},()=>{t()}):t())},"handleOverlayClick");return e?j.jsxs(j.Fragment,{children:[j.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",onClick:m,role:"dialog","aria-modal":"true","aria-labelledby":"memory-edit-title",children:j.jsxs(Wi,{className:"w-full max-w-4xl h-[85vh] max-h-[800px] flex flex-col",onClick:i(w=>w.stopPropagation(),"onClick"),children:[j.jsxs(Nc,{className:"flex flex-row items-center justify-between space-y-0 pb-2 flex-shrink-0",children:[j.jsxs("div",{className:"flex items-center gap-2",children:[j.jsx(ay,{id:"memory-edit-title",className:"text-xl font-semibold",children:"Edit Memory Content"}),k&&j.jsx("span",{className:"text-xs px-2 py-1 rounded bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200",children:"Unsaved changes"})]}),j.jsx(et,{variant:"ghost",size:"sm",onClick:t,"aria-label":"Close dialog",children:j.jsx(Fr,{className:"h-4 w-4"})})]}),j.jsx(ei,{}),j.jsxs(za,{className:"pt-4 flex-1 overflow-hidden flex flex-col",children:[j.jsxs("div",{className:"mb-4 flex items-start bg-amber-50 dark:bg-amber-950/50 border border-amber-200 dark:border-amber-800 rounded-md p-3",children:[j.jsx($m,{className:"h-4 w-4 text-amber-600 dark:text-amber-400 mr-2 mt-0.5 flex-shrink-0"}),j.jsxs("div",{className:"text-sm text-amber-800 dark:text-amber-200",children:[j.jsx("p",{className:"font-medium mb-1",children:"Editing Raw Memory Content"}),j.jsx("p",{children:"Changes may affect agent behavior. Ensure JSON format is valid before saving."})]})]}),j.jsxs("div",{className:"mb-4 grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[j.jsxs("div",{className:"space-y-1",children:[j.jsxs("div",{className:"flex items-center gap-2",children:[j.jsx("span",{className:"text-muted-foreground",children:"ID:"}),j.jsx("code",{className:"text-xs bg-muted px-1 rounded",children:r.id})]}),j.jsxs("div",{className:"flex items-center gap-2",children:[j.jsx("span",{className:"text-muted-foreground",children:"Created:"}),j.jsx("span",{children:l(r.createdAt||0)})]})]}),j.jsxs("div",{className:"space-y-1",children:[j.jsxs("div",{className:"flex items-center gap-2",children:[j.jsx("span",{className:"text-muted-foreground",children:"Room:"}),j.jsx("code",{className:"text-xs bg-muted px-1 rounded",children:r.roomId})]}),j.jsxs("div",{className:"flex items-center gap-2",children:[j.jsx("span",{className:"text-muted-foreground",children:"Type:"}),j.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${r.entityId===a?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-white-100 text-white dark:bg-white-800 dark:text-white"}`,children:r.entityId===a?"Agent Message":"User Message"})]})]})]}),j.jsxs("div",{className:"flex items-center justify-between mb-2",children:[j.jsxs("div",{className:"flex items-center gap-2",children:[j.jsx("label",{htmlFor:"memory-content",className:"text-sm font-medium",children:"Memory Content"}),j.jsxs("div",{className:"flex items-center gap-1",children:[d?j.jsx(Sn,{className:"h-3 w-3 text-green-500"}):j.jsx($m,{className:"h-3 w-3 text-red-500"}),j.jsx("span",{className:`text-xs ${d?"text-green-600":"text-red-600"}`,children:d?"Valid JSON":"Invalid JSON"})]})]}),j.jsxs("div",{className:"flex items-center gap-1",children:[j.jsx(et,{variant:"outline",size:"sm",onClick:i(()=>x(!b),"onClick"),disabled:R,title:b?"Switch to edit mode":"Switch to preview mode",children:b?j.jsx(mn,{className:"h-3 w-3"}):j.jsx(zi,{className:"h-3 w-3"})}),j.jsx(et,{variant:"outline",size:"sm",onClick:g,disabled:R,title:"Copy to clipboard",children:j.jsx(Ui,{className:"h-3 w-3"})}),j.jsx(et,{variant:"outline",size:"sm",onClick:F,disabled:R||!d,title:"Format JSON",children:"Format"}),j.jsx(et,{variant:"outline",size:"sm",onClick:u,disabled:R||!k,title:"Reset to original",children:j.jsx(t_,{className:"h-3 w-3"})})]})]}),j.jsxs("div",{className:"flex-1 min-h-0 flex flex-col",children:[b?j.jsx("div",{className:"flex-1 border rounded-md p-3 bg-muted/50 overflow-auto",children:j.jsx("pre",{className:"text-sm whitespace-pre-wrap",children:d?JSON.stringify(JSON.parse(v),null,2):v})}):j.jsx(Wo,{ref:C,id:"memory-content",value:v,onChange:i(w=>c(w.target.value),"onChange"),className:`flex-1 resize-none font-mono text-sm min-h-[300px] ${d?"":"border-red-300 focus:border-red-500"}`,placeholder:"Memory content in JSON format...",disabled:R,"aria-describedby":"json-help"}),j.jsx("p",{id:"json-help",className:"text-xs text-muted-foreground mt-2 flex-shrink-0",children:"Edit the JSON directly. Use Ctrl+A to select all, Ctrl+Z to undo."})]})]}),j.jsxs(Ic,{className:"flex justify-between flex-shrink-0",children:[j.jsxs(et,{variant:"destructive",onClick:$,disabled:R,children:[j.jsx(qo,{className:"mr-2 h-4 w-4"}),"Delete Memory"]}),j.jsxs("div",{className:"flex gap-2",children:[j.jsx(et,{variant:"outline",onClick:t,disabled:R,children:"Cancel"}),j.jsxs(et,{onClick:ee,disabled:R||!d||!k,children:[j.jsx(r_,{className:"mr-2 h-4 w-4"}),o?"Saving...":"Save Changes"]})]})]})]})}),j.jsx(La,{open:P,onOpenChange:z,title:Z?.title||"",description:Z?.description||"",confirmText:Z?.confirmText,cancelText:Z?.cancelText,variant:Z?.variant,onConfirm:V})]}):null}i(nee,"MemoryEditOverlay");const vu=15;function aee({agentId:e,agentName:t,channelId:r}){const[a,n]=J.useState("all"),[s,o]=J.useState(""),[h,p]=J.useState(null),[v,c]=J.useState(vu),[d,y]=J.useState(!1),b=J.useRef(null),{data:x}=ty(),k=a==="facts"?void 0:"messages",N=a==="facts"||a==="all"?"facts":void 0,C=a==="currentChat"&&r?r:void 0,{data:R=[],isLoading:O,error:T}=s8(e,k,C),{data:P=[],isLoading:z,error:V}=s8(e,N,C),Z=[...R,...P],ee=O||z,$=T||V,F=Z.filter(E=>{if(a!=="all"&&a!=="currentChat"){if(a==="facts")return!0;if(a==="messagesSent"&&E.entityId!==E.agentId||a==="messagesReceived"&&E.entityId===E.agentId)return!1}if(s.trim()){const I=s.toLowerCase(),D=E.content;return[D?.text,D?.thought,E.id,E.metadata].filter(Boolean).join(" ").toLowerCase().includes(I)}return!0}),u=J.useCallback(()=>{if(!b.current||d||v>=F.length)return;const{scrollTop:E,scrollHeight:I,clientHeight:D}=b.current;E+D>=I-200&&(y(!0),setTimeout(()=>{c(U=>Math.min(U+vu,F.length)),y(!1)},500))},[d,v,F.length]);J.useEffect(()=>{c(vu)},[a,s]),J.useEffect(()=>{const E=b.current;if(E)return E.addEventListener("scroll",u),()=>E.removeEventListener("scroll",u)},[u]);const g=i(E=>{const I=new Date(E),L=(new Date().getTime()-I.getTime())/(1e3*60*60);return L<24?I.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):L<168?I.toLocaleDateString([],{weekday:"short",hour:"2-digit",minute:"2-digit"}):I.toLocaleDateString([],{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},"formatDate"),l=i((E,I)=>I?.thought?Bu:E.entityId===E.agentId?av:w_,"getMemoryIcon"),m=i(async E=>{try{await navigator.clipboard.writeText(E)}catch(I){console.error("Failed to copy:",I)}},"copyToClipboard"),w=i(E=>{const I={};for(const D of E){const U=new Date(D.createdAt||0).toLocaleDateString();I[U]||(I[U]=[]),I[U].push(D)}return I},"groupMessagesByDate"),M=F.slice(0,v),A=v<F.length,S=w(M);if(ee&&Z.length===0)return j.jsx("div",{className:"flex flex-col h-[calc(100vh-100px)] min-h-[400px] w-full",children:j.jsx("div",{className:"flex items-center justify-center flex-1",children:j.jsxs("div",{className:"flex flex-col items-center gap-4",children:[j.jsx(go,{className:"h-8 w-8 animate-spin text-muted-foreground"}),j.jsxs("div",{className:"text-center",children:[j.jsx("h3",{className:"font-medium",children:"Loading Memories"}),j.jsx("p",{className:"text-sm text-muted-foreground",children:"Fetching agent conversation history..."})]})]})})});if($)return j.jsx("div",{className:"flex flex-col h-[calc(100vh-100px)] min-h-[400px] w-full",children:j.jsx("div",{className:"flex items-center justify-center flex-1",children:j.jsxs("div",{className:"text-center",children:[j.jsx(Ln,{className:"h-12 w-12 text-destructive mx-auto mb-4"}),j.jsx("h3",{className:"font-medium text-destructive",children:"Failed to Load Memories"}),j.jsx("p",{className:"text-sm text-muted-foreground",children:"There was an error loading the agent memories."})]})})});const f=i(()=>j.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 text-center p-8",children:[j.jsx(Ln,{className:"h-16 w-16 text-muted-foreground/30 mb-4"}),j.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Memories Found"}),j.jsx("p",{className:"text-muted-foreground max-w-md mb-4",children:s?`No memories match "${s}". Try adjusting your search or filter.`:"This agent hasn't created any memories yet. Memories will appear here as the agent interacts."}),s&&j.jsx(et,{variant:"outline",onClick:i(()=>o(""),"onClick"),children:"Clear Search"})]}),"EmptyState"),_=i(({memory:E})=>{const I=E.content,D=l(E,I),L=E.entityId===E.agentId,B=i(()=>L?x?.data?.agents?.find(H=>H.id===E.entityId)?.name||t:E.metadata?.raw?.senderName||E.metadata?.source||"User","getEntityName")();return j.jsxs("div",{className:"border rounded-lg p-4 bg-card hover:bg-accent/5 transition-colors group",children:[j.jsxs("div",{className:"flex items-start justify-between mb-3",children:[j.jsxs("div",{className:"flex items-center gap-3",children:[j.jsx("div",{className:"p-2 rounded-md bg-muted",children:j.jsx(D,{className:"h-4 w-4"})}),j.jsxs("div",{children:[j.jsxs("div",{className:"flex items-center gap-2",children:[j.jsx("span",{className:"font-medium text-sm",children:B}),j.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-muted text-muted-foreground",children:I?.thought?"Thought":L?"Agent":"User"})]}),j.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mt-1",children:[j.jsx(Mf,{className:"h-3 w-3"}),j.jsx("span",{children:g(E.createdAt||0)}),E.id&&j.jsxs(j.Fragment,{children:[j.jsx("span",{children:""}),j.jsx("code",{className:"text-[10px] bg-muted px-1 rounded",children:E.id.slice(-8)})]})]})]})]}),j.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[I?.text&&j.jsx(et,{variant:"ghost",size:"sm",onClick:i(()=>m(I.text||""),"onClick"),className:"h-8 w-8 p-0",title:"Copy text",children:j.jsx(Ui,{className:"h-3 w-3"})}),E.id&&j.jsx(et,{variant:"ghost",size:"sm",onClick:i(()=>p(E),"onClick"),className:"h-8 w-8 p-0",title:"Edit memory",children:j.jsx(aR,{className:"h-3 w-3"})})]})]}),j.jsxs("div",{className:"space-y-3",children:[I?.text&&j.jsx("div",{className:"bg-muted/50 rounded-md p-3",children:j.jsx("p",{className:"text-sm leading-relaxed whitespace-pre-wrap",children:I.text})}),I?.thought&&j.jsxs("div",{className:"border-l-2 border-muted pl-3",children:[j.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[j.jsx(Bu,{className:"h-3 w-3 text-muted-foreground"}),j.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Thought Process"})]}),j.jsx("p",{className:"text-xs text-muted-foreground italic leading-relaxed",children:String(I.thought)})]}),(I?.actions||I?.providers||I?.source)&&j.jsxs("div",{className:"flex flex-wrap gap-1",children:[I.actions?.map(G=>j.jsx("span",{className:"text-xs px-2 py-1 bg-muted rounded text-muted-foreground",title:"Action",children:G},G)),I.providers?.map(G=>j.jsx("span",{className:"text-xs px-2 py-1 bg-muted rounded text-muted-foreground",title:"Provider",children:G},G)),I.source&&j.jsx("span",{className:"text-xs px-2 py-1 bg-muted rounded text-muted-foreground",children:I.source})]}),E.metadata&&Object.keys(E.metadata).length>0&&j.jsxs("details",{className:"text-xs",children:[j.jsx("summary",{className:"cursor-pointer text-muted-foreground hover:text-foreground",children:"View metadata"}),j.jsx("div",{className:"mt-2 p-2 bg-muted/30 rounded text-[10px] font-mono overflow-x-auto",children:j.jsx("pre",{children:JSON.stringify(E.metadata,null,2)})})]})]})]})},"MemoryCard");return j.jsxs("div",{className:"flex flex-col h-[calc(100vh-100px)] min-h-[400px] w-full",children:[j.jsxs("div",{className:"flex justify-between items-center mb-4 px-4 pt-4 flex-none border-b pb-3",children:[j.jsxs("div",{className:"flex items-center gap-2",children:[j.jsx("h3",{className:"text-lg font-medium",children:"Memories"}),!ee&&j.jsx("span",{className:"ml-2 text-xs px-2 py-1 rounded bg-muted text-muted-foreground",children:F.length})]}),j.jsxs("div",{className:"flex items-center gap-2",children:[j.jsxs("div",{className:"relative",children:[j.jsx(Ko,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),j.jsx(hr,{placeholder:"Search memories...",value:s,onChange:i(E=>o(E.target.value),"onChange"),className:"pl-10 w-full min-w-0 max-w-64"})]}),j.jsxs(xn,{value:a,onValueChange:i(E=>n(E),"onValueChange"),children:[j.jsx(Gi,{className:"w-40",children:j.jsx(_n,{placeholder:"Filter memories"})}),j.jsxs(Vi,{children:[j.jsx(Qt,{value:"all",children:"All Messages"}),r&&j.jsx(Qt,{value:"currentChat",children:"Current Chat"}),j.jsx(Qt,{value:"messagesSent",children:"Agent Messages"}),j.jsx(Qt,{value:"messagesReceived",children:"User Messages"}),j.jsx(Qt,{value:"facts",children:"Facts"})]})]})]})]}),j.jsx("div",{ref:b,className:"flex-1 overflow-y-auto px-4",children:F.length===0?j.jsx(f,{}):j.jsxs("div",{className:"space-y-4",children:[Object.entries(S).map(([E,I])=>j.jsxs("div",{className:"space-y-3",children:[j.jsxs("div",{className:"flex items-center gap-3 py-2",children:[j.jsx(ei,{className:"flex-1"}),j.jsx("span",{className:"text-sm font-medium text-muted-foreground px-2",children:E}),j.jsx(ei,{className:"flex-1"})]}),j.jsx("div",{className:"space-y-3",children:I.map(D=>j.jsx(_,{memory:D},D.id||D.createdAt))})]},E)),A&&j.jsx("div",{className:"flex justify-center py-6",children:d?j.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[j.jsx(go,{className:"h-4 w-4 animate-spin"}),j.jsx("span",{className:"text-sm",children:"Loading more memories..."})]}):j.jsx(et,{variant:"outline",onClick:i(()=>c(E=>E+vu),"onClick"),className:"px-8",children:"Load More"})})]})}),h&&j.jsx(nee,{isOpen:!!h,onClose:i(()=>p(null),"onClose"),memory:h,agentId:e})]})}i(aee,"AgentMemoryViewer");function MI(e){const[t,r]=J.useState(!1),{toast:a}=rr(),n=Ar(),s=xr();return{handleDelete:J.useCallback(async()=>{r(!0),a({title:"Deleting...",description:`Deleting agent "${e.name}"`});let h=!1,p=null;try{p=setTimeout(()=>{h||(s.invalidateQueries({queryKey:["agents"]}),n("/"),a({title:"Note",description:"Deletion is still processing in the background."}))},8e3);const v=Yt();if(!e.id)throw new Error("Agent ID is required for deletion");const c=await v.agents.deleteAgent(e.id);h=!0,p&&clearTimeout(p);const d=c?.partial;a(d?{title:"Processing",description:"Deletion is still in progress and will complete in the background."}:{title:"Success",description:"Agent deleted successfully"}),s.invalidateQueries({queryKey:["agents"]}),n("/")}catch(v){h=!0,p&&clearTimeout(p);const c=v?.message??"Failed to delete agent",d=v?.statusCode||v?.response?.status;d===409||c.includes("409")||c.includes("Conflict")||c.includes("foreign key constraint")||c.includes("active references")?a({title:"Cannot Delete",description:"This agent cannot be deleted because it has active references. Try stopping the agent first.",variant:"destructive"}):d===408||d===504||c.includes("408")||c.includes("504")||c.includes("timeout")||c.includes("timed out")?(a({title:"Operation Timeout",description:"The deletion is taking longer than expected and will continue in the background.",variant:"destructive"}),s.invalidateQueries({queryKey:["agents"]}),n("/")):a({title:"Error",description:c,variant:"destructive"})}finally{r(!1)}},[e,a,n,s]),isDeleting:t}}i(MI,"useDeleteAgent");function EI({agent:e,agentId:t,onSaveComplete:r}){const{toast:a}=rr(),n=Ar(),s=xr(),{confirm:o,isOpen:h,onOpenChange:p,onConfirm:v,options:c}=Ba(),d=e?.status===pr.ACTIVE,y=J.useRef(null),[b,x]=J.useState({}),{handleDelete:k,isDeleting:N}=MI(e),C=lN(e),{stopAgent:R,isAgentStopping:O}=js(),T=i(async()=>{try{await R(e),a({title:"Success",description:"Agent stopped successfully"})}catch(V){a({title:"Error",description:V instanceof Error?V.message:"Failed to stop agent",variant:"destructive"})}},"handleStopAgent"),P=i(async()=>{if(!t){a({title:"Error",description:"Agent ID is missing",variant:"destructive"});return}const V=i(async()=>{try{const Z=Yt(),ee=Object.keys(b).length>0?b:y.current?.getSecrets()||{},$=C.getChangedFields();if(ee&&Object.keys(ee).length>0){$.settings||($.settings={});const u=Object.entries(ee).filter(([g,l])=>l!==null).reduce((g,[l,m])=>({...g,[l]:m}),{});$.settings.secrets=u}if(Object.keys($).length===0){const u=C.agent?.settings?.secrets;if(u&&Object.keys(u).length>0){const g={id:t,settings:{secrets:u}};await Z.agents.updateAgent(t,g),s.invalidateQueries({queryKey:["agent",t]}),s.invalidateQueries({queryKey:["agents"]}),a({title:"Success",description:"Agent secrets updated successfully"}),r?r():n("/");return}a({title:"No Changes",description:"No changes were made to the agent"}),r?r():n("/");return}const F={id:t,...$};await Z.agents.updateAgent(t,F),s.invalidateQueries({queryKey:["agent",t]}),s.invalidateQueries({queryKey:["agents"]}),a({title:"Success",description:"Agent updated successfully"}),r?r():n("/")}catch(Z){throw a({title:"Error",description:Z instanceof Error?Z.message:"Failed to update agent",variant:"destructive"}),Z}},"performSave");if(y?.current){const Z=y.current.validateSecrets();if(!Z.isValid){o({title:"Missing Required Secrets",description:`The following required secrets are missing: ${Z.missingSecrets.join(", ")}. Do you want to save anyway?`,confirmText:"Save Anyway",cancelText:"Cancel",variant:"destructive"},V);return}}await V()},"handleSubmit"),z=i(()=>{N||o({title:"Delete Agent",description:`Are you sure you want to delete the agent "${e.name}"? This action cannot be undone.`,confirmText:"Delete",variant:"destructive"},k)},"handleDelete");return j.jsxs(j.Fragment,{children:[j.jsx(rN,{characterValue:C.agent,setCharacterValue:C,title:"Agent Settings",description:"Configure your AI agent's behaviour and capabilities.",onSubmit:P,onReset:C.reset,onDelete:z,onStopAgent:d?T:void 0,isAgent:!0,isDeleting:N,isStopping:O(t),customComponents:[{name:"Plugins",component:j.jsx(aN,{characterValue:C.agent,setCharacterValue:C,initialPlugins:e.plugins})},{name:"Secret",component:j.jsx(Vb,{characterValue:C.agent,ref:y,onChange:i(V=>{x(V),C.updateSettings({secrets:V})},"onChange")})},{name:"Avatar",component:j.jsx(iN,{characterValue:C.agent,setCharacterValue:C})}]}),j.jsx(La,{open:h,onOpenChange:p,title:c?.title||"",description:c?.description||"",confirmText:c?.confirmText,cancelText:c?.cancelText,variant:c?.variant,onConfirm:v})]})}i(EI,"AgentSettings");const d5="eliza-agent-tab-states";function see(e){const[t,r]=J.useState("details"),a=J.useCallback(()=>{try{const o=localStorage.getItem(d5);return o?JSON.parse(o):{}}catch(o){return qe.error("Error reading agent tab states from localStorage:",o),{}}},[]),n=J.useCallback(o=>{try{localStorage.setItem(d5,JSON.stringify(o))}catch(h){qe.error("Error saving agent tab states to localStorage:",h)}},[]);J.useEffect(()=>{if(!e){r("details");return}const h=a()[e]||"details";r(h)},[e,a]);const s=J.useCallback(o=>{if(r(o),e){const p={...a(),[e]:o};n(p)}},[e,a,n]);return{currentTab:t,setTab:s}}i(see,"useAgentTabState");class oee{static{i(this,"ElizaSpanAdapter")}convertRunDetailToTraceSpans(t){const r=t.events;if(!r||r.length===0)return[];const a=[...r].sort((h,p)=>h.timestamp-p.timestamp),n=new Map,s=new Map,o=[];return a.forEach((h,p)=>{switch(h.type){case"RUN_STARTED":{const v=this.createRunSpan(t,h);o.push(v);break}case"ACTION_STARTED":{const v=h.data.actionName||h.data.actionId||`Action ${p}`,c=h.data.actionId||v;let d=n.get(c);d||(d={id:`action-${c}`,title:v,type:"agent_invocation",status:"pending",startTime:new Date(h.timestamp),endTime:new Date(h.timestamp),duration:0,raw:JSON.stringify(h,null,2),attributes:this.convertEventDataToAttributes(h.data),children:[]},n.set(c,d),o.push(d));const y=(d.children?.length||0)+1,b={id:`attempt-${c}-${y}`,title:`Attempt ${y}`,type:"span",status:"pending",startTime:new Date(h.timestamp),endTime:new Date(h.timestamp),duration:0,raw:JSON.stringify(h,null,2),attributes:this.convertEventDataToAttributes(h.data),children:[]};d.children=[...d.children||[],b],s.set(c,b);break}case"ACTION_COMPLETED":{const v=h.data.actionName||h.data.actionId||`Action ${p}`,c=h.data.actionId||v,d=n.get(c),y=s.get(c),b=this.extractPrompt(h.data),x=this.extractResponse(h.data);if(y){const k=h.data.success!==!1;y.status=k?"success":"error",y.endTime=new Date(h.timestamp),y.duration=h.timestamp-y.startTime.getTime(),b&&(y.input=b),x&&(y.output=x),s.delete(c)}if(d){const k=h.data.success!==!1;d.status=k?"success":"error",d.endTime=new Date(h.timestamp),d.duration=h.timestamp-d.startTime.getTime(),b&&!d.input&&(d.input=b),x&&!d.output&&(d.output=x)}break}case"MODEL_USED":{const v=h.data.modelType||"Model Call",c=this.extractPrompt(h.data),d=this.extractResponse(h.data),y={id:`model-${p}`,title:v,type:"llm_call",status:"success",startTime:new Date(h.timestamp),endTime:new Date(h.timestamp+(h.data.executionTime||0)),duration:h.data.executionTime||0,raw:JSON.stringify(h,null,2),attributes:this.convertEventDataToAttributes(h.data),input:c,output:d,tokensCount:this.extractTokensCount(h.data),cost:this.extractCost(h.data)},x=h.data.actionContext||void 0||Array.from(s.keys()).pop();if(x){const k=s.get(x);if(k)k.children=[...k.children||[],y];else{const N=n.get(x);if(N&&N.children&&N.children.length>0){const C=N.children[N.children.length-1];C.children=[...C.children||[],y]}}}else o.push(y);break}case"EVALUATOR_COMPLETED":{const v=h.data.evaluatorName||`Evaluator ${p}`,c={id:`evaluator-${p}`,title:v,type:"chain_operation",status:"success",startTime:new Date(h.timestamp),endTime:new Date(h.timestamp),duration:0,raw:JSON.stringify(h,null,2),attributes:this.convertEventDataToAttributes(h.data)};o.push(c);break}case"EMBEDDING_EVENT":{const v=h.data.status||"completed",c={id:`embedding-${p}`,title:`Embedding ${v}`,type:"embedding",status:v==="failed"?"error":"success",startTime:new Date(h.timestamp),endTime:new Date(h.timestamp+(h.data.durationMs||0)),duration:h.data.durationMs||0,raw:JSON.stringify(h,null,2),attributes:this.convertEventDataToAttributes(h.data)},d=Array.from(s.keys()).pop();if(d){const y=s.get(d);y&&(y.children=[...y.children||[],c])}else o.push(c);break}}}),o}createRunSpan(t,r){const a=t.summary,n=a.durationMs||0,s=new Date(r.timestamp),o=new Date(r.timestamp+n);return{id:a.runId,title:`Run ${new Date(a.startedAt||Date.now()).toLocaleTimeString()}`,type:"agent_invocation",status:this.convertRunStatus(a.status),startTime:s,endTime:o,duration:n,raw:JSON.stringify(t,null,2),attributes:[{key:"run.id",value:{stringValue:a.runId}},{key:"run.status",value:{stringValue:a.status}},...a.messageId?[{key:"message.id",value:{stringValue:a.messageId}}]:[],...a.roomId?[{key:"room.id",value:{stringValue:a.roomId}}]:[]],children:[]}}convertRunStatus(t){switch(t){case"completed":return"success";case"error":return"error";case"timeout":return"warning";case"started":return"pending";default:return"pending"}}convertEventDataToAttributes(t){return Object.entries(t).map(([r,a])=>({key:r,value:this.convertValueToAttributeValue(a)}))}convertValueToAttributeValue(t){return typeof t=="string"?{stringValue:t}:typeof t=="number"?{intValue:t.toString()}:typeof t=="boolean"?{boolValue:t}:{stringValue:JSON.stringify(t)}}coerceToNumber(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(typeof t=="string"){const r=Number(t);return Number.isFinite(r)?r:void 0}}extractTokensCount(t){const r=Object.prototype.hasOwnProperty.call(t,"inputTokens"),a=Object.prototype.hasOwnProperty.call(t,"outputTokens");if(r||a){const o=this.coerceToNumber(t.inputTokens)??0,h=this.coerceToNumber(t.outputTokens)??0;return o+h}const n=i(o=>{if(!o||typeof o!="object")return;const h=o,p=this.coerceToNumber(h.total_tokens);if(p!==void 0)return p;const v=Object.prototype.hasOwnProperty.call(h,"prompt_tokens"),c=Object.prototype.hasOwnProperty.call(h,"completion_tokens");if(v||c){const d=this.coerceToNumber(h.prompt_tokens)??0,y=this.coerceToNumber(h.completion_tokens)??0;return d+y}},"extractFromUsage");if(t.response&&typeof t.response=="object"){const o=t.response,h=n(o.usage);if(h!==void 0)return h}const s=n(t.usage);if(s!==void 0)return s}extractCost(t){if(t.cost&&typeof t.cost=="number")return t.cost;if(t.response&&typeof t.response=="object"){const r=t.response;if(r.cost&&typeof r.cost=="number")return r.cost}}extractPrompt(t){if(t.prompts&&Array.isArray(t.prompts)){const r=t.prompts;if(r.length>0)return r.map((a,n)=>(r.length>1?`[Prompt ${n+1}${a.modelType?` - ${a.modelType}`:""}]
`:"")+(a.prompt||"")).join(`

---

`)}if(t.prompt&&typeof t.prompt=="string")return t.prompt;if(t.params&&typeof t.params=="object"){const r=t.params;if(r.prompt&&typeof r.prompt=="string")return r.prompt;const{prompt:a,...n}=r;if(Object.keys(n).length>0)return JSON.stringify(n,null,2)}if(t.input&&typeof t.input=="string")return t.input}extractResponse(t){if(t.response){if(typeof t.response=="string")return t.response;if(typeof t.response=="object"){const r=t.response;return r.content&&typeof r.content=="string"?r.content:r.text&&typeof r.text=="string"?r.text:r.message&&typeof r.message=="string"?r.message:JSON.stringify(r,null,2)}return String(t.response)}if(t.output)return typeof t.output=="string"?t.output:JSON.stringify(t.output,null,2);if(t.result)return typeof t.result=="string"?t.result:JSON.stringify(t.result,null,2)}convertRunSummaryToTraceRecord(t){const r=t.runId.slice(0,8);return{id:t.runId,name:`Run ${r}`,spansCount:Object.values(t.counts||{}).reduce((a,n)=>a+n,0),durationMs:t.durationMs||0,agentDescription:`Status: ${t.status}`,startTime:t.startedAt||void 0}}}const h5=new oee,kI=i(e=>{const t=+e.startTime;return+e.endTime-t},"getDurationMs"),ns=i(e=>{if(e<1e3)return`${Math.round(e)}ms`;if(e<6e4)return`${Math.round(e/1e3)}s`;if(e<36e5){const a=Math.floor(e/6e4),n=Math.floor(e%6e4/1e3);return n>0?`${a}m ${n}s`:`${a}m`}const t=Math.floor(e/36e5),r=Math.floor(e%36e5/6e4);return r>0?`${t}h ${r}m`:`${t}h`},"formatDuration"),AI=i(({spanCard:e,minStart:t,maxEnd:r})=>{const a=+e.startTime,n=r-t,s=kI(e),o=(a-t)/n*100,h=s/n*100;return{durationMs:s,startPercent:o,widthPercent:h}},"getTimelineData"),jI=i(e=>{const t=[],r=i(a=>{a.forEach(n=>{t.push(n),n.children?.length&&r(n.children)})},"traverse");return r(e),t},"flattenSpans");function lee(e){return e.reduce((t,r)=>{const a=+new Date(r.startTime),n=+new Date(r.endTime);return{minStart:Math.min(t.minStart,a),maxEnd:Math.max(t.maxEnd,n)}},{minStart:e.length>0?+new Date(e[0].startTime):1/0,maxEnd:e.length>0?+new Date(e[0].endTime):-1/0})}i(lee,"findTimeRange");function NI(e,t){const r=t.toLowerCase().trim();if(!r)return e;const a=[];for(const n of e){const s=n.title.toLowerCase().includes(r),o=n.type.toLowerCase().includes(r),h=n.attributes?.some(c=>c.key.toLowerCase().includes(r)||c.value.stringValue?.toLowerCase().includes(r)||c.value.intValue?.toLowerCase().includes(r)),p=s||o||h,v=n.children?NI(n.children,t):[];(p||v.length>0)&&a.push({...n,children:v.length>0?v:n.children})}return a}i(NI,"filterSpansRecursively");const II={none:"rounded-none",sm:"rounded-sm",md:"rounded-md",lg:"rounded-lg",full:"rounded-full"},uee={purple:{bg:"bg-purple-100",darkBg:"dark:bg-purple-950/60",text:"text-purple-500",darkText:"dark:text-purple-300"},indigo:{bg:"bg-indigo-100",darkBg:"dark:bg-indigo-950/60",text:"text-indigo-500",darkText:"dark:text-indigo-300"},orange:{bg:"bg-orange-100",darkBg:"dark:bg-orange-950/60",text:"text-orange-600",darkText:"dark:text-orange-300"},teal:{bg:"bg-teal-100",darkBg:"dark:bg-teal-950/60",text:"text-teal-600",darkText:"dark:text-teal-300"},cyan:{bg:"bg-cyan-100",darkBg:"dark:bg-cyan-950/60",text:"text-cyan-600",darkText:"dark:text-cyan-300"},sky:{bg:"bg-sky-100",darkBg:"dark:bg-sky-950/60",text:"text-sky-600",darkText:"dark:text-sky-300"},yellow:{bg:"bg-yellow-100",darkBg:"dark:bg-yellow-950/60",text:"text-yellow-700",darkText:"dark:text-yellow-300"},emerald:{bg:"bg-emerald-100",darkBg:"dark:bg-emerald-950/60",text:"text-emerald-600",darkText:"dark:text-emerald-300"},red:{bg:"bg-red-100",darkBg:"dark:bg-red-950/60",text:"text-red-600",darkText:"dark:text-red-300"},gray:{bg:"bg-gray-100",darkBg:"dark:bg-gray-900",text:"text-gray-600",darkText:"dark:text-gray-300"}},gy={llm_call:{label:"LLM",theme:"purple",icon:nv},tool_execution:{label:"TOOL",theme:"orange",icon:dR},agent_invocation:{label:"AGENT INVOCATION",theme:"indigo",icon:av},chain_operation:{label:"CHAIN",theme:"teal",icon:cR},retrieval:{label:"RETRIEVAL",theme:"cyan",icon:Ko},embedding:{label:"EMBEDDING",theme:"emerald",icon:fR},create_agent:{label:"CREATE AGENT",theme:"sky",icon:_f},span:{label:"SPAN",theme:"cyan",icon:uR},event:{label:"EVENT",theme:"emerald",icon:lR},guardrail:{label:"GUARDRAIL",theme:"red",icon:oR},unknown:{label:"UNKNOWN",theme:"gray",icon:sR}};function vy(e){return gy[e].theme}i(vy,"getSpanCategoryTheme");function CI(e){return gy[e].label}i(CI,"getSpanCategoryLabel");function RI(e){return gy[e].icon}i(RI,"getSpanCategoryIcon");const fee="inline-flex items-center justify-center font-medium transition-all duration-200",cee={6:"h-6 px-2 gap-1 text-xs",7:"h-7 px-2 gap-1 text-xs",8:"h-8 px-2 gap-1 text-xs",9:"h-9 px-2.5 gap-2 text-sm",10:"h-10 px-4 gap-2 text-sm",11:"h-11 px-5 gap-3 text-base",12:"h-12 px-5 gap-2.5 text-base",16:"h-16 px-7 gap-3 text-lg"},p5={gray:"bg-muted text-muted-foreground",purple:"bg-primary text-primary-foreground",indigo:"bg-primary text-primary-foreground",orange:"bg-chart-1 text-primary-foreground",teal:"bg-chart-2 text-primary-foreground",cyan:"bg-chart-3 text-primary-foreground",sky:"bg-chart-4 text-primary-foreground",yellow:"bg-chart-5 text-primary-foreground",emerald:"bg-accent text-accent-foreground",red:"bg-destructive text-destructive-foreground"},dee={filled:"",outlined:"border border-2 bg-transparent text-foreground border-border",ghost:"bg-transparent text-muted-foreground"},m5=i(({children:e,size:t="6",theme:r="gray",rounded:a="md",variant:n="filled",fullWidth:s=!1,disabled:o=!1,iconStart:h,iconEnd:p,type:v="button",onClick:c,className:d="",...y})=>{const b=s?"w-full":"",x=o?"cursor-not-allowed opacity-50":"hover:opacity-70",k=n==="filled"?p5[r]||p5.gray:"";return j.jsxs("button",{type:v,onClick:c,disabled:o,className:Le(fee,cee[t],II[a],dee[n],k,b,x,d),...y,children:[h&&j.jsx("span",{className:"mr-1",children:h}),e,p&&j.jsx("span",{className:"ml-1",children:p})]})},"Button"),hee={6:"h-6 min-h-6",7:"h-7 min-h-7",8:"h-8 min-h-8",9:"h-9 min-h-9",10:"h-10 min-h-10",11:"h-11 min-h-11",12:"h-12 min-h-12",16:"h-16 min-h-16"},pee={default:"border border-border bg-transparent ",ghost:"bg-transparent"},Lc=i(({children:e,className:t,size:r="6",variant:a="default",type:n="button","aria-label":s,...o})=>j.jsx("button",{type:n,"aria-label":s,className:Le(t,hee[r],"inline-flex aspect-square shrink-0 items-center justify-center","rounded-md",pee[a],"text-muted-foreground ","hover:bg-gray-200 dark:hover:bg-gray-800"),...o,children:e}),"IconButton"),OI=i(({onExpandAll:e,...t})=>j.jsx(Lc,{size:"7",onClick:e,"aria-label":"Expand all",...t,children:j.jsx(hR,{className:"size-3.5"})}),"ExpandAllButton"),TI=i(({onCollapseAll:e,...t})=>j.jsx(Lc,{size:"7",onClick:e,"aria-label":"Collapse all",...t,children:j.jsx(pR,{className:"size-3.5"})}),"CollapseAllButton"),g5="text-sm font-medium transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",mee={underline:{list:"h-9 flex border-b border-border ",trigger:`w-full justify-center px-3 ${g5} 
      text-muted-foreground hover:text-foreground data-[state=active]:text-foreground
       dark:hover:text-gray-200 dark:data-[state=active]:text-gray-200
      border-b-2 border-transparent data-[state=active]:border-primary 
      dark:data-[state=active]:border-muted -mb-[2px]
      hover:border-muted `},pill:{list:"h-9 inline-flex gap-1 p-1 bg-muted rounded-lg",trigger:`px-3 ${g5} rounded-md
      text-muted-foreground hover:text-foreground data-[state=active]:text-foreground
       dark:hover:text-gray-200 dark:data-[state=active]:text-gray-200
      hover:bg-accent data-[state=active]:bg-card data-[state=active]:shadow-sm
      dark:hover:bg-gray-700 dark:data-[state=active]:bg-gray-600 dark:data-[state=active]:shadow-none`}},PI=i(({items:e,defaultValue:t,value:r,onValueChange:a,theme:n="underline",className:s="",tabsListClassName:o="",triggerClassName:h="",dir:p,...v})=>{const c=t||e[0]?.value,d=mee[n];return j.jsx(D5,{className:s,defaultValue:r?void 0:c,value:r,onValueChange:a,dir:p,...v,children:j.jsx(Kg,{className:Le(d.list,o),"aria-label":"Navigation tabs",children:e.map(y=>j.jsxs(Xg,{value:y.value,disabled:y.disabled,className:Le("flex items-center overflow-hidden",d.trigger,h),children:[y.icon&&j.jsx("span",{className:"mr-2 text-muted-foreground group-data-[state=active]:text-current ",children:y.icon}),j.jsx("span",{className:"truncate",children:y.label})]},y.value))})})},"Tabs"),DI=i(({title:e,rightContent:t,children:r,defaultOpen:a=!1,className:n="",triggerClassName:s="",contentClassName:o="",onOpenChange:h})=>{const[p,v]=J.useState(a),c=J.useCallback(y=>{v(y),h?.(y)},[h]),d=J.useCallback(y=>{(y.key==="Enter"||y.key===" ")&&(y.preventDefault(),c(!p))},[c,p]);return j.jsxs(iv,{open:p,onOpenChange:c,className:Le("rounded-lg",n),children:[j.jsx(x_,{asChild:!0,children:j.jsxs("div",{tabIndex:0,role:"button",className:Le("mb-1 flex w-full items-center justify-between gap-2 rounded-lg px-1 py-3 text-left text-sm font-medium text-foreground",s),onKeyDown:d,"aria-expanded":p,"aria-label":`${p?"Collapse":"Expand"} content of "${e}" section`,children:[j.jsxs("div",{className:"flex w-full items-center gap-2",children:[j.jsx(Ji,{className:Le("h-3 w-3 text-muted-foreground transition-transform duration-200",p&&"rotate-180")}),j.jsx("span",{className:"truncate",children:e})]}),t]})}),j.jsx(__,{className:Le("data-[state=closed]:animate-slideUp data-[state=open]:animate-slideDown",o),children:r})]})},"CollapsibleSection"),v5="absolute top-1/2 -translate-y-1/2 flex items-center justify-center text-foreground",LI=i(({className:e,onChange:t,onValueChange:r,startIcon:a,onClear:n,ref:s,inputClassName:o,label:h,hideLabel:p=!1,id:v,...c})=>{const d=J.useRef(null),y=i(x=>{t?.(x),r?.(x.target.value)},"handleChange"),b=i(()=>{if(n?.(),s){s.current?.focus();return}d.current?.focus()},"handleClear");return j.jsxs("div",{className:Le("w-full",e),children:[h&&j.jsx("label",{htmlFor:v,className:Le("block text-sm font-medium text-foreground ",p&&"sr-only"),children:h}),j.jsxs("div",{className:Le("relative flex w-full items-center justify-center",h&&!p&&"mt-1"),children:[j.jsx("input",{id:v,ref:s||d,onChange:y,className:Le(o,"flex h-7 items-center truncate","w-full px-2",!!a&&"pl-8",!!n&&"pr-8","rounded border border-border bg-transparent ","text-foreground placeholder:text-muted-foreground ","hover:border-border dark:hover:border-gray-700"),...c}),a&&j.jsx("div",{className:Le(v5,"left-2"),"aria-hidden":!0,children:a}),n&&c.value&&j.jsx("button",{className:Le(v5,"right-2"),"aria-label":"Clear input value",onClick:b,type:"button",children:j.jsx(Fr,{className:"size-4"})})]})]})},"TextInput"),gee=i(({data:e})=>j.jsxs("div",{className:"space-y-6",children:[(!e.attributes||e.attributes.length===0)&&j.jsx("div",{className:"p-6 text-center",children:j.jsx("p",{className:"text-muted-foreground ",children:"No attributes available for this span."})}),(e.attributes||[]).map((t,r)=>{const a=t.value.stringValue||t.value.intValue||t.value.boolValue?.toString()||"N/A";return j.jsx(DI,{title:t.key,defaultOpen:!0,children:j.jsx(LI,{id:`${e.id}-attribute-${r}`,value:a,disabled:!0,readOnly:!0,inputClassName:"font-mono text-xs",className:"w-full"})},`${t.key}-${r}`)})]}),"DetailsViewAttributesTab"),vee={4:"size-4 text-xs",6:"size-6 text-xs",8:"size-8 text-xs",9:"size-9 text-sm",10:"size-10 text-base",11:"size-11 text-lg",12:"size-12 text-xl",16:"size-16 text-2xl"},bee={4:"size-3",6:"size-4",8:"size-6",9:"size-7",10:"size-8",11:"size-9",12:"size-10",16:"size-12"},yee={4:"text-xs",6:"text-xs",8:"text-xs",9:"text-sm",10:"text-base",11:"text-lg",12:"text-xl",16:"text-2xl"},wee={gray:"bg-muted-foreground",red:"bg-destructive",orange:"bg-chart-1",yellow:"bg-chart-5",teal:"bg-chart-2",indigo:"bg-primary",purple:"bg-primary",sky:"bg-chart-4",cyan:"bg-chart-3",emerald:"bg-accent"},by=i(({src:e,alt:t="Avatar",size:r="10",rounded:a="full",bgColor:n="gray",textColor:s="white",letter:o,className:h="",...p})=>{const[v,c]=J.useState(!1),d=o?o.charAt(0):t.charAt(0).toUpperCase(),y=s==="white"?"text-white":"text-black";return j.jsx("div",{className:Le("flex items-center justify-center overflow-hidden","bg-muted",v&&"border border-border",vee[r],yee[r],II[a],h),...p,children:v?j.jsx(w_,{className:Le(bee[r],"text-muted-foreground")}):j.jsx(j.Fragment,{children:e?j.jsx("img",{src:e,alt:t,className:"h-full w-full object-cover",onError:i(()=>c(!0),"onError")}):j.jsx("div",{className:Le("flex h-full w-full items-center justify-center",wee[n],y,"font-medium"),children:d})})})},"Avatar"),xee={success:"bg-green-500 dark:bg-green-500",error:"bg-red-500 dark:bg-red-500",pending:"bg-violet-500 dark:bg-violet-500",warning:"bg-yellow-500 dark:bg-yellow-500"},_ee={success:"bg-green-100 dark:bg-green-950 text-green-600 dark:text-green-400",error:"bg-red-100 dark:bg-red-950 text-red-600 dark:text-red-400",pending:"bg-violet-100 dark:bg-violet-950 text-violet-600 dark:text-violet-400",warning:"bg-yellow-100 dark:bg-yellow-950 text-yellow-600 dark:text-yellow-400"},Jg=i(({status:e,variant:t="dot",...r})=>{const a=`Status: ${e}`;return j.jsx("div",{className:"flex size-4 items-center justify-center",...r,children:t==="dot"?j.jsx(See,{status:e,title:a}):j.jsx(Mee,{status:e,title:a})})},"SpanStatus"),See=i(({status:e,title:t})=>j.jsx("span",{className:Le("block size-1.5 rounded-full",xee[e]),"aria-label":t,title:t}),"SpanStatusDot"),Mee=i(({status:e,title:t})=>j.jsxs("span",{className:Le("inline-flex items-center justify-center","h-3.5 w-4 rounded",_ee[e]),"aria-label":t,title:t,children:[e==="success"&&j.jsx(Sn,{className:"size-2.5","aria-hidden":!0}),e==="error"&&j.jsx($m,{className:"size-2.5","aria-hidden":!0}),e==="warning"&&j.jsx(Qg,{className:"size-2.5","aria-hidden":!0}),e==="pending"&&j.jsx(ev,{className:"size-2.5","aria-hidden":!0})]}),"SpanStatusBadge"),Eee=i(({data:e,avatar:t,copyButton:r,actions:a,className:n="mb-4 flex flex-wrap items-center gap-4"})=>{const[s,o]=J.useState(!1),h=i(()=>{r?.onCopy&&(r.onCopy(e),o(!0),setTimeout(()=>o(!1),2e3))},"handleCopy");return j.jsxs("div",{className:n,children:[j.jsxs("div",{className:"flex items-center gap-1.5",children:[t&&j.jsx(by,{size:"4",...t}),j.jsx("span",{className:"text-base tracking-wide text-foreground ",children:e.title}),j.jsx("div",{className:"flex size-5 items-center justify-center",children:j.jsx(Jg,{status:e.status})}),r&&j.jsx(Lc,{"aria-label":r.isEnabled?"Copy span details":"Copy disabled",variant:"ghost",onClick:h,children:s?j.jsx(Sn,{className:"size-3 text-muted-foreground"}):j.jsx(Ui,{className:"size-3 text-muted-foreground"})})]}),a]})},"DetailsViewHeader"),kee=i(({data:e})=>{const t=!!e.input,r=!!e.output;if(!t&&!r)return j.jsx("div",{className:"p-6 text-center",children:j.jsx("p",{className:"text-muted-foreground ",children:"No input or output data available for this span."})});let a=null,n=null;if(typeof e.input=="string")try{a=JSON.parse(e.input)}catch{a=null}if(typeof e.output=="string")try{n=JSON.parse(e.output)}catch{n=null}return j.jsxs("div",{className:"space-y-3",children:[typeof e.input=="string"&&j.jsx(b5,{section:"Input",content:e.input,parsedContent:a}),typeof e.output=="string"&&j.jsx(b5,{section:"Output",content:e.output,parsedContent:n})]})},"DetailsViewInputOutputTab"),b5=i(({section:e,content:t,parsedContent:r})=>{const[a,n]=J.useState("plain"),[s,o]=J.useState(!0),h=[{value:"json",label:"JSON",disabled:!r},{value:"plain",label:"Plain"}];return j.jsx(DI,{title:e,defaultOpen:!0,onOpenChange:o,rightContent:s?j.jsx(PI,{items:h,defaultValue:"plain",value:a,onValueChange:n,theme:"pill",onClick:i(p=>p.stopPropagation(),"onClick")}):null,triggerClassName:"min-h-16",children:j.jsx(Aee,{content:t,section:e,tab:a,parsedContent:r})})},"IOSection"),Aee=i(({tab:e,content:t,section:r,parsedContent:a})=>t?j.jsxs("div",{className:"relative rounded-lg border border-border ",children:[j.jsx(jee,{section:r,content:t}),e==="json"&&j.jsx(j.Fragment,{children:a?j.jsx(S_,{booleanStyle:"color: hsl(var(--primary));",className:"overflow-x-auto rounded-xl p-4 text-left",data:a,id:`json-pretty-${r}`,keyStyle:"color: hsl(var(--primary));",mainStyle:"color: hsl(var(--muted-foreground)); font-size: 12px;",stringStyle:"color: hsl(var(--chart-2));",valueStyle:"color: hsl(var(--chart-1));"}):j.jsx("div",{className:"p-4 text-sm text-muted-foreground",children:"Invalid JSON format"})}),e==="plain"&&j.jsx("div",{className:"rounded-lg bg-muted/50 p-4",children:j.jsx("pre",{className:"overflow-x-auto whitespace-pre-wrap text-left font-mono text-xs text-foreground",children:t})})]}):j.jsx("p",{className:"p-3 text-sm italic text-muted-foreground ",children:"No data available"}),"IOContent"),jee=i(({section:e,content:t})=>{const[r,a]=J.useState(!1),n=i(()=>{navigator.clipboard.writeText(t),a(!0),setTimeout(()=>a(!1),2e3)},"onClick");return j.jsx(Lc,{onClick:n,"aria-label":r?`${e} Data Copied`:`Copy ${e} Data`,variant:"ghost",className:"absolute right-1.5 top-1.5",children:r?j.jsx(Sn,{className:"size-3"}):j.jsx(Ui,{className:"size-3"})})},"CopyButton"),Nee={4:"px-1 gap-1 h-4",5:"px-1.5 gap-1 h-5",6:"px-2 gap-1.5 h-6",7:"px-2.5 gap-2 h-7"},Iee={4:"text-xs font-normal leading-3",5:"text-xs font-medium",6:"text-sm font-medium",7:"text-sm font-medium"},Er=i(({label:e,theme:t="gray",variant:r="solid",size:a="4",iconStart:n,iconEnd:s,className:o="",...h})=>{const{bg:p,darkBg:v,text:c,darkText:d}=uee[t],y=r==="outline"?`border ${c} ${d} bg-transparent dark:bg-transparent border-current`:`${p} ${c} ${v} ${d}`;return j.jsxs("span",{className:Le("inline-flex min-w-0 items-center overflow-hidden rounded font-medium",y,Nee[a],o),...h,children:[n&&j.jsx("span",{className:"shrink-0",children:n}),j.jsx("span",{className:Le(Iee[a],"min-w-0 max-w-full flex-shrink-0 truncate tracking-normal"),children:e}),s&&j.jsx("span",{className:"shrink-0",children:s})]})},"Badge"),BI=i(({timestamp:e,size:t,...r})=>j.jsx(Er,{variant:"outline",theme:"gray",size:t,...r,label:Cee(e)}),"TimestampBadge");function Cee(e){return new Date(e).toLocaleString()}i(Cee,"formatTimestamp");const Ree=i(({data:e})=>{const t=RI(e.type),r=kI(e);return j.jsxs("div",{className:"mb-4 flex flex-wrap items-center justify-start gap-1",children:[j.jsx(Er,{iconStart:j.jsx(t,{className:"size-2.5"}),theme:vy(e.type),size:"4",label:CI(e.type)}),typeof e.tokensCount=="number"&&j.jsx(Er,{iconStart:j.jsx(M_,{className:"size-2.5"}),theme:"gray",size:"4",label:e.tokensCount}),typeof e.cost=="number"&&j.jsx(Er,{theme:"gray",size:"4",label:`$ ${e.cost.toFixed(4)}`}),j.jsxs("span",{className:"text-xs text-muted-foreground",children:["LATENCY: ",ns(r)]}),typeof e.startTime=="number"&&j.jsx(BI,{timestamp:e.startTime})]})},"DetailsViewMetrics"),Oee=i(({data:e})=>j.jsx("div",{className:"pt-4",children:j.jsx("div",{className:"rounded border border-border bg-transparent ",children:j.jsx(S_,{booleanStyle:"color: hsl(var(--primary));",className:"overflow-x-auto rounded-xl p-4 text-left",data:e.raw,id:`json-pretty-${e.id||"span-details"}`,keyStyle:"color: hsl(var(--primary));",mainStyle:"color: hsl(var(--muted-foreground)); font-size: 12px;",stringStyle:"color: hsl(var(--chart-2));",valueStyle:"color: hsl(var(--chart-1));"})})}),"DetailsViewRawDataTab"),zI=i(({data:e,avatar:t,defaultTab:r,className:a,copyButton:n,headerActions:s,customHeader:o,onTabChange:h})=>{const[p,v]=J.useState(r||"input-output"),c=[{value:"input-output",label:"In/Out",icon:j.jsx(mR,{className:"size-4"})},{value:"attributes",label:"Attributes",icon:j.jsx(gR,{className:"size-4"})},{value:"raw",label:"RAW",icon:j.jsx(vR,{className:"size-4"})}];function d(x){v(x),h?.(x)}i(d,"handleTabChange");const y=typeof s=="function"?s(e):s,b=o?typeof o=="function"?o({data:e}):o:j.jsx(Eee,{data:e,avatar:t,copyButton:n,actions:y});return j.jsxs("div",{className:Le("min-w-0 rounded-lg border border-border bg-card p-4 shadow-sm",a),children:[b,j.jsx(Ree,{data:e}),j.jsx(PI,{items:c,value:p,onValueChange:d,theme:"underline",defaultValue:r}),p==="input-output"&&j.jsx(kee,{data:e}),p==="attributes"&&j.jsx(gee,{data:e}),p==="raw"&&j.jsx(Oee,{data:e})]})},"DetailsView"),UI=i(({...e})=>j.jsx(LI,{startIcon:j.jsx(Ko,{className:"size-4"}),placeholder:"Filter...",...e}),"SearchInput"),FI=i(({cost:e,size:t,...r})=>j.jsx(Er,{theme:"gray",size:t,...r,label:`$ ${e}`}),"PriceBadge"),$I=i(({tokensCount:e,size:t,...r})=>j.jsx(Er,{iconStart:j.jsx(M_,{className:"size-2.5"}),theme:"gray",size:t,...r,label:e}),"TokensBadge"),GI=i(({trace:e,avatar:t})=>j.jsxs("header",{className:"flex min-w-0 flex-wrap items-center justify-between gap-2",children:[j.jsxs("div",{className:"flex min-w-0 items-center gap-1.5 overflow-hidden",children:[t&&j.jsx(by,{size:"4",...t}),j.jsx("h3",{className:"font-medium max-w-full truncate text-sm text-foreground",children:e.name})]}),j.jsxs("div",{className:"flex items-center gap-2",children:[j.jsx(Er,{size:"5",theme:"gray",variant:"outline",label:e.spansCount===1?"1 span":`${e.spansCount} spans`}),j.jsx(Er,{size:"5",theme:"gray",variant:"outline",label:ns(e.durationMs)})]})]}),"TraceListItemHeader"),Tee=i(({trace:e,avatar:t,onClick:r,badges:a,isSelected:n})=>{const s=J.useCallback(d=>{(d.key==="Enter"||d.key===" ")&&(d.preventDefault(),r?.())},[r]),{name:o,agentDescription:h,totalCost:p,totalTokens:v,startTime:c}=e;return j.jsxs("div",{className:Le("group w-full","flex flex-col gap-2.5 p-4","cursor-pointer",n?"bg-muted":"bg-card"),role:"button",tabIndex:0,onClick:r,onKeyDown:s,"aria-label":`Select trace ${o}`,children:[j.jsx(GI,{trace:e,avatar:t}),j.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[j.jsx("span",{className:"mr-4 max-w-full truncate text-sm text-muted-foreground ",children:h}),typeof p=="number"&&j.jsx(FI,{cost:p}),typeof v=="number"&&j.jsx($I,{tokensCount:v}),a?.map((d,y)=>j.jsx(Er,{theme:d.theme,size:"4",label:d.label},y)),typeof c=="number"&&j.jsx(BI,{timestamp:c})]})]})},"TraceListItem"),Pee=i(({traces:e,expanded:t,onExpandStateChange:r,className:a,onTraceSelect:n,selectedTrace:s})=>j.jsxs("div",{className:Le("w-full min-w-0","flex flex-col gap-3",t?"w-full":"w-fit",a),children:[j.jsx("header",{className:"flex min-h-6 items-center justify-between gap-2",children:j.jsxs("div",{className:"flex items-center gap-2",children:[j.jsx("h2",{className:Le("font-semibold text-lg text-foreground",!t&&"hidden"),children:"Traces"}),j.jsx(Er,{size:"5",theme:"teal","aria-label":`Total number of traces: ${e.length}`,label:e.length})]})}),t&&j.jsx("ul",{className:"flex flex-col items-center overflow-hidden rounded border border-border ",children:e.map(o=>j.jsx("li",{className:"w-full list-none border-b-border [&:not(:last-child)]:border-b",children:j.jsx(Tee,{trace:o,onClick:i(()=>n?.(o),"onClick"),isSelected:s?.id===o.id,badges:o.badges})},o.id))})]}),"TraceList"),Dee=i(({data:e})=>{const t=RI(e.type);return j.jsxs("div",{className:"flex flex-wrap items-center justify-start gap-1",children:[j.jsx(Er,{iconStart:j.jsx(t,{className:"size-2.5"}),theme:vy(e.type),size:"4",label:CI(e.type)}),typeof e.tokensCount=="number"&&j.jsx($I,{tokensCount:e.tokensCount}),typeof e.cost=="number"&&j.jsx(FI,{cost:e.cost})]})},"SpanCardBadges"),y5=i(({type:e})=>e==="empty"?j.jsx("div",{className:"w-5 shrink-0 grow"}):j.jsxs("div",{className:"relative w-5 shrink-0 grow",children:[(e==="vertical"||e==="t-right")&&j.jsx("div",{className:"absolute bottom-0 left-1/2 top-0 w-0.5 -translate-x-1/2 bg-muted"}),e==="t-right"&&j.jsx("div",{className:"absolute left-2.5 top-2.5 h-0.5 w-2.5 -translate-y-[3px] bg-muted"}),e==="corner-top-right"&&j.jsxs(j.Fragment,{children:[j.jsx("div",{className:"absolute left-1/2 top-2 size-0.5 -translate-x-1/2 -translate-y-px bg-muted"}),j.jsx("div",{className:"absolute left-1/2 top-2.5 h-0.5 w-2.5 -translate-y-[3px] bg-muted"}),j.jsx("div",{className:"absolute left-1/2 top-0 h-[7px] w-0.5 -translate-x-px bg-muted"})]})]}),"SpanCardConnector"),Lee={purple:"bg-primary",indigo:"bg-primary",orange:"bg-chart-1",teal:"bg-chart-2",cyan:"bg-chart-3",sky:"bg-chart-4",yellow:"bg-chart-5",emerald:"bg-accent",red:"bg-destructive",gray:"bg-muted-foreground"},Bee=i(({spanCard:e,theme:t,minStart:r,maxEnd:a,className:n})=>{const{startPercent:s,widthPercent:o}=AI({spanCard:e,minStart:r,maxEnd:a});return j.jsx("span",{className:Le("relative flex h-4 min-w-20 flex-1 rounded bg-muted",n),children:j.jsx("span",{className:"pointer-events-none absolute inset-x-1 top-1/2 h-1.5 -translate-y-1/2",children:j.jsx("span",{className:`absolute h-full rounded-sm ${Lee[t]}`,style:{left:`${s}%`,width:`${o}%`}})})})},"SpanCardTimeline"),w5=i(({isExpanded:e,title:t,onToggleClick:r})=>j.jsx(x_,{asChild:!0,children:j.jsx("button",{className:"flex h-4 w-5 shrink-0 items-center justify-center",onClick:r,onKeyDown:r,"aria-label":`${e?"Collapse":"Expand"} ${t} children`,"aria-expanded":e,type:"button",children:e?j.jsx(Ji,{"aria-hidden":"true",className:"size-3 text-muted-foreground"}):j.jsx(Q5,{"aria-hidden":"true",className:"size-3 text-muted-foreground"})})}),"SpanCardToggle"),pa={CONNECTOR_WIDTH:20,CONTENT_BASE_WIDTH:320},Du={withStatus:!0,expandButton:"inside"},zee=i(({level:e,hasExpandButton:t,contentPadding:r,expandButton:a})=>{let n=pa.CONTENT_BASE_WIDTH-e*pa.CONNECTOR_WIDTH;return t&&a==="inside"&&(n-=pa.CONNECTOR_WIDTH),a==="outside"&&e===0&&(n-=pa.CONNECTOR_WIDTH),n-r},"getContentWidth"),Uee=i(({connectorsColumnWidth:e,expandButton:t})=>t==="inside"?`${e}px 1fr`:`${e}px 1fr ${pa.CONNECTOR_WIDTH}px`,"getGridTemplateColumns"),Fee=i(({level:e,hasExpandButton:t})=>e===0?0:t?4:8,"getContentPadding"),$ee=i(({level:e,hasExpandButton:t,isLastChild:r,prevConnectors:a,expandButton:n})=>{const s=[];if(e===0)return{connectors:n==="inside"?[]:["vertical"],connectorsColumnWidth:20};for(let h=0;h<e-1;h++)s.push("vertical");r||s.push("t-right"),r&&s.push("corner-top-right");let o=s.length*pa.CONNECTOR_WIDTH;t&&(o+=pa.CONNECTOR_WIDTH);for(let h=0;h<a.length;h++)(a[h]==="empty"||a[h]==="corner-top-right")&&(s[h]="empty");return{connectors:s,connectorsColumnWidth:o}},"getConnectorsLayout"),Gee=i((e,t)=>{const r=J.useCallback(()=>{t?.(e)},[e,t]),a=J.useCallback(s=>{(s.key==="Enter"||s.key===" ")&&(s.preventDefault(),r())},[r]),n=J.useCallback(s=>{s.stopPropagation()},[]);return{handleCardClick:r,handleKeyDown:a,handleToggleClick:n}},"useSpanCardEventHandlers"),Vee=i(({data:e,level:t,selectedSpan:r,onSpanSelect:a,minStart:n,maxEnd:s,prevLevelConnectors:o,expandedSpansIds:h,onExpandSpansIdsChange:p,viewOptions:v=Du})=>e.children?.length?j.jsx("div",{className:"relative",children:j.jsx(__,{children:j.jsx("ul",{role:"group",children:e.children.map((c,d)=>j.jsx(VI,{viewOptions:v,data:c,minStart:n,maxEnd:s,level:t+1,selectedSpan:r,onSpanSelect:a,isLastChild:d===(e.children||[]).length-1,prevLevelConnectors:o,expandedSpansIds:h,onExpandSpansIdsChange:p},c.id))})})}):null,"SpanCardChildren"),VI=i(({data:e,level:t=0,selectedSpan:r,onSpanSelect:a,viewOptions:n=Du,avatar:s,minStart:o,maxEnd:h,isLastChild:p,prevLevelConnectors:v=[],expandedSpansIds:c,onExpandSpansIdsChange:d})=>{const y=c.includes(e.id),b=n.withStatus??Du.withStatus,x=n.expandButton||Du.expandButton,k=J.useCallback(ee=>{const $=c.includes(e.id);$&&!ee&&d(c.filter(F=>F!==e.id)),!$&&ee&&d([...c,e.id])},[y,c,e.id,d]),N={isExpanded:y,hasChildren:!!e.children?.length,isSelected:r?.id===e.id},C=Gee(e,a),{durationMs:R}=AI({spanCard:e,minStart:o,maxEnd:h}),O=x==="inside"&&N.hasChildren,T=Fee({level:t,hasExpandButton:O}),P=zee({level:t,hasExpandButton:O,contentPadding:T,expandButton:x}),{connectors:z,connectorsColumnWidth:V}=$ee({level:t,hasExpandButton:O,isLastChild:p,prevConnectors:v,expandButton:x}),Z=Uee({connectorsColumnWidth:V,expandButton:x});return j.jsx("li",{role:"treeitem","aria-expanded":N.hasChildren?N.isExpanded:void 0,className:"list-none",children:j.jsxs(iv,{open:N.isExpanded,onOpenChange:k,children:[j.jsxs("div",{className:Le("relative grid w-full rounded-md transition-colors",N.isSelected?"bg-accent/50 border border-accent":"hover:bg-muted/30"),style:{gridTemplateColumns:Z},onClick:C.handleCardClick,onKeyDown:C.handleKeyDown,tabIndex:0,role:"button","aria-pressed":N.isSelected,"aria-describedby":`span-card-desc-${e.id}`,"aria-expanded":N.hasChildren?N.isExpanded:void 0,"aria-label":`${N.isSelected?"Selected":"Not selected"} span card for ${e.title} at level ${t}`,children:[j.jsxs("div",{className:"flex flex-nowrap",children:[z.map((ee,$)=>j.jsx(y5,{type:ee},`${ee}-${$}`)),O&&j.jsxs("div",{className:"flex w-5 flex-col items-center",children:[j.jsx(w5,{isExpanded:N.isExpanded,title:e.title,onToggleClick:C.handleToggleClick}),N.isExpanded&&j.jsx(y5,{type:"vertical"})]})]}),j.jsxs("div",{className:Le("flex flex-nowrap items-center align-middle gap-x-3 gap py-3 px-2","min-h-5 w-full cursor-pointer",t!==0&&!O&&"pl-2",t!==0&&O&&"pl-1"),children:[j.jsxs("div",{className:"relative flex min-h-4 flex-shrink-0 flex-grow-0 flex-wrap items-start gap-1",style:{width:`min(${P}px, 100%)`,minWidth:140},children:[s&&j.jsx(by,{size:"4",...s}),j.jsx("h3",{className:"mr-1 h-4 max-w-32 truncate text-sm leading-[14px] text-foreground ",title:e.title,children:e.title}),j.jsx(Dee,{data:e})]}),j.jsxs("div",{className:"flex flex-shrink flex-grow flex-nowrap items-center justify-end gap-1 min-w-0",children:[x==="outside"&&b&&j.jsx("div",{className:"flex-shrink-0",children:j.jsx(Jg,{status:e.status})}),j.jsx(Bee,{theme:vy(e.type),minStart:o,maxEnd:h,spanCard:e,className:"max-w-48 flex-shrink"}),j.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[j.jsx("span",{className:"inline-block w-14 whitespace-nowrap px-1 text-right text-xs text-foreground",children:ns(R)}),x==="inside"&&b&&j.jsx("div",{children:j.jsx(Jg,{status:e.status})})]})]})]}),x==="outside"&&(N.hasChildren?j.jsx(w5,{isExpanded:N.isExpanded,title:e.title,onToggleClick:C.handleToggleClick}):j.jsx("div",{}))]}),j.jsx(Vee,{minStart:o,maxEnd:h,viewOptions:n,data:e,level:t,selectedSpan:r,onSpanSelect:a,prevLevelConnectors:z,expandedSpansIds:c,onExpandSpansIdsChange:d})]})})},"SpanCard"),ZI=i(({spans:e,onSpanSelect:t,className:r="",selectedSpan:a,expandedSpansIds:n,onExpandSpansIdsChange:s,spanCardViewOptions:o})=>{const h=jI(e),{minStart:p,maxEnd:v}=lee(h);return j.jsx("div",{className:"w-full min-w-0 p-4",children:j.jsx("ul",{className:Le(r,"overflow-x-auto space-y-1"),role:"tree","aria-label":"Hierarchical card list",children:e.map((c,d)=>j.jsx(VI,{data:c,level:0,selectedSpan:a,onSpanSelect:t,minStart:p,maxEnd:v,isLastChild:d===e.length-1,expandedSpansIds:n,onExpandSpansIdsChange:s,viewOptions:o},c.id))})})},"TreeView"),Zee=i(({data:e})=>{const[t,r]=J.useState(e[0]?.traceRecord),[a,n]=J.useState(e[0]?.spans??[]),[s,o]=J.useState(e[0]?.spans?.[0]?.children?.[0]),[h,p]=J.useState(""),[v,c]=J.useState(!0),d=J.useMemo(()=>e.map(T=>({...T.traceRecord,badges:T.badges,spanCardViewOptions:T.spanCardViewOptions})),[e]),y=J.useMemo(()=>h.trim()?NI(a,h):a,[a,h]),b=J.useMemo(()=>jI(a).map(T=>T.id),[a]),[x,k]=J.useState(b);J.useEffect(()=>{k(b)},[b]);const N=J.useCallback(()=>{k(b)},[b]),C=J.useCallback(()=>{k([])},[]);J.useEffect(()=>{o(a[0])},[a]);const R=J.useCallback(T=>{r(T),n(e.find(P=>P.traceRecord.id===T.id)?.spans??[])},[e]),O={traceRecords:d,traceListExpanded:v,setTraceListExpanded:c,selectedTrace:t,setSelectedTrace:r,selectedTraceSpans:a,setSelectedTraceSpans:n,selectedSpan:s,setSelectedSpan:o,searchValue:h,setSearchValue:p,filteredSpans:y,expandedSpansIds:x,setExpandedSpansIds:k,handleExpandAll:N,handleCollapseAll:C,handleTraceSelect:R};return j.jsxs("div",{className:"h-full w-full p-4 lg:p-8",children:[j.jsx("div",{className:"hidden lg:block",children:j.jsx(Hee,{...O})}),j.jsx("div",{className:"lg:hidden",children:j.jsx(Jee,{...O})})]})},"TraceViewer"),Hee=i(({traceRecords:e,traceListExpanded:t,setTraceListExpanded:r,selectedTrace:a,selectedSpan:n,setSelectedSpan:s,searchValue:o,setSearchValue:h,filteredSpans:p,expandedSpansIds:v,setExpandedSpansIds:c,handleExpandAll:d,handleCollapseAll:y,handleTraceSelect:b})=>j.jsx("div",{className:"flex flex-col gap-4",children:a?j.jsxs("div",{className:"flex flex-col gap-4",children:[j.jsxs(xn,{value:a.id,onValueChange:i(x=>{const k=e.find(N=>N.id===x);k&&b(k)},"onValueChange"),children:[j.jsx(Gi,{className:"w-full h-auto py-3",children:j.jsx(_n,{children:j.jsxs("div",{className:"flex items-center gap-4 w-full",children:[j.jsx("span",{className:"font-semibold text-base",children:a.name}),j.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[typeof a.startTime=="number"&&j.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:new Date(a.startTime).toLocaleTimeString()}),j.jsx(Er,{size:"4",theme:"gray",variant:"outline",label:`${a.spansCount} span${a.spansCount===1?"":"s"}`}),j.jsx(Er,{size:"4",theme:"gray",variant:"outline",label:ns(a.durationMs)})]})]})})}),j.jsx(Vi,{className:"w-full max-w-2xl max-h-[400px]",children:e.map(x=>j.jsx(Qt,{value:x.id,className:"py-2.5 px-4 cursor-pointer",children:j.jsxs("div",{className:"flex items-center justify-between gap-4 w-full pr-6",children:[j.jsxs("div",{className:"flex flex-col gap-1 min-w-0",children:[j.jsx("span",{className:"font-semibold text-base text-foreground",children:x.name}),x.agentDescription&&j.jsx("span",{className:"text-xs text-muted-foreground",children:x.agentDescription})]}),j.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[typeof x.startTime=="number"&&j.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:new Date(x.startTime).toLocaleTimeString()}),j.jsx(Er,{size:"4",theme:"gray",variant:"outline",label:`${x.spansCount} span${x.spansCount===1?"":"s"}`}),j.jsx(Er,{size:"4",theme:"gray",variant:"outline",label:ns(x.durationMs)})]})]})},x.id))})]}),j.jsxs("div",{className:"rounded-lg border border-border bg-card shadow-sm",children:[j.jsxs("div",{className:"flex items-center justify-between gap-2 border-b border-border p-4",children:[j.jsx(UI,{id:"span-search-desktop",name:"search",onClear:i(()=>h(""),"onClear"),value:o,onValueChange:h,className:"max-w-60 grow"}),j.jsx("div",{className:"flex items-center gap-2",children:j.jsxs("div",{className:"ml-auto flex items-center gap-3",children:[j.jsx(OI,{onExpandAll:d}),j.jsx(TI,{onCollapseAll:y})]})})]}),p.length===0?j.jsx("div",{className:"p-3 text-center text-muted-foreground",children:"No spans found"}):j.jsx(ZI,{spans:p,onSpanSelect:s,selectedSpan:n,expandedSpansIds:v,onExpandSpansIdsChange:c,spanCardViewOptions:a.spanCardViewOptions})]}),n?j.jsx(zI,{data:n}):j.jsx(x5,{title:"Select a span to see the details"})]}):j.jsxs("div",{className:"flex flex-col gap-4",children:[j.jsxs(xn,{value:"",onValueChange:i(x=>{const k=e.find(N=>N.id===x);k&&b(k)},"onValueChange"),children:[j.jsx(Gi,{className:"w-full",children:j.jsx(_n,{placeholder:"Select a trace to view details..."})}),j.jsx(Vi,{className:"w-full max-w-2xl max-h-[400px]",children:e.map(x=>j.jsx(Qt,{value:x.id,className:"py-2.5 px-4 cursor-pointer",children:j.jsxs("div",{className:"flex items-center justify-between gap-4 w-full pr-6",children:[j.jsxs("div",{className:"flex flex-col gap-1 min-w-0",children:[j.jsx("span",{className:"font-semibold text-base text-foreground",children:x.name}),x.agentDescription&&j.jsx("span",{className:"text-xs text-muted-foreground",children:x.agentDescription})]}),j.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[typeof x.startTime=="number"&&j.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:new Date(x.startTime).toLocaleTimeString()}),j.jsx(Er,{size:"4",theme:"gray",variant:"outline",label:`${x.spansCount} span${x.spansCount===1?"":"s"}`}),j.jsx(Er,{size:"4",theme:"gray",variant:"outline",label:ns(x.durationMs)})]})]})},x.id))})]}),j.jsx(x5,{title:"Select a trace to see the details"})]})}),"DesktopLayout"),Jee=i(({traceRecords:e,traceListExpanded:t,setTraceListExpanded:r,selectedTrace:a,setSelectedTrace:n,selectedTraceSpans:s,setSelectedTraceSpans:o,selectedSpan:h,setSelectedSpan:p,searchValue:v,setSearchValue:c,filteredSpans:d,expandedSpansIds:y,setExpandedSpansIds:b,handleExpandAll:x,handleCollapseAll:k,handleTraceSelect:N})=>a?a&&s.length&&!h?j.jsxs("div",{className:"flex flex-col gap-4",children:[j.jsx(m5,{onClick:i(()=>{n(void 0),o([])},"onClick"),iconStart:j.jsx(Gm,{className:"size-3"}),variant:"ghost",className:"self-start",children:"Traces list"}),j.jsx(GI,{trace:a}),j.jsxs("div",{className:"rounded border border-border bg-card",children:[j.jsxs("div",{className:"flex items-center justify-between gap-2 border-b border-border p-3",children:[j.jsx(UI,{id:"span-search-mobile",name:"search",onClear:i(()=>c(""),"onClear"),value:v,onValueChange:c,className:"max-w-60 grow"}),j.jsx("div",{className:"flex items-center gap-2",children:j.jsxs("div",{className:"ml-auto flex items-center gap-3",children:[j.jsx(OI,{onExpandAll:x}),j.jsx(TI,{onCollapseAll:k})]})})]}),d.length===0?j.jsx("div",{className:"p-3 text-center text-muted-foreground",children:"No spans found"}):j.jsx(ZI,{spans:d,spanCardViewOptions:a.spanCardViewOptions,onSpanSelect:p,selectedSpan:h,expandedSpansIds:y,onExpandSpansIdsChange:b})]})]}):a&&s.length&&h?j.jsxs("div",{className:"flex flex-col gap-4",children:[j.jsx(m5,{onClick:i(()=>{p(void 0)},"onClick"),iconStart:j.jsx(Gm,{className:"size-3"}),variant:"ghost",className:"self-start",children:"Tree View"}),j.jsx(zI,{data:h})]}):null:j.jsx(Pee,{traces:e,expanded:t,onExpandStateChange:r,onTraceSelect:N,selectedTrace:a}),"MobileLayout"),x5=i(({title:e})=>j.jsx("p",{className:"hidden items-center justify-center rounded-lg bg-muted p-4 text-center text-muted-foreground lg:flex",children:e}),"Placeholder"),qee=Yt(),Kee=i(({agentId:e})=>{const t=JK(e),r=t.data?.runs??[],a=u_({queries:r.map(v=>({queryKey:["agent",e,"runs","detail",v.runId,null],queryFn:i(async()=>qee.runs.getRun(e,v.runId),"queryFn"),enabled:!!(e&&v.runId),staleTime:3e4}))}),n=J.useMemo(()=>r.map((v,c)=>{const d=a[c];return d?.data?{traceRecord:h5.convertRunSummaryToTraceRecord(v),spans:h5.convertRunDetailToTraceSpans(d.data)}:null}).filter(v=>v!==null),[r,...a.map(v=>v.data)]),s=t.isLoading,o=t.error?t.error.message:void 0,h=r.length>0,p=n.length>0;return s?j.jsx("div",{className:"flex items-center justify-center h-32",children:j.jsx(kr,{className:"h-5 w-5 animate-spin text-muted-foreground"})}):o?j.jsxs("div",{className:"px-4 py-3 text-sm text-destructive",children:["Failed to load runs: ",o]}):h?p?j.jsx("div",{className:"h-full w-full",children:j.jsx(Zee,{data:n})}):j.jsxs("div",{className:"flex items-center justify-center h-32",children:[j.jsx(kr,{className:"h-5 w-5 animate-spin text-muted-foreground"}),j.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:"Loading run details..."})]}):j.jsx("div",{className:"px-4 py-8 text-sm text-center text-muted-foreground",children:"No agent runs yet. Runs will appear here after the agent processes messages."})},"AgentRunTimeline");function _5({agentId:e,agentName:t,channelId:r}){const{currentTab:a,setTab:n}=see(e),{data:s,isLoading:o}=eX(e,{enabled:!!e}),{data:h,isLoading:p,error:v}=_l(e,{enabled:!!e&&a==="details"}),c=h?.data,d=J.useMemo(()=>s?.data||[],[s]),y=J.useMemo(()=>{const b=[{value:"details",label:"Details",icon:j.jsx(Qg,{className:"h-4 w-4"})},{value:"timeline",label:"Timeline",icon:j.jsx(y_,{className:"h-4 w-4"})},{value:"actions",label:"Model Calls",icon:j.jsx(zi,{className:"h-4 w-4"})},{value:"memories",label:"Memories",icon:j.jsx(Ln,{className:"h-4 w-4"})},{value:"logs",label:"Logs",icon:j.jsx(yR,{className:"h-4 w-4"})}],x=d.map(k=>({value:k.name,label:k.name,icon:j.jsx(bR,{className:"h-4 w-4"})}));return[...b,...x]},[d]);return j.jsxs(dv,{defaultValue:"details",value:a,onValueChange:n,className:"flex flex-col h-screen w-full max-w-full",children:[j.jsxs(If,{className:"flex w-full max-w-full overflow-x-auto flex-shrink-0",children:[y.map(b=>j.jsxs(xo,{value:b.value,className:"flex items-center gap-1.5 flex-shrink-0",children:[b.icon,j.jsx("span",{className:"truncate",children:b.label})]},b.value)),o&&j.jsx(j.Fragment,{children:[...Array(2)].map((b,x)=>j.jsx(wo,{className:"h-9 w-full rounded-md flex-shrink-0"},`skel-tab-${x}`))})]}),j.jsxs(wi,{value:"details",className:"overflow-y-auto overflow-x-hidden flex-1 p-4 w-full max-w-full min-h-0",children:[a==="details"&&e&&j.jsxs(j.Fragment,{children:[p&&j.jsx("div",{className:"flex items-center justify-center h-full",children:j.jsx(kr,{className:"h-6 w-6 animate-spin text-primary"})}),v&&j.jsxs("div",{className:"text-red-500 break-words",children:["Error loading agent details: ",v.message]}),!p&&!v&&c&&j.jsx("div",{className:"w-full max-w-full",children:j.jsx(EI,{agent:c,agentId:e,onSaveComplete:i(()=>{},"onSaveComplete")})}),!p&&!v&&!c&&!o&&j.jsx("div",{className:"text-muted-foreground",children:"Agent details not found."})]}),a==="details"&&!e&&j.jsx("div",{className:"p-4 text-muted-foreground",children:"Select an agent to see their details."})]}),j.jsxs(wi,{value:"timeline",className:"overflow-y-auto overflow-x-hidden flex-1 w-full max-w-full min-h-0 p-0",children:[a==="timeline"&&e&&j.jsx("div",{className:"w-full max-w-full h-full",children:j.jsx(Kee,{agentId:e})}),a==="timeline"&&!e&&j.jsx("div",{className:"p-4 text-muted-foreground",children:"Select an agent to see run activity."})]}),j.jsxs(wi,{value:"actions",className:"overflow-y-auto overflow-x-hidden flex-1 w-full max-w-full min-h-0",children:[a==="actions"&&e&&j.jsx("div",{className:"w-full max-w-full",children:j.jsx(iee,{agentId:e})}),a==="actions"&&!e&&j.jsx("div",{className:"p-4 text-muted-foreground",children:"Select an agent to see their actions."})]}),j.jsxs(wi,{value:"logs",className:"overflow-y-auto overflow-x-hidden flex-1 w-full max-w-full min-h-0",children:[a==="logs"&&e&&j.jsx("div",{className:"w-full max-w-full",children:j.jsx(PN,{agentName:t,level:"all"})}),a==="logs"&&!e&&j.jsx("div",{className:"p-4 text-muted-foreground",children:"Select an agent to see their logs."})]}),j.jsxs(wi,{value:"memories",className:"overflow-y-auto overflow-x-hidden flex-1 w-full max-w-full min-h-0",children:[a==="memories"&&e&&j.jsx("div",{className:"w-full max-w-full",children:j.jsx(aee,{agentId:e,agentName:t,channelId:r})}),a==="memories"&&!e&&j.jsx("div",{className:"p-4 text-muted-foreground",children:"Select an agent to see their memories."})]}),d.map(b=>j.jsx(wi,{value:b.name,className:"overflow-y-auto overflow-x-hidden flex-1 w-full max-w-full min-h-0",children:a===b.name&&e&&j.jsx("iframe",{src:b.url,title:b.name,className:"w-full h-full border-0 flex-1 max-w-full"})},b.name))]})}i(_5,"AgentSidebar");const Xee=160,HI=J.forwardRef(({className:e,...t},r)=>{const a=J.useRef(null),n=i(o=>{typeof r=="function"?r(o):r&&(r.current=o),a.current=o},"combinedRef"),s=i(()=>{const o=a.current;o&&(o.style.height="auto",o.style.height=Math.min(o.scrollHeight,Xee)+"px")},"resizeTextarea");return J.useEffect(()=>{s()},[t.value]),j.jsx(Wo,{autoComplete:"off",ref:n,name:"message",className:Le("px-4 py-3 bg-background text-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring disabled:cursor-not-allowed disabled:opacity-50 w-full rounded-md flex items-center h-16 resize-none",e),...t})});HI.displayName="ChatInput";let ro,io=[],bu;const S5=i((e,t)=>String(e).padStart(t,"0"),"padWithLeadingZeros"),Wee=i(({className:e,timerClassName:t,agentId:r,onChange:a})=>{const{toast:n}=rr(),[s,o]=J.useState(!1),[h,p]=J.useState(!1),[v,c]=J.useState(0),[d,y]=J.useState({id:-1,name:"",file:null}),b=Math.floor(v%3600/60),x=v%60,[k,N]=J.useMemo(()=>S5(b,2).split(""),[b]),[C,R]=J.useMemo(()=>S5(x,2).split(""),[x]),O=J.useRef({stream:null,analyser:null,mediaRecorder:null,audioContext:null}),T=Yt(),P=Wr({mutationKey:["whisper"],mutationFn:i($=>T.audio.transcribe(r,{audio:$}),"mutationFn"),onSuccess:i($=>{$?.text&&a($.text)},"onSuccess"),onError:i($=>{n({variant:"destructive",title:"Unable to start recording",description:$.message}),console.log($)},"onError")});function z(){navigator.mediaDevices?.getUserMedia&&navigator.mediaDevices.getUserMedia({audio:!0}).then($=>{o(!0);const F=window.AudioContext,u=new F,g=u.createAnalyser();u.createMediaStreamSource($).connect(g),O.current={stream:$,analyser:g,mediaRecorder:null,audioContext:u};const w={mimeType:MediaRecorder.isTypeSupported("audio/mpeg")?"audio/mpeg":MediaRecorder.isTypeSupported("audio/webm")?"audio/webm":"audio/wav"};O.current.mediaRecorder=new MediaRecorder($,w),O.current.mediaRecorder.start(),io=[],ro=new MediaRecorder($),ro.start(),ro.ondataavailable=M=>{io.push(M.data)}}).catch($=>{n({variant:"destructive",title:"Unable to start recording",description:$.message}),console.log($)})}i(z,"startRecording");function V(){ro.onstop=()=>{const $=new Blob(io,{type:"audio/wav"});P.mutate($),y({...d,file:window.URL.createObjectURL($)}),io=[]},ro.stop(),o(!1),p(!0),c(0),clearTimeout(bu)}i(V,"stopRecording");function Z(){const{mediaRecorder:$,stream:F,analyser:u,audioContext:g}=O.current;if($&&($.onstop=()=>{io=[]},$.stop()),u&&u.disconnect(),F)for(const l of F.getTracks())l.stop();g&&g.close(),o(!1),p(!0),c(0),clearTimeout(bu)}i(Z,"resetRecording");const ee=i(()=>{V()},"handleSubmit");return J.useEffect(()=>(s&&(bu=setTimeout(()=>{c(v+1)},1e3)),()=>clearTimeout(bu)),[s,v]),P?.isPending?j.jsx(et,{variant:"ghost",disabled:!0,size:"icon",children:j.jsx(ev,{className:"size-4"})}):j.jsxs("div",{className:Le("flex items-center justify-center gap-2 border-l border-l-transparent border-opacity-0 transition-all duration-300",{"border-opacity-100 border-l-border pl-2":s},e),children:[s?j.jsxs("div",{className:"flex gap-1 items-center",children:[j.jsx("div",{className:"bg-red-500 rounded-full h-2.5 w-2.5 animate-pulse"}),j.jsx(JI,{minuteLeft:k,minuteRight:N,secondLeft:C,secondRight:R,timerClassName:t})]}):null,j.jsxs("div",{className:"flex items-center gap-2",children:[s?j.jsxs(cr,{children:[j.jsx(dr,{asChild:!0,children:j.jsx(et,{onClick:Z,size:"icon",variant:"ghost",children:j.jsx(qo,{className:"size-4"})})}),j.jsx(lr,{className:"m-2",children:j.jsx("span",{children:" Reset recording"})})]}):null,j.jsxs(cr,{children:[j.jsx(dr,{asChild:!0,children:s?j.jsx(et,{onClick:ee,variant:"ghost",size:"icon",children:j.jsx(E_,{className:"size-4"})}):j.jsxs(et,{variant:"ghost",size:"icon",onClick:i(()=>z(),"onClick"),children:[j.jsx(wR,{className:"size-4"}),j.jsx("span",{className:"sr-only",children:"Use Microphone"})]})}),j.jsx(lr,{side:"right",children:j.jsxs("span",{children:[s?"Send":"Start"," "]})})]})]})]})},"AudioRecorder"),JI=Ef.memo(({minuteLeft:e,minuteRight:t,secondLeft:r,secondRight:a,timerClassName:n})=>j.jsx("div",{className:Le("text-sm animate-in duration-1000 fade-in-0 select-none",n),children:j.jsxs("p",{children:[e,t,":",r,a]})}));JI.displayName="Timer";const M5=i(({input:e,setInput:t,inputDisabled:r,selectedFiles:a,removeFile:n,handleFileChange:s,handleSendMessage:o,handleKeyDown:h,chatType:p,targetAgentData:v,formRef:c,inputRef:d,fileInputRef:y})=>j.jsxs("div",{className:"px-2 sm:px-4 pb-2 sm:pb-4 mt-auto flex-shrink-0","data-testid":"chat-container",children:[r&&j.jsxs("div",{className:"px-2 pb-2 text-sm text-muted-foreground flex items-center gap-2",children:[j.jsxs("div",{className:"flex gap-0.5 items-center justify-center",children:[j.jsx("span",{className:"w-[6px] h-[6px] bg-white rounded-full animate-bounce [animation-delay:0s]"}),j.jsx("span",{className:"w-[6px] h-[6px] bg-white rounded-full animate-bounce [animation-delay:0.2s]"}),j.jsx("span",{className:"w-[6px] h-[6px] bg-white rounded-full animate-bounce [animation-delay:0.4s]"})]}),j.jsx("span",{className:"text-xs sm:text-sm",children:p===bt.DM&&v?`${v.name} is thinking`:"Agent is thinking"}),j.jsxs("div",{className:"flex",children:[j.jsx("span",{className:"animate-pulse [animation-delay:0ms]",children:"."}),j.jsx("span",{className:"animate-pulse [animation-delay:200ms]",children:"."}),j.jsx("span",{className:"animate-pulse [animation-delay:400ms]",children:"."})]})]}),j.jsxs("form",{ref:c,onSubmit:o,className:"relative rounded-md border bg-card p-2 sm:p-3",children:[a.length>0&&j.jsx("div",{className:"flex flex-wrap gap-2 sm:gap-3 p-2 sm:p-3 pb-0 max-h-32 sm:max-h-40 overflow-y-auto",children:a.map(b=>{const x=b.blobUrl||URL.createObjectURL(b.file);return j.jsxs("div",{className:"relative p-1 sm:p-2",children:[j.jsxs("div",{className:"relative w-12 h-12 sm:w-16 sm:h-16 rounded-lg overflow-hidden border bg-muted",children:[b.isUploading&&j.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center z-10",children:j.jsx(kr,{className:"h-3 w-3 sm:h-4 sm:w-4 animate-spin text-white"})}),b.file.type.startsWith("image/")?j.jsx("img",{alt:"Selected file",src:x,className:"w-full h-full object-cover"}):b.file.type.startsWith("video/")?j.jsx("video",{src:x,className:"w-full h-full object-cover",muted:!0}):j.jsx("div",{className:"w-full h-full flex items-center justify-center bg-muted",children:j.jsx(ma,{className:"h-4 w-4 sm:h-8 sm:w-8 text-muted-foreground"})}),b.error&&j.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-red-500 text-white text-xs p-1 text-center",children:"Error"})]}),j.jsx(et,{onClick:i(()=>n(b.id),"onClick"),className:"absolute -right-1 -top-1 size-[16px] sm:size-[20px] ring-2 ring-background z-20",variant:"outline",size:"icon",disabled:b.isUploading,children:j.jsx(Fr,{className:"h-2 w-2 sm:h-3 sm:w-3"})}),j.jsx("div",{className:"text-xs text-center mt-1 truncate w-12 sm:w-16",children:b.file.name})]},b.id)})}),j.jsx(HI,{ref:d,onKeyDown:h,value:e,onChange:i(({target:b})=>t(b.value),"onChange"),placeholder:r?p===bt.DM&&v?`${v.name} is thinking...`:"Agent is processing...":p===bt.DM?"Type your message here...":"Message group...",className:"min-h-12 resize-none rounded-none bg-card border-0 px-0 py-0 shadow-none focus-visible:ring-0 text-sm sm:text-base",disabled:r||p===bt.DM&&v?.status==="inactive","data-testid":"chat-input"}),j.jsxs("div",{className:"flex items-center pt-0 gap-1",children:[j.jsxs(cr,{children:[j.jsx(dr,{asChild:!0,children:j.jsxs("div",{children:[j.jsxs(et,{variant:"ghost",size:"icon",className:"h-8 w-8 sm:h-10 sm:w-10",onClick:i(()=>{y.current&&y.current.click()},"onClick"),children:[j.jsx(xR,{className:"size-3 sm:size-4"}),j.jsx("span",{className:"sr-only",children:"Attach file"})]}),j.jsx("input",{type:"file",ref:y,onChange:s,accept:"image/*,video/*,audio/*,.pdf,.doc,.docx,.txt,.rtf,...",multiple:!0,className:"hidden"})]})}),j.jsx(lr,{side:"left",children:j.jsx("p",{children:"Attach files"})})]}),p===bt.DM&&v?.id&&j.jsx(Wee,{agentId:v.id,onChange:i(b=>t(b),"onChange")}),j.jsx(et,{disabled:r||p===bt.DM&&v?.status==="inactive"||a.some(b=>b.isUploading),type:"submit",size:"sm",className:"ml-auto gap-1.5 h-[26px] sm:h-[30px] px-2 sm:px-3","data-testid":"send-button",children:r||a.some(b=>b.isUploading)?j.jsxs("div",{className:"flex gap-0.5 items-center justify-center",children:[j.jsx("span",{className:"w-[4px] h-[4px] bg-gray-500 rounded-full animate-bounce [animation-delay:0s]"}),j.jsx("span",{className:"w-[4px] h-[4px] bg-gray-500 rounded-full animate-bounce [animation-delay:0.2s]"}),j.jsx("span",{className:"w-[4px] h-[4px] bg-gray-500 rounded-full animate-bounce [animation-delay:0.4s]"})]}):j.jsx(E_,{className:"size-3 sm:size-3.5"})})]})]})]}),"ChatInputArea"),qI=J.forwardRef(({className:e,children:t,scrollRef:r,contentRef:a,isAtBottom:n,scrollToBottom:s,disableAutoScroll:o,...h},p)=>j.jsxs("div",{className:"relative w-full h-full overflow-hidden",children:[j.jsx("div",{className:`flex flex-col w-full h-full p-2 overflow-y-auto ${e}`,ref:r,onWheel:o,onTouchMove:o,...h,children:j.jsx("div",{className:"flex flex-col gap-10",ref:a,children:t})}),!n&&j.jsx(et,{onClick:i(()=>{s()},"onClick"),size:"icon",variant:"outline",className:"absolute bottom-2 left-1/2 transform -translate-x-1/2 inline-flex rounded-full shadow-md",children:j.jsx(_R,{className:"h-4 w-4"})})]}));qI.displayName="ChatMessageList";const E5=i(({messages:e,isLoadingMessages:t,chatType:r,currentClientEntityId:a,targetAgentData:n,allAgents:s,animatedMessageId:o,scrollRef:h,contentRef:p,isAtBottom:v,scrollToBottom:c,disableAutoScroll:d,finalChannelId:y,getAgentInMessage:b,agentAvatarMap:x,onDeleteMessage:k,onRetryMessage:N,selectedGroupAgentId:C})=>{const R=Ef.useMemo(()=>r===bt.GROUP&&C?e.filter(O=>{const T=O.senderId===a,P=O.senderId===C;return T||P}):e,[e,r,C,a]);return j.jsxs(qI,{scrollRef:h,contentRef:p,isAtBottom:v,scrollToBottom:c,disableAutoScroll:d,className:"h-full w-full","data-testid":"chat-messages",children:[t&&R.length===0&&j.jsx("div",{className:"flex flex-1 justify-center items-center",children:j.jsx("p",{children:"Loading messages..."})}),!t&&R.length===0&&j.jsx("div",{className:"flex flex-1 justify-center items-center",children:j.jsx("p",{children:"No messages yet. Start the conversation!"})}),R.map((O,T)=>{const P=O.senderId===a,z=T===R.length-1&&O.isAgent&&O.id===o,V=!P&&b?b(O.senderId):void 0;return j.jsx("div",{className:Le("flex gap-1",P?"justify-end":"justify-start"),children:j.jsxs(JN,{variant:P?"sent":"received",className:`flex flex-col gap-1 ${P?"flex-row-reverse":""}`,children:[!P&&r===bt.GROUP&&j.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[j.jsx(Gn,{className:"size-5 border rounded-full select-none",children:j.jsx(Oa,{src:yo(V||(x&&O.senderId&&s?s.find(Z=>Z.id===O.senderId):void 0))})}),j.jsx("div",{children:V?.name})]}),j.jsx(cte,{message:O,agentForTts:r===bt.DM?n:V,shouldAnimate:z,onDelete:k,onRetry:N,isUser:P,getAgentInMessage:r===bt.GROUP?b:void 0,agentAvatarMap:r===bt.GROUP?x:void 0,chatType:r})]})},`${O.id}-${O.createdAt}`)})]},y||"no-channel")},"ChatMessageListComponent");function Qee({options:e=[],className:t="",onSelect:r,initialSelected:a=[]}){const[n,s]=J.useState(a),[o,h]=J.useState(!1),p=J.useRef(null);J.useEffect(()=>{s(a)},[a]),J.useEffect(()=>{const b=i(x=>{p.current&&!p.current.contains(x.target)&&h(!1)},"handleClickOutside");return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]);const v=i(b=>n.some(x=>b.id&&x.id?x.id===b.id:x.label===b.label),"isOptionSelected"),c=i(b=>{console.log("[MultiSelectCombobox] toggleSelection called with:",b),s(x=>{const k=v(b);let N;return k?N=x.filter(C=>b.id&&C.id?C.id!==b.id:C.label!==b.label):N=[...x,b],console.log("[MultiSelectCombobox] New selection:",N),r&&r(N),N})},"toggleSelection"),d=i(b=>{s(x=>{const k=x.filter(N=>b.id&&N.id?N.id!==b.id:N.label!==b.label);return r&&r(k),k})},"removeSelection"),y=i(()=>{s(b=>{const x=b.slice(0,3);return r&&r(x),x})},"removeExtraSelections");return j.jsxs("div",{className:`relative w-80 ${t}`,ref:p,children:[j.jsxs("div",{className:`flex items-center gap-2 border p-2 bg-background rounded cursor-pointer ${o?"border-primary":"border-input"}`,onClick:i(()=>h(!o),"onClick"),children:[j.jsx("div",{className:"flex flex-wrap gap-1 w-full",children:n.length>0?j.jsxs(j.Fragment,{children:[n.slice(0,3).map((b,x)=>j.jsxs(xi,{className:"flex items-center gap-1 px-2",children:[b.label,j.jsx(Fr,{size:12,className:"cursor-pointer",onClick:i(k=>{k.stopPropagation(),d(b)},"onClick")})]},b.id||b.label||x)),n.length>3&&j.jsxs(xi,{className:"px-2 cursor-pointer",onClick:i(b=>{b.stopPropagation(),y()},"onClick"),children:["+",n.length-3," more"]})]}):j.jsx("span",{className:"text-muted-foreground",children:"Select agents..."})}),j.jsx(Ji,{size:16})]}),o&&j.jsx(Wi,{className:"absolute left-0 mt-2 w-full shadow-md border border-border rounded z-40 max-h-60 overflow-y-auto",children:e.length===0?j.jsx("div",{className:"p-2 text-muted-foreground text-sm",children:"No agents available"}):e.map((b,x)=>j.jsxs("div",{className:`flex items-center gap-2 p-2 cursor-pointer rounded hover:bg-muted ${v(b)?"bg-muted":"bg-card"}`,onClick:i(()=>c(b),"onClick"),children:[j.jsx("div",{className:"bg-gray-500 rounded-full w-4 h-4 flex justify-center items-center overflow-hidden text-xs",children:b.icon?j.jsx("img",{src:b.icon,alt:b.label,className:"w-full h-full object-cover"}):Sa(b.label)}),b.label]},b.id||b.label||x))})]})}i(Qee,"MultiSelectCombobox");const Yee="00000000-0000-0000-0000-000000000000";function ete(e){return!!e.id&&!!Vo(e.id)&&typeof e.name=="string"&&e.name.trim()!==""}i(ete,"isAgentSelectable");function Bc({onClose:e,channelId:t}){const[r,a]=J.useState(""),[n,s]=J.useState([]),[o,h]=J.useState(""),[p,v]=J.useState([]),c=Yee,d=J.useRef(!1),y=J.useRef(t),b=J.useRef(!1),{data:x}=ry(t?c:void 0,{enabled:!!t}),{data:k,isLoading:N,isError:C}=ks(),R=J.useMemo(()=>(k?.agents||[]).filter(ete),[k]),O=xr(),T=Ar(),{toast:P}=rr(),{confirm:z,isOpen:V,onOpenChange:Z,onConfirm:ee,options:$}=Ba();J.useEffect(()=>{t&&(O.invalidateQueries({queryKey:["channelParticipants",t]}),O.refetchQueries({queryKey:["channelParticipants",t]}))},[t,O]);const F=Wr({mutationFn:i(async({name:U,participantIds:B})=>await Yt().messaging.createGroupChannel({name:U,participantIds:B,metadata:{type:bt.GROUP,server_id:c,source:so}}),"mutationFn"),onSuccess:i(U=>{U&&(P({title:"Success",description:"Group created successfully."}),O.invalidateQueries({queryKey:["channels",c]}),O.invalidateQueries({queryKey:["channels"]}),e(),setTimeout(()=>{T(`/group/${U.id}?serverId=${c}`)},100))},"onSuccess"),onError:i(U=>{qe.error("Failed to create group",U);const B=U instanceof Error?U.message:"Failed to create group.";P({title:"Error",description:B,variant:"destructive"})},"onError")}),u=Wr({mutationFn:i(async({name:U,participantIds:B})=>{if(!t)throw new Error("Channel ID is required for update");return await Yt().messaging.updateChannel(t,{name:U,participantCentralUserIds:B})},"mutationFn"),onSuccess:i(()=>{P({title:"Group Updated",description:"Group details updated successfully."}),O.invalidateQueries({queryKey:["channels",c]}),O.invalidateQueries({queryKey:["channels"]}),e(),setTimeout(()=>{T(`/group/${t}?serverId=${c}`)},100)},"onSuccess"),onError:i(U=>{qe.error("Failed to update group",U),console.error("Group update error details:",U);const B=U instanceof Error?U.message:"Failed to update group.";P({title:"Error",description:B,variant:"destructive"})},"onError")}),g=Wr({mutationFn:i(async()=>{if(!t)throw new Error("Channel ID is required for delete");return await Yt().messaging.deleteChannel(t)},"mutationFn"),onSuccess:i(()=>{P({title:"Group Deleted",description:"The group has been successfully deleted."}),O.invalidateQueries({queryKey:["channels",c]}),O.invalidateQueries({queryKey:["channels"]}),T("/"),e()},"onSuccess"),onError:i(U=>{qe.error("Failed to delete channel",U);const B=U instanceof Error?U.message:"Could not delete group.";typeof U=="object"&&U!==null&&U.statusCode===404?P({title:"Error Deleting Group",description:"Delete operation not found on server.",variant:"destructive"}):P({title:"Error Deleting Group",description:B,variant:"destructive"})},"onError")}),{data:l,isLoading:m,isError:w,error:M}=jr({queryKey:["channelParticipants",t],queryFn:i(async()=>{if(!t)return{success:!0,data:[]};try{const B=await Yt().messaging.getChannelParticipants(t);let G=[];return B&&Array.isArray(B.participants)?G=B.participants.map(H=>H.userId):B&&Array.isArray(B)&&(G=B.map(H=>H.userId||H.id||H)),{success:!0,data:G}}catch(U){return console.error("[GroupPanel] Error fetching channel participants:",U),{success:!1,error:{message:U instanceof Error?U.message:"Unknown error"}}}},"queryFn"),enabled:!!t,retry:!1,refetchOnMount:!0,refetchOnWindowFocus:!1,staleTime:0,gcTime:0});J.useEffect(()=>{if(t&&x?.data?.channels){const U=x.data.channels.find(B=>B.id===t);if(!d.current||y.current!==t){const B=U?.name||"";a(B),h(B),d.current=!0,y.current=t,b.current=!1}}else t||(d.current=!1,a(""),s([]),h(""),v([]))},[t,x]),J.useEffect(()=>{if(!N&&!(t&&m)){if(!t){b.current=!1;return}if(!(b.current&&y.current===t)){if(w){P({title:"Error",description:`Could not load group participants: ${M?.message||"Unknown error"}`,variant:"destructive"}),s([]),v([]),b.current=!0;return}if(l?.success&&l.data){const U=l.data,B=R.filter(G=>U.includes(G.id));s(B),v(B.map(G=>G.id)),b.current=!0}else l&&!l.success?(P({title:"Error",description:`Could not load group participants: ${l.error?.message||"Server error"}`,variant:"destructive"}),s([]),v([]),b.current=!0):(s([]),v([]),b.current=!0)}}},[t,N,m,l,R,w,M,P]);const A=J.useMemo(()=>N||C?[]:R.map(U=>({id:U.id,label:`${U.name}${U.status===pr.INACTIVE?" (Inactive)":""}`,icon:typeof U.settings?.avatar=="string"?U.settings.avatar:""})),[R,N,C]),S=J.useMemo(()=>[],[]),f=J.useMemo(()=>N||!t||t&&!b.current?S:n.map(B=>({id:B.id,label:`${B.name}${B.status===pr.INACTIVE?" (Inactive)":""}`,icon:typeof B.settings?.avatar=="string"?B.settings.avatar:""})),[t,n,N,S]),_=J.useCallback(U=>{const B=R.filter(G=>U.some(H=>H.id===G.id));s(B)},[R]),E=J.useCallback(async()=>{if(!t)return;const U=x?.data?.channels.find(B=>B.id===t);z({title:"Delete Group",description:`Are you sure you want to permanently delete the group chat "${U?.name||r||"this group"}"? This action cannot be undone.`,confirmText:"Delete",variant:"destructive"},()=>{g.mutate()})},[t,r,x,g]),I=J.useMemo(()=>{if(!t)return!0;const U=r.trim()!==o.trim(),B=n.map(K=>K.id).sort(),G=p.sort(),H=JSON.stringify(B)!==JSON.stringify(G);return U||H},[t,r,o,n,p]),D=J.useCallback(async()=>{if(!t&&n.length===0){P({title:"Validation Error",description:"Please select at least one agent for the group.",variant:"destructive"});return}const U=i(()=>{const B=n.map(H=>H.id),G=r.trim()||(n.length>0?n.map(H=>H.name).join(", "):"Empty Group");t?u.mutate({name:G,participantIds:B}):F.mutate({name:G,participantIds:B})},"proceed");if(t&&n.length===0){z({title:"Remove All Agents?",description:"Are you sure you want to remove all agents from this group? This will leave the group with no participants.",confirmText:"Remove All",variant:"destructive"},()=>{U()});return}U()},[t,r,n,F,u,P]),L=t?!I||F.isPending||u.isPending||g.isPending:n.length===0||F.isPending||u.isPending||g.isPending;return j.jsxs(j.Fragment,{children:[j.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50",onClick:e,children:j.jsxs(Wi,{className:"w-[80%] max-w-2xl",onClick:i(U=>U.stopPropagation(),"onClick"),children:[j.jsxs(Nc,{className:"flex flex-row items-center justify-between space-y-0",children:[j.jsx(ay,{className:"text-xl font-semibold",children:t?"Edit Group Chat":"Create Group Chat"}),j.jsx(et,{variant:"ghost",size:"sm",onClick:e,children:j.jsx(Fr,{className:"h-4 w-4"})})]}),j.jsx(ei,{}),j.jsx(za,{className:"pt-4",children:j.jsxs("div",{className:"flex flex-col gap-4 w-full",children:[j.jsxs("div",{className:"flex flex-col gap-2 w-full",children:[j.jsx("label",{htmlFor:"chat-name",className:"text-sm font-medium",children:"Chat Name (Optional)"}),j.jsx(hr,{id:"chat-name",value:r,onChange:i(U=>a(U.target.value),"onChange"),className:"w-full bg-background text-foreground",placeholder:"Leave blank to auto-generate from participants",disabled:F.isPending||u.isPending||g.isPending})]}),j.jsxs("div",{className:"flex flex-col gap-2 w-full",children:[j.jsxs("label",{htmlFor:"invite-agents",className:"text-sm font-medium",children:["Select Agents"," ",!t&&j.jsx("span",{className:"text-muted-foreground",children:"(Required)"})]}),N?j.jsxs("div",{className:"flex items-center justify-center p-4",children:[j.jsx(kr,{className:"h-6 w-6 animate-spin text-muted-foreground"}),j.jsx("span",{className:"ml-2 text-muted-foreground",children:"Loading agents..."})]}):C?j.jsx("div",{className:"flex items-center justify-center p-4 text-red-500",children:"Error loading agents. Please try again later."}):j.jsx(Qee,{options:A,onSelect:_,className:"w-full",initialSelected:f},`group-panel-combobox-${t||"create"}-${R.length}`),n.length>0&&j.jsxs("p",{className:"text-sm text-muted-foreground",children:[n.length," agent",n.length>1?"s":""," selected"]}),t&&I&&j.jsx("div",{className:"text-sm text-blue-500 mt-1",children:"You have unsaved changes"})]})]})}),j.jsxs(Ic,{className:"flex justify-between pt-4",children:[t&&j.jsxs(et,{variant:"destructive",onClick:E,disabled:g.isPending||F.isPending||u.isPending||N,children:[g.isPending?j.jsx(kr,{className:"mr-2 h-4 w-4 animate-spin"}):j.jsx(qo,{className:"mr-2 h-4 w-4"}),"Delete Group"]}),j.jsxs(et,{variant:"default",className:t?"":"w-full",onClick:D,disabled:L,children:[(F.isPending||u.isPending)&&j.jsx(kr,{className:"mr-2 h-4 w-4 animate-spin"}),t?"Update Group":"Create Group"]})]})]})}),j.jsx(La,{open:V,onOpenChange:Z,title:$?.title||"",description:$?.description||"",confirmText:$?.confirmText,cancelText:$?.cancelText,variant:$?.variant,onConfirm:ee})]})}i(Bc,"GroupPanel");Yt();function tte(e,t="00000000-0000-0000-0000-000000000000"){const r=Ma();return jr({queryKey:["dmChannels",e,r],queryFn:i(async()=>{if(!e)return[];qe.info("[useDmChannelsForAgent] Fetching distinct DM channels for agent:",e);const h=((await Yt().messaging.getServerChannels(t)).channels||[]).map(ey).filter(p=>{const v=p.metadata||{},c=p.type===bt.DM,d=v.isDm===!0,y=v.forAgent===e,b=v.user1===r&&v.user2===e||v.user1===e&&v.user2===r;if(c&&d&&y&&b)return!0;if(p.type===bt.DM&&!v.isDm&&!v.forAgent){const x=p.name.toLowerCase(),k=`dm-${r}-${e}`.toLowerCase(),N=`dm-${e}-${r}`.toLowerCase();if(x===k||x===N)return qe.warn("[useDmChannelsForAgent] Matched a canonical DM channel by name convention:",p.id,p.name),!0}return!1});return qe.info("[useDmChannelsForAgent] Found distinct DM channels:",h.length,h.map(p=>({id:p.id,name:p.name,metadata:p.metadata}))),h.sort((p,v)=>{const c=new Date(p.updatedAt||p.createdAt).getTime();return new Date(v.updatedAt||v.createdAt).getTime()-c})},"queryFn"),enabled:!!e,staleTime:er.FREQUENT,refetchInterval:er.STANDARD})}i(tte,"useDmChannelsForAgent");function rte(){const e=xr(),{toast:t}=rr(),r=Ma();return Ar(),Wr({mutationFn:i(async({agentId:a,channelName:n})=>{if(qe.info("[useCreateDmChannel] Creating new distinct DM channel with agent:",{agentId:a,channelName:n}),!n||!n.trim())throw new Error("Channel name cannot be empty for a new DM conversation.");return await Yt().messaging.createGroupChannel({name:n.trim(),participantIds:[r,a],metadata:{type:bt.DM,server_id:"00000000-0000-0000-0000-000000000000",isDm:!0,user1:r,user2:a,forAgent:a,createdAt:new Date().toISOString()}})},"mutationFn"),onSuccess:i((a,n)=>{qe.info("[useCreateDmChannel] Distinct DM channel created successfully:",a),t({title:"New Chat Started",description:`Conversation "${a.name}" created.`}),e.invalidateQueries({queryKey:["dmChannels",n.agentId,r]}),e.invalidateQueries({queryKey:["channels"]})},"onSuccess"),onError:i(a=>{qe.error("[useCreateDmChannel] Error creating distinct DM channel:",a),t({title:"Error Creating Chat",description:a instanceof Error?a.message:"Could not start new chat.",variant:"destructive"})},"onError")})}i(rte,"useCreateDmChannel");const k5="eliza-agent-sidebar-visible";function ite(){const[e,t]=J.useState(!1);J.useEffect(()=>{try{const n=localStorage.getItem(k5);if(n!==null){const s=JSON.parse(n);t(s)}}catch(n){qe.error("Error reading sidebar state from localStorage:",n),t(!1)}},[]);const r=J.useCallback(n=>{t(n);try{localStorage.setItem(k5,JSON.stringify(n))}catch(s){qe.error("Error saving sidebar state to localStorage:",s)}},[]),a=J.useCallback(()=>{r(!e)},[e,r]);return{isVisible:e,setSidebarVisible:r,toggleSidebar:a}}i(ite,"useSidebarState");const Pm="eliza-main-panel-width",Dm="eliza-sidebar-panel-width",Lm="eliza-floating-threshold",Bm=70,zm=30,Um=1400;function nte(){const[e,t]=J.useState(Bm),[r,a]=J.useState(zm),[n,s]=J.useState(!1),[o,h]=J.useState(Um);J.useEffect(()=>{try{const b=localStorage.getItem(Pm),x=localStorage.getItem(Dm),k=localStorage.getItem(Lm);if(b!==null){const N=parseFloat(b);!isNaN(N)&&N>0&&N<=100&&t(N)}if(x!==null){const N=parseFloat(x);!isNaN(N)&&N>0&&N<=100&&a(N)}if(k!==null){const N=parseFloat(k);!isNaN(N)&&N>0&&h(N)}}catch(b){qe.error("Error reading panel sizes from localStorage:",b),t(Bm),a(zm),h(Um)}},[]),J.useEffect(()=>{const b=i(()=>{const x=window.innerWidth<o;s(x)},"checkFloatingMode");return b(),window.addEventListener("resize",b),()=>{window.removeEventListener("resize",b)}},[o]);const p=J.useCallback(b=>{const x=Math.max(20,Math.min(80,b));t(x);try{localStorage.setItem(Pm,x.toString())}catch(k){qe.error("Error saving main panel size to localStorage:",k)}},[]),v=J.useCallback(b=>{const x=Math.max(20,Math.min(80,b));a(x);try{localStorage.setItem(Dm,x.toString())}catch(k){qe.error("Error saving sidebar panel size to localStorage:",k)}},[]),c=J.useCallback(b=>{const x=Math.max(320,Math.min(2560,b));h(x);try{localStorage.setItem(Lm,x.toString())}catch(k){qe.error("Error saving floating threshold to localStorage:",k)}},[]),d=J.useCallback(()=>{s(b=>!b)},[]),y=J.useCallback(()=>{t(Bm),a(zm),h(Um);try{localStorage.removeItem(Pm),localStorage.removeItem(Dm),localStorage.removeItem(Lm)}catch(b){qe.error("Error clearing panel sizes from localStorage:",b)}},[]);return{mainPanelSize:e,sidebarPanelSize:r,isFloatingMode:n,floatingThreshold:o,setMainPanelSize:p,setSidebarPanelSize:v,setFloatingThreshold:c,toggleFloatingMode:d,resetPanelSizes:y}}i(nte,"usePanelWidthState");var Lu={exports:{}},ate=Lu.exports,A5;function ste(){return A5||(A5=1,(function(e,t){(function(r,a){e.exports=a()})(ate,(function(){return function(r,a,n){r=r||{};var s=a.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function h(v,c,d,y){return s.fromToBase(v,c,d,y)}i(h,"i"),n.en.relativeTime=o,s.fromToBase=function(v,c,d,y,b){for(var x,k,N,C=d.$locale().relativeTime||o,R=r.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],O=R.length,T=0;T<O;T+=1){var P=R[T];P.d&&(x=y?n(v).diff(d,P.d,!0):d.diff(v,P.d,!0));var z=(r.rounding||Math.round)(Math.abs(x));if(N=x>0,z<=P.r||!P.r){z<=1&&T>0&&(P=R[T-1]);var V=C[P.l];b&&(z=b(""+z)),k=typeof V=="string"?V.replace("%d",z):V(z,c,P.l,N);break}}if(c)return k;var Z=N?C.future:C.past;return typeof Z=="function"?Z(k):Z.replace("%s",k)},s.to=function(v,c){return h(v,c,this,!0)},s.from=function(v,c){return h(v,c,this)};var p=i(function(v){return v.$u?n.utc():n()},"d");s.toNow=function(v){return this.to(p(this),v)},s.fromNow=function(v){return this.from(p(this),v)}}}))})(Lu)),Lu.exports}i(ste,"requireRelativeTime");var ote=ste();const lte=Jo(ote);ga.extend(lte);const ute="00000000-0000-0000-0000-000000000000",fte=i(e=>{const t=e.rawMessage,r=i(c=>{switch(c){case"pending":case"executing":case"running":return"input-streaming";case"completed":case"success":return"output-available";case"failed":case"error":return"output-error";default:return"input-available"}},"mapActionStatusToState"),a=t.actions?.[0]||t.action||"ACTION",n=t.actionStatus||"completed",s=t.actionId,o={};t.actions&&(o.actions=t.actions),t.action&&(o.action=t.action),t.thought&&(o.thought=t.thought);const h={};t.text&&(h.result=t.text),h.status=n,t.thought&&(h.thought=t.thought),t.actionResult&&(h.actionResult=t.actionResult);const v=n==="failed"||n==="error"?t.text||"Action failed":void 0;return{type:a,state:r(n),toolCallId:s,input:Object.keys(o).length>0?o:void 0,output:Object.keys(h).length>0?h:void 0,errorText:v}},"convertActionMessageToToolPart"),cte=Ef.memo(dte,(e,t)=>e.message.id===t.message.id&&e.message.text===t.message.text&&e.message.isLoading===t.message.isLoading&&e.shouldAnimate===t.shouldAnimate&&e.isUser===t.isUser);function dte({message:e,agentForTts:t,shouldAnimate:r,onDelete:a,onRetry:n,isUser:s,getAgentInMessage:o,agentAvatarMap:h,chatType:p}){const v=e.type==="agent_action"||e.source==="agent_action";return j.jsxs("div",{className:"flex flex-col w-full",children:[j.jsxs(qN,{isLoading:e.isLoading,...s?{variant:"sent"}:{},...!e.text&&!e.attachments?.length?{className:"bg-transparent"}:{},children:[v?j.jsx(FY,{toolPart:fte(e),defaultOpen:!1,className:"max-w-none"}):j.jsx("div",{children:(()=>{if(!e.text)return null;const c=_I(e.text),d=new Set(e.attachments?.map(x=>x.url).filter(Boolean)||[]),y=c.filter(x=>!d.has(x.url)),b=KY(e.text,c);return j.jsxs("div",{className:"space-y-3",children:[b.trim()&&j.jsx("div",{children:s?j.jsx(my,{className:"prose-sm max-w-none",variant:"user",children:b}):j.jsx(NY,{className:"prose-sm max-w-none",variant:"agent",shouldAnimate:r,messageId:e.id,children:b})}),y.length>0&&j.jsx("div",{className:"space-y-2",children:y.map((x,k)=>j.jsx("div",{children:j.jsx(t5,{url:x.url,title:"Shared media"})},`${x.url}-${k}`))})]})})()}),e.attachments?.filter(c=>c.url&&c.url.trim()!=="").map(c=>j.jsx(t5,{url:c.url,title:c.title||"Attachment"},`${c.url}-${c.title}`))]}),j.jsxs("div",{className:"flex items-center justify-between w-full py-1",children:[j.jsx("div",{children:!s&&(e.text||e.attachments?.length)&&e.createdAt&&j.jsx(mW,{className:"text-muted-foreground",timestamp:ga(e.createdAt).format("LT")})}),j.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-500",children:[!s&&e.text&&!e.isLoading&&t?.id&&j.jsxs(j.Fragment,{children:[j.jsx(tW,{text:e.text}),j.jsx(vW,{agentId:t.id,text:e.text})]}),s&&e.text&&!e.isLoading&&n&&j.jsx(iW,{onClick:i(()=>n(e.text||""),"onClick")}),j.jsx(rW,{onClick:i(()=>a(e.id),"onClick")})]})]})]})}i(dte,"MessageContent");function KI({chatType:e,contextId:t,serverId:r,initialDmChannelId:a}){const{toast:n}=rr(),s=xr(),{isVisible:o,setSidebarVisible:h,toggleSidebar:p}=ite(),{mainPanelSize:v,sidebarPanelSize:c,isFloatingMode:d,setMainPanelSize:y,setSidebarPanelSize:b}=nte(),[x,k]=J.useState({showGroupEditPanel:!1,showProfileOverlay:!1,input:"",inputDisabled:!1,selectedGroupAgentId:null,currentDmChannelId:null,isCreatingDM:!1,isMobile:!1}),R=xf().state?.forceNew||!1;Ar();const[O,T]=J.useState(R),P=d||x.isMobile,{confirm:z,isOpen:V,onOpenChange:Z,onConfirm:ee,options:$}=Ba(),{stopAgent:F,isAgentStopping:u}=js(),g=J.useCallback(Ie=>{k(Fe=>({...Fe,...Ie}))},[]),l=Ma(),m=J.useRef(null),w=J.useRef(null),M=J.useRef(null),A=J.useRef(!1),S=J.useRef(!1),f=J.useRef(""),{data:_,isLoading:E}=_l(e===bt.DM?t:void 0,{enabled:e===bt.DM}),I=_?.data?{..._.data,createdAt:_.data.createdAt||Date.now(),updatedAt:_.data.updatedAt||Date.now()}:void 0,{handleDelete:D,isDeleting:L}=MI(I||{}),{data:U=[],isLoading:B}=tte(e===bt.DM?t:void 0),G=rte(),{data:H}=tX(e===bt.GROUP?t:void 0),{data:K}=iy(e===bt.GROUP?t:void 0),_e=K?.data,{data:ae}=ks(),se=ae?.agents||[],ye=U[0],q=e===bt.DM?x.currentDmChannelId||void 0:t||void 0,re=J.useMemo(()=>e===bt.DM?ute:r||void 0,[e,r]),{data:X=[],isLoading:W}=a8(ye?.id,re),{data:le=[],isLoading:ke,addMessage:pe,updateMessage:fe,removeMessage:Q,clearMessages:Y}=a8(q,re),te=J.useMemo(()=>e!==bt.GROUP||!_e?[]:_e.map(Ie=>se.find(Fe=>Fe.id===Ie)).filter(Boolean),[e,_e,se]),he=J.useMemo(()=>se.reduce((Ie,Fe)=>(Fe.id&&typeof Fe.settings?.avatar=="string"&&(Ie[Fe.id]=Fe.settings.avatar),Ie),{}),[se]),oe=J.useCallback(Ie=>se.find(Fe=>Fe.id===Ie),[se]),{scrollRef:ue,contentRef:ze,isAtBottom:we,scrollToBottom:Be,disableAutoScroll:We,autoScrollEnabled:ve}=PY({smooth:!0}),Ue=J.useRef(0),ce=J.useCallback(()=>{ue.current&&setTimeout(()=>Be(),0)},[Be,ue]),be=J.useRef(!1),Te=J.useRef(null),Re=J.useCallback(async Ie=>{if(!Ie||e!=="DM")return;if(ye)try{const yt=await Yt().messaging.getChannelMessages(ye.id,{limit:30}),ht=Pe(ye.name),Mt=(yt?.messages?.length??0)===0;if(ht&&Mt){x.currentDmChannelId===ye.id?n({title:"Already in a fresh chat",description:`You're already in a new chat with ${I?.name||"the agent"}.`}):(g({currentDmChannelId:ye.id}),n({title:"Chat opened",description:`You can now start chatting with ${I?.name||"the agent"}.`})),g({currentDmChannelId:ye.id});return}else qe.info("[Chat] Latest DM channel has messages or customized name, proceeding to create a new one.")}catch(lt){qe.error("[Chat] Failed to fetch latest DM channel messages:",lt)}const Fe=`Chat - ${ga().format("MMM D, HH:mm:ss")}`;qe.info(`[Chat] Creating new distinct DM channel with agent ${Ie}, name: "${Fe}"`),g({isCreatingDM:!0});try{be.current=!0,await G.mutateAsync({agentId:Ie,channelName:Fe}),g({input:""}),setTimeout(()=>ce(),150)}catch(lt){qe.error("[Chat] Error creating new distinct DM channel:",lt),g({currentDmChannelId:null,input:""})}finally{g({isCreatingDM:!1}),n({title:"Chat opened",description:`You can now start chatting with ${I?.name||"the agent"}.`})}},[e,G,g,ce,ye]),Ae=J.useCallback(Ie=>{const Fe=U.find(lt=>lt.id===Ie);Fe&&(qe.info(`[Chat] DM Channel selected: ${Fe.name} (Channel ID: ${Fe.id})`),g({currentDmChannelId:Fe.id,input:""}),setTimeout(()=>ce(),150))},[U,g,ce]),$e=J.useCallback(()=>{if(e!==bt.DM||!x.currentDmChannelId||!I?.id)return;const Ie=U.find(Fe=>Fe.id===x.currentDmChannelId);Ie&&z({title:"Delete Chat",description:`Are you sure you want to delete the chat "${Ie.name}" with ${I.name}? This action cannot be undone.`,confirmText:"Delete",variant:"destructive"},async()=>{qe.info(`[Chat] Deleting DM channel ${Ie.id}`);try{await Yt().messaging.deleteChannel(Ie.id),s.setQueryData(["dmChannels",I.id,l],yt=>yt?.filter(ht=>ht.id!==Ie.id)),s.invalidateQueries({queryKey:["dmChannels",I.id,l]}),s.invalidateQueries({queryKey:["channels"]}),n({title:"Chat Deleted",description:`"${Ie.name}" was deleted.`});const lt=s.getQueryData(["dmChannels",I.id,l])||[];lt.length>0?(g({currentDmChannelId:lt[0].id}),qe.info("[Chat] Switched to DM channel:",lt[0].id)):(qe.info("[Chat] No DM channels left after deletion. Will create a fresh chat once."),g({currentDmChannelId:null}),be.current=!1,await Re(I.id))}catch(Fe){qe.error("[Chat] Error deleting DM channel:",Fe),n({title:"Error",description:"Could not delete chat. The server might not support this action yet.",variant:"destructive"})}})},[e,x.currentDmChannelId,I,U,z,n,g,Re,s,l]);J.useEffect(()=>{ye&&!W&&X&&I?.id&&O&&(Re(I.id),T(!1))},[O,T,Re,I?.id,ye,X,W]),J.useEffect(()=>{A.current=x.inputDisabled},[x.inputDisabled]),J.useEffect(()=>{const Ie=U.find(Fe=>Fe.id===x.currentDmChannelId);Ie?.name&&(f.current=Ie.name)},[U,x.currentDmChannelId]),J.useEffect(()=>{!B&&U.length>0&&(qe.info("[Chat] Selecting first available DM channel:",U[0].id),g({currentDmChannelId:U[0].id}))},[U,B,g]);const Ye=J.useCallback(Ie=>{if(e===bt.DM&&t&&Ie&&typeof window<"u"){const Fe=`/chat/${t}/${Ie}`;window.location.pathname!==Fe&&window.history&&window.history.replaceState(null,"",Fe)}},[e,t]);J.useEffect(()=>{x.currentDmChannelId&&Ye(x.currentDmChannelId)},[x.currentDmChannelId,Ye]),J.useEffect(()=>{if(qe.info("[Chat] URL navigation effect triggered",{initialDmChannelId:a,agentDmChannelsLength:U.length,isLoadingAgentDmChannels:B,currentDmChannelId:x.currentDmChannelId}),a&&U.length>0&&!B&&!S.current){if(!Vo(a)){qe.warn("[Chat] Invalid channel ID format from URL:",a),S.current=!0;return}U.some(lt=>lt.id===a)?(qe.info("[Chat] Switching to channel from URL:",a),g({currentDmChannelId:a}),S.current=!0):(qe.warn("[Chat] Channel from URL not found, staying with current channel",{initialDmChannelId:a,availableChannels:U.map(lt=>lt.id)}),S.current=!0)}},[a,U,B,g]),J.useEffect(()=>{if(e===bt.DM&&I?.id){if(!(!x.currentDmChannelId||U.some(Fe=>Fe.id===x.currentDmChannelId))&&!B){qe.info(`[Chat] Current DM channel ${x.currentDmChannelId} doesn't belong to agent ${I.id}, clearing it`),g({currentDmChannelId:null});return}!B&&U.length===0&&!a&&!be.current&&!x.isCreatingDM&&!G.isPending&&(qe.info("[Chat] No existing DM channels found; auto-creating a fresh one."),be.current=!0,Re(I.id))}else e!==bt.DM&&x.currentDmChannelId!==null&&g({currentDmChannelId:null})},[e,I?.id,U,B,G.isPending,x.isCreatingDM,x.currentDmChannelId,a,g,Re]),J.useEffect(()=>(U.length>0&&Te.current&&(clearTimeout(Te.current),Te.current=null),()=>{Te.current&&(clearTimeout(Te.current),Te.current=null)}),[U]),J.useEffect(()=>{e===bt.GROUP&&te.length===1&&!x.selectedGroupAgentId&&(g({selectedGroupAgentId:te[0].id}),o||h(!0))},[e,te,x.selectedGroupAgentId,g,o,h]);const{mutate:Ne}=rX(),{mutate:Ee}=iX();J.useEffect(()=>{const Ie=Ue.current===0&&le.length>0,Fe=le.length!==Ue.current&&Ue.current!==0;Ie?(qe.debug("[chat] Initial messages loaded, scrolling to bottom.",{count:le.length}),ce()):Fe&&(ve?(qe.debug("[chat] New messages and autoScroll enabled, scrolling."),ce()):qe.debug("[chat] New messages, but autoScroll is disabled (user scrolled up).")),Ue.current=le.length},[le,ve,ce,q]);function Pe(Ie){return!!Ie?.match(/^Chat - [A-Z][a-z]{2} \d{1,2}, \d{2}:\d{2}(:\d{2})?$/)}i(Pe,"isAutoGeneratedChatName");const Se=i(async()=>{if(!(!!f.current&&Pe(f.current)&&e===bt.DM))return;if(!q||!x.currentDmChannelId){qe.warn("Cannot update chat title: missing channel ID");return}const Fe=Yt(),yt=(await Fe.messaging.generateChannelTitle(q,t))?.title,ht=await Fe.messaging.getChannelParticipants(x.currentDmChannelId);if(yt&&ht){let Mt=[];ht&&Array.isArray(ht.participants)?Mt=ht.participants.map(Et=>Et.userId):ht&&Array.isArray(ht)&&(Mt=ht.map(Et=>Et.userId||Et.id||Et)),await Fe.messaging.updateChannel(q,{name:yt,participantCentralUserIds:Mt});const Bt=Ma();s.invalidateQueries({queryKey:["dmChannels",t,Bt]})}},"updateChatTitle"),{sendMessage:Ze,animatedMessageId:Ke}=GY({channelId:q,currentUserId:l,contextId:t,chatType:e,allAgents:se,messages:le,onAddMessage:i(Ie=>{pe(Ie),Se(),Ie.isAgent&&ce()},"onAddMessage"),onUpdateMessage:i((Ie,Fe)=>{fe(Ie,Fe),!Fe.isLoading&&Fe.isLoading!==void 0&&ce()},"onUpdateMessage"),onDeleteMessage:i(Ie=>{Q(Ie)},"onDeleteMessage"),onClearMessages:i(()=>{Y()},"onClearMessages"),onInputDisabledChange:i(Ie=>g({inputDisabled:Ie}),"onInputDisabledChange")}),{selectedFiles:ie,handleFileChange:me,removeFile:Ce,createBlobUrls:xe,uploadFiles:Oe,cleanupBlobUrls:He,clearFiles:ne}=$Y({agentId:I?.id,channelId:q,chatType:e}),je=i(Ie=>{Ie.key==="Enter"&&!Ie.shiftKey&&!Ie.nativeEvent.isComposing&&(Ie.preventDefault(),Ge(Ie))},"handleKeyDown"),Ge=i(async Ie=>{Ie.preventDefault();let Fe=q;if(e===bt.DM&&!Fe&&I?.id){if(x.isCreatingDM||G.isPending){qe.info("[Chat] DM channel creation already in progress; will wait for it to finish instead of creating another.");return}qe.info("[Chat] No DM channel selected, creating one before sending message");try{be.current=!0;const _t=await G.mutateAsync({agentId:I.id,channelName:`Chat - ${ga().format("MMM D, HH:mm")}`});g({currentDmChannelId:_t.id}),Fe=_t.id,await new Promise(Ft=>setTimeout(Ft,100))}catch(_t){qe.error("[Chat] Failed to create DM channel before sending message:",_t),n({title:"Error",description:"Failed to create chat channel. Please try again.",variant:"destructive"}),g({inputDisabled:!1});return}}if(!x.input.trim()&&ie.length===0||A.current||!Fe||!re||!l||e===bt.DM&&!I?.id)return;const lt=bn();let yt=x.input.trim();const ht=x.input;g({input:"",inputDisabled:!0});const Mt=[...ie];ne(),M.current?.reset();const Bt=xe(Mt),Et={id:lt,text:yt,name:Xa,createdAt:Date.now(),senderId:l,isAgent:!1,isLoading:!0,channelId:Fe,serverId:re,source:e===bt.DM?Ml:so,attachments:Bt};(yt||Mt.length>0)&&pe(Et),ce();try{let _t=[];if(Mt.length>0){const{uploaded:Nt,failed:Pt,blobUrls:Ut}=await Oe(Mt);_t=Nt,Pt.length>0&&fe(lt,{attachments:Et.attachments?.filter(Zt=>!Pt.some(Ht=>Ht.file.id===Zt.id))}),He(Ut),!yt.trim()&&_t.length>0&&(yt=`Shared ${_t.length} file(s).`)}const Vt=_I(ht).map((Nt,Pt)=>({id:`textmedia-${lt}-${Pt}`,url:Nt.url,title:Nt.type==="image"?"Image":Nt.type==="video"?"Video":"Media Link",source:"user_input_url",contentType:Nt.type==="image"?pg.IMAGE:Nt.type==="video"?pg.VIDEO:void 0})),Tt=[..._t,...Vt],zt=yt||(Tt.length>0?"Shared content.":"");if(!zt.trim()&&Tt.length===0){g({inputDisabled:!1}),Q(lt);return}await Ze(zt,re,e===bt.DM?Ml:so,Tt.length>0?Tt:void 0,lt,void 0,Fe)}catch(_t){qe.error("Error sending message or uploading files:",_t),n({title:"Error Sending Message",description:_t instanceof Error?_t.message:"Could not send message.",variant:"destructive"}),fe(lt,{isLoading:!1,text:`${Et.text||"Attachment(s)"} (Failed to send)`}),g({inputDisabled:!1})}finally{m.current?.focus()}},"handleSendMessage"),ge=i(Ie=>{if(!q||!Ie)return;const Fe=Vo(Ie);Fe&&(Q(Ie),Ne({channelId:q,messageId:Fe}))},"handleDeleteMessage"),Je=i(async Ie=>{if(A.current||!Ie.text?.trim()&&Ie.attachments?.length===0)return;g({inputDisabled:!0});const Fe=bn(),lt=Ie.text?.trim()||`Shared ${Ie.attachments?.length} file(s).`,yt={id:Fe,text:Ie.text,name:Xa,createdAt:Date.now(),senderId:l,isAgent:!1,isLoading:!0,channelId:Ie.channelId,serverId:re,source:e===bt.DM?Ml:so,attachments:Ie.attachments};if(pe(yt),ce(),!re||!q){qe.error("Cannot retry message: missing server or channel ID"),n({title:"Error Sending Message",description:"Missing required channel information.",variant:"destructive"}),g({inputDisabled:!1}),Q(Fe);return}try{await Ze(lt,re,e===bt.DM?Ml:so,Ie.attachments,Fe,void 0,q)}catch(ht){qe.error("Error sending message or uploading files:",ht),n({title:"Error Sending Message",description:ht instanceof Error?ht.message:"Could not send message.",variant:"destructive"}),fe(Fe,{isLoading:!1,text:`${yt.text||"Attachment(s)"} (Failed to send)`}),g({inputDisabled:!1})}},"handleRetryMessage"),tt=i(()=>{if(!q)return;const Ie=e===bt.DM?`Clear all messages in this chat with ${I?.name}?`:"Clear all messages in this group chat?";z({title:"Clear Chat",description:`${Ie} This action cannot be undone.`,confirmText:"Clear",variant:"destructive"},()=>{Ee(q)})},"handleClearChat");if(J.useEffect(()=>{const Ie=i(()=>{const Fe=window.innerWidth<768;g({isMobile:Fe})},"checkMobile");return Ie(),window.addEventListener("resize",Ie),()=>window.removeEventListener("resize",Ie)},[g]),e===bt.DM&&(E||!I&&t||B))return j.jsx("div",{className:"flex items-center justify-center h-full",children:j.jsx(kr,{className:"h-8 w-8 animate-spin text-primary"})});if(!q||!re||e===bt.DM&&!I)return j.jsx("div",{className:"flex flex-1 justify-center items-center",children:j.jsx("p",{children:"Loading chat context..."})});const De=i(()=>{L||z({title:"Delete Agent",description:`Are you sure you want to delete the agent "${I?.name}"? This action cannot be undone.`,confirmText:"Delete",variant:"destructive"},D)},"onDeleteAgent"),Qe=i(()=>{if(e===bt.DM&&I)return j.jsxs("div",{className:"flex items-center justify-between mb-4 p-3",children:[j.jsx("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:j.jsxs(_o,{children:[j.jsx(So,{asChild:!0,children:j.jsxs(et,{variant:"ghost",size:"sm",className:"py-6 px-2 flex-shrink-0",children:[j.jsxs("div",{className:"relative flex-shrink-0",children:[j.jsx(Gn,{className:"size-4 sm:size-10 border rounded-full",children:j.jsx(Oa,{src:yo(I)})}),I?.status===pr.ACTIVE?j.jsxs(cr,{children:[j.jsx(dr,{asChild:!0,children:j.jsx("span",{className:"absolute bottom-0 right-0 size-2 sm:size-[10px] rounded-full border border-white bg-green-500"})}),j.jsx(lr,{side:"right",children:j.jsx("p",{children:"Agent is active"})})]}):j.jsxs(cr,{children:[j.jsx(dr,{asChild:!0,children:j.jsx("span",{className:"absolute bottom-0 right-0 size-2 sm:size-[10px] rounded-full border border-white bg-muted-foreground"})}),j.jsx(lr,{side:"right",children:j.jsx("p",{children:"Agent is inactive"})})]})]}),j.jsx("div",{children:j.jsx("h2",{className:"font-semibold text-lg truncate max-w-[80px] sm:max-w-none",children:I?.name||"Agent"})}),j.jsx(Ji,{className:"size-4"})]})}),j.jsxs(Mo,{align:"start",side:"bottom",className:"min-w-36 w-[var(--radix-dropdown-menu-trigger-width)]",children:[j.jsxs(Fi,{onClick:i(()=>{hv(I,n)},"onClick"),children:[j.jsx(e_,{className:"h-4 w-4 mr-2"}),"Export"]}),j.jsx(Uu,{}),j.jsxs(Fi,{onClick:i(()=>{I&&!u(I.id)&&F(I)},"onClick"),children:[j.jsx(Wg,{className:"h-4 w-4 mr-2"}),"Stop Agent"]}),j.jsxs(Fi,{onClick:i(()=>{I&&!L&&De()},"onClick"),className:"text-destructive focus:text-destructive hover:bg-red-50 dark:hover:bg-red-950/50",children:[j.jsx(qo,{className:"h-4 w-4 mr-2"}),"Delete Agent"]})]})]})}),j.jsx("div",{className:"flex gap-1 sm:gap-2 items-center flex-shrink-0",children:e===bt.DM&&j.jsxs("div",{className:"flex items-center gap-2",children:[U.length>0&&j.jsxs(_o,{children:[j.jsx(So,{asChild:!0,children:j.jsxs(et,{variant:"outline",size:"sm",className:"w-8 h-9 sm:max-w-[300px] sm:w-auto rounded-[12px]",children:[j.jsx(Mf,{className:"size-4 flex-shrink-0 text-muted-foreground"}),j.jsx("span",{className:"hidden md:inline truncate text-xs sm:text-sm",children:U.find(Ie=>Ie.id===x.currentDmChannelId)?.name||"Select Chat"}),j.jsx(Ji,{className:"hidden md:inline-flex size-4 text-muted-foreground"})]})}),j.jsxs(Mo,{align:"end",className:"w-[280px] sm:w-[320px]",children:[j.jsxs(fT,{className:"font-medium",children:["Chat History with ",I.name]}),j.jsx(Uu,{}),j.jsx("div",{className:"max-h-[300px] overflow-y-auto",children:U.map(Ie=>j.jsx(Fi,{onClick:i(()=>Ae(Ie.id),"onClick"),className:Le("cursor-pointer",Ie.id===x.currentDmChannelId&&"bg-muted"),children:j.jsxs("div",{className:"flex items-center justify-between w-full",children:[j.jsxs("div",{className:"flex flex-col min-w-0 flex-1",children:[j.jsx("span",{className:Le("text-sm truncate",Ie.id===x.currentDmChannelId&&"font-medium"),children:Ie.name}),j.jsx("span",{className:"text-xs text-muted-foreground",children:ga((typeof Ie.metadata?.createdAt=="string"||typeof Ie.metadata?.createdAt=="number"?Ie.metadata.createdAt:null)||Ie.updatedAt||Ie.createdAt).fromNow()})]}),Ie.id===x.currentDmChannelId&&j.jsx(xi,{variant:"default",className:"text-xs flex-shrink-0 ml-2",children:"Current"})]})},Ie.id))})]})]}),j.jsx(Hg,{mainAction:{label:x.isCreatingDM?"Creating...":j.jsxs(j.Fragment,{children:[j.jsx("span",{className:"sm:hidden",children:"New"}),j.jsx("span",{className:"hidden sm:inline",children:"New Chat"})]}),onClick:i(()=>Re(I?.id),"onClick"),icon:x.isCreatingDM?j.jsx(kr,{className:"size-4 animate-spin"}):j.jsx(_f,{className:"size-4"}),disabled:x.isCreatingDM||B},actions:[{label:"Clear Chat",onClick:tt,icon:j.jsx(Ey,{className:"size-4"}),disabled:!le||le.length===0},{label:"Delete Chat",onClick:$e,icon:j.jsx(xa,{className:"size-4"}),disabled:!x.currentDmChannelId,variant:"destructive"}],variant:"outline",size:"sm",mainButtonClassName:"rounded-l-[12px] h-9",dropdownButtonClassName:"rounded-r-[12px] h-9"}),j.jsxs(cr,{children:[j.jsx(dr,{asChild:!0,children:j.jsx(et,{className:"w-9 h-9 rounded-[12px]",variant:"outline",onClick:p,children:o?j.jsx(Vc,{className:"size-4"}):j.jsx(ky,{className:"size-4"})})}),j.jsx(lr,{side:"bottom",children:j.jsx("p",{children:o?"Close SidePanel":"Open SidePanel"})})]})]})})]});if(e===bt.GROUP){const Ie=uv(H?.data||void 0,te,l);return j.jsxs("div",{className:"flex flex-col gap-3 mb-4",children:[j.jsxs("div",{className:"flex items-center justify-between p-3 bg-card rounded-lg border",children:[j.jsx("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:j.jsx("h2",{className:"font-semibold text-lg truncate",title:Ie,children:Ie})}),j.jsxs("div",{className:"flex gap-1 sm:gap-2 items-center flex-shrink-0",children:[j.jsx(Hg,{mainAction:{label:"Edit Group",onClick:i(()=>g({showGroupEditPanel:!0}),"onClick"),icon:j.jsx(SR,{className:"size-4"})},actions:[{label:"Clear Messages",onClick:tt,icon:j.jsx(Ey,{className:"size-4"}),disabled:!le||le.length===0},{label:"Delete Group",onClick:i(()=>{if(!q||!re)return;const Fe=q;z({title:"Delete Group",description:"Are you sure you want to delete this group? This action cannot be undone.",confirmText:"Delete",variant:"destructive"},async()=>{try{await Yt().messaging.deleteChannel(Fe),n({title:"Group Deleted",description:"The group has been successfully deleted."}),window.location.href="/"}catch(lt){qe.error("[Chat] Error deleting group:",lt),n({title:"Error",description:"Could not delete group.",variant:"destructive"})}})},"onClick"),icon:j.jsx(xa,{className:"size-4"}),disabled:!q||!re,variant:"destructive"}],variant:"outline",size:"sm",className:"px-2 sm:px-3"}),j.jsx(et,{variant:"ghost",size:"sm",className:"px-2 sm:px-3 h-8 w-8 sm:w-auto",onClick:p,children:o?j.jsx(Vc,{className:"h-4 w-4"}):j.jsx(ky,{className:"h-4 w-4"})})]})]}),te.length>0&&j.jsxs("div",{className:"flex items-center gap-2 p-2 bg-card rounded-lg border overflow-x-auto",children:[j.jsx("span",{className:"text-sm text-muted-foreground whitespace-nowrap flex-shrink-0",children:"Agents:"}),j.jsxs("div",{className:"flex gap-2 min-w-0",children:[j.jsx(et,{variant:x.selectedGroupAgentId?"ghost":"default",size:"sm",onClick:i(()=>g({selectedGroupAgentId:null}),"onClick"),className:"flex items-center gap-2 flex-shrink-0",children:j.jsx("span",{children:"All"})}),te.map(Fe=>j.jsxs(et,{variant:x.selectedGroupAgentId===Fe?.id?"default":"ghost",size:"sm",onClick:i(()=>{g({selectedGroupAgentId:Fe?.id||null}),Fe?.id&&!o&&h(!0)},"onClick"),className:"flex items-center gap-2 flex-shrink-0",children:[j.jsx(Gn,{className:"size-5",children:j.jsx(Oa,{src:yo(Fe)})}),j.jsx("span",{className:"truncate max-w-[100px] sm:max-w-none",children:Fe?.name})]},Fe?.id))]})]})]})}return null},"renderChatHeader");return j.jsxs(j.Fragment,{children:[j.jsxs("div",{className:"h-full flex flex-col relative overflow-hidden",children:[P?j.jsxs("div",{className:"h-full flex flex-col overflow-hidden",children:[j.jsx("div",{className:"flex-shrink-0 p-2 sm:p-4 pb-0",children:Qe()}),j.jsxs("div",{className:Le("flex flex-col transition-all duration-300 w-full flex-1 min-h-0 overflow-hidden p-2 sm:p-4 pt-0"),children:[j.jsx("div",{className:"flex-1 min-h-0 overflow-hidden px-5 py-2",children:j.jsx(E5,{messages:le,isLoadingMessages:ke,chatType:e,currentClientEntityId:l,targetAgentData:I,allAgents:se,animatedMessageId:Ke,scrollRef:ue,contentRef:ze,isAtBottom:we,scrollToBottom:Be,disableAutoScroll:We,finalChannelId:q,getAgentInMessage:oe,agentAvatarMap:he,onDeleteMessage:ge,onRetryMessage:i(Ie=>{if(!q){n({title:"Error",description:"Cannot retry message: missing channel information.",variant:"destructive"});return}const Fe={id:bn(),text:Ie,name:Xa,senderId:l,isAgent:!1,createdAt:Date.now(),channelId:q,serverId:re};Je(Fe)},"onRetryMessage"),selectedGroupAgentId:x.selectedGroupAgentId})}),j.jsx("div",{className:"flex-shrink-0",children:j.jsx(M5,{input:x.input,setInput:i(Ie=>g({input:Ie}),"setInput"),inputDisabled:x.inputDisabled,selectedFiles:ie,removeFile:Ce,handleFileChange:me,handleSendMessage:Ge,handleKeyDown:je,chatType:e,targetAgentData:I,formRef:M,inputRef:m,fileInputRef:w})})]})]}):j.jsxs(DY,{direction:"horizontal",className:"h-full flex-1 overflow-hidden",onLayout:i(Ie=>{Ie.length>=2&&o&&!x.isMobile&&(y(Ie[0]),b(Ie[1]))},"onLayout"),children:[j.jsx(f5,{defaultSize:o&&!x.isMobile?v:100,minSize:x.isMobile?100:50,children:j.jsx("div",{className:"relative h-full overflow-hidden",children:j.jsxs("div",{className:"h-full flex flex-col overflow-hidden",children:[j.jsx("div",{className:"flex-shrink-0 p-2 sm:p-4 pb-0",children:Qe()}),j.jsxs("div",{className:Le("flex flex-col transition-all duration-300 w-full flex-1 min-h-0 overflow-hidden p-2 sm:p-4 pt-0"),children:[j.jsx("div",{className:"flex-1 min-h-0 overflow-hidden px-5 py-2",children:j.jsx(E5,{messages:le,isLoadingMessages:ke,chatType:e,currentClientEntityId:l,targetAgentData:I,allAgents:se,animatedMessageId:Ke,scrollRef:ue,contentRef:ze,isAtBottom:we,scrollToBottom:Be,disableAutoScroll:We,finalChannelId:q,getAgentInMessage:oe,agentAvatarMap:he,onDeleteMessage:ge,onRetryMessage:i(Ie=>{if(!q){n({title:"Error",description:"Cannot retry message: missing channel information.",variant:"destructive"});return}const Fe={id:bn(),text:Ie,name:Xa,senderId:l,isAgent:!1,createdAt:Date.now(),channelId:q,serverId:re};Je(Fe)},"onRetryMessage"),selectedGroupAgentId:x.selectedGroupAgentId})}),j.jsx("div",{className:"flex-shrink-0",children:j.jsx(M5,{input:x.input,setInput:i(Ie=>g({input:Ie}),"setInput"),inputDisabled:x.inputDisabled,selectedFiles:ie,removeFile:Ce,handleFileChange:me,handleSendMessage:Ge,handleKeyDown:je,chatType:e,targetAgentData:I,formRef:M,inputRef:m,fileInputRef:w})})]})]})})}),(()=>{let Ie,Fe="Agent",lt;return e===bt.DM?(Ie=t,Fe=I?.name||"Agent",lt=x.currentDmChannelId||void 0):e===bt.GROUP&&x.selectedGroupAgentId?(Ie=x.selectedGroupAgentId,Fe=se.find(ht=>ht.id===x.selectedGroupAgentId)?.name||"Group Member",lt=t):e===bt.GROUP&&!x.selectedGroupAgentId&&(Fe="Group",lt=t),o&&!x.isMobile&&j.jsxs(j.Fragment,{children:[j.jsx(LY,{withHandle:!0}),j.jsx(f5,{defaultSize:c,minSize:15,maxSize:85,children:j.jsx(_5,{agentId:Ie,agentName:Fe,channelId:lt})})]})})()]}),(()=>{let Ie,Fe="Agent",lt;return e===bt.DM?(Ie=t,Fe=I?.name||"Agent",lt=x.currentDmChannelId||void 0):e===bt.GROUP&&x.selectedGroupAgentId?(Ie=x.selectedGroupAgentId,Fe=se.find(ht=>ht.id===x.selectedGroupAgentId)?.name||"Group Member",lt=t):e===bt.GROUP&&!x.selectedGroupAgentId&&(Fe="Group",lt=t),o&&P&&j.jsx("div",{className:"absolute inset-0 z-50 bg-background/80 backdrop-blur-sm",children:j.jsx("div",{className:"absolute inset-0 bg-background shadow-lg",children:j.jsxs("div",{className:"h-full flex flex-col",children:[j.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[j.jsx("h3",{className:"font-semibold text-lg",children:Fe}),j.jsx(et,{variant:"ghost",size:"sm",onClick:i(()=>h(!1),"onClick"),className:"h-8 w-8 p-0",children:j.jsx(Vc,{className:"h-4 w-4"})})]}),j.jsx("div",{className:"flex-1 overflow-hidden",children:j.jsx(_5,{agentId:Ie,agentName:Fe,channelId:lt})})]})})})})()]}),x.showGroupEditPanel&&e===bt.GROUP&&j.jsx(Bc,{onClose:i(()=>g({showGroupEditPanel:!1}),"onClose"),channelId:t}),x.showProfileOverlay&&e===bt.DM&&I?.id&&j.jsx(HN,{isOpen:x.showProfileOverlay,onClose:i(()=>g({showProfileOverlay:!1}),"onClose"),agentId:I.id}),j.jsx(La,{open:V,onOpenChange:Z,title:$?.title||"",description:$?.description||"",confirmText:$?.confirmText,cancelText:$?.cancelText,variant:$?.variant,onConfirm:ee})]})}i(KI,"Chat");function j5(){const{agentId:e,channelId:t}=sv(),r=Ar();J.useEffect(()=>(qe.info("[AgentRoute] Component mounted/updated",{agentId:e,channelId:t}),()=>{qe.info("[AgentRoute] Component unmounted",{agentId:e,channelId:t})}),[e,t]);const{data:a,isLoading:n}=_l(e),{startAgent:s,isAgentStarting:o}=js(),h=a?.data?{...a.data,status:a.data.status==="active"?pr.ACTIVE:(a.data.status==="inactive",pr.INACTIVE),username:a.data.username||a.data.name||"Unknown",bio:a.data.bio||"",messageExamples:a.data.messageExamples||[],postExamples:a.data.postExamples||[],topics:a.data.topics||[],adjectives:a.data.adjectives||[],knowledge:a.data.knowledge||[],plugins:a.data.plugins||[],settings:a.data.settings||{},secrets:a.data.secrets||{},style:a.data.style||{},templates:a.data.templates||{},enabled:typeof a.data.enabled=="boolean"?a.data.enabled:!0,createdAt:typeof a.data.createdAt=="number"?a.data.createdAt:Date.now(),updatedAt:typeof a.data.updatedAt=="number"?a.data.updatedAt:Date.now()}:void 0;if(!e)return j.jsx("div",{className:"p-4",children:"Agent ID not provided."});if(n||!h)return j.jsx("div",{className:"p-4 flex items-center justify-center h-full",children:j.jsx(kr,{className:"h-8 w-8 animate-spin text-primary"})});const p=h.status===pr.ACTIVE,v=o(h.id),c=i(()=>{h&&s(h)},"handleStartAgent");return p?(qe.info("[AgentRoute] Agent is active, rendering chat for DM",{agentName:h?.name,dmChannelIdFromRoute:t}),j.jsx(KI,{chatType:bt.DM,contextId:e,initialDmChannelId:t},`${e}-${t||"no-dm-channel"}`)):(qe.info("[AgentRoute] Agent is not active, rendering inactive state UI",{agentName:h?.name}),j.jsxs("div",{className:"flex flex-col items-center justify-center h-full w-full p-8 text-center",children:[j.jsxs("h2",{className:"text-2xl font-semibold mb-4",children:[h.name," is not active."]}),j.jsx("p",{className:"text-muted-foreground mb-6",children:"Press the button below to start this agent."}),j.jsxs("div",{className:"flex gap-3",children:[j.jsx(et,{onClick:i(()=>r(`/settings/${e}`),"onClick"),variant:"outline",size:"lg",children:j.jsx(_a,{className:"h-5 w-5"})}),j.jsxs(et,{onClick:c,disabled:v,size:"lg",children:[v?j.jsx(kr,{className:"mr-2 h-5 w-5 animate-spin"}):j.jsx(Yg,{className:"mr-2 h-5 w-5"}),v?"Starting Agent...":"Start Agent"]})]})]}))}i(j5,"AgentRoute");function hte(){return j.jsx("div",{className:"h-full w-full overflow-y-auto",children:j.jsx("div",{className:"min-h-full flex w-full justify-center px-4 sm:px-6 py-4",children:j.jsx("div",{className:"w-full max-w-4xl min-w-0",children:j.jsx(uN,{})})})})}i(hte,"AgentCreatorRoute");function pte({className:e,...t}){return j.jsx(MR,{"data-slot":"switch",className:Le("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-4 w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 cursor-pointer",e),...t,children:j.jsx(ER,{"data-slot":"switch-thumb",className:Le("bg-background dark:data-[state=unchecked]:bg-primary-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block h-2.5 w-2.5 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%+10px)] data-[state=unchecked]:translate-x-0")})})}i(pte,"Switch");const mte=i(({agent:e,onChat:t})=>{const r=Ar(),{startAgent:a,stopAgent:n,isAgentStarting:s,isAgentStopping:o}=js();if(!e||!e.id)return qe.error("[AgentCard] Agent data or ID is missing",{agent:e}),j.jsx(Wi,{className:"p-4 min-h-[100px] flex items-center justify-center text-muted-foreground",children:"Agent data not available."});const h=e.id,p=e.name||"Unnamed Agent",v=Array.isArray(e.bio)?e.bio.filter(Boolean).join(" ").trim():typeof e.bio=="string"&&e.bio.trim()||"Engages with all types of questions and conversations",c=e.status===pr.ACTIVE,d=s(e.id),y=o(e.id),b={id:e.id,name:p,username:e.username||p,bio:e.bio||"",messageExamples:e.messageExamples||[],postExamples:e.postExamples||[],topics:e.topics||[],adjectives:e.adjectives||[],knowledge:e.knowledge||[],plugins:e.plugins||[],settings:e.settings||{},secrets:e.secrets||{},style:e.style||{},system:e.system||void 0,templates:e.templates||{},enabled:typeof e.enabled=="boolean"?e.enabled:!0,status:e.status||pr.INACTIVE,createdAt:typeof e.createdAt=="number"?e.createdAt:Date.now(),updatedAt:typeof e.updatedAt=="number"?e.updatedAt:Date.now()},x=i(()=>{a(b)},"handleStart"),k=i(()=>{n(b)},"handleStop"),N=i((O=!1)=>{t(O)},"handleNewChat"),C=i(()=>{r(`/settings/${h}`)},"handleSettings"),R=i(()=>{c?k():x()},"handleToggle");return j.jsx(Wi,{className:Le("w-full transition-all bg-card border border-border/50 rounded-sm hover:bg-card/50 cursor-pointer",c?"":"opacity-75"),"data-testid":"agent-card",onClick:i(O=>{O.stopPropagation(),N()},"onClick"),children:j.jsxs(za,{className:"p-0 relative h-full",children:[j.jsx("div",{className:"absolute top-3 right-3",children:j.jsx(pte,{checked:c,onCheckedChange:i(O=>{O!==c&&R()},"onCheckedChange"),onClick:i(O=>O.stopPropagation(),"onClick"),"aria-label":`Toggle ${p}`,disabled:d||y,className:Le(c?"data-[state=checked]:!bg-green-600":"data-[state=unchecked]:!bg-gray-500/80")})}),j.jsxs("div",{className:"flex flex-col justify-between h-full",children:[j.jsxs("div",{className:"flex items-center gap-4 p-2 h-[90%]",children:[j.jsxs(Gn,{className:"h-16 w-16 flex-shrink-0 rounded-sm",children:[j.jsx(Oa,{src:yo(e),alt:p}),j.jsx(jc,{className:"text-lg font-medium rounded-sm",children:Sa(p)})]}),j.jsxs("div",{className:"flex-1 min-w-0",children:[j.jsx("h3",{className:"font-semibold text-xl mb-1 truncate",title:p,children:p}),j.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 leading-relaxed",children:v})]})]}),j.jsx("div",{className:"border-t border-muted"}),j.jsxs("div",{className:"flex items-center justify-between py-1 px-2",children:[j.jsx(et,{variant:"ghost",size:"sm",onClick:i(O=>{O.stopPropagation(),C()},"onClick"),className:"h-8 w-8 p-0 hover:bg-muted/50 cursor-pointer",children:j.jsx(_a,{className:"h-4 w-4 text-muted-foreground"})}),j.jsx(et,{variant:"outline",size:"sm",onClick:i(O=>{O.stopPropagation(),N(!0)},"onClick"),className:"h-8 px-2 rounded-sm bg-muted hover:bg-muted/50 cursor-pointer",children:"New Chat"})]})]})]})})},"AgentCard"),gte=i(({group:e})=>{const t=Ar(),r=Ma(),[a,n]=J.useState(!1);if(!e||!e.id)return j.jsx(Wi,{className:"p-4 min-h-[180px] flex items-center justify-center text-muted-foreground",children:"Group data not available."});const s=uv(e,e.participants||[],r),o=i(()=>{t(`/group/${e.id}?serverId=${e.server_id}`)},"handleChatClick"),{data:h}=ks(),p=h?.agents||[],{data:v}=iy(e.id),c=v?.data,d=c&&Array.isArray(c)?c:[],y=d?p.filter(k=>k.id&&d.includes(k.id)):[],b=i(()=>{n(!0)},"handleSettings"),x=y.map(k=>k.name).filter(Boolean).join(", ")||"No members";return j.jsxs(j.Fragment,{children:[j.jsx(Wi,{className:"w-full transition-all bg-card border border-border/50 rounded-sm","data-testid":"agent-card",children:j.jsx(za,{className:"p-0 relative h-full",children:j.jsxs("div",{className:"flex flex-col justify-between h-full",children:[j.jsxs("div",{className:"flex items-center gap-4 p-2 h-[90%]",children:[j.jsx(Gn,{className:"bg-[#282829] h-16 w-16 flex-shrink-0 rounded-[3px] relative overflow-hidden",children:y&&y.length>0?j.jsxs("div",{className:"grid grid-cols-2 grid-rows-2 gap-1 w-full h-full p-1",children:[y.slice(0,3).map(k=>{const N=typeof k.settings?.avatar=="string"?k.settings.avatar:null;return N?j.jsx("img",{src:N,alt:k.name,className:"object-cover w-full h-full rounded-[3px]"},k.id):j.jsx("div",{className:"flex items-center justify-center bg-[#3F3F3F] text-xs font-medium w-full h-full rounded-[3px]",children:Sa(k.name)},k.id)}),y.length>3?j.jsxs("div",{className:"flex items-center justify-center bg-[#3F3F3F] text-xs font-medium w-full h-full rounded-[3px]",children:["+",y.length-3]}):Array.from({length:4-y.slice(0,3).length}).map((k,N)=>j.jsx("div",{className:"flex items-center justify-center bg-[#2D2D2D] text-xs font-medium w-full h-full rounded-[3px]"},`empty-${N}`))]}):j.jsx("div",{className:"flex items-center justify-center bg-muted text-lg font-medium w-full h-full",children:Sa(s)})}),j.jsxs("div",{className:"flex-1 min-w-0",children:[j.jsx("h3",{className:"font-semibold text-xl mb-1 truncate",title:s,children:s}),j.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 leading-relaxed",children:x})]})]}),j.jsx("div",{className:"border-t border-muted"}),j.jsxs("div",{className:"flex items-center justify-between py-1 px-2",children:[j.jsx(et,{variant:"ghost",size:"sm",onClick:i(k=>{k.stopPropagation(),b()},"onClick"),className:"h-8 w-8 p-0 hover:bg-muted/50 cursor-pointer",children:j.jsx(_a,{className:"h-4 w-4 text-muted-foreground"})}),j.jsx(et,{variant:"outline",size:"sm",onClick:i(k=>{k.stopPropagation(),o()},"onClick"),className:"h-8 px-2 rounded-sm bg-muted hover:bg-muted/50 cursor-pointer",children:"Chat"})]})]})})}),a&&j.jsx(Bc,{onClose:i(()=>n(!1),"onClose"),channelId:e.id})]})},"GroupCard");function vte(){const{data:e,isLoading:t,isError:r,error:a}=ks(),n=Ar(),s=J.useMemo(()=>e?.agents||[],[e]),o=s.filter(z=>z.status===pr.ACTIVE).length,{data:h}=ON(),p=h?.data?.servers||[],[v,c]=J.useState(!1),[d,y]=J.useState(!1),[b,x]=J.useState(null),[k,N]=J.useState(null),[C,R]=J.useState("agents"),O=i(()=>{x(null),c(!1)},"closeOverlay"),T=i(async(z,V)=>{z.id&&n(`/chat/${z.id}`,{state:{forceNew:V}})},"handleNavigateToDm"),P=i(()=>{n("/group/new")},"handleCreateGroup");return J.useEffect(()=>{qe.info("[Home] Component mounted/re-rendered. Key might have changed.")},[]),j.jsxs(j.Fragment,{children:[j.jsx("div",{className:"flex-1 w-full overflow-y-auto bg-background",children:j.jsx("div",{className:"flex flex-col w-full h-full",children:j.jsxs(dv,{value:C,onValueChange:R,className:"w-full h-full flex flex-col",children:[j.jsx("div",{className:"w-full",children:j.jsxs("div",{className:"w-full md:max-w-4xl mx-auto px-6 pt-6 pb-2",children:[j.jsxs("div",{className:"flex justify-between items-center mb-3",children:[j.jsxs(If,{className:"h-auto p-0 bg-transparent border-0 border-b-0 gap-2 w-auto",children:[j.jsxs(xo,{value:"agents",className:"relative rounded-full data-[state=active]:border-b-0 data-[state=active]:bg-white data-[state=active]:text-black data-[state=active]:font-bold cursor-pointer text-lg py-1",children:["Agents",j.jsx("span",{className:`
                          absolute -top-2.5 right-0 inline-flex items-center justify-center h-5 w-5 rounded-full bg-blue-600 text-white text-[8px] font-semibold border border-black
                          transition-all duration-300 ease-in-out
                          ${C==="agents"&&o>0?"opacity-100 scale-100":"opacity-0 scale-75 pointer-events-none"}
                        `,children:o})]}),j.jsx(xo,{value:"groups",className:"rounded-full data-[state=active]:border-b-0 data-[state=active]:bg-white data-[state=active]:text-black data-[state=active]:font-bold cursor-pointer text-lg py-1",children:"Groups"})]}),j.jsxs(et,{variant:"ghost",onClick:i(()=>{C==="agents"?n("/create"):P()},"onClick"),className:"create-agent-button cursor-pointer gap-1",children:[j.jsx(_f,{className:"w-4 h-4"}),C==="agents"?"Create New Agent":"Create New Group"]})]}),j.jsx(ei,{})]})}),j.jsx(wi,{value:"agents",className:"flex-1 mt-0 bg-background",children:j.jsxs("div",{className:"flex flex-col gap-6 w-full md:max-w-4xl mx-auto px-6 py-2",children:[t&&j.jsx("div",{className:"text-center py-8",children:"Loading agents..."}),r&&j.jsxs("div",{className:"text-center py-8",children:["Error loading agents: ",a instanceof Error?a.message:"Unknown error"]}),s.length===0&&!t&&j.jsx("div",{className:"text-center py-8 flex flex-col items-center gap-4",children:j.jsx("p",{className:"text-muted-foreground",children:"No agents currently running. Start a character to begin."})}),!t&&!r&&j.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-2 gap-3 agents-section",children:s.sort((z,V)=>{const Z=z.status===pr.ACTIVE?1:0;return(V.status===pr.ACTIVE?1:0)-Z}).map(z=>j.jsx(mte,{agent:z,onChat:i(V=>T(z,V),"onChat")},z.id))})]})}),j.jsx(wi,{value:"groups",className:"flex-1 mt-0 bg-background",children:j.jsx("div",{className:"flex flex-col gap-6 w-full md:max-w-4xl mx-auto px-6 py-2",children:!t&&!r&&j.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-2 gap-3 groups-section",children:p.map(z=>j.jsx(XI,{serverId:z.id},z.id))})})})]})})}),b?.id&&j.jsx(HN,{isOpen:v,onClose:O,agentId:b.id}),d&&j.jsx(Bc,{onClose:i(()=>{N(null),y(!1)},"onClose"),channelId:k??void 0})]})}i(vte,"Home");const XI=Ef.memo(({serverId:e})=>{const{data:t,isLoading:r}=ry(e),a=J.useMemo(()=>t?.data?.channels?.filter(n=>n.type===bt.GROUP)||[],[t]);return r?j.jsx("p",{children:"Loading channels for server..."}):!a||a.length===0?j.jsx("p",{className:"text-sm text-muted-foreground",children:"No group channels in this server."}):j.jsx(j.Fragment,{children:a.map(n=>j.jsx(gte,{group:{...n,server_id:e}},n.id))})});XI.displayName="ServerChannels";function bte(){const t=xf().pathname,r=t.startsWith("/api/")||t.includes("/agents/")||t.includes("/memory/")||t.includes("/speech/");return j.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[70vh] px-4 text-center",children:[j.jsx("div",{className:"flex items-center justify-center mb-8",children:j.jsx("div",{className:"bg-red-900/20 h-24 w-24 rounded-full flex items-center justify-center",children:j.jsx(fi,{className:"h-14 w-14 text-red-500"})})}),j.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Page Not Found"}),j.jsxs("div",{className:"max-w-lg",children:[r?j.jsxs(j.Fragment,{children:[j.jsxs("p",{className:"text-lg mb-6 text-muted-foreground",children:["The endpoint ",j.jsx("span",{className:"font-mono text-red-400",children:t})," does not exist."]}),j.jsxs("div",{className:"bg-red-900/20 border border-red-800/30 rounded-md p-4 mb-8 text-left",children:[j.jsxs("h3",{className:"text-red-400 font-medium mb-2 flex items-center",children:[j.jsx(fi,{className:"h-4 w-4 mr-2"}),"Endpoint Not Found"]}),j.jsx("p",{className:"text-sm text-red-300/80 mb-2",children:"The requested API endpoint does not exist on this server. Please check that:"}),j.jsxs("ul",{className:"text-sm text-red-300/80 list-disc pl-5 space-y-1",children:[j.jsx("li",{children:"The URL is spelled correctly"}),j.jsx("li",{children:"You're using the correct version of the API"}),j.jsx("li",{children:"The endpoint is available in this version of Eliza"})]})]})]}):j.jsx("p",{className:"text-lg mb-6 text-muted-foreground",children:"Sorry, the page you're looking for doesn't exist or has been moved."}),j.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[j.jsx(et,{asChild:!0,variant:"default",children:j.jsxs(kR,{to:"/",children:[j.jsx(AR,{className:"h-4 w-4 mr-2"}),"Go to Home"]})}),j.jsx(et,{asChild:!0,variant:"outline",children:j.jsxs("a",{onClick:i(()=>window.history.back(),"onClick"),children:[j.jsx(Gm,{className:"h-4 w-4 mr-2"}),"Go Back"]})})]})]})]})}i(bte,"NotFound");function yte(){const{channelId:e}=sv(),[t]=jR(),r=t.get("serverId"),a=Vo(e),n=Vo(r||"");return!a||!n?j.jsx("div",{className:"flex flex-1 justify-center items-center",children:j.jsx("p",{children:"Missing channel or server information."})}):j.jsx(KI,{chatType:bt.GROUP,contextId:a,serverId:n},a)}i(yte,"GroupRoute");function wte(){const e=Ar();return j.jsx("div",{className:"pt-4 md:pt-8",children:j.jsx(Bc,{onClose:i(()=>e(-1),"onClose")})})}i(wte,"GroupNew");function xte(){const{agentId:e}=sv(),t=Ar(),{data:r,isLoading:a}=_l(e);if(a)return j.jsx("div",{className:"flex items-center justify-center h-full",children:j.jsx(kr,{className:"h-8 w-8 animate-spin"})});if(!r?.data)return j.jsxs("div",{className:"flex flex-col items-center justify-center h-full gap-4",children:[j.jsx("p",{className:"text-muted-foreground",children:"Agent not found"}),j.jsx(et,{onClick:i(()=>t("/"),"onClick"),children:"Back to Home"})]});const n={...r.data,createdAt:r.data.createdAt??Date.now(),bio:r.data.bio??[],topics:r.data.topics??[],adjectives:r.data.adjectives??[],style:r.data.style??{all:[],chat:[],post:[]},settings:r.data.settings??{secrets:{}}};return j.jsx("div",{className:"flex w-full justify-center px-4 sm:px-6 overflow-y-auto",children:j.jsx("div",{className:"w-full md:max-w-4xl py-6",children:j.jsx(EI,{agent:n,agentId:e,onSaveComplete:i(()=>{},"onSaveComplete")})})})}i(xte,"AgentSettingsRoute");const WI=new IR({defaultOptions:{queries:{staleTime:er.STANDARD,refetchInterval:!1,retry:3,retryDelay:i(e=>Math.min(1e3*2**e,3e4),"retryDelay"),refetchOnWindowFocus:!0,refetchOnReconnect:!0},mutations:{retry:3,retryDelay:i(e=>Math.min(1e3*2**e,3e4),"retryDelay")}}}),QI=i(async()=>{try{await WI.prefetchQuery({queryKey:["agents"],queryFn:i(async()=>({data:await Yt().agents.listAgents()}),"queryFn"),staleTime:er.FREQUENT})}catch(e){console.error("Error prefetching initial data:",e)}},"prefetchInitialData");QI();function _te(){eW();const{status:e}=Yb(),[t,r]=J.useState(!1),[a,n]=J.useState(Date.now()),s=xr();J.useEffect(()=>{qe.info("[AppContent] Mounted/Updated"),QI()},[]);const o=i(()=>{qe.info("[AppContent] refreshHomePage called. Current homeKey:",a);const h=Date.now();n(h),qe.info("[AppContent] New homeKey set to:",h),qe.info("[AppContent] Invalidating queries for Home page refresh."),s.invalidateQueries({queryKey:["agents"]}),s.invalidateQueries({queryKey:["servers"]})},"refreshHomePage");return j.jsxs(es,{delayDuration:0,children:[j.jsxs($_,{children:[j.jsx(o8,{refreshHomePage:o}),j.jsxs(V_,{className:"h-screen flex flex-col md:ml-72 overflow-hidden",children:[j.jsx("div",{className:"md:hidden absolute top-4 left-4 z-50",children:j.jsxs(z_,{open:t,onOpenChange:r,children:[j.jsx(_O,{asChild:!0,children:j.jsxs(et,{variant:"ghost",size:"icon","data-testid":"mobile-menu-button",children:[j.jsx(RR,{className:"h-5 w-5"}),j.jsx("span",{className:"sr-only",children:"Toggle menu"})]})}),j.jsx(cv,{side:"left",className:"w-80 p-0 z-50",children:j.jsx(o8,{isMobile:!0,refreshHomePage:o})})]})}),j.jsx("div",{className:"flex w-full justify-center pt-16 md:pt-0 flex-shrink-0",children:j.jsx("div",{className:"w-full md:max-w-4xl",children:j.jsx(dX,{})})}),j.jsx("div",{className:"flex-1 min-h-0 flex flex-col overflow-hidden",children:j.jsxs(OR,{children:[j.jsx(pi,{path:"/",element:j.jsx(vte,{},a)}),j.jsx(pi,{path:"chat/:agentId/:channelId",element:j.jsx("div",{className:"flex-1 min-h-0 overflow-hidden",children:j.jsx(j5,{})})}),j.jsx(pi,{path:"chat/:agentId",element:j.jsx("div",{className:"flex-1 min-h-0 overflow-hidden",children:j.jsx(j5,{})})}),j.jsx(pi,{path:"settings/:agentId",element:j.jsx(xte,{})}),j.jsx(pi,{path:"group/new",element:j.jsx(wte,{})}),j.jsx(pi,{path:"agents/new",element:j.jsx(hte,{})}),j.jsx(pi,{path:"/create",element:j.jsx("div",{className:"flex w-full justify-center px-4 sm:px-6 overflow-y-auto",children:j.jsx("div",{className:"w-full md:max-w-4xl",children:j.jsx(uN,{})})})}),j.jsx(pi,{path:"/logs",element:j.jsx("div",{className:"flex w-full justify-center",children:j.jsxs("div",{className:"w-full md:max-w-4xl",children:[j.jsx("div",{className:"flex items-center justify-between mb-4",children:j.jsx("h2",{className:"text-2xl p-4 font-bold",children:"System Logs"})}),j.jsx(PN,{})]})})}),j.jsx(pi,{path:"group/:channelId",element:j.jsx("div",{className:"flex-1 min-h-0 overflow-hidden",children:j.jsx(yte,{})})}),j.jsx(pi,{path:"settings/",element:j.jsx("div",{className:"flex w-full justify-center overflow-y-auto",children:j.jsx("div",{className:"w-full md:max-w-4xl",children:j.jsx(pX,{})})})}),j.jsx(pi,{path:"*",element:j.jsx(bte,{})})]})})]})]}),j.jsx(kX,{}),e!=="unauthorized"&&j.jsx(SX,{})]})}i(_te,"AppContent");function Ste(){return j.jsx(NR,{client:WI,children:j.jsx("div",{className:"dark antialiased font-sans",style:{colorScheme:"dark"},children:j.jsx(CR,{children:j.jsx(cq,{children:j.jsx(BK,{children:j.jsx(_te,{})})})})})})}i(Ste,"App");const YI=document.getElementById("root");if(!YI)throw new Error("Root element not found");TR.createRoot(YI).render(j.jsx(J.StrictMode,{children:j.jsx(Ste,{})}))});export default Mte();
//# sourceMappingURL=main-llvbgk6E.js.map
